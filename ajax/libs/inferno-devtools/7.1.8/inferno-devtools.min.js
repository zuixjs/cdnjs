!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("inferno"),require("inferno-extras")):"function"==typeof define&&define.amd?define(["exports","inferno","inferno-extras"],n):n(((e=e||self).Inferno=e.Inferno||{},e.Inferno.DevTools=e.Inferno.DevTools||{}),e.Inferno,e.Inferno)}(this,function(e,a,c){"use strict";function s(e){return null===e}function p(e){return void 0===e}function u(e,n){var r={};if(e)for(var o in e)r[o]=e[o];if(n)for(var t in n)r[t]=n[t];return r}var _,m,v=!1,n=0,h=!1;function C(e){if(null===e)return!0;var n=document.body,r=e;do{if(null===(r=r.parentNode))return!0}while(r!==n);return!1}function g(e,n){0<(4&e.flags)?I(e.children?e.children.$LI:null,n._renderedComponent,n):0<(8&e.flags)?I(e.children,n._renderedComponent,n):d(e.childFlags,e.children,n)}function N(e,n){var r=0<(1521&e.flags)?function(e,n){var r=e.flags;if(0<(512&r))return null;var o,t=n?n._renderedChildren:null,d=0<(16&r)||0!=(16&e.childFlags),i=e.childFlags;if(1===i)o=null;else if(12&i){o=[];for(var l=0;l<e.children.length;++l)o.push(N(e.children[l],t?t[l]:null))}else 2===i&&(o=[N(e.children,t?t[0]:t)]);return{_currentElement:0<(16&r)?e.children+"":{props:e.className?u(e.props,{className:e.className}):e.props,type:1024&r?"InfernoPortal":e.type},_renderedChildren:o,_stringText:d?e.children+"":null,vNode:e}}(e,n):function(n,e){var r,o=n.flags,t=0<(4&o)?n.children:n.type,d={_currentElement:(r=n,{key:r.key,props:r.props,ref:r.ref,type:r.type}),_instance:t,props:n.props,state:t&&t.state,vNode:n};if(!e){if(t&&t.forceUpdate){var i=t.forceUpdate.bind(t);t.forceUpdate=d.forceUpdate=function(e){if(h){if(d.props=n.props=u(d.props,d._currentElement.props),!v&&!t.$BR&&!t.QU)return v=!0,i(e),g(t.$LI,d._renderedComponent),void(v=!1);i(e)}}}if(t&&t.setState){var l=t.setState.bind(t);t.setState=d.setState=function(e,n){if(h)return v||t.$BR||t.QU?void l(e,n):(v=!0,l(e,n),g(t.$LI,d._renderedComponent),void(v=!1))}}}if(0<(14&o)){var f=0<(4&o)?n.children?n.children.$LI:null:n.children;f&&(d._renderedComponent=N(f,e?e._renderedComponent:null))}return d}(e,n);return n?n=u(n,r):r}function y(){return"."+n++}function O(e){if(e&&null!==e._instance)if(_.mountComponent(e),e._renderedComponent)O(e._renderedComponent);else if(e._renderedChildren)for(var n=0;n<e._renderedChildren.length;++n)O(e._renderedChildren[n])}function d(e,n,r){var o,t=r._renderedChildren,d=t?t.length:0;switch(e){case 2:if(I(n,t?t[0]:null,r),1<d)for(o=1;o<d;++o)_.unmountComponent(t[o]);break;case 16:r._stringText=n+"";break;case 8:case 4:var i=n.length,l=d<i?d:i;for(o=0;o<l;++o)I(n[o],t[o],r,o);if(d<i)for(o=l;o<i;++o){var f=N(n[o]);t||(t=r._renderedChildren=[]),t.push(f),O(f)}else if(i<d)for(o=l;o<d;++o)_.unmountComponent(t.pop());break;case 1:for(o=0;o<d;++o)_.unmountComponent(t[o]);r._renderedChildren=null}}function t(e){if(!(16384&e.flags))return!1;var n=a.findDOMfromVNode(e,!0);if(!n)return!1;var r=n.parentNode;return!!r&&Boolean(r&&r.$V===e)}function I(e,n,r,o){if(n||!e)if(n&&e){var t=n.vNode;e.type===t.type&&e.key===t.key?(0<(16&e.flags)&&n._stringText?(n._currentElement=e.children+"",n._stringText=e.children+""):0<(4&e.flags)?I(e.children?e.children.$LI:null,n._renderedComponent,n):0<(8&e.flags)?I(e.children,n._renderedComponent,n):d(e.childFlags,e.children,n),n.vNode=e,null!==n._instance&&_.receiveComponent(n)):(_.unmountComponent(n),i(e,r,o))}else!e&&n&&(r._renderedChildren?r._renderedChildren=[]:r._renderedComponent&&(r._renderedComponent=null),_.unmountComponent(n));else i(e,r,o)}function i(e,n,r){var o,t=N(e);n&&(n._renderedComponent?n._renderedComponent=t:p(o=r)||s(o)?n._renderedChildren?n._renderedChildren.splice(0,n._renderedChildren.length-1,t):n._renderedChildren=[t]:n._renderedChildren[r]=t),O(t)}e.initDevTools=function(){void 0!==window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(function(){var e={getNodeFromInstance:function(e){return c.findDOMNode(e.vNode)},getClosestInstanceFromNode:function(e){for(;e&&!e.$V;)e=e.parentNode;return e?N(e.$V):null}},f=Object.create(null);m={_instancesByReactRootID:f,_renderNewRootComponent:function(e){return e}},_={mountComponent:function(e){return e},performUpdateIfNecessary:function(e){return e},receiveComponent:function(e){return e},unmountComponent:function(e){return e}};var u=a.options.renderComplete;function n(e){if(e.source===window&&e.data&&"react-devtools-content-script"===e.data.source&&e.data.payload){var n=e.data.payload.type;"resume"===n?(h=!0,function(e){for(var n=document.body.querySelectorAll("*"),r=0;r<n.length;++r){var o=n[r].$V;o&&t(o)&&(e[y()]=N(o))}}(f)):"pause"===n&&(h=!1,f=Object.create(null))}}return a.options.renderComplete=function(e,n){var r;if(h&&!s(r=e)&&!1!==r&&!0!==r&&!p(r)){var o,t;if(n.$V){for(o in f){var d=f[o],i=a.findDOMfromVNode(d.vNode,!0);if(C(i)){_.unmountComponent(d),delete f[o];break}if(i===c.findDOMNode(e))return void I(e,d)}(t=N(e))._rootNodeID=y(),O(f[t._rootNodeID]=t),m._renderNewRootComponent(t)}else if(C(c.findDOMNode(e)))for(o in f){var l=f[o];if(C(c.findDOMNode(l.vNode)))return _.unmountComponent(l),void delete f[o]}u&&u(e,n)}},window.addEventListener("message",n),{ComponentTree:e,Mount:m,Reconciler:_,_listener:n}}())},Object.defineProperty(e,"__esModule",{value:!0})});
