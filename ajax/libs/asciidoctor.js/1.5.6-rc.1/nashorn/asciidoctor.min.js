(function(a){var i,s,$,o,l,c,t=this;if("undefined"!=typeof global&&(t=global),"undefined"!=typeof window&&(t=window),"log"in(i="object"==typeof t.console?t.console:null==t.console?t.console={}:{})||(i.log=function(){}),"warn"in i||(i.warn=i.log),void 0!==this.Opal)return i.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;function _(){}function e(){}function r(){}function n(){}function u(){}var d=this.Opal={},f={};((d.global=t).Opal=d).config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var h=Object.hasOwnProperty,p=(d.slice=Array.prototype.slice,4);function g(t,e){if(t)return t.$$const[e]}function v(t,e){var r,n,i;if(null!=t)for(r=0,n=(i=d.ancestors(t)).length;r<n;r++)if(i[r].$$const&&h.call(i[r].$$const,e))return i[r].$$const[e]}function m(t,e,r){if(!r)return(t||o).$const_missing(e)}function y(t,e){var r,n,i=e.$instance_methods();for(r=i.length-1;0<=r;r--)n="$"+i[r],d.bridge_method(t,e,n,e.$$proto[n])}d.uid=function(){return p+=2},d.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=d.uid())},d.gvars={},d.exit=function(t){d.gvars.DEBUG&&i.log("Exited with status "+t)},d.exceptions=[],d.pop_exception=function(){d.gvars["!"]=d.exceptions.pop()||s},d.inspect=function(t){return t===a?"undefined":null===t?"null":t.$$class?t.$inspect():t.toString()},d.truthy=function(t){return t!==s&&null!=t&&(!t.$$is_boolean||1==t)},d.falsy=function(t){return t===s||null==t||t.$$is_boolean&&0==t},d.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=o),!t.$$is_a_module)throw new d.TypeError(t.toString()+" is not a class/module");return null!=(n=g(t,e))?n:null!=(n=m(t,e,r))?n:void 0}},d.const_get_qualified=function(t,e,r){var n,i,$,a=d.const_cache_version;if(null!=t){if("::"===t&&(t=o),!t.$$is_a_module)throw new d.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),null==($=i[e])||$[0]!==a?(null!=(n=g(t,e))||(n=v(t,e)),i[e]=[a,n]):n=$[1],null!=n?n:m(t,e,r)}},d.const_cache_version=1,d.const_get_relative=function(t,e,r){var n,i,$,a=t[0],s=d.const_cache_version;return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),null==($=i[e])||$[0]!==s?(null!=(n=g(a,e))||null!=(n=function(t,e){var r,n,i;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(null!=(i=t[r].$$const[e]))return i}(t,e))||null!=(n=v(a,e))||(n=function(t,e){if(null==t||t.$$is_module)return v(o,e)}(a,e)),i[e]=[s,n]):n=$[1],null!=n?n:m(a,e,r)},d.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=o),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==s||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,t.$$=t.$$const,d.const_cache_version++,t===o&&(d[e]=r),r},d.constants=function(t,e){null==e&&(e=!0);var r,n,i,$,a=[t],s={};for(e&&(a=a.concat(d.ancestors(t))),e&&t.$$is_module&&(a=a.concat([d.Object]).concat(d.ancestors(d.Object))),n=0,i=a.length;n<i&&(r=a[n],t===o||r!=o);n++)for($ in r.$$const)s[$]=!0;return Object.keys(s)},d.const_remove=function(t,e){if(d.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],s;throw d.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},d.klass=function(t,e,r,n){var i,$,a;if(null==t&&(t=o),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&($=e,e=o),i=g(t,r)){if(!i.$$is_class)throw d.TypeError.$new(r+" is not a class");if(e&&i.$$super!==e)throw d.TypeError.$new("superclass mismatch for class "+r);return i}return null==e&&(e=o),a=$||d.boot_class_alloc(r,n,e),(i=d.setup_class_object(r,a,e.$$name,e.constructor)).$$super=e,i.$$parent=e,d.const_set(t,r,i),t[r]=i,$?d.bridge(i,a):e.$inherited&&e.$inherited(i),i},d.boot_class_alloc=function(t,e,r){if(r){var n=function(){};n.prototype=r.$$proto||r.prototype,e.prototype=new n}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e},d.setup_module_or_class=function(t){t.$$id=d.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=s,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},d.setup_class_object=function(t,e,r,n){var i=function(){};i.prototype=n.prototype,i.displayName=r;var $=function(){};$.prototype=new i;var a=new $;return d.setup_module_or_class(a),a.$$alloc=e,a.$$name=t||s,$.displayName="#<Class:"+(t||"#<Class:"+a.$$id+">")+">",a.$$proto=e.prototype,(a.$$proto.$$class=a).constructor=$,a.$$is_class=!0,a.$$class=c,a},d.module=function(t,e){var r;if(null==t&&(t=o),t.$$is_class||t.$$is_module||(t=t.$$class),null==(r=g(t,e))&&t===o&&(r=v(o,e)),r){if(!r.$$is_module&&r!==o)throw d.TypeError.$new(e+" is not a module")}else r=d.module_allocate(l),d.const_set(t,e,r);return r},d.module_initialize=function(t,e){if(e!==s){var r=e.$$s;e.$$s=null,e.call(t),e.$$s=r}return s},d.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var r=function(){};r.prototype=new e;var n=new r;return d.setup_module_or_class(n),n.$$included_in=[],r.displayName="#<Class:#<Module:"+n.$$id+">>",n.$$proto={},n.constructor=r,n.$$is_module=!0,n.$$class=l,n.$$super=t,n.$$parent=t,n},d.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?d.build_class_singleton_class(t):d.build_object_singleton_class(t)},d.build_class_singleton_class=function(t){var e,r,n;return t.$$meta?t.$$meta:(e=t.constructor,r=t===$?c:d.build_class_singleton_class(t.$$super),(n=d.setup_class_object(null,e,r.$$name,r.constructor)).$$super=r,n.$$parent=r,n.$$is_singleton=!0,(n.$$singleton_of=t).$$meta=n)},d.build_object_singleton_class=function(t){var e=t.$$class,r="#<Class:#<"+e.$$name+":"+e.$$id+">>",n=d.boot_class_alloc(r,function(){},e),i=d.setup_class_object(r,n,e.$$name,e.constructor);return i.$$super=e,i.$$parent=e,i.$$class=e.$$class,i.$$proto=t,i.$$is_singleton=!0,(i.$$singleton_of=t).$$meta=i},d.class_variables=function(t){var e,r=d.ancestors(t),n={};for(e=r.length-1;0<=e;e--){var i=r[e];for(var $ in i.$$cvars)n[$]=i.$$cvars[$]}return n},d.class_variable_set=function(t,e,r){var n,i=d.ancestors(t);for(n=i.length-2;0<=n;n--){var $=i[n];if(h.call($.$$cvars,e))return $.$$cvars[e]=r}return t.$$cvars[e]=r},d.bridge_method=function(t,e,r,n){var i,$,a,s;for($=0,s=(i=t.$$bridge.$ancestors()).length;$<s&&(a=i[$],!h.call(a.$$proto,r)||!a.$$proto[r]||a.$$proto[r].$$donated||a.$$proto[r].$$stub||a===e);$++)if(a===e){t.prototype[r]=n;break}},d.bridge_methods=function(t,e){var r,n=f[t.$__id__()],i=e.$__id__();if(n)for(f[i]=n.slice(),r=n.length-1;0<=r;r--)y(n[r],e)},d.has_cyclic_dep=function t(e,r,n,i){var $,a,s;for($=r.length-1;0<=$;$--)if(!i[a=(s=r[$]).$$id]){if(i[a]=!0,a===e)return!0;if(t(e,s[n],n,i))return!0}return!1},d.append_features=function(t,e){var r,n,i;for(i=e.$$inc.length-1;0<=i;i--)if(e.$$inc[i]===t)return;if(!e.$$is_class&&d.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw d.ArgumentError.$new("cyclic include detected");for(d.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),d.bridge_methods(e,t),r={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=r,i=(n=t.$instance_methods()).length-1;0<=i;i--)d.update_includer(t,e,"$"+n[i])},d.stubs={},d.bridge=function(t,e){if(e.$$bridge)throw d.ArgumentError.$new("already bridged");for(var r in d.stub_subscribers.push(e.prototype),d.stubs)r in e.prototype||(e.prototype[r]=d.stub_for(r));e.prototype.$$class=t;for(var n,i,$,a=(e.$$bridge=t).$ancestors(),s=a.length-1;0<=s;s--)n=e,i=a[s],void 0,$=i.$__id__(),f[$]||(f[$]=[]),f[$].push(n),y(e,a[s]);for(var o in _.prototype){var l=_.prototype[l];!l||!l.$$stub||o in e.prototype||(e.prototype[o]=l)}return t},d.update_includer=function(t,e,r){var n,i,$,a,s,o,l,c;if($=t.$$proto[r],i=(n=e.$$proto)[r],!n.hasOwnProperty(r)||i.$$donated||i.$$stub)if(n.hasOwnProperty(r)&&!i.$$stub){for(s=0,o=(a=e.$$inc).length;s<o;s++)a[s]===i.$$donated&&(l=s),a[s]===t&&(c=s);l<=c&&(n[r]=$,n[r].$$donated=t)}else n[r]=$,n[r].$$donated=t;else;e.$$included_in&&d.update_includers(e,r)},d.update_includers=function(t,e){var r,n,i,$;if($=t.$$included_in)for(r=0,n=$.length;r<n;r++)i=$[r],d.update_includer(t,i,e)},d.ancestors=function(t){for(var e,r,n,i,$=t,a=[];$;){for(a.push($),r=$.$$inc.length-1;0<=r;r--)for(n=0,i=(e=d.ancestors($.$$inc[r])).length;n<i;n++)a.push(e[n]);$=$.$$is_singleton&&$.$$singleton_of.$$is_module?$.$$singleton_of.$$super:$.$$is_class?$.$$super:null}return a},d.add_stubs=function(t){var e,r,n,i,$,a=d.stub_subscribers,s=t.length,o=a.length,l=d.stubs;for(r=0;r<s;r++)if(i=t[r],!l.hasOwnProperty(i))for(l[i]=!0,$=d.stub_for(i),n=0;n<o;n++)i in(e=a[n])||(e[i]=$)},d.stub_subscribers=[_.prototype],d.add_stub_for=function(t,e){var r=d.stub_for(e);t[e]=r},d.stub_for=function(n){function i(){this.$method_missing.$$p=i.$$p,i.$$p=null;for(var t=new Array(arguments.length),e=0,r=t.length;e<r;e++)t[e]=arguments[e];return this.$method_missing.apply(this,[n.slice(1)].concat(t))}return i.$$stub=!0,i},d.ac=function(t,e,r,n){var i="";throw r.$$is_class||r.$$is_module?i+=r.$$name+".":i+=r.$$class.$$name+"#",i+=n,d.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},d.block_ac=function(t,e,r){var n="`block in "+r+"'";throw d.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},d.find_super_dispatcher=function(t,e,r,n,i){var $;if($=(i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:d.find_obj_super_dispatcher(t,e,r))["$"+e],!n&&$.$$stub&&d.Kernel.$method_missing===t.$method_missing)throw d.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return $},d.find_iter_super_dispatcher=function(t,e,r,n,i){var $=e;if(!r)throw d.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw d.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&($=r.$$jsid),d.find_super_dispatcher(t,$,r,n)},d.find_obj_super_dispatcher=function(t,e,r){var n=t.$$meta||t.$$class;if(!(n=d.find_owning_class(n,r)))throw new Error("could not find current class for super()");return d.find_super_func(n,"$"+e,r)},d.find_owning_class=function(t,e){for(var r=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==r)&&(!r.$$is_singleton||t!==r.$$singleton_of.$$class)&&t!==r;)t=t.$$parent;return t},d.find_super_func=function(t,e,r){for(var n=t.$$parent;n;){var i=n.$$proto[e];if(i&&i!==r)break;n=n.$$parent}return n.$$proto},d.ret=function(t){throw d.returner.$v=t,d.returner},d.brk=function(t,e){throw e.$v=t,e},d.new_brk=function(){return new Error("unexpected break")},d.yield1=function(t,e){if("function"!=typeof t)throw d.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(1<t.length||(r||n)&&1===t.length)&&(e=d.to_ary(e)),(1<t.length||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},d.yieldX=function(t,e){if("function"!=typeof t)throw d.LocalJumpError.$new("no block given");if(1<t.length&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=new Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},d.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var i=d.rescue(t,n);if(i)return i}else{if(n===d.JS.Error)return n;if(n["$==="](t))return n}}return null},d.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=d.ancestors(t.$$is_class?d.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},d.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw d.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw d.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},d.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===s)return[t];if(e.$$is_array)return e;throw d.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},d.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===s)return[t];if(e.$$is_array)return e;throw d.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},d.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):d.hash2([],{})},d.kwrestargs=function(t,e){var r=[],n={},i=null,$=t.$$smap;for(i in $)e[i]||(r.push(i),n[i]=$[i]);return d.hash2(r,n)},d.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=n,i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},d.def=function(t,e,r){t===d.top?d.defn(d.Object,e,r):t.$$eval||!t.$$is_class&&!t.$$is_module?d.defs(t,e,r):d.defn(t,e,r)},d.defn=function(t,e,r){(t.$$proto[e]=r).$$owner=t,null==r.displayName&&(r.displayName=e.substr(1)),t.$$is_module&&(d.update_includers(t,e),t.$$module_function&&d.defs(t,e,r));var n=t.$__id__&&!t.$__id__.$$stub&&f[t.$__id__()];if(n)for(var i=n.length-1;0<=i;i--)d.bridge_method(n[i],t,e,r);var $=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||$?$&&$.$singleton_method_added&&!$.$singleton_method_added.$$stub&&$.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),s},d.defs=function(t,e,r){d.defn(d.get_singleton_class(t),e,r)},d.rdef=function(t,e){if(!h.call(t.$$proto,e))throw d.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},d.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw d.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());d.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},d.alias=function(t,e,r){var i,n="$"+e,$="$"+r,a=t.$$proto["$"+r];if(t.$$eval)return d.alias(d.get_singleton_class(t),e,r);if("function"!=typeof a||a.$$stub){for(var s=t.$$super;"function"!=typeof a&&s;)a=s[$],s=s.$$super;if("function"!=typeof a||a.$$stub)throw d.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return a.$$alias_of&&(a=a.$$alias_of),(i=function(){var t,e,r,n=i.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=n&&(i.$$p=null),d.send(this,a,t,n)}).displayName=e,i.length=a.length,i.$$arity=a.$$arity,i.$$parameters=a.$$parameters,i.$$source_location=a.$$source_location,i.$$alias_of=a,i.$$alias_name=e,d.defn(t,n,i),t},d.alias_native=function(t,e,r){var n="$"+e,i=t.$$proto[r];if("function"!=typeof i||i.$$stub)throw d.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return d.defn(t,n,i),t},d.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},d.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,$=t.$$keys,a=t.$$smap,s=$.length;i<s;i++)(r=$[i]).$$is_string?n=a[r]:(n=r.value,r=r.key),d.hash_put(e,r,n)},d.hash_put=function(t,e,r){if(e.$$is_string)return h.call(t.$$smap,e)||t.$$keys.push(e),void(t.$$smap[e]=r);var n,i,$;if(n=t.$$by_identity?d.id(e):e.$hash(),!h.call(t.$$map,n))return i={key:e,key_hash:n,value:r},t.$$keys.push(i),void(t.$$map[n]=i);for(i=t.$$map[n];i;){if(e===i.key||e["$eql?"](i.key)){$=a,i.value=r;break}i=($=i).next}$&&(i={key:e,key_hash:n,value:r},t.$$keys.push(i),$.next=i)},d.hash_get=function(t,e){if(e.$$is_string)return h.call(t.$$smap,e)?t.$$smap[e]:void 0;var r,n;if(r=t.$$by_identity?d.id(e):e.$hash(),h.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}},d.hash_delete=function(t,e){var r,n,i=t.$$keys,$=i.length;if(e.$$is_string){if(!h.call(t.$$smap,e))return;for(r=0;r<$;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var a=e.$hash();if(h.call(t.$$map,a))for(var s,o=t.$$map[a];o;){if(e===o.key||e["$eql?"](o.key)){for(n=o.value,r=0;r<$;r++)if(i[r]===o){i.splice(r,1);break}return s&&o.next?s.next=o.next:s?delete s.next:o.next?t.$$map[a]=o.next:delete t.$$map[a],n}o=(s=o).next}},d.hash_rehash=function(t){for(var e,r,n,i=0,$=t.$$keys.length;i<$;i++)if(!t.$$keys[i].$$is_string&&(e=t.$$keys[i].key.$hash())!==t.$$keys[i].key_hash){for(r=t.$$map[t.$$keys[i].key_hash],n=a;r;){if(r===t.$$keys[i]){n&&r.next?n.next=r.next:n?delete n.next:r.next?t.$$map[t.$$keys[i].key_hash]=r.next:delete t.$$map[t.$$keys[i].key_hash];break}r=(n=r).next}if(t.$$keys[i].key_hash=e,h.call(t.$$map,e)){for(r=t.$$map[e],n=a;r;){if(r===t.$$keys[i]){n=a;break}r=(n=r).next}n&&(n.next=t.$$keys[i])}else t.$$map[e]=t.$$keys[i]}},d.hash=function(){var t,e,r,n,i,$,a=arguments.length;if(1===a&&arguments[0].$$is_hash)return arguments[0];if(e=new d.Hash.$$alloc,d.hash_init(e),1===a&&arguments[0].$$is_array){for(n=(t=arguments[0]).length,r=0;r<n;r++){if(2!==t[r].length)throw d.ArgumentError.$new("value not of length 2: "+t[r].$inspect());i=t[r][0],$=t[r][1],d.hash_put(e,i,$)}return e}if(1===a){for(i in t=arguments[0])h.call(t,i)&&($=t[i],d.hash_put(e,i,$));return e}if(a%2!=0)throw d.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<a;r+=2)i=arguments[r],$=arguments[r+1],d.hash_put(e,i,$);return e},d.hash2=function(t,e){var r=new d.Hash.$$alloc;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},d.range=function(t,e,r){var n=new d.Range.$$alloc;return n.begin=t,n.end=e,n.excl=r,n},d.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},d.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},d.modules={},d.loaded_features=["corelib/runtime"],d.current_dir=".",d.require_table={"corelib/runtime":!0},d.normalize=function(t){var e,r,n=[];"."!==d.current_dir&&(t=d.current_dir.replace(/\/*$/,"/")+t);for(var i=0,$=(e=(t=(t=t.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<$;i++)""!==(r=e[i])&&(".."===r?n.pop():n.push(r));return n.join("/")},d.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++){if(n=d.normalize(t[e]),d.require_table[n])return;d.loaded_features.push(n),d.require_table[n]=!0}},d.load=function(t){t=d.normalize(t),d.loaded([t]);var e=d.modules[t];if(e)e(d);else{var r=d.config.missing_require_severity,n="cannot load such file -- "+t;if("error"===r)throw d.LoadError?d.LoadError.$new(n):n;"warning"===r&&i.warn("WARNING: LoadError: "+n)}return!0},d.require=function(t){return t=d.normalize(t),!d.require_table[t]&&d.load(t)},d.boot_class_alloc("BasicObject",_),d.boot_class_alloc("Object",e,_),d.boot_class_alloc("Module",n,e),d.boot_class_alloc("Class",r,n),d.BasicObject=$=d.setup_class_object("BasicObject",_,"Class",r),d.Object=o=d.setup_class_object("Object",e,"BasicObject",$.constructor),d.Module=l=d.setup_class_object("Module",n,"Object",o.constructor),d.Class=c=d.setup_class_object("Class",r,"Module",l.constructor),$.$$const.BasicObject=$,d.const_set(o,"BasicObject",$),d.const_set(o,"Object",o),d.const_set(o,"Module",l),d.const_set(o,"Class",c),$.$$class=c,o.$$class=c,(l.$$class=c).$$class=c,$.$$super=null,o.$$super=$,l.$$super=o,c.$$super=l,$.$$parent=null,o.$$parent=$,l.$$parent=o,c.$$parent=l,o.$$proto.toString=function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t},o.$$proto.$require=d.require,d.$$=o.$$,d.top=new o.$$alloc,d.top.$to_s=d.top.$inspect=function(){return"main"},d.klass(o,o,"NilClass",u),(s=d.nil=new u).$$id=4,s.call=s.apply=function(){throw d.LocalJumpError.$new("no block given")},d.breaker=new Error("unexpected break (old)"),d.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function($){$.top;var t,e,r,n,i,a,s,o,l,c,_,u,d,f,h,p,g,v=[],m=$.nil,y=($.breaker,$.slice,$.module),b=$.truthy;return $.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),(p=y((t=v)[0],"Opal")).$$proto,g=[p].concat(t),$.defs(p,"$bridge",e=function(t,e){return $.bridge(t,e)},e.$$arity=2),$.defs(p,"$type_error",r=function(t,e,r,n){var i;return null==r&&(r=m),null==n&&(n=m),b(b(i=r)?n:i)?$.const_get_relative(g,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+r+" gives "+n.$class()+")"):$.const_get_relative(g,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e)},r.$$arity=-3),$.defs(p,"$coerce_to",n=function(t,e,r){return b(e["$==="](t))?t:(b(t["$respond_to?"](r))||this.$raise(this.$type_error(t,e)),t.$__send__(r))},n.$$arity=3),$.defs(p,"$coerce_to!",i=function(t,e,r){var n;return n=this.$coerce_to(t,e,r),b(e["$==="](n))||this.$raise(this.$type_error(t,e,r,n)),n},i.$$arity=3),$.defs(p,"$coerce_to?",a=function(t,e,r){var n=m;return b(t["$respond_to?"](r))?(n=this.$coerce_to(t,e,r),b(n["$nil?"]())?m:(b(e["$==="](n))||this.$raise(this.$type_error(t,e,r,n)),n)):m},a.$$arity=3),$.defs(p,"$try_convert",s=function(t,e,r){return b(e["$==="](t))?t:b(t["$respond_to?"](r))?t.$__send__(r):m},s.$$arity=3),$.defs(p,"$compare",o=function(t,e){var r;return r=t["$<=>"](e),b(r===m)&&this.$raise($.const_get_relative(g,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),r},o.$$arity=2),$.defs(p,"$destructure",l=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},l.$$arity=1),$.defs(p,"$respond_to?",c=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},c.$$arity=-3),$.defs(p,"$inspect_obj",_=function(t){return $.inspect(t)},_.$$arity=1),$.defs(p,"$instance_variable_name!",u=function(t){return t=$.const_get_relative(g,"Opal")["$coerce_to!"](t,$.const_get_relative(g,"String"),"to_str"),b(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||this.$raise($.const_get_relative(g,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},u.$$arity=1),$.defs(p,"$class_variable_name!",d=function(t){return t=$.const_get_relative(g,"Opal")["$coerce_to!"](t,$.const_get_relative(g,"String"),"to_str"),b(t.length<3||"@@"!==t.slice(0,2))&&this.$raise($.const_get_relative(g,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},d.$$arity=1),$.defs(p,"$const_name!",f=function(t){return t=$.const_get_relative(g,"Opal")["$coerce_to!"](t,$.const_get_relative(g,"String"),"to_str"),b(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&this.$raise($.const_get_relative(g,"NameError"),"wrong constant name "+t),t},f.$$arity=1),void $.defs(p,"$pristine",h=function(t,e){var r,n,i,$=arguments.length,a=$-1;a<0&&(a=0),r=new Array(a);for(var s=1;s<$;s++)r[s-1]=arguments[s];for(var o=r.length-1;0<=o;o--)n=r[o],(i=t.$$proto["$"+n])&&!i.$$stub&&(i.$$pristine=!0);return m},h.$$arity=-2)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_method_added_42,TMP_Module_method_removed_43,TMP_Module_method_undefined_44,TMP_Module_module_eval_45,TMP_Module_module_exec_47,TMP_Module_method_defined$q_48,TMP_Module_module_function_49,TMP_Module_name_50,TMP_Module_remove_const_51,TMP_Module_to_s_52,TMP_Module_undef_method_53,TMP_Module_instance_variables_54,TMP_Module_dup_55,TMP_Module_copy_class_variables_56,TMP_Module_copy_constants_57;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){return Opal.module_allocate(this)},TMP_Module_allocate_1.$$arity=0),Opal.def(self,"$initialize",TMP_Module_initialize_2=function(){var t=TMP_Module_initialize_2.$$p,e=t||nil;return t&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(this,e)},TMP_Module_initialize_2.$$arity=0),Opal.def(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){return!$truthy(null==t)&&Opal.is_a(t,this)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.def(self,"$<",TMP_Module_$lt_4=function(t){$truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module");var e,r,n;if(this===t)return!1;for(r=0,n=(e=Opal.ancestors(this)).length;r<n;r++)if(e[r]===t)return!0;for(r=0,n=(e=Opal.ancestors(t)).length;r<n;r++)if(e[r]===this)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.def(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_lt(this,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.def(self,"$>",TMP_Module_$gt_6=function(t){return $truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,this)},TMP_Module_$gt_6.$$arity=1),Opal.def(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_gt(this,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.def(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e=nil;return this===t?0:$truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))?(e=$rb_lt(this,t),$truthy(e["$nil?"]())?nil:$truthy(e)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.def(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){return Opal.alias(this,t,e),this},TMP_Module_alias_method_9.$$arity=2),Opal.def(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){return null==e&&(e=t),Opal.alias_native(this,t,e),this},TMP_Module_alias_native_10.$$arity=-2),Opal.def(self,"$ancestors",TMP_Module_ancestors_11=function(){return Opal.ancestors(this)},TMP_Module_ancestors_11.$$arity=0),Opal.def(self,"$append_features",TMP_Module_append_features_12=function(t){return Opal.append_features(this,t),this},TMP_Module_append_features_12.$$arity=1),Opal.def(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return $send(this,"attr_reader",Opal.to_a(e)),$send(this,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=this.$$proto,a=e.length-1;0<=a;a--){var s=e[a],o="$"+s,l=Opal.ivar(s),c=function(t){return function(){return null==this[t]?nil:this[t]}}(l);$[l]=nil,c.$$parameters=[],c.$$arity=0,this.$$is_singleton?$.constructor.prototype[o]=c:Opal.defn(this,o,c)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.def(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=this.$$proto,a=e.length-1;0<=a;a--){var s=e[a],o="$"+s+"=",l=Opal.ivar(s),c=function(e){return function(t){return this[e]=t}}(l);c.$$parameters=[["req"]],c.$$arity=1,$[l]=nil,this.$$is_singleton?$.constructor.prototype[o]=c:Opal.defn(this,o,c)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.def(self,"$autoload",TMP_Module_autoload_16=function(t,e){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.def(self,"$class_variables",TMP_Module_class_variables_17=function(){return Object.keys(Opal.class_variables(this))},TMP_Module_class_variables_17.$$arity=0),Opal.def(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t);var e=Opal.class_variables(this)[t];return null==e&&this.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized class variable "+t+" in "+this,t)),e},TMP_Module_class_variable_get_18.$$arity=1),Opal.def(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){return t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(this,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.def(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){return t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(this).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.def(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){var e=this;if(t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var r=e.$$cvars[t];return delete e.$$cvars[t],r}e.$raise(Opal.const_get_relative($nesting,"NameError"),"cannot remove "+t+" for "+e)},TMP_Module_remove_class_variable_21.$$arity=1),Opal.def(self,"$constants",TMP_Module_constants_22=function(t){return null==t&&(t=!0),Opal.constants(this,t)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(t){if(null==t){var e,r,n,i=(this.$$nesting||[]).concat(Opal.Object),$={};for(r=0,n=i.length;r<n;r++)for(e in i[r].$$const)$[e]=!0;return Object.keys($)}return Opal.constants(this,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){return this.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.def(self,"$const_defined?",TMP_Module_const_defined$q_25=function(t,e){null==e&&(e=!0),t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t));var r,n,i=[this];for(e&&(i=i.concat(Opal.ancestors(this)),this.$$is_module&&(i=i.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),r=0,n=i.length;r<n;r++)if(null!=i[r].$$const[t])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.def(self,"$const_get",TMP_Module_const_get_27=function(t,e){var r,n=this;return null==e&&(e=!0),0===(t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(-1!=t.indexOf("::")&&"::"!=t)?$send(t.$split("::"),"inject",[n],((r=function(t,e){r.$$s;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)}).$$s=n,r.$$arity=2,r)):($truthy(t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t)),e?Opal.const_get_relative([n],t):Opal.const_get_local(n,t))},TMP_Module_const_get_27.$$arity=-2),Opal.def(self,"$const_missing",TMP_Module_const_missing_28=function(t){var e,r=this;if(r.$$autoload){var n=r.$$autoload[t];if(n)return r.$require(n),r.$const_get(t)}return e=r["$=="](Opal.const_get_relative($nesting,"Object"))?t:r+"::"+t,r.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized constant "+e,t))},TMP_Module_const_missing_28.$$arity=1),Opal.def(self,"$const_set",TMP_Module_const_set_29=function(t,e){var r;return t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&this.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(this,t,e),e},TMP_Module_const_set_29.$$arity=2),Opal.def(self,"$public_constant",TMP_Module_public_constant_30=function(t){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.def(self,"$define_method",TMP_Module_define_method_31=function(t,s){var e,o,r=this,n=TMP_Module_define_method_31.$$p,i=n||nil,$=nil;n&&(TMP_Module_define_method_31.$$p=null),$truthy(void 0===s&&i===nil)&&r.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to create a Proc object without a block");var a="$"+t;return(i=$truthy(e=i)?e:($=s,Opal.const_get_relative($nesting,"Proc")["$==="]($)?s:Opal.const_get_relative($nesting,"Method")["$==="]($)?s.$to_proc().$$unbound:Opal.const_get_relative($nesting,"UnboundMethod")["$==="]($)?$send(r,"lambda",[],((o=function(t){var e,r,n=o.$$s||this,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r=s.$bind(n),$send(r,"call",Opal.to_a(e))}).$$s=r,o.$$arity=-1,o)):r.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+i.$class()+" (expected Proc/Method)"))).$$jsid=t,i.$$s=null,(i.$$def=i).$$define_meth=!0,Opal.defn(r,a,i),t},TMP_Module_define_method_31.$$arity=-2),Opal.def(self,"$remove_method",TMP_Module_remove_method_33=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,a=e.length;$<a;$++)Opal.rdef(this,"$"+e[$]);return this},TMP_Module_remove_method_33.$$arity=-1),Opal.def(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.def(self,"$include",TMP_Module_include_35=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=e.length-1;0<=$;$--){var a=e[$];a.$$is_module||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)"),a.$append_features(this),a.$included(this)}return this},TMP_Module_include_35.$$arity=-1),Opal.def(self,"$included_modules",TMP_Module_included_modules_36=function(){var t,$=function(t){for(var e=[],r=0,n=t.$$inc.length;r<n;r++){var i=t.$$inc[r];e.push(i),e=e.concat($(i))}return e};if(t=$(this),this.$$is_class)for(var e=this;e;e=e.$$super)t=t.concat($(e));return t},TMP_Module_included_modules_36.$$arity=0),Opal.def(self,"$include?",TMP_Module_include$q_37=function(t){t.$$is_module||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var e,r,n,i=Opal.ancestors(this);for(e=0,r=i.length;e<r;e++)if((n=i[e])===t&&n!==this)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.def(self,"$instance_method",TMP_Module_instance_method_38=function(t){var e=this,r=e.$$proto["$"+t];return r&&!r.$$stub||e.$raise(Opal.const_get_relative($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),Opal.const_get_relative($nesting,"UnboundMethod").$new(e,r.$$owner||e,r,t)},TMP_Module_instance_method_38.$$arity=1),Opal.def(self,"$instance_methods",TMP_Module_instance_methods_39=function(t){null==t&&(t=!0);var e,r=[],n=this.$$proto;for(var i in n)if("$"===i.charAt(0)&&"$"!==i.charAt(1)&&"function"==typeof(e=n[i])&&!e.$$stub){if(!this.$$is_module){if(this!==Opal.BasicObject&&e===Opal.BasicObject.$$proto[i])continue;if(!t&&!n.hasOwnProperty(i))continue;if(!t&&e.$$donated)continue}r.push(i.substr(1))}return r},TMP_Module_instance_methods_39.$$arity=-1),Opal.def(self,"$included",TMP_Module_included_40=function(t){return nil},TMP_Module_included_40.$$arity=1),Opal.def(self,"$extended",TMP_Module_extended_41=function(t){return nil},TMP_Module_extended_41.$$arity=1),Opal.def(self,"$method_added",TMP_Module_method_added_42=function(t){return nil},TMP_Module_method_added_42.$$arity=-1),Opal.def(self,"$method_removed",TMP_Module_method_removed_43=function(t){return nil},TMP_Module_method_removed_43.$$arity=-1),Opal.def(self,"$method_undefined",TMP_Module_method_undefined_44=function(t){return nil},TMP_Module_method_undefined_44.$$arity=-1),Opal.def(self,"$module_eval",TMP_Module_module_eval_45=function $$module_eval($a_rest){var $b,TMP_46,self=this,args,$iter=TMP_Module_module_eval_45.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_45.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_relative($nesting,"Opal").$compile(string,compiling_options),block=$send(Opal.const_get_relative($nesting,"Kernel"),"proc",[],(TMP_46=function(){var self=TMP_46.$$s||this;return function(self){return eval(compiled)}(self)},TMP_46.$$s=self,TMP_46.$$arity=0,TMP_46))):$truthy(args["$any?"]())&&Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_45.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",TMP_Module_module_exec_47=function(t){var e,r=TMP_Module_module_exec_47.$$p,n=r||nil,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];r&&(TMP_Module_module_exec_47.$$p=null),n===nil&&this.$raise(Opal.const_get_relative($nesting,"LocalJumpError"),"no block given");var s,o=n.$$s;return n.$$s=null,s=n.apply(this,e),n.$$s=o,s},TMP_Module_module_exec_47.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",TMP_Module_method_defined$q_48=function(t){var e=this.$$proto["$"+t];return!!e&&!e.$$stub},TMP_Module_method_defined$q_48.$$arity=1),Opal.def(self,"$module_function",TMP_Module_module_function_49=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(0===e.length)this.$$module_function=!0;else for(var $=0,a=e.length;$<a;$++){var s="$"+e[$],o=this.$$proto[s];Opal.defs(this,s,o)}return this},TMP_Module_module_function_49.$$arity=-1),Opal.def(self,"$name",TMP_Module_name_50=function(){if(this.$$full_name)return this.$$full_name;for(var t=[],e=this;e;){if(e.$$name===nil||null==e.$$name)return nil;if(t.unshift(e.$$name),(e=e.$$base_module)===Opal.Object)break}return 0===t.length?nil:this.$$full_name=t.join("::")},TMP_Module_name_50.$$arity=0),Opal.def(self,"$remove_const",TMP_Module_remove_const_51=function(t){return Opal.const_remove(this,t)},TMP_Module_remove_const_51.$$arity=1),Opal.def(self,"$to_s",TMP_Module_to_s_52=function(){var t;return $truthy(t=Opal.Module.$name.call(this))?t:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},TMP_Module_to_s_52.$$arity=0),Opal.def(self,"$undef_method",TMP_Module_undef_method_53=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,a=e.length;$<a;$++)Opal.udef(this,"$"+e[$]);return this},TMP_Module_undef_method_53.$$arity=-1),Opal.def(self,"$instance_variables",TMP_Module_instance_variables_54=function(){var t=nil;Opal.Module.$$nesting=$nesting,t=this.$constants();var e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&"constructor"!==r&&!t["$include?"](r)&&e.push("@"+r);return e},TMP_Module_instance_variables_54.$$arity=0),Opal.def(self,"$dup",TMP_Module_dup_55=function(){var t,e=TMP_Module_dup_55.$$p,r=nil,n=nil,i=nil;for(e&&(TMP_Module_dup_55.$$p=null),i=0,t=arguments.length,n=new Array(t);i<t;i++)n[i]=arguments[i];return(r=$send(this,Opal.find_super_dispatcher(this,"dup",TMP_Module_dup_55,!1),n,e)).$copy_class_variables(this),r.$copy_constants(this),r},TMP_Module_dup_55.$$arity=0),Opal.def(self,"$copy_class_variables",TMP_Module_copy_class_variables_56=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},TMP_Module_copy_class_variables_56.$$arity=1),Opal.def(self,"$copy_constants",TMP_Module_copy_constants_57=function(t){var e,r=t.$$const;for(e in r)Opal.const_set(this,e,r[e])},TMP_Module_copy_constants_57.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(d){var t=d.top,f=[],h=d.nil,p=(d.breaker,d.slice,d.klass),g=d.send;return d.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),t.$require("corelib/module"),function(t,e,r){function n(){}var $,i,a,s,o,l,c,_=n=p(f[0],null,"Class",n),u=(_.$$proto,[_].concat(r));return d.defs(_,"$new",$=function(t){var e=$.$$p,r=e||h;if(null==t&&(t=d.const_get_relative(u,"Object")),e&&($.$$p=null),!t.$$is_class)throw d.TypeError.$new("superclass must be a Class");var n=d.boot_class_alloc(null,function(){},t),i=d.setup_class_object(null,n,t.$$name,t.constructor);return i.$$super=t,(i.$$parent=t).$inherited(i),d.module_initialize(i,r),i},$.$$arity=-1),d.def(_,"$allocate",i=function(){var t=new this.$$alloc;return t.$$id=d.uid(),t},i.$$arity=0),d.def(_,"$inherited",a=function(t){return h},a.$$arity=1),d.def(_,"$initialize_dup",s=function(t){this.$initialize_copy(t),this.$$name=null,this.$$full_name=null},s.$$arity=1),d.def(_,"$new",o=function(t){var e,r=o.$$p,n=r||h,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];r&&(o.$$p=null);var s=this.$allocate();return d.send(s,s.$initialize,e,n),s},o.$$arity=-1),d.def(_,"$superclass",l=function(){return this.$$super||h},l.$$arity=0),d.def(_,"$to_s",c=function(){var t=c.$$p;t&&(c.$$p=null);var e=this.$$singleton_of;return e&&(e.$$is_class||e.$$is_module)?"#<Class:"+e.$name()+">":e?"#<Class:#<"+e.$$class.$name()+":0x"+d.id(e).$to_s(16)+">>":g(this,d.find_super_dispatcher(this,"to_s",c,!1),[],null)},c.$$arity=0),h&&"to_s"}(0,0,f)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.def(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.def(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){return this===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.def(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){return this["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",TMP_BasicObject___id___4=function(){return this.$$id||(this.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.def(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var r,n=this,i=TMP_BasicObject___send___5.$$p,$=i||nil,a=arguments.length,s=a-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<a;o++)r[o-1]=arguments[o];i&&(TMP_BasicObject___send___5.$$p=null);var l=n["$"+t];return l?($!==nil&&(l.$$p=$),l.apply(n,r)):($!==nil&&(n.$method_missing.$$p=$),n.$method_missing.apply(n,[t].concat(r)))},TMP_BasicObject___send___5.$$arity=-2),Opal.def(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.def(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){return this["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.def(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_qualified("::","Opal").$compile(string,compiling_options),block=$send(Opal.const_get_qualified("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy(args["$any?"]())&&Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.def(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,r=this,n=TMP_BasicObject_instance_exec_10.$$p,i=n||nil,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var s=0;s<$;s++)e[s-0]=arguments[s];n&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(i)||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"no block given");var o,l=i.$$s;if(i.$$s=null,r.$$is_class||r.$$is_module){r.$$eval=!0;try{o=i.apply(r,e)}finally{r.$$eval=!1}}else o=i.apply(r,e);return i.$$s=l,o},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.def(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.def(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.def(self,"$method_missing",TMP_BasicObject_method_missing_14=function(t,e){var r,n,i=this,$=TMP_BasicObject_method_missing_14.$$p,a=arguments.length,s=a-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<a;o++)r[o-1]=arguments[o];return $&&(TMP_BasicObject_method_missing_14.$$p=null),n=$truthy(i.$inspect&&!i.$inspect.$$stub)?"undefined method `"+t+"' for "+i.$inspect()+":"+i.$$class:"undefined method `"+t+"' for "+i.$$class,Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","NoMethodError").$new(n,t))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(F){F.top;var t,s,e,r,n,i,$,a,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,P,L,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,_t,ut,dt,ft,ht=[],pt=F.nil,gt=(F.breaker,F.slice,F.module),vt=F.truthy,mt=F.gvars,yt=F.hash2,bt=F.send,xt=F.klass;return F.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),(dt=gt((t=ht)[0],"Kernel")).$$proto,ft=[dt].concat(t),F.def(dt,"$method_missing",s=function(t,e){var r,n=s.$$p,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var a=1;a<i;a++)r[a-1]=arguments[a];return n&&(s.$$p=null),this.$raise(F.const_get_relative(ft,"NoMethodError").$new("undefined method `"+t+"' for "+this.$inspect(),t,r))},s.$$arity=-2),F.def(dt,"$=~",e=function(t){return!1},e.$$arity=1),F.def(dt,"$!~",r=function(t){return this["$=~"](t)["$!"]()},r.$$arity=1),F.def(dt,"$===",n=function(t){var e;return vt(e=this.$object_id()["$=="](t.$object_id()))?e:this["$=="](t)},n.$$arity=1),F.def(dt,"$<=>",i=function(t){this.$$comparable=!0;var e=this["$=="](t);return e&&e!==pt?0:pt},i.$$arity=1),F.def(dt,"$method",$=function(t){var e=this,r=e["$"+t];return r&&!r.$$stub||e.$raise(F.const_get_relative(ft,"NameError").$new("undefined method `"+t+"' for class `"+e.$class()+"'",t)),F.const_get_relative(ft,"Method").$new(e,r.$$owner||e.$class(),r,t)},$.$$arity=1),F.def(dt,"$methods",a=function(t){null==t&&(t=!0);var e=[];for(var r in this)if("$"==r[0]&&"function"==typeof this[r]){if((0==t||t===pt)&&!F.hasOwnProperty.call(this,r))continue;void 0===this[r].$$stub&&e.push(r.substr(1))}return e},a.$$arity=-1),F.alias(dt,"public_methods","methods"),F.def(dt,"$Array",o=function(t){var e;return t===pt?[]:t.$$is_array?t:(e=F.const_get_relative(ft,"Opal")["$coerce_to?"](t,F.const_get_relative(ft,"Array"),"to_ary"))!==pt?e:(e=F.const_get_relative(ft,"Opal")["$coerce_to?"](t,F.const_get_relative(ft,"Array"),"to_a"))!==pt?e:[t]},o.$$arity=1),F.def(dt,"$at_exit",l=function(){var t,e=l.$$p,r=e||pt;return null==mt.__at_exit__&&(mt.__at_exit__=pt),e&&(l.$$p=null),mt.__at_exit__=vt(t=mt.__at_exit__)?t:[],mt.__at_exit__["$<<"](r)},l.$$arity=0),F.def(dt,"$caller",c=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return[]},c.$$arity=-1),F.def(dt,"$class",_=function(){return this.$$class},_.$$arity=0),F.def(dt,"$copy_instance_variables",u=function(t){var e,r,n,i=Object.keys(t);for(e=0,r=i.length;e<r;e++)"$"!==(n=i[e]).charAt(0)&&t.hasOwnProperty(n)&&(this[n]=t[n])},u.$$arity=1),F.def(dt,"$copy_singleton_methods",d=function(t){var e;if(t.hasOwnProperty("$$meta")){var r=F.get_singleton_class(t).$$proto,n=F.get_singleton_class(this).$$proto;for(e in r)"$"===e.charAt(0)&&r.hasOwnProperty(e)&&(n[e]=r[e])}for(e in t)"$"===e.charAt(0)&&"$"!==e.charAt(1)&&t.hasOwnProperty(e)&&(this[e]=t[e])},d.$$arity=1),F.def(dt,"$clone",f=function(t){var e=pt;if(null==t||!t.$$is_hash){if(null!=t)throw F.ArgumentError.$new("expected kwargs");t=yt([],{})}return t.$$smap.freeze,(e=this.$class().$allocate()).$copy_instance_variables(this),e.$copy_singleton_methods(this),e.$initialize_clone(this),e},f.$$arity=-1),F.def(dt,"$initialize_clone",h=function(t){return this.$initialize_copy(t)},h.$$arity=1),F.def(dt,"$define_singleton_method",p=function(t,e){var r=p.$$p,n=r||pt;return r&&(p.$$p=null),bt(this.$singleton_class(),"define_method",[t,e],n.$to_proc())},p.$$arity=-2),F.def(dt,"$dup",g=function(){var t=pt;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$initialize_dup(this),t},g.$$arity=0),F.def(dt,"$initialize_dup",v=function(t){return this.$initialize_copy(t)},v.$$arity=1),F.def(dt,"$enum_for",m=function(t,e){var r,n=this,i=m.$$p,$=i||pt;null==t&&(t="each");var a=arguments.length,s=a-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<a;o++)r[o-1]=arguments[o];return i&&(m.$$p=null),bt(F.const_get_relative(ft,"Enumerator"),"for",[n,t].concat(F.to_a(r)),$.$to_proc())},m.$$arity=-1),F.alias(dt,"to_enum","enum_for"),F.def(dt,"$equal?",y=function(t){return this===t},y.$$arity=1),F.def(dt,"$exit",b=function(t){var e;for(null==mt.__at_exit__&&(mt.__at_exit__=pt),null==t&&(t=!0),mt.__at_exit__=vt(e=mt.__at_exit__)?e:[];!vt(mt.__at_exit__["$empty?"]());)mt.__at_exit__.$pop().$call();return t=null==t?0:t.$$is_boolean?t?0:1:t.$$is_numeric?t.$to_i():0,F.exit(t),pt},b.$$arity=-1),F.def(dt,"$extend",x=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=this.$singleton_class(),a=e.length-1;0<=a;a--){var s=e[a];s.$$is_module||this.$raise(F.const_get_relative(ft,"TypeError"),"wrong argument type "+s.$class()+" (expected Module)"),s.$append_features($),s.$extended(this)}return this},x.$$arity=-1),F.def(dt,"$format",k=function(n,t){var e,i=this,r=pt;null==mt.DEBUG&&(mt.DEBUG=pt);var $=arguments.length,a=$-1;a<0&&(a=0),e=new Array(a);for(var s=1;s<$;s++)e[s-1]=arguments[s];vt(e.$length()["$=="](1)?e["$[]"](0)["$respond_to?"]("to_ary"):e.$length()["$=="](1))&&(r=F.const_get_relative(ft,"Opal")["$coerce_to?"](e["$[]"](0),F.const_get_relative(ft,"Array"),"to_ary"),vt(r["$nil?"]())||(e=r.$to_a()));var o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w="",E=0,A=n.length,O=1,S=0,R=32,T=128;function M(){k&R&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"flag after width"),k&T&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"flag after precision")}function C(){k&R&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"width given twice"),k&T&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"width after precision")}function I(t){return t>=e.length&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"too few arguments"),e[t]}function q(){switch(S){case-1:i.$raise(F.const_get_relative(ft,"ArgumentError"),"unnumbered("+O+") mixed with numbered");case-2:i.$raise(F.const_get_relative(ft,"ArgumentError"),"unnumbered("+O+") mixed with named")}return I((S=O++)-1)}function N(t){return 0<S&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"numbered("+t+") after unnumbered("+S+")"),-2===S&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"numbered("+t+") after named"),t<1&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"invalid index - "+t+"$"),S=-1,I(t-1)}function z(){return void 0===x?q():x}function D(t){for(var e,r="";;l++){if(l===A&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"malformed format string - %*[0-9]"),n.charCodeAt(l)<48||57<n.charCodeAt(l))return l--,2147483647<(e=parseInt(r,10)||0)&&i.$raise(F.const_get_relative(ft,"ArgumentError"),t+" too big"),e;r+=n.charAt(l)}}function B(t){var e,r=D(t);return"$"===n.charAt(l+1)?(l++,e=N(r)):e=q(),e.$to_int()}for(l=n.indexOf("%");-1!==l;l=n.indexOf("%",l)){switch(_=void 0,f=d=-1,x=void(k=0),o=l,l++,n.charAt(l)){case"%":E=l;case"":case"\n":case"\0":l++;continue}t:for(;l<A;l++)switch(n.charAt(l)){case" ":M(),k|=16;continue t;case"#":M(),k|=1;continue t;case"+":M(),k|=4;continue t;case"-":M(),k|=2;continue t;case"0":M(),k|=8;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(h=D("width"),"$"===n.charAt(l+1)){if(l+2===A){_="%",l++;break t}void 0!==x&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"value given twice - %"+h+"$"),x=N(h),l++}else C(),k|=R,d=h;continue t;case"<":case"{":for(g="<"===n.charAt(l)?">":"}",p="",l++;;l++){if(l===A&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"malformed name - unmatched parenthesis"),n.charAt(l)===g){if(0<S&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"named "+p+" after unnumbered("+S+")"),-1===S&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"named "+p+" after numbered"),S=-2,void 0!==e[0]&&e[0].$$is_hash||i.$raise(F.const_get_relative(ft,"ArgumentError"),"one hash required"),x=e[0].$fetch(p),">"===g)continue t;if(_=x.toString(),-1!==f&&(_=_.slice(0,f)),2&k)for(;_.length<d;)_+=" ";else for(;_.length<d;)_=" "+_;break t}p+=n.charAt(l)}case"*":l++,C(),k|=R,(d=B("width"))<0&&(k|=2,d=-d);continue t;case".":if(k&T&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"precision given twice"),k|=64|T,f=0,l++,"*"===n.charAt(l)){l++,(f=B("precision"))<0&&(k&=-65);continue t}f=D("precision");continue t;case"d":case"i":case"u":if(0<=(c=i.$Integer(z()))){for(_=c.toString();_.length<f;)_="0"+_;if(2&k)for((4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<d;)_+=" ";else if(8&k&&-1===f){for(;_.length<d-(4&k||16&k?1:0);)_="0"+_;(4&k||16&k)&&(_=(4&k?"+":" ")+_)}else for((4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<d;)_=" "+_}else{for(_=(-c).toString();_.length<f;)_="0"+_;if(2&k)for(_="-"+_;_.length<d;)_+=" ";else if(8&k&&-1===f){for(;_.length<d-1;)_="0"+_;_="-"+_}else for(_="-"+_;_.length<d;)_=" "+_}break t;case"b":case"B":case"o":case"x":case"X":switch(n.charAt(l)){case"b":case"B":v=2,m="0b",y=/^1+/,b="1";break;case"o":v=8,m="0",y=/^3?7+/,b="7";break;case"x":case"X":v=16,m="0x",y=/^f+/,b="f"}if(0<=(c=i.$Integer(z()))){for(_=c.toString(v);_.length<f;)_="0"+_;if(2&k)for((4&k||16&k)&&(_=(4&k?"+":" ")+_),1&k&&0!==c&&(_=m+_);_.length<d;)_+=" ";else if(8&k&&-1===f){for(;_.length<d-(4&k||16&k?1:0)-(1&k&&0!==c?m.length:0);)_="0"+_;1&k&&0!==c&&(_=m+_),(4&k||16&k)&&(_=(4&k?"+":" ")+_)}else for(1&k&&0!==c&&(_=m+_),(4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<d;)_=" "+_}else if(4&k||16&k){for(_=(-c).toString(v);_.length<f;)_="0"+_;if(2&k)for(1&k&&(_=m+_),_="-"+_;_.length<d;)_+=" ";else if(8&k&&-1===f){for(;_.length<d-1-(1&k?2:0);)_="0"+_;1&k&&(_=m+_),_="-"+_}else for(1&k&&(_=m+_),_="-"+_;_.length<d;)_=" "+_}else{for(_=(c>>>0).toString(v).replace(y,b);_.length<f-2;)_=b+_;if(2&k)for(_=".."+_,1&k&&(_=m+_);_.length<d;)_+=" ";else if(8&k&&-1===f){for(;_.length<d-2-(1&k?m.length:0);)_=b+_;_=".."+_,1&k&&(_=m+_)}else for(_=".."+_,1&k&&(_=m+_);_.length<d;)_=" "+_}n.charAt(l)===n.charAt(l).toUpperCase()&&(_=_.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if(0<=(c=i.$Float(z()))||isNaN(c)){if(c===1/0)_="Inf";else switch(n.charAt(l)){case"f":_=c.toFixed(-1===f?6:f);break;case"e":case"E":_=c.toExponential(-1===f?6:f);break;case"g":case"G":_=c.toExponential(),(u=parseInt(_.split("e")[1],10))<-4||(-1===f?6:f)<=u||(_=c.toPrecision(-1===f?1&k?6:void 0:f))}if(2&k)for((4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<d;)_+=" ";else if(8&k&&c!==1/0&&!isNaN(c)){for(;_.length<d-(4&k||16&k?1:0);)_="0"+_;(4&k||16&k)&&(_=(4&k?"+":" ")+_)}else for((4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<d;)_=" "+_}else{if(c===-1/0)_="Inf";else switch(n.charAt(l)){case"f":_=(-c).toFixed(-1===f?6:f);break;case"e":case"E":_=(-c).toExponential(-1===f?6:f);break;case"g":case"G":_=(-c).toExponential(),(u=parseInt(_.split("e")[1],10))<-4||(-1===f?6:f)<=u||(_=(-c).toPrecision(-1===f?1&k?6:void 0:f))}if(2&k)for(_="-"+_;_.length<d;)_+=" ";else if(8&k&&c!==-1/0){for(;_.length<d-1;)_="0"+_;_="-"+_}else for(_="-"+_;_.length<d;)_=" "+_}n.charAt(l)!==n.charAt(l).toUpperCase()||c===1/0||c===-1/0||isNaN(c)||(_=_.toUpperCase()),_=_.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":i.$raise(F.const_get_relative(ft,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((c=z())["$respond_to?"]("to_ary")&&(c=c.$to_ary()[0]),1!==(_=c["$respond_to?"]("to_str")?c.$to_str():String.fromCharCode(F.const_get_relative(ft,"Opal").$coerce_to(c,F.const_get_relative(ft,"Integer"),"to_int"))).length&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"%c requires a character"),2&k)for(;_.length<d;)_+=" ";else for(;_.length<d;)_=" "+_;break t;case"p":if(_=z().$inspect(),-1!==f&&(_=_.slice(0,f)),2&k)for(;_.length<d;)_+=" ";else for(;_.length<d;)_=" "+_;break t;case"s":if(_=z().$to_s(),-1!==f&&(_=_.slice(0,f)),2&k)for(;_.length<d;)_+=" ";else for(;_.length<d;)_=" "+_;break t;default:i.$raise(F.const_get_relative(ft,"ArgumentError"),"malformed format string - %"+n.charAt(l))}void 0===_&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"malformed format string - %"),w+=n.slice(E,o)+_,E=l+1}return mt.DEBUG&&0<=S&&O<e.length&&i.$raise(F.const_get_relative(ft,"ArgumentError"),"too many arguments for format string"),w+n.slice(E)},k.$$arity=-2),F.def(dt,"$hash",w=function(){return this.$__id__()},w.$$arity=0),F.def(dt,"$initialize_copy",E=function(t){return pt},E.$$arity=1),F.def(dt,"$inspect",A=function(){return this.$to_s()},A.$$arity=0),F.def(dt,"$instance_of?",O=function(t){return t.$$is_class||t.$$is_module||this.$raise(F.const_get_relative(ft,"TypeError"),"class or module required"),this.$$class===t},O.$$arity=1),F.def(dt,"$instance_variable_defined?",S=function(t){return t=F.const_get_relative(ft,"Opal")["$instance_variable_name!"](t),F.hasOwnProperty.call(this,t.substr(1))},S.$$arity=1),F.def(dt,"$instance_variable_get",R=function(t){t=F.const_get_relative(ft,"Opal")["$instance_variable_name!"](t);var e=this[F.ivar(t.substr(1))];return null==e?pt:e},R.$$arity=1),F.def(dt,"$instance_variable_set",T=function(t,e){return t=F.const_get_relative(ft,"Opal")["$instance_variable_name!"](t),this[F.ivar(t.substr(1))]=e},T.$$arity=2),F.def(dt,"$remove_instance_variable",M=function(t){t=F.const_get_relative(ft,"Opal")["$instance_variable_name!"](t);var e,r=F.ivar(t.substr(1));return this.hasOwnProperty(r)?(e=this[r],delete this[r],e):this.$raise(F.const_get_relative(ft,"NameError"),"instance variable "+t+" not defined")},M.$$arity=1),F.def(dt,"$instance_variables",C=function(){var t,e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(t="$"===r.substr(-1)?r.slice(0,r.length-1):r,e.push("@"+t));return e},C.$$arity=0),F.def(dt,"$Integer",I=function(n,i){var t,e,r,$=this;return n.$$is_string?"0"===n?0:(void 0===i?i=0:(1===(i=F.const_get_relative(ft,"Opal").$coerce_to(i,F.const_get_relative(ft,"Integer"),"to_int"))||i<0||36<i)&&$.$raise(F.const_get_relative(ft,"ArgumentError"),"invalid radix "+i),e=(e=(e=n.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(t,e,r){switch(r){case"0b":if(0===i||2===i)return i=2,e;case"0":case"0o":if(0===i||8===i)return i=8,e;case"0d":if(0===i||10===i)return i=10,e;case"0x":if(0===i||16===i)return i=16,e}$.$raise(F.const_get_relative(ft,"ArgumentError"),'invalid value for Integer(): "'+n+'"')}),r="0-"+((i=0===i?10:i)<=10?i-1:"9a-"+String.fromCharCode(i-11+97)),new RegExp("^\\s*[+-]?["+r+"]+\\s*$").test(e)||$.$raise(F.const_get_relative(ft,"ArgumentError"),'invalid value for Integer(): "'+n+'"'),t=parseInt(e,i),isNaN(t)&&$.$raise(F.const_get_relative(ft,"ArgumentError"),'invalid value for Integer(): "'+n+'"'),t):(void 0!==i&&$.$raise(F.const_get_relative(ft,"ArgumentError"),"base specified for non string value"),n===pt&&$.$raise(F.const_get_relative(ft,"TypeError"),"can't convert nil into Integer"),n.$$is_number?((n===1/0||n===-1/0||isNaN(n))&&$.$raise(F.const_get_relative(ft,"FloatDomainError"),n),Math.floor(n)):n["$respond_to?"]("to_int")&&(t=n.$to_int())!==pt?t:F.const_get_relative(ft,"Opal")["$coerce_to!"](n,F.const_get_relative(ft,"Integer"),"to_i"))},I.$$arity=-2),F.def(dt,"$Float",q=function(t){var e;return t===pt&&this.$raise(F.const_get_relative(ft,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=(e=t.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?this.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||this.$raise(F.const_get_relative(ft,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):F.const_get_relative(ft,"Opal")["$coerce_to!"](t,F.const_get_relative(ft,"Float"),"to_f")},q.$$arity=1),F.def(dt,"$Hash",N=function(t){var e;return vt(vt(e=t["$nil?"]())?e:t["$=="]([]))?yt([],{}):vt(F.const_get_relative(ft,"Hash")["$==="](t))?t:F.const_get_relative(ft,"Opal")["$coerce_to!"](t,F.const_get_relative(ft,"Hash"),"to_hash")},N.$$arity=1),F.def(dt,"$is_a?",z=function(t){return t.$$is_class||t.$$is_module||this.$raise(F.const_get_relative(ft,"TypeError"),"class or module required"),F.is_a(this,t)},z.$$arity=1),F.def(dt,"$itself",D=function(){return this},D.$$arity=0),F.alias(dt,"kind_of?","is_a?"),F.def(dt,"$lambda",B=function(){var t=B.$$p,e=t||pt;return t&&(B.$$p=null),e.$$is_lambda=!0,e},B.$$arity=0),F.def(dt,"$load",P=function(t){return t=F.const_get_relative(ft,"Opal")["$coerce_to!"](t,F.const_get_relative(ft,"String"),"to_str"),F.load(t)},P.$$arity=1),F.def(dt,"$loop",L=function(){var t,e=L.$$p,r=e||pt,n=pt;if(e&&(L.$$p=null),r===pt)return bt(this,"enum_for",["loop"],((t=function(){return t.$$s,F.const_get_qualified(F.const_get_relative(ft,"Float"),"INFINITY")}).$$s=this,t.$$arity=0,t));for(;vt(!0);)try{F.yieldX(r,[])}catch(t){if(!F.rescue(t,[F.const_get_relative(ft,"StopIteration")]))throw t;n=t;try{return n.$result()}finally{F.pop_exception()}}return this},L.$$arity=0),F.def(dt,"$nil?",j=function(){return!1},j.$$arity=0),F.alias(dt,"object_id","__id__"),F.def(dt,"$printf",U=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return vt(e["$any?"]())&&this.$print(bt(this,"format",F.to_a(e))),pt},U.$$arity=-1),F.def(dt,"$proc",H=function(){var t=H.$$p,e=t||pt;return t&&(H.$$p=null),vt(e)||this.$raise(F.const_get_relative(ft,"ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},H.$$arity=0),F.def(dt,"$puts",G=function(t){var e;null==mt.stdout&&(mt.stdout=pt);var r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return bt(mt.stdout,"puts",F.to_a(e))},G.$$arity=-1),F.def(dt,"$p",Y=function(t){var e,r,n,i,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<$;s++)r[s-0]=arguments[s];return bt(r,"each",[],((e=function(t){return e.$$s,null==mt.stdout&&(mt.stdout=pt),null==t&&(t=pt),mt.stdout.$puts(t.$inspect())}).$$s=this,e.$$arity=1,e)),vt((n=r.$length(),i=1,"number"==typeof n&&"number"==typeof i?n<=i:n["$<="](i)))?r["$[]"](0):r},Y.$$arity=-1),F.def(dt,"$print",W=function(t){var e;null==mt.stdout&&(mt.stdout=pt);var r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return bt(mt.stdout,"print",F.to_a(e))},W.$$arity=-1),F.def(dt,"$warn",X=function(t){var e,r;null==mt.VERBOSE&&(mt.VERBOSE=pt),null==mt.stderr&&(mt.stderr=pt);var n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return vt(vt(e=mt.VERBOSE["$nil?"]())?e:r["$empty?"]())?pt:bt(mt.stderr,"puts",F.to_a(r))},X.$$arity=-1),F.def(dt,"$raise",K=function(t,e,r){if(null==mt["!"]&&(mt["!"]=pt),null==e&&(e=pt),null==r&&(r=pt),null==t&&mt["!"]!==pt)throw mt["!"];throw null==t?t=F.const_get_relative(ft,"RuntimeError").$new():t.$$is_string?t=F.const_get_relative(ft,"RuntimeError").$new(t):t.$$is_class&&t["$respond_to?"]("exception")?t=t.$exception(e):t["$is_a?"](F.const_get_relative(ft,"Exception"))||(t=F.const_get_relative(ft,"TypeError").$new("exception class/object expected")),mt["!"]!==pt&&F.exceptions.push(mt["!"]),mt["!"]=t},K.$$arity=-1),F.alias(dt,"fail","raise"),F.def(dt,"$rand",V=function(t){return void 0===t?F.const_get_qualified(F.const_get_relative(ft,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),F.const_get_qualified(F.const_get_relative(ft,"Random"),"DEFAULT").$rand(t))},V.$$arity=-1),F.def(dt,"$respond_to?",J=function(t,e){if(null==e&&(e=!1),vt(this["$respond_to_missing?"](t,e)))return!0;var r=this["$"+t];return"function"==typeof r&&!r.$$stub},J.$$arity=-2),F.def(dt,"$respond_to_missing?",Z=function(t,e){return null==e&&(e=!1),!1},Z.$$arity=-2),F.def(dt,"$require",Q=function(t){return t=F.const_get_relative(ft,"Opal")["$coerce_to!"](t,F.const_get_relative(ft,"String"),"to_str"),F.require(t)},Q.$$arity=1),F.def(dt,"$require_relative",tt=function(t){return F.const_get_relative(ft,"Opal")["$try_convert!"](t,F.const_get_relative(ft,"String"),"to_str"),t=F.const_get_relative(ft,"File").$expand_path(F.const_get_relative(ft,"File").$join(F.current_file,"..",t)),F.require(t)},tt.$$arity=1),F.def(dt,"$require_tree",et=function(t){var e=[];for(var r in t=F.const_get_relative(ft,"File").$expand_path(t),"."===(t=F.normalize(t))&&(t=""),F.modules)r["$start_with?"](t)&&e.push([r,F.require(r)]);return e},et.$$arity=1),F.alias(dt,"send","__send__"),F.alias(dt,"public_send","__send__"),F.def(dt,"$singleton_class",rt=function(){return F.get_singleton_class(this)},rt.$$arity=0),F.def(dt,"$sleep",nt=function(t){null==t&&(t=pt),t===pt&&this.$raise(F.const_get_relative(ft,"TypeError"),"can't convert NilClass into time interval"),t.$$is_number||this.$raise(F.const_get_relative(ft,"TypeError"),"can't convert "+t.$class()+" into time interval"),t<0&&this.$raise(F.const_get_relative(ft,"ArgumentError"),"time interval must be positive");for(var e=F.global.performance?function(){return performance.now()}:function(){return new Date},r=e();e()-r<=1e3*t;);return t},nt.$$arity=-1),F.alias(dt,"sprintf","format"),F.def(dt,"$srand",it=function(t){return null==t&&(t=F.const_get_relative(ft,"Random").$new_seed()),F.const_get_relative(ft,"Random").$srand(t)},it.$$arity=-1),F.def(dt,"$String",$t=function(t){var e;return vt(e=F.const_get_relative(ft,"Opal")["$coerce_to?"](t,F.const_get_relative(ft,"String"),"to_str"))?e:F.const_get_relative(ft,"Opal")["$coerce_to!"](t,F.const_get_relative(ft,"String"),"to_s")},$t.$$arity=1),F.def(dt,"$tap",at=function(){var t=at.$$p,e=t||pt;return t&&(at.$$p=null),F.yield1(e,this),this},at.$$arity=0),F.def(dt,"$to_proc",st=function(){return this},st.$$arity=0),F.def(dt,"$to_s",ot=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},ot.$$arity=0),F.def(dt,"$catch",lt=function(e){var r=this,t=lt.$$p,n=t||pt,i=pt;t&&(lt.$$p=null);try{return F.yieldX(n,[])}catch(t){if(!F.rescue(t,[F.const_get_relative(ft,"UncaughtThrowError")]))throw t;i=t;try{return i.$sym()["$=="](e)?i.$arg():r.$raise()}finally{F.pop_exception()}}},lt.$$arity=1),F.def(dt,"$throw",ct=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$raise(F.const_get_relative(ft,"UncaughtThrowError"),e)},ct.$$arity=-1),F.def(dt,"$open",_t=function(t){var e,r=_t.$$p,n=r||pt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(_t.$$p=null),bt(F.const_get_relative(ft,"File"),"open",F.to_a(e),n.$to_proc())},_t.$$arity=-1),F.def(dt,"$yield_self",ut=function(){var t,e=ut.$$p,r=e||pt;return e&&(ut.$$p=null),r===pt?bt(this,"enum_for",["yield_self"],((t=function(){return t.$$s,1}).$$s=this,t.$$arity=0,t)):F.yield1(r,this)},ut.$$arity=0),function(t,e,r){function n(){}var i=n=xt(ht[0],null,"Object",n),$=(i.$$proto,[i].concat(r));return i.$include(F.const_get_relative($,"Kernel"))}(0,0,ht)},Opal.modules["corelib/error"]=function(h){h.top;var t,e,r,n,i,$,p=[],g=h.nil,v=(h.breaker,h.slice,h.klass),m=h.send,y=h.truthy,a=h.module,c=h.hash2;return h.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect","$raise"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d=n=v(p[0],e,"Exception",n),f=d.$$proto;[d].concat(r);f.message=g,h.defs(d,"$new",i=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var $=0<e.length?e[0]:g,a=new this.$$alloc($);return a.name=this.$$name,a.message=$,h.send(a,a.$initialize,e),h.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(a,u),a},i.$$arity=-1),u=d.$new,h.defs(d,"$exception",$=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return m(this,"new",h.to_a(e))},$.$$arity=-1),h.def(d,"$initialize",a=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.message=0<e.length?e[0]:g},a.$$arity=-1),h.def(d,"$backtrace",s=function(){var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},s.$$arity=0),h.def(d,"$exception",o=function(t){if(null==t&&(t=g),t===g||this===t)return this;var e=this.$clone();return e.message=t,e},o.$$arity=-1),h.def(d,"$message",l=function(){return this.$to_s()},l.$$arity=0),h.def(d,"$inspect",c=function(){var t=g;return t=this.$to_s(),y(t["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},c.$$arity=0),h.def(d,"$to_s",_=function(){var t,e;return y(t=y(e=this.message)?this.message.$to_s():e)?t:this.$class().$to_s()},_.$$arity=0)}(0,Error,p),function(t,e,r){function n(){}var i=n=v(t,e,"ScriptError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"Exception"),p),function(t,e,r){function n(){}var i=n=v(t,e,"SyntaxError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"ScriptError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"LoadError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"ScriptError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"NotImplementedError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"ScriptError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"SystemExit",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"Exception"),p),function(t,e,r){function n(){}var i=n=v(t,e,"NoMemoryError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"Exception"),p),function(t,e,r){function n(){}var i=n=v(t,e,"SignalException",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"Exception"),p),function(t,e,r){function n(){}var i=n=v(t,e,"Interrupt",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"Exception"),p),function(t,e,r){function n(){}var i=n=v(t,e,"SecurityError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"Exception"),p),function(t,e,r){function n(){}var i=n=v(t,e,"StandardError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"Exception"),p),function(t,e,r){function n(){}var i=n=v(t,e,"EncodingError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"ZeroDivisionError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"NameError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"NoMethodError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"NameError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"RuntimeError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"FrozenError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"RuntimeError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"LocalJumpError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"TypeError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"ArgumentError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"IndexError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"StopIteration",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"IndexError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"KeyError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"IndexError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"RangeError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"FloatDomainError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"RangeError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"IOError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"SystemCallError",n);i.$$proto,[i].concat(r)}(p[0],h.const_get_relative(p,"StandardError"),p),(e=a((t=p)[0],"Errno")).$$proto,function(t,e,r){function $(){}var a,n=$=v(t,e,"EINVAL",$);n.$$proto,[n].concat(r),h.defs(n,"$new",a=function(t){var e,r,n=a.$$p,i=g;return null==t&&(t=g),n&&(a.$$p=null),i="Invalid argument",y(t)&&(r=" - "+t,i="number"==typeof(e=i)&&"number"==typeof r?e+r:e["$+"](r)),m(this,h.find_super_dispatcher(this,"new",a,!1,$),[i],null)},a.$$arity=-1)}((r=[e].concat(t))[0],h.const_get_relative(r,"SystemCallError"),r),function(t,e,r){function n(){}var $,i=n=v(t,e,"UncaughtThrowError",n),a=i.$$proto;[i].concat(r);a.sym=g,i.$attr_reader("sym","arg"),h.def(i,"$initialize",$=function(t){var e,r,n=this,i=$.$$p;return i&&($.$$p=null),n.sym=t["$[]"](0),y((e=t.$length(),r=1,"number"==typeof e&&"number"==typeof r?r<e:e["$>"](r)))&&(n.arg=t["$[]"](1)),m(n,h.find_super_dispatcher(n,"initialize",$,!1),["uncaught throw "+n.sym.$inspect()],null)},$.$$arity=1)}(p[0],h.const_get_relative(p,"ArgumentError"),p),function(t,e,r){function n(){}var i,$=n=v(p[0],null,"NameError",n);$.$$proto,[$].concat(r);$.$attr_reader("name"),h.def($,"$initialize",i=function(t,e){var r=i.$$p;return null==e&&(e=g),r&&(i.$$p=null),m(this,h.find_super_dispatcher(this,"initialize",i,!1),[t],null),this.name=e},i.$$arity=-2)}(0,0,p),function(t,e,r){function n(){}var i,$=n=v(p[0],null,"NoMethodError",n);$.$$proto,[$].concat(r);$.$attr_reader("args"),h.def($,"$initialize",i=function(t,e,r){var n=i.$$p;return null==e&&(e=g),null==r&&(r=[]),n&&(i.$$p=null),m(this,h.find_super_dispatcher(this,"initialize",i,!1),[t,e],null),this.args=r},i.$$arity=-2)}(0,0,p),function(t,e,r){function n(){}var i=n=v(p[0],null,"StopIteration",n);i.$$proto,[i].concat(r);i.$attr_reader("result")}(0,0,p),function(t,e,r){function n(){}var $,i,a,s=n=v(p[0],null,"KeyError",n),o=s.$$proto,l=[s].concat(r);o.receiver=o.key=g,h.def(s,"$initialize",$=function(t,e){var r,n,i=$.$$p;if(null==e||!e.$$is_hash){if(null!=e)throw h.ArgumentError.$new("expected kwargs");e=c([],{})}return null==(r=e.$$smap.receiver)&&(r=g),null==(n=e.$$smap.key)&&(n=g),i&&($.$$p=null),m(this,h.find_super_dispatcher(this,"initialize",$,!1),[t],null),this.receiver=r,this.key=n},$.$$arity=-2),h.def(s,"$receiver",i=function(){var t;return y(t=this.receiver)?t:this.$raise(h.const_get_relative(l,"ArgumentError"),"no receiver is available")},i.$$arity=0),h.def(s,"$key",a=function(){var t;return y(t=this.key)?t:this.$raise(h.const_get_relative(l,"ArgumentError"),"no key is available")},a.$$arity=0)}(0,0,p),(i=a((n=p)[0],"JS")).$$proto,void function(t,e,r){function n(){}var i=n=v(t,null,"Error",n);i.$$proto,[i].concat(r)}(($=[i].concat(n))[0],0,$)},Opal.modules["corelib/constants"]=function(t){t.top;var e=[];t.nil,t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.0"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.1.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-03-06"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+t.const_get_relative(e,"RUBY_ENGINE_VERSION")+" ("+t.const_get_relative(e,"RUBY_RELEASE_DATE")+" revision "+t.const_get_relative(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(E){E.top;var A=[],O=E.nil,S=(E.breaker,E.slice,E.klass),R=E.hash2,T=E.truthy;return E.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x=n=S(A[0],null,"NilClass",n),k=x.$$proto,w=[x].concat(r);k.$$meta=x,function(t,e){t.$$proto;var r,n=[t].concat(e);E.def(t,"$allocate",r=function(){return this.$raise(E.const_get_relative(n,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),E.udef(t,"$new")}(E.get_singleton_class(x),w),E.def(x,"$!",i=function(){return!0},i.$$arity=0),E.def(x,"$&",$=function(t){return!1},$.$$arity=1),E.def(x,"$|",a=function(t){return!1!==t&&t!==O},a.$$arity=1),E.def(x,"$^",s=function(t){return!1!==t&&t!==O},s.$$arity=1),E.def(x,"$==",o=function(t){return t===O},o.$$arity=1),E.def(x,"$dup",l=function(){return O},l.$$arity=0),E.def(x,"$clone",c=function(t){if(null==t||!t.$$is_hash){if(null!=t)throw E.ArgumentError.$new("expected kwargs");t=R([],{})}return null==t.$$smap.freeze&&!0,O},c.$$arity=-1),E.def(x,"$inspect",_=function(){return"nil"},_.$$arity=0),E.def(x,"$nil?",u=function(){return!0},u.$$arity=0),E.def(x,"$singleton_class",d=function(){return E.const_get_relative(w,"NilClass")},d.$$arity=0),E.def(x,"$to_a",f=function(){return[]},f.$$arity=0),E.def(x,"$to_h",h=function(){return E.hash()},h.$$arity=0),E.def(x,"$to_i",p=function(){return 0},p.$$arity=0),E.alias(x,"to_f","to_i"),E.def(x,"$to_s",g=function(){return""},g.$$arity=0),E.def(x,"$to_c",v=function(){return E.const_get_relative(w,"Complex").$new(0,0)},v.$$arity=0),E.def(x,"$rationalize",m=function(t){var e,r,n,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return T((r=e.$length(),n=1,"number"==typeof r&&"number"==typeof n?n<r:r["$>"](n)))&&this.$raise(E.const_get_relative(w,"ArgumentError")),this.$Rational(0,1)},m.$$arity=-1),E.def(x,"$to_r",y=function(){return this.$Rational(0,1)},y.$$arity=0),E.def(x,"$instance_variables",b=function(){return[]},b.$$arity=0)}(0,0,A),E.const_set(A[0],"NIL",O)},Opal.modules["corelib/boolean"]=function(g){g.top;var v=[],m=g.nil,y=(g.breaker,g.slice,g.klass),b=g.hash2;return g.add_stubs(["$raise","$name"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f=n=y(v[0],e,"Boolean",n),h=f.$$proto,p=[f].concat(r);h.$$is_boolean=!0,h.$$meta=f,function(t,e){t.$$proto;var r,n=[t].concat(e);g.def(t,"$allocate",r=function(){return this.$raise(g.const_get_relative(n,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),g.udef(t,"$new")}(g.get_singleton_class(f),p),g.def(f,"$__id__",i=function(){return this.valueOf()?2:0},i.$$arity=0),g.alias(f,"object_id","__id__"),g.def(f,"$!",$=function(){return 1!=this},$.$$arity=0),g.def(f,"$&",a=function(t){return 1==this&&(!1!==t&&t!==m)},a.$$arity=1),g.def(f,"$|",s=function(t){return 1==this||!1!==t&&t!==m},s.$$arity=1),g.def(f,"$^",o=function(t){return 1==this?!1===t||t===m:!1!==t&&t!==m},o.$$arity=1),g.def(f,"$==",l=function(t){return 1==this===t.valueOf()},l.$$arity=1),g.alias(f,"equal?","=="),g.alias(f,"eql?","=="),g.def(f,"$singleton_class",c=function(){return g.const_get_relative(p,"Boolean")},c.$$arity=0),g.def(f,"$to_s",_=function(){return 1==this?"true":"false"},_.$$arity=0),g.def(f,"$dup",u=function(){return this},u.$$arity=0),g.def(f,"$clone",d=function(t){if(null==t||!t.$$is_hash){if(null!=t)throw g.ArgumentError.$new("expected kwargs");t=b([],{})}return null==t.$$smap.freeze&&!0,this},d.$$arity=-1)}(0,Boolean,v),g.const_set(v[0],"TrueClass",g.const_get_relative(v,"Boolean")),g.const_set(v[0],"FalseClass",g.const_get_relative(v,"Boolean")),g.const_set(v[0],"TRUE",!0),g.const_set(v[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(i){function $(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}i.top;var t,e,r,n,s,o,l,c,_,u,d,f=[],h=i.nil,p=(i.breaker,i.slice,i.module),g=i.truthy;return i.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),(u=p((t=f)[0],"Comparable")).$$proto,d=[u].concat(t),i.defs(u,"$normalize",e=function(t){return g(i.const_get_relative(d,"Integer")["$==="](t))?t:g($(t,0))?1:g(a(t,0))?-1:0},e.$$arity=1),i.def(u,"$==",r=function(t){var e=this,r=h;try{return!!g(e["$equal?"](t))||e["$<=>"]!=i.Kernel["$<=>"]&&(e.$$comparable?(delete e.$$comparable,!1):!!g(r=e["$<=>"](t))&&0==i.const_get_relative(d,"Comparable").$normalize(r))}catch(t){if(!i.rescue(t,[i.const_get_relative(d,"StandardError")]))throw t;try{return!1}finally{i.pop_exception()}}},r.$$arity=1),i.def(u,"$>",n=function(t){var e;return g(e=this["$<=>"](t))||this.$raise(i.const_get_relative(d,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0<i.const_get_relative(d,"Comparable").$normalize(e)},n.$$arity=1),i.def(u,"$>=",s=function(t){var e;return g(e=this["$<=>"](t))||this.$raise(i.const_get_relative(d,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0<=i.const_get_relative(d,"Comparable").$normalize(e)},s.$$arity=1),i.def(u,"$<",o=function(t){var e;return g(e=this["$<=>"](t))||this.$raise(i.const_get_relative(d,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),i.const_get_relative(d,"Comparable").$normalize(e)<0},o.$$arity=1),i.def(u,"$<=",l=function(t){var e;return g(e=this["$<=>"](t))||this.$raise(i.const_get_relative(d,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),i.const_get_relative(d,"Comparable").$normalize(e)<=0},l.$$arity=1),i.def(u,"$between?",c=function(t,e){return!a(this,t)&&!$(this,e)},c.$$arity=2),void i.def(u,"$clamp",_=function(t,e){var r,n=this;return r=t["$<=>"](e),g(r)||n.$raise(i.const_get_relative(d,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),g($(i.const_get_relative(d,"Comparable").$normalize(r),0))&&n.$raise(i.const_get_relative(d,"ArgumentError"),"min argument must be smaller than max argument"),g(a(i.const_get_relative(d,"Comparable").$normalize(n["$<=>"](t)),0))?t:g($(i.const_get_relative(d,"Comparable").$normalize(n["$<=>"](e)),0))?e:n},_.$$arity=2)},Opal.modules["corelib/regexp"]=function(m){m.top;var y=[],b=m.nil,x=(m.breaker,m.slice,m.klass),k=m.send,w=m.truthy,E=m.gvars;return m.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,r){function n(){}var i=n=x(t,e,"RegexpError",n);i.$$proto,[i].concat(r)}(y[0],m.const_get_relative(y,"StandardError"),y),function(t,e,r){function n(){}var i,$,a,s,l,o,c,_,u,d,f=n=x(y[0],e,"Regexp",n),h=f.$$proto,p=[f].concat(r);m.const_set(p[0],"IGNORECASE",1),m.const_set(p[0],"EXTENDED",2),m.const_set(p[0],"MULTILINE",4),h.$$is_regexp=!0,function(t,e){t.$$proto;var $,r,n,i,a,u=[t].concat(e);m.def(t,"$allocate",$=function(){var t,e=$.$$p,r=b,n=b,i=b;for(e&&($.$$p=null),i=0,t=arguments.length,n=new Array(t);i<t;i++)n[i]=arguments[i];return(r=k(this,m.find_super_dispatcher(this,"allocate",$,!1),n,e)).uninitialized=!0,r},$.$$arity=0),m.def(t,"$escape",r=function(t){return m.escape_regexp(t)},r.$$arity=1),m.def(t,"$last_match",n=function(t){return null==E["~"]&&(E["~"]=b),null==t&&(t=b),w(t["$nil?"]())?E["~"]:E["~"]["$[]"](t)},n.$$arity=-1),m.alias(t,"quote","escape"),m.def(t,"$union",i=function(t){var e,r,n,i,$,a,s=this,o=arguments.length,l=o-0;l<0&&(l=0),e=new Array(l);for(var c=0;c<o;c++)e[c-0]=arguments[c];if(0==e.length)return/(?!)/;if(1==e.length&&e[0].$$is_regexp)return e[0];r=e[0].$$is_array,1<e.length&&r&&s.$raise(m.const_get_relative(u,"TypeError"),"no implicit conversion of Array into String"),r&&(e=e[0]),$=void 0,n=[];for(var _=0;_<e.length;_++)(i=e[_]).$$is_string?n.push(s.$escape(i)):i.$$is_regexp?(a=i.$options(),null!=$&&$!=a&&s.$raise(m.const_get_relative(u,"TypeError"),"All expressions must use the same options"),$=a,n.push("("+i.source+")")):n.push(s.$escape(i.$to_str()));return s.$new(n.$join("|"),$)},i.$$arity=-1),m.def(t,"$new",a=function(t,e){if(t.$$is_regexp)return new RegExp(t);if("\\"===(t=m.const_get_relative(u,"Opal")["$coerce_to!"](t,m.const_get_relative(u,"String"),"to_str")).charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&this.$raise(m.const_get_relative(u,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var r="";m.const_get_relative(u,"IGNORECASE")&e&&(r+="i"),m.const_get_relative(u,"MULTILINE")&e&&(r+="m"),e=r}else e="i";return new RegExp(t,e)},a.$$arity=-2)}(m.get_singleton_class(f),p),m.def(f,"$==",i=function(t){return t.constructor==RegExp&&this.toString()===t.toString()},i.$$arity=1),m.def(f,"$===",$=function(t){return this.$match(m.const_get_relative(p,"Opal")["$coerce_to?"](t,m.const_get_relative(p,"String"),"to_str"))!==b},$.$$arity=1),m.def(f,"$=~",a=function(t){var e;return null==E["~"]&&(E["~"]=b),w(e=this.$match(t))?E["~"].$begin(0):e},a.$$arity=1),m.alias(f,"eql?","=="),m.def(f,"$inspect",s=function(){var t=this.toString(),e=/^\/(.*)\/([^\/]*)$/.exec(t);if(e){for(var r=e[1],n=e[2],i=r.split(""),$=i.length,a=!1,s="",o=0;o<$;o++){var l=i[o];a||"/"!=l||(s=s.concat("\\")),s=s.concat(l),a="\\"==l&&!a}return"/"+s+"/"+n}return t},s.$$arity=0),m.def(f,"$match",l=function(t,e){var r=this,n=l.$$p,i=n||b;if(null==E["~"]&&(E["~"]=b),n&&(l.$$p=null),r.uninitialized&&r.$raise(m.const_get_relative(p,"TypeError"),"uninitialized Regexp"),e=void 0===e?0:m.const_get_relative(p,"Opal").$coerce_to(e,m.const_get_relative(p,"Integer"),"to_int"),t===b)return E["~"]=b;if(t=m.const_get_relative(p,"Opal").$coerce_to(t,m.const_get_relative(p,"String"),"to_str"),e<0&&(e+=t.length)<0)return E["~"]=b;var $=r.source,a="g";r.multiline&&($=$.replace(".","[\\s\\S]"),a+="m");for(var s,o=new RegExp($,a+(r.ignoreCase?"i":""));;){if(null===(s=o.exec(t)))return E["~"]=b;if(s.index>=e)return E["~"]=m.const_get_relative(p,"MatchData").$new(o,s),i===b?E["~"]:m.yield1(i,E["~"]);o.lastIndex=s.index+1}},l.$$arity=-2),m.def(f,"$match?",o=function(t,e){var r=this;if(r.uninitialized&&r.$raise(m.const_get_relative(p,"TypeError"),"uninitialized Regexp"),e=void 0===e?0:m.const_get_relative(p,"Opal").$coerce_to(e,m.const_get_relative(p,"Integer"),"to_int"),t===b)return!1;if(t=m.const_get_relative(p,"Opal").$coerce_to(t,m.const_get_relative(p,"String"),"to_str"),e<0&&(e+=t.length)<0)return!1;var n,i=r.source,$="g";return r.multiline&&(i=i.replace(".","[\\s\\S]"),$+="m"),!(null===(n=new RegExp(i,$+(r.ignoreCase?"i":"")).exec(t))||n.index<e)},o.$$arity=-2),m.def(f,"$~",c=function(){return null==E._&&(E._=b),this["$=~"](E._)},c.$$arity=0),m.def(f,"$source",_=function(){return this.source},_.$$arity=0),m.def(f,"$options",u=function(){this.uninitialized&&this.$raise(m.const_get_relative(p,"TypeError"),"uninitialized Regexp");var t=0;return this.multiline&&(t|=m.const_get_relative(p,"MULTILINE")),this.ignoreCase&&(t|=m.const_get_relative(p,"IGNORECASE")),t},u.$$arity=0),m.def(f,"$casefold?",d=function(){return this.ignoreCase},d.$$arity=0),m.alias(f,"to_s","source")}(0,RegExp,y),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p=n=x(y[0],null,"MatchData",n),g=p.$$proto,v=[p].concat(r);return g.matches=b,p.$attr_reader("post_match","pre_match","regexp","string"),m.def(p,"$initialize",i=function(t,e){var r=this;(E["~"]=r).regexp=t,r.begin=e.index,r.string=e.input,r.pre_match=e.input.slice(0,e.index),r.post_match=e.input.slice(e.index+e[0].length),r.matches=[];for(var n=0,i=e.length;n<i;n++){var $=e[n];null==$?r.matches.push(b):r.matches.push($)}},i.$$arity=2),m.def(p,"$[]",$=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return k(this.matches,"[]",m.to_a(e))},$.$$arity=-1),m.def(p,"$offset",a=function(t){return 0!==t&&this.$raise(m.const_get_relative(v,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[t].length]},a.$$arity=1),m.def(p,"$==",s=function(t){var e,r,n,i,$=this;return!!w(m.const_get_relative(v,"MatchData")["$==="](t))&&(w(e=w(r=w(n=w(i=$.string==t.string)?$.regexp.toString()==t.regexp.toString():i)?$.pre_match==t.pre_match:n)?$.post_match==t.post_match:r)?$.begin==t.begin:e)},s.$$arity=1),m.alias(p,"eql?","=="),m.def(p,"$begin",o=function(t){return 0!==t&&this.$raise(m.const_get_relative(v,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},o.$$arity=1),m.def(p,"$end",l=function(t){return 0!==t&&this.$raise(m.const_get_relative(v,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[t].length},l.$$arity=1),m.def(p,"$captures",c=function(){return this.matches.slice(1)},c.$$arity=0),m.def(p,"$inspect",_=function(){for(var t="#<MatchData "+this.matches[0].$inspect(),e=1,r=this.matches.length;e<r;e++)t+=" "+e+":"+this.matches[e].$inspect();return t+">"},_.$$arity=0),m.def(p,"$length",u=function(){return this.matches.length},u.$$arity=0),m.alias(p,"size","length"),m.def(p,"$to_a",d=function(){return this.matches},d.$$arity=0),m.def(p,"$to_s",f=function(){return this.matches[0]},f.$$arity=0),m.def(p,"$values_at",h=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var $,a,s,o=[];for($=0;$<e.length;$++)e[$].$$is_range&&((a=e[$].$to_a()).unshift($,1),Array.prototype.splice.apply(e,a)),(s=m.const_get_relative(v,"Opal")["$coerce_to!"](e[$],m.const_get_relative(v,"Integer"),"to_int"))<0&&(s+=this.matches.length)<0?o.push(b):o.push(this.matches[s]);return o},h.$$arity=-1),b&&"values_at"}(0,0,y)},Opal.modules["corelib/string"]=function(At){function Ot(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function St(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=At.top,Rt=[],Tt=At.nil,Mt=(At.breaker,At.slice,At.klass),Ct=At.truthy,It=At.send,qt=At.gvars;return At.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),t.$require("corelib/comparable"),t.$require("corelib/regexp"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,_t,ut,dt,ft,ht,pt,gt,vt,mt,yt,bt,xt=n=Mt(Rt[0],e,"String",n),kt=xt.$$proto,wt=[xt].concat(r);function Et(t){function e(t){var e,r,n,i,$,a,s="",o=t.length;for(e=0;e<o;e++)if("-"===(r=t.charAt(e))&&0<e&&e<o-1&&!n){for(i=t.charCodeAt(e-1),($=t.charCodeAt(e+1))<i&&xt.$raise(At.const_get_relative(wt,"ArgumentError"),'invalid range "'+i+"-"+$+'" in string transliteration'),a=i+1;a<$+1;a++)s+=String.fromCharCode(a);n=!0,e++}else n="\\"===r,s+=r;return s}function r(t,e){if(0===t.length)return e;var r,n,i="",$=t.length;for(r=0;r<$;r++)n=t.charAt(r),-1!==e.indexOf(n)&&(i+=n);return i}var n,i,$,a,s,o,l="",c="";for(n=0,i=t.length;n<i;n++)$=e((a="^"===($=At.const_get_relative(wt,"Opal").$coerce_to(t[n],At.const_get_relative(wt,"String"),"to_str")).charAt(0)&&1<$.length)?$.slice(1):$),a?c=r(c,$):l=r(l,$);if(0<l.length&&0<c.length){for(o="",n=0,i=l.length;n<i;n++)s=l.charAt(n),-1===c.indexOf(s)&&(o+=s);l=o,c=""}return 0<l.length?"["+At.const_get_relative(wt,"Regexp").$escape(l)+"]":0<c.length?"[^"+At.const_get_relative(wt,"Regexp").$escape(c)+"]":null}kt.length=Tt,xt.$include(At.const_get_relative(wt,"Comparable")),kt.$$is_string=!0,At.def(xt,"$__id__",i=function(){return this.toString()},i.$$arity=0),At.alias(xt,"object_id","__id__"),At.defs(xt,"$try_convert",$=function(t){return At.const_get_relative(wt,"Opal")["$coerce_to?"](t,At.const_get_relative(wt,"String"),"to_str")},$.$$arity=1),At.defs(xt,"$new",a=function(t){return null==t&&(t=""),t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str"),new String(t)},a.$$arity=-1),At.def(xt,"$initialize",s=function(t){return void 0===t?this:this.$raise(At.const_get_relative(wt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},s.$$arity=-1),At.def(xt,"$%",o=function(t){var e=this;return Ct(At.const_get_relative(wt,"Array")["$==="](t))?It(e,"format",[e].concat(At.to_a(t))):e.$format(e,t)},o.$$arity=1),At.def(xt,"$*",l=function(t){if((t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"Integer"),"to_int"))<0&&this.$raise(At.const_get_relative(wt,"ArgumentError"),"negative argument"),0===t)return"";var e="",r=this.toString();for(r.length*t>=1<<28&&this.$raise(At.const_get_relative(wt,"RangeError"),"multiply count must not overflow maximum string size");1==(1&t)&&(e+=r),0!==(t>>>=1);)r+=r;return e},l.$$arity=1),At.def(xt,"$+",c=function(t){return this+(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str")).$to_s()},c.$$arity=1),At.def(xt,"$<=>",_=function(t){if(Ct(t["$respond_to?"]("to_str")))return(t=t.$to_str().$to_s())<this?1:this<t?-1:0;var e=t["$<=>"](this);return e===Tt?Tt:0<e?-1:e<0?1:0},_.$$arity=1),At.def(xt,"$==",u=function(t){return t.$$is_string?this.toString()===t.toString():!!At.const_get_relative(wt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](this)},u.$$arity=1),At.alias(xt,"eql?","=="),At.alias(xt,"===","=="),At.def(xt,"$=~",d=function(t){return t.$$is_string&&this.$raise(At.const_get_relative(wt,"TypeError"),"type mismatch: String given"),t["$=~"](this)},d.$$arity=1),At.def(xt,"$[]",f=function(t,e){var r,n=this,i=n.length;if(t.$$is_range)return r=t.excl,e=At.const_get_relative(wt,"Opal").$coerce_to(t.end,At.const_get_relative(wt,"Integer"),"to_int"),t=At.const_get_relative(wt,"Opal").$coerce_to(t.begin,At.const_get_relative(wt,"Integer"),"to_int"),Math.abs(t)>i?Tt:(t<0&&(t+=i),e<0&&(e+=i),r||(e+=1),(e-=t)<0&&(e=0),n.substr(t,e));if(t.$$is_string)return null!=e&&n.$raise(At.const_get_relative(wt,"TypeError")),-1!==n.indexOf(t)?t:Tt;if(t.$$is_regexp){var $=n.match(t);return null===$?qt["~"]=Tt:(qt["~"]=At.const_get_relative(wt,"MatchData").$new(t,$),null==e?$[0]:(e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"Integer"),"to_int"))<0&&-e<$.length?$[e+=$.length]:0<=e&&e<$.length?$[e]:Tt)}return(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"Integer"),"to_int"))<0&&(t+=i),null==e?i<=t||t<0?Tt:n.substr(t,1):(e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"Integer"),"to_int"))<0?Tt:i<t||t<0?Tt:n.substr(t,e)},f.$$arity=-2),At.alias(xt,"byteslice","[]"),At.def(xt,"$capitalize",h=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},h.$$arity=0),At.def(xt,"$casecmp",p=function(t){var e=this;if(!Ct(t["$respond_to?"]("to_str")))return Tt;t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},p.$$arity=1),At.def(xt,"$casecmp?",g=function(t){var e=this.$casecmp(t);return e===Tt?Tt:0===e},g.$$arity=1),At.def(xt,"$center",v=function(t,e){var r=this;if(null==e&&(e=" "),t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"Integer"),"to_int"),e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"String"),"to_str").$to_s(),Ct(e["$empty?"]())&&r.$raise(At.const_get_relative(wt,"ArgumentError"),"zero width padding"),Ct(t<=r.length))return r;var n=r.$ljust(Ot(St(t,r.length),2).$ceil(),e);return r.$rjust(Ot(St(t,r.length),2).$floor(),e)+n.slice(r.length)},v.$$arity=-2),At.def(xt,"$chars",m=function(){var t=m.$$p,e=t||Tt;return t&&(m.$$p=null),Ct(e)?It(this,"each_char",[],e.$to_proc()):this.$each_char().$to_a()},m.$$arity=0),At.def(xt,"$chomp",y=function(t){var e=this;return null==qt["/"]&&(qt["/"]=Tt),null==t&&(t=qt["/"]),Ct(t===Tt||0===e.length)?e:"\n"===(t=At.const_get_relative(wt,"Opal")["$coerce_to!"](t,At.const_get_relative(wt,"String"),"to_str").$to_s())?e.replace(/\r?\n?$/,""):""===t?e.replace(/(\r?\n)+$/,""):e.length>t.length&&e.substr(e.length-t.length,t.length)===t?e.substr(0,e.length-t.length):e},y.$$arity=-1),At.def(xt,"$chop",b=function(){var t=this,e=t.length;return e<=1?"":"\n"===t.charAt(e-1)&&"\r"===t.charAt(e-2)?t.substr(0,e-2):t.substr(0,e-1)},b.$$arity=0),At.def(xt,"$chr",x=function(){return this.charAt(0)},x.$$arity=0),At.def(xt,"$clone",k=function(){var t=Tt;return(t=this.slice()).$copy_singleton_methods(this),t.$initialize_clone(this),t},k.$$arity=0),At.def(xt,"$dup",w=function(){var t=Tt;return(t=this.slice()).$initialize_dup(this),t},w.$$arity=0),At.def(xt,"$count",E=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];0===e.length&&this.$raise(At.const_get_relative(wt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=Et(e);return null===$?0:this.length-this.replace(new RegExp($,"g"),"").length},E.$$arity=-1),At.def(xt,"$delete",A=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];0===e.length&&this.$raise(At.const_get_relative(wt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=Et(e);return null===$?this:this.replace(new RegExp($,"g"),"")},A.$$arity=-1),At.def(xt,"$delete_prefix",O=function(t){return t.$$is_string||(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str")),this.slice(0,t.length)===t?this.slice(t.length):this},O.$$arity=1),At.def(xt,"$delete_suffix",S=function(t){var e=this;return t.$$is_string||(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str")),e.slice(e.length-t.length)===t?e.slice(0,e.length-t.length):e},S.$$arity=1),At.def(xt,"$downcase",R=function(){return this.toLowerCase()},R.$$arity=0),At.def(xt,"$each_char",T=function(){var t,e=this,r=T.$$p,n=r||Tt;if(r&&(T.$$p=null),n===Tt)return It(e,"enum_for",["each_char"],((t=function(){return(t.$$s||this).$size()}).$$s=e,t.$$arity=0,t));for(var i=0,$=e.length;i<$;i++)At.yield1(n,e.charAt(i));return e},T.$$arity=0),At.def(xt,"$each_line",M=function(t){var e,r,n,i,$,a,s,o=this,l=M.$$p,c=l||Tt;if(null==qt["/"]&&(qt["/"]=Tt),null==t&&(t=qt["/"]),l&&(M.$$p=null),c===Tt)return o.$enum_for("each_line",t);if(t===Tt)return At.yield1(c,o),o;if(0===(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str")).length){for(r=0,n=(e=o.split(/(\n{2,})/)).length;r<n;r+=2)(e[r]||e[r+1])&&At.yield1(c,(e[r]||"")+(e[r+1]||""));return o}for($=o.$chomp(t),a=o.length!=$.length,r=0,i=(s=$.split(t)).length;r<i;r++)r<i-1||a?At.yield1(c,s[r]+t):At.yield1(c,s[r]);return o},M.$$arity=-1),At.def(xt,"$empty?",C=function(){return 0===this.length},C.$$arity=0),At.def(xt,"$end_with?",I=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,a=e.length;$<a;$++){var s=At.const_get_relative(wt,"Opal").$coerce_to(e[$],At.const_get_relative(wt,"String"),"to_str").$to_s();if(this.length>=s.length&&this.substr(this.length-s.length,s.length)==s)return!0}return!1},I.$$arity=-1),At.alias(xt,"equal?","==="),At.def(xt,"$gsub",q=function(t,e){var i=this,r=q.$$p,n=r||Tt;if(r&&(q.$$p=null),void 0===e&&n===Tt)return i.$enum_for("gsub",t);var $,a,s="",o=Tt,l=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===($=t.exec(i))){qt["~"]=Tt,s+=i.slice(l);break}o=At.const_get_relative(wt,"MatchData").$new(t,$),void 0===e?a=n($[0]):e.$$is_hash?a=e["$[]"]($[0]).$to_s():(e.$$is_string||(e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"String"),"to_str")),a=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=$.length-1;0<n;n--)if(void 0!==$[n])return e.slice(1)+$[n];return"";case"&":return e.slice(1)+$[0];case"`":return e.slice(1)+i.slice(0,$.index);case"'":return e.slice(1)+i.slice($.index+$[0].length);default:return e.slice(1)+($[r]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===$.index?(s+=a+i.slice(l,$.index+1),t.lastIndex+=1):s+=i.slice(l,$.index)+a,l=t.lastIndex}return qt["~"]=o,s},q.$$arity=-2),At.def(xt,"$hash",N=function(){return this.toString()},N.$$arity=0),At.def(xt,"$hex",z=function(){return this.$to_i(16)},z.$$arity=0),At.def(xt,"$include?",D=function(t){return t.$$is_string||(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str")),-1!==this.indexOf(t)},D.$$arity=1),At.def(xt,"$index",B=function(t,e){var r,n,i;if(void 0===e)e=0;else if((e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"Integer"),"to_int"))<0&&(e+=this.length)<0)return Tt;if(t.$$is_regexp)for(i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(n=i.exec(this))){qt["~"]=Tt,r=-1;break}if(n.index>=e){qt["~"]=At.const_get_relative(wt,"MatchData").$new(i,n),r=n.index;break}i.lastIndex=n.index+1}else r=0===(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str")).length&&e>this.length?-1:this.indexOf(t,e);return-1===r?Tt:r},B.$$arity=-2),At.def(xt,"$inspect",F=function(){var e={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(t){return e[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},F.$$arity=0),At.def(xt,"$intern",P=function(){return this},P.$$arity=0),At.def(xt,"$lines",L=function(t){var e=L.$$p,r=e||Tt,n=Tt;return null==qt["/"]&&(qt["/"]=Tt),null==t&&(t=qt["/"]),e&&(L.$$p=null),n=It(this,"each_line",[t],r.$to_proc()),Ct(r)?this:n.$to_a()},L.$$arity=-1),At.def(xt,"$length",j=function(){return this.length},j.$$arity=0),At.def(xt,"$ljust",U=function(t,e){var r=this;if(null==e&&(e=" "),t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"Integer"),"to_int"),e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"String"),"to_str").$to_s(),Ct(e["$empty?"]())&&r.$raise(At.const_get_relative(wt,"ArgumentError"),"zero width padding"),Ct(t<=r.length))return r;var n=-1,i="";for(t-=r.length;++n<t;)i+=e;return r+i.slice(0,t)},U.$$arity=-2),At.def(xt,"$lstrip",H=function(){return this.replace(/^\s*/,"")},H.$$arity=0),At.def(xt,"$ascii_only?",G=function(){return this.match(/[ -~\n]*/)[0]===this},G.$$arity=0),At.def(xt,"$match",Y=function(t,e){var r,n=Y.$$p,i=n||Tt;return n&&(Y.$$p=null),Ct(Ct(r=At.const_get_relative(wt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=At.const_get_relative(wt,"Regexp").$new(t.$to_str())),Ct(At.const_get_relative(wt,"Regexp")["$==="](t))||this.$raise(At.const_get_relative(wt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),It(t,"match",[this,e],i.$to_proc())},Y.$$arity=-2),At.def(xt,"$next",W=function(){var t=this.length;if(0===t)return"";for(var e,r=this,n=this.search(/[a-zA-Z0-9]/),i=!1;t--;){if(48<=(e=this.charCodeAt(t))&&e<=57||65<=e&&e<=90||97<=e&&e<=122)switch(e){case 57:i=!0,e=48;break;case 90:i=!0,e=65;break;case 122:i=!0,e=97;break;default:i=!1,e+=1}else-1===n?255===e?(i=!0,e=0):(i=!1,e+=1):i=!0;if(r=r.slice(0,t)+String.fromCharCode(e)+r.slice(t+1),i&&(0===t||t===n)){switch(e){case 65:case 97:break;default:e+=1}r=0===t?String.fromCharCode(e)+r:r.slice(0,t)+String.fromCharCode(e)+r.slice(t),i=!1}if(!i)break}return r},W.$$arity=0),At.def(xt,"$oct",X=function(){var t,e=this,i=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,r,n){switch(n.charAt(0)){case"+":case"-":return t;case"0":if("x"===n.charAt(1)&&"0x"===r)return t}switch(r){case"0b":i=2;break;case"0":case"0o":i=8;break;case"0d":i=10;break;case"0x":i=16}return e+n}),t=parseInt(e.replace(/_(?!_)/g,""),i),isNaN(t)?0:t)},X.$$arity=0),At.def(xt,"$ord",K=function(){return this.charCodeAt(0)},K.$$arity=0),At.def(xt,"$partition",V=function(t){var e,r,n=this;return t.$$is_regexp?null===(r=t.exec(n))?e=-1:(At.const_get_relative(wt,"MatchData").$new(t,r),t=r[0],e=r.index):(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str"),e=n.indexOf(t)),-1===e?[n,"",""]:[n.slice(0,e),n.slice(e,e+t.length),n.slice(e+t.length)]},V.$$arity=1),At.def(xt,"$reverse",J=function(){return this.split("").reverse().join("")},J.$$arity=0),At.def(xt,"$rindex",Z=function(t,e){var r,n,i,$;if(void 0===e)e=this.length;else if((e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"Integer"),"to_int"))<0&&(e+=this.length)<0)return Tt;if(t.$$is_regexp){for(n=null,i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));!(null===($=i.exec(this))||$.index>e);)n=$,i.lastIndex=n.index+1;null===n?(qt["~"]=Tt,r=-1):(At.const_get_relative(wt,"MatchData").$new(i,n),r=n.index)}else t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str"),r=this.lastIndexOf(t,e);return-1===r?Tt:r},Z.$$arity=-2),At.def(xt,"$rjust",Q=function(t,e){var r=this;if(null==e&&(e=" "),t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"Integer"),"to_int"),e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"String"),"to_str").$to_s(),Ct(e["$empty?"]())&&r.$raise(At.const_get_relative(wt,"ArgumentError"),"zero width padding"),Ct(t<=r.length))return r;var n=Math.floor(t-r.length),i=Math.floor(n/e.length),$=Array(i+1).join(e),a=n-$.length;return $+e.slice(0,a)+r},Q.$$arity=-2),At.def(xt,"$rpartition",tt=function(t){var e,r,n,i,$=this;if(t.$$is_regexp){for(r=null,n=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));null!==(i=n.exec($));)r=i,n.lastIndex=r.index+1;null===r?e=-1:(At.const_get_relative(wt,"MatchData").$new(n,r),t=r[0],e=r.index)}else t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str"),e=$.lastIndexOf(t);return-1===e?["","",$]:[$.slice(0,e),$.slice(e,e+t.length),$.slice(e+t.length)]},tt.$$arity=1),At.def(xt,"$rstrip",et=function(){return this.replace(/[\s\u0000]*$/,"")},et.$$arity=0),At.def(xt,"$scan",rt=function(t){var e=rt.$$p,r=e||Tt;e&&(rt.$$p=null);var n,i=[],$=Tt;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(n=t.exec(this));)$=At.const_get_relative(wt,"MatchData").$new(t,n),r===Tt?1==n.length?i.push(n[0]):i.push($.$captures()):1==n.length?r(n[0]):r.call(this,$.$captures()),t.lastIndex===n.index&&(t.lastIndex+=1);return qt["~"]=$,r!==Tt?this:i},rt.$$arity=1),At.alias(xt,"size","length"),At.alias(xt,"slice","[]"),At.def(xt,"$split",nt=function(t,e){var r;if(null==qt[";"]&&(qt[";"]=Tt),0===this.length)return[];if(void 0===e)e=0;else if(1===(e=At.const_get_relative(wt,"Opal")["$coerce_to!"](e,At.const_get_relative(wt,"Integer"),"to_int")))return[this];void 0!==t&&t!==Tt||(t=Ct(r=qt[";"])?r:" ");var n,i,$,a=[],s=this.toString(),o=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):" "===(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str").$to_s())?(t=/\s+/gm,s=s.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(a=s.split(t)).length&&a[0]===s)return a;for(;-1!==(i=a.indexOf(void 0));)a.splice(i,1);if(0===e){for(;""===a[a.length-1];)a.length-=1;return a}if(n=t.exec(s),e<0){if(null!==n&&""===n[0]&&-1===t.source.indexOf("(?="))for(i=0,$=n.length;i<$;i++)a.push("");return a}if(null!==n&&""===n[0])return a.splice(e-1,a.length-1,a.slice(e-1).join("")),a;if(e>=a.length)return a;for(i=0;null!==n&&(i++,o=t.lastIndex,i+1!==e);)n=t.exec(s);return a.splice(e-1,a.length-1,s.slice(o)),a},nt.$$arity=-1),At.def(xt,"$squeeze",it=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(0===e.length)return this.replace(/(.)\1+/g,"$1");var $=Et(e);return null===$?this:this.replace(new RegExp("("+$+")\\1+","g"),"$1")},it.$$arity=-1),At.def(xt,"$start_with?",$t=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,a=e.length;$<a;$++){var s=At.const_get_relative(wt,"Opal").$coerce_to(e[$],At.const_get_relative(wt,"String"),"to_str").$to_s();if(0===this.indexOf(s))return!0}return!1},$t.$$arity=-1),At.def(xt,"$strip",at=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},at.$$arity=0),At.def(xt,"$sub",st=function(t,e){var i=this,r=st.$$p,n=r||Tt;r&&(st.$$p=null),t.$$is_regexp||(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var $=t.exec(i);return null===$?(qt["~"]=Tt,i.toString()):(At.const_get_relative(wt,"MatchData").$new(t,$),void 0===e?(n===Tt&&i.$raise(At.const_get_relative(wt,"ArgumentError"),"wrong number of arguments (1 for 2)"),i.slice(0,$.index)+n($[0])+i.slice($.index+$[0].length)):e.$$is_hash?i.slice(0,$.index)+e["$[]"]($[0]).$to_s()+i.slice($.index+$[0].length):(e=(e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=$.length-1;0<n;n--)if(void 0!==$[n])return e.slice(1)+$[n];return"";case"&":return e.slice(1)+$[0];case"`":return e.slice(1)+i.slice(0,$.index);case"'":return e.slice(1)+i.slice($.index+$[0].length);default:return e.slice(1)+($[r]||"")}}).replace(/\\\\/g,"\\"),i.slice(0,$.index)+e+i.slice($.index+$[0].length)))},st.$$arity=-2),At.alias(xt,"succ","next"),At.def(xt,"$sum",ot=function(t){null==t&&(t=16),t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"Integer"),"to_int");for(var e=0,r=this.length,n=0;n<r;n++)e+=this.charCodeAt(n);return t<=0?e:e&Math.pow(2,t)-1},ot.$$arity=-1),At.def(xt,"$swapcase",lt=function(){var t=this.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return this.constructor===String?t:this.$class().$new(t)},lt.$$arity=0),At.def(xt,"$to_f",ct=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t},ct.$$arity=0),At.def(xt,"$to_i",_t=function(t){null==t&&(t=10);var e,r=this.toLowerCase(),i=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"Integer"),"to_int");return(1===i||i<0||36<i)&&this.$raise(At.const_get_relative(wt,"ArgumentError"),"invalid radix "+i),/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,r,n){switch(n.charAt(0)){case"+":case"-":return t;case"0":if("x"===n.charAt(1)&&"0x"===r&&(0===i||16===i))return t}switch(r){case"0b":if(0===i||2===i)return i=2,e+n;break;case"0":case"0o":if(0===i||8===i)return i=8,e+n;break;case"0d":if(0===i||10===i)return i=10,e+n;break;case"0x":if(0===i||16===i)return i=16,e+n}return t}),e=parseInt(r.replace(/_(?!_)/g,""),i),isNaN(e)?0:e)},_t.$$arity=-1),At.def(xt,"$to_proc",ut=function(){var o,l;return l=this.valueOf(),It(this,"proc",[],((o=function(t){var e,r,n=o.$$s||this;(e=o.$$p||Tt)&&(o.$$p=null);var i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];0===r.length&&n.$raise(At.const_get_relative(wt,"ArgumentError"),"no receiver given");var s=r.shift();return null==s&&(s=Tt),At.send(s,l,r,e)}).$$s=this,o.$$arity=-1,o))},ut.$$arity=0),At.def(xt,"$to_s",dt=function(){return this.toString()},dt.$$arity=0),At.alias(xt,"to_str","to_s"),At.alias(xt,"to_sym","intern"),At.def(xt,"$tr",ft=function(t,e){var r,n,i,$,a,s,o,l=this;if(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str").$to_s(),e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"String"),"to_str").$to_s(),0==t.length||t===e)return l;var c={},_=t.split(""),u=_.length,d=e.split(""),f=d.length,h=!1,p=null;"^"===_[0]&&1<_.length&&(h=!0,_.shift(),p=d[f-1],u-=1);var g=[],v=null;for(n=!1,r=0;r<u;r++)if($=_[r],null==v)v=$,g.push($);else if("-"===$)"-"===v?(g.push("-"),g.push("-")):r==u-1?g.push("-"):n=!0;else if(n){for(a=v.charCodeAt(0),(s=$.charCodeAt(0))<a&&l.$raise(At.const_get_relative(wt,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)g.push(String.fromCharCode(i));g.push($),v=n=null}else g.push($);if(u=(_=g).length,h)for(r=0;r<u;r++)c[_[r]]=!0;else{if(0<f){var m=[],y=null;for(n=!1,r=0;r<f;r++)if($=d[r],null==y)y=$,m.push($);else if("-"===$)"-"===y?(m.push("-"),m.push("-")):r==f-1?m.push("-"):n=!0;else if(n){for(a=y.charCodeAt(0),(s=$.charCodeAt(0))<a&&l.$raise(At.const_get_relative(wt,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)m.push(String.fromCharCode(i));m.push($),y=n=null}else m.push($);f=(d=m).length}var b=u-f;if(0<b){var x=0<f?d[f-1]:"";for(r=0;r<b;r++)d.push(x)}for(r=0;r<u;r++)c[_[r]]=d[r]}var k="";for(r=0,o=l.length;r<o;r++){var w=c[$=l.charAt(r)];k+=h?null==w?p:$:null!=w?w:$}return k},ft.$$arity=2),At.def(xt,"$tr_s",ht=function(t,e){var r,n,i,$,a,s,o,l=this;if(t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str").$to_s(),e=At.const_get_relative(wt,"Opal").$coerce_to(e,At.const_get_relative(wt,"String"),"to_str").$to_s(),0==t.length)return l;var c={},_=t.split(""),u=_.length,d=e.split(""),f=d.length,h=!1,p=null;"^"===_[0]&&1<_.length&&(h=!0,_.shift(),p=d[f-1],u-=1);var g=[],v=null;for(n=!1,r=0;r<u;r++)if($=_[r],null==v)v=$,g.push($);else if("-"===$)"-"===v?(g.push("-"),g.push("-")):r==u-1?g.push("-"):n=!0;else if(n){for(a=v.charCodeAt(0),(s=$.charCodeAt(0))<a&&l.$raise(At.const_get_relative(wt,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)g.push(String.fromCharCode(i));g.push($),v=n=null}else g.push($);if(u=(_=g).length,h)for(r=0;r<u;r++)c[_[r]]=!0;else{if(0<f){var m=[];for(n=!1,r=0;r<f;r++)if($=d[r],null==v)v=$,m.push($);else if("-"===$)r==f-1?m.push("-"):n=!0;else if(n){for(a=v.charCodeAt(0),(s=$.charCodeAt(0))<a&&l.$raise(At.const_get_relative(wt,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)m.push(String.fromCharCode(i));m.push($),v=n=null}else m.push($);f=(d=m).length}var y=u-f;if(0<y){var b=0<f?d[f-1]:"";for(r=0;r<y;r++)d.push(b)}for(r=0;r<u;r++)c[_[r]]=d[r]}var x="",k=null;for(r=0,o=l.length;r<o;r++){var w=c[$=l.charAt(r)];h?null==w?null==k&&(x+=p,k=!0):(x+=$,k=null):null!=w?null!=k&&k===w||(x+=w,k=w):(x+=$,k=null)}return x},ht.$$arity=2),At.def(xt,"$upcase",pt=function(){return this.toUpperCase()},pt.$$arity=0),At.def(xt,"$upto",gt=function(t,e){var r=gt.$$p,n=r||Tt;if(null==e&&(e=!1),r&&(gt.$$p=null),n===Tt)return this.$enum_for("upto",t,e);t=At.const_get_relative(wt,"Opal").$coerce_to(t,At.const_get_relative(wt,"String"),"to_str");var i,$,a=this.toString();if(1===a.length&&1===t.length)for(i=a.charCodeAt(0),$=t.charCodeAt(0);i<=$&&(!e||i!==$);)n(String.fromCharCode(i)),i+=1;else if(parseInt(a,10).toString()===a&&parseInt(t,10).toString()===t)for(i=parseInt(a,10),$=parseInt(t,10);i<=$&&(!e||i!==$);)n(i.toString()),i+=1;else for(;a.length<=t.length&&a<=t&&(!e||a!==t);)n(a),a=a.$succ();return this},gt.$$arity=-2),At.def(xt,"$instance_variables",vt=function(){return[]},vt.$$arity=0),At.defs(xt,"$_load",mt=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return It(this,"new",At.to_a(e))},mt.$$arity=-1),At.def(xt,"$unpack",yt=function(t){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},yt.$$arity=1),At.def(xt,"$unpack1",bt=function(t){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},bt.$$arity=1)}(0,String,Rt),At.const_set(Rt[0],"Symbol",At.const_get_relative(Rt,"String"))},Opal.modules["corelib/enumerable"]=function(Q){function tt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function et(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function rt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function nt(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}Q.top;var it=[],$t=Q.nil,at=(Q.breaker,Q.slice,Q.module),st=Q.truthy,ot=Q.send,lt=Q.falsy,ct=Q.hash2;return Q.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$lambda","$sort!","$map!","$key?","$values","$zip"]),function(t,e){var r,n,i,$,a,s,c,o,l,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L,j,U,H,G,Y,W,X,K,V=at(it[0],"Enumerable"),J=(V.$$proto,[V].concat(e));function Z(t){return 0===t.length&&(t=[$t]),1<t.length&&(t=[t]),t}Q.def(V,"$all?",r=function(a){try{var s,$,o,t=this,e=r.$$p,l=e||$t;return e&&(r.$$p=null),st(void 0!==a)?ot(t,"each",[],((s=function(t){s.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];if(r=Z(e),st(ot(a,"public_send",["==="].concat(Q.to_a(r)))))return $t;Q.ret(!1)}).$$s=t,s.$$arity=-1,s)):ot(t,"each",[],l!==$t?(($=function(t){$.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(st(Q.yieldX(l,Q.to_a(e))))return $t;Q.ret(!1)}).$$s=t,$.$$arity=-1,$):((o=function(t){o.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(st(Q.const_get_relative(J,"Opal").$destructure(e)))return $t;Q.ret(!1)}).$$s=t,o.$$arity=-1,o)),!0}catch(t){if(t===Q.returner)return t.$v;throw t}},r.$$arity=-1),Q.def(V,"$any?",n=function(a){try{var s,$,o,t=this,e=n.$$p,l=e||$t;return e&&(n.$$p=null),st(void 0!==a)?ot(t,"each",[],((s=function(t){s.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];if(r=Z(e),!st(ot(a,"public_send",["==="].concat(Q.to_a(r)))))return $t;Q.ret(!0)}).$$s=t,s.$$arity=-1,s)):ot(t,"each",[],l!==$t?(($=function(t){$.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(!st(Q.yieldX(l,Q.to_a(e))))return $t;Q.ret(!0)}).$$s=t,$.$$arity=-1,$):((o=function(t){o.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(!st(Q.const_get_relative(J,"Opal").$destructure(e)))return $t;Q.ret(!0)}).$$s=t,o.$$arity=-1,o)),!1}catch(t){if(t===Q.returner)return t.$v;throw t}},n.$$arity=-1),Q.def(V,"$chunk",i=function(){var t,$,e=i.$$p,a=e||$t;return e&&(i.$$p=null),a===$t?ot(this,"to_enum",["chunk"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):ot(Q.const_get_qualified("::","Enumerator"),"new",[],(($=function(t){var e=$.$$s||this;null==t&&(t=$t);var r=$t,n=[];function i(){0<n.length&&t.$yield(r,n)}e.$each.$$p=function(t){var e=Q.yield1(a,t);e===$t?(i(),n=[],r=$t):(r===$t||r===e?n.push(t):(i(),n=[t]),r=e)},e.$each(),i()}).$$s=this,$.$$arity=1,$))},i.$$arity=0),Q.def(V,"$chunk_while",$=function(){var r,t=$.$$p,n=t||$t;return t&&($.$$p=null),n!==$t||this.$raise(Q.const_get_relative(J,"ArgumentError"),"no block given"),ot(this,"slice_when",[],((r=function(t,e){r.$$s;return null==t&&(t=$t),null==e&&(e=$t),Q.yieldX(n,[t,e])["$!"]()}).$$s=this,r.$$arity=2,r))},$.$$arity=0),Q.def(V,"$collect",a=function(){var t,e=a.$$p,r=e||$t;if(e&&(a.$$p=null),r===$t)return ot(this,"enum_for",["collect"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[];return this.$each.$$p=function(){var t=Q.yieldX(r,arguments);n.push(t)},this.$each(),n},a.$$arity=0),Q.def(V,"$collect_concat",s=function(){var t,e,r=s.$$p,n=r||$t;return r&&(s.$$p=null),n===$t?ot(this,"enum_for",["collect_concat"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):ot(this,"map",[],(e=function(t){e.$$s;return null==t&&(t=$t),Q.yield1(n,t)},e.$$s=this,e.$$arity=1,e)).$flatten(1)},s.$$arity=0),Q.def(V,"$count",c=function($){var a,t,s,e=this,r=c.$$p,o=r||$t,l=$t;return r&&(c.$$p=null),l=0,null!=$&&o!==$t&&e.$warn("warning: given block not used"),st(null!=$)?o=ot(e,"proc",[],((a=function(t){a.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return Q.const_get_relative(J,"Opal").$destructure(e)["$=="]($)}).$$s=e,a.$$arity=-1,a)):st(o["$nil?"]())&&(o=ot(e,"proc",[],((t=function(){t.$$s;return!0}).$$s=e,t.$$arity=0,t))),ot(e,"each",[],((s=function(t){s.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return st(Q.yieldX(o,e))?l++:$t}).$$s=e,s.$$arity=-1,s)),l},c.$$arity=-1),Q.def(V,"$cycle",o=function(n){var i,t=o.$$p,e=t||$t;if(null==n&&(n=$t),t&&(o.$$p=null),e===$t)return ot(this,"enum_for",["cycle",n],((i=function(){var t,e,r=i.$$s||this;return st(n["$nil?"]())?st(r["$respond_to?"]("size"))?Q.const_get_qualified(Q.const_get_relative(J,"Float"),"INFINITY"):$t:(n=Q.const_get_relative(J,"Opal")["$coerce_to!"](n,Q.const_get_relative(J,"Integer"),"to_int"),st(tt(n,0))?(t=r.$enumerator_size(),e=n,"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)):0)}).$$s=this,i.$$arity=0,i));if(st(n["$nil?"]()));else if(n=Q.const_get_relative(J,"Opal")["$coerce_to!"](n,Q.const_get_relative(J,"Integer"),"to_int"),st(n<=0))return $t;var r,$,a=[];if(this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);Q.yield1(e,t);a.push(t)},this.$each(),0===a.length)return $t;if(n===$t)for(;;)for(r=0,$=a.length;r<$;r++)Q.yield1(e,a[r]);else for(;1<n;){for(r=0,$=a.length;r<$;r++)Q.yield1(e,a[r]);n--}},o.$$arity=-1),Q.def(V,"$detect",l=function(t){try{var a,e=l.$$p,s=e||$t;return e&&(l.$$p=null),s===$t?this.$enum_for("detect",t):(ot(this,"each",[],((a=function(t){a.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];if(r=Q.const_get_relative(J,"Opal").$destructure(e),!st(Q.yield1(s,r)))return $t;Q.ret(r)}).$$s=this,a.$$arity=-1,a)),void 0!==t?"function"==typeof t?t():t:$t)}catch(t){if(t===Q.returner)return t.$v;throw t}},l.$$arity=-1),Q.def(V,"$drop",_=function(t){t=Q.const_get_relative(J,"Opal").$coerce_to(t,Q.const_get_relative(J,"Integer"),"to_int"),st(t<0)&&this.$raise(Q.const_get_relative(J,"ArgumentError"),"attempt to drop negative size");var e=[],r=0;return this.$each.$$p=function(){t<=r&&e.push(Q.const_get_relative(J,"Opal").$destructure(arguments)),r++},this.$each(),e},_.$$arity=1),Q.def(V,"$drop_while",u=function(){var t=u.$$p,r=t||$t;if(t&&(u.$$p=null),r===$t)return this.$enum_for("drop_while");var n=[],i=!0;return this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);if(i){var e=Q.yield1(r,t);lt(e)&&(i=!1,n.push(t))}else n.push(t)},this.$each(),n},u.$$arity=0),Q.def(V,"$each_cons",d=function($){var a,t=this,e=d.$$p,r=e||$t;if(e&&(d.$$p=null),st(1!=arguments.length)&&t.$raise(Q.const_get_relative(J,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),$=Q.const_get_relative(J,"Opal").$try_convert($,Q.const_get_relative(J,"Integer"),"to_int"),st($<=0)&&t.$raise(Q.const_get_relative(J,"ArgumentError"),"invalid size"),r===$t)return ot(t,"enum_for",["each_cons",$],((a=function(){var t,e,r,n=a.$$s||this,i=$t;return i=n.$enumerator_size(),st(i["$nil?"]())?$t:st(st(t=i["$=="](0))?t:(r=$,"number"==typeof(e=i)&&"number"==typeof r?e<r:e["$<"](r)))?0:et(rt(i,$),1)}).$$s=t,a.$$arity=0,a));var n=[],i=$t;return t.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);n.push(t),n.length>$&&n.shift(),n.length==$&&Q.yield1(r,n.slice(0,$))},t.$each(),i},d.$$arity=1),Q.def(V,"$each_entry",f=function(t){var e,r,n=this,i=f.$$p,$=i||$t,a=arguments.length,s=a-0;s<0&&(s=0),r=new Array(s);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i&&(f.$$p=null),$===$t?ot(n,"to_enum",["each_entry"].concat(Q.to_a(r)),((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=n,e.$$arity=0,e)):(n.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);Q.yield1($,t)},n.$each.apply(n,r),n)},f.$$arity=-1),Q.def(V,"$each_slice",h=function(n){var i,t=this,e=h.$$p,r=e||$t;if(e&&(h.$$p=null),n=Q.const_get_relative(J,"Opal").$coerce_to(n,Q.const_get_relative(J,"Integer"),"to_int"),st(n<=0)&&t.$raise(Q.const_get_relative(J,"ArgumentError"),"invalid slice size"),r===$t)return ot(t,"enum_for",["each_slice",n],((i=function(){var t,e,r=i.$$s||this;return st(r["$respond_to?"]("size"))?(t=r.$size(),e=n,"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)).$ceil():$t}).$$s=t,i.$$arity=0,i));var $=[];return t.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);$.push(t),$.length===n&&(Q.yield1(r,$),$=[])},t.$each(),0<$.length&&Q.yield1(r,$),$t},h.$$arity=1),Q.def(V,"$each_with_index",p=function(t){var e,r,n=this,i=p.$$p,$=i||$t,a=arguments.length,s=a-0;s<0&&(s=0),r=new Array(s);for(var o=0;o<a;o++)r[o-0]=arguments[o];if(i&&(p.$$p=null),$===$t)return ot(n,"enum_for",["each_with_index"].concat(Q.to_a(r)),((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=n,e.$$arity=0,e));var l=0;return n.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);$(t,l),l++},n.$each.apply(n,r),n},p.$$arity=-1),Q.def(V,"$each_with_object",g=function(e){var t,r=g.$$p,n=r||$t;return r&&(g.$$p=null),n===$t?ot(this,"enum_for",["each_with_object",e],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):(this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);n(t,e)},this.$each(),e)},g.$$arity=1),Q.def(V,"$entries",v=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var $=[];return this.$each.$$p=function(){$.push(Q.const_get_relative(J,"Opal").$destructure(arguments))},this.$each.apply(this,e),$},v.$$arity=-1),Q.alias(V,"find","detect"),Q.def(V,"$find_all",m=function(){var t,e=m.$$p,r=e||$t;if(e&&(m.$$p=null),r===$t)return ot(this,"enum_for",["find_all"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[];return this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=Q.yield1(r,t);st(e)&&n.push(t)},this.$each(),n},m.$$arity=0),Q.def(V,"$find_index",y=function($){try{var a,s,t=this,e=y.$$p,o=e||$t,l=$t;return e&&(y.$$p=null),st(void 0===$&&o===$t)?t.$enum_for("find_index"):(null!=$&&o!==$t&&t.$warn("warning: given block not used"),l=0,st(null!=$)?ot(t,"each",[],((a=function(t){a.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return Q.const_get_relative(J,"Opal").$destructure(e)["$=="]($)&&Q.ret(l),l+=1}).$$s=t,a.$$arity=-1,a)):ot(t,"each",[],((s=function(t){s.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return st(Q.yieldX(o,Q.to_a(e)))&&Q.ret(l),l+=1}).$$s=t,s.$$arity=-1,s)),$t)}catch(t){if(t===Q.returner)return t.$v;throw t}},y.$$arity=-1),Q.def(V,"$first",b=function($){try{var e,a,t=this,s=$t,o=$t;return st(void 0===$)?ot(t,"each",[],((e=function(t){e.$$s;null==t&&(t=$t),Q.ret(t)}).$$s=t,e.$$arity=1,e)):(s=[],$=Q.const_get_relative(J,"Opal").$coerce_to($,Q.const_get_relative(J,"Integer"),"to_int"),st($<0)&&t.$raise(Q.const_get_relative(J,"ArgumentError"),"attempt to take negative size"),st(0==$)?[]:(o=0,ot(t,"each",[],((a=function(t){a.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(s.push(Q.const_get_relative(J,"Opal").$destructure(e)),!st($<=++o))return $t;Q.ret(s)}).$$s=t,a.$$arity=-1,a)),s))}catch(t){if(t===Q.returner)return t.$v;throw t}},b.$$arity=-1),Q.alias(V,"flat_map","collect_concat"),Q.def(V,"$grep",x=function(a){var s,t=x.$$p,o=t||$t,l=$t;return t&&(x.$$p=null),l=[],ot(this,"each",[],((s=function(t){s.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r=Z(e),st(ot(a,"__send__",["==="].concat(Q.to_a(r))))?(o!==$t?(st(tt(e.$length(),1))&&(e=[e]),e=Q.yieldX(o,Q.to_a(e))):st(nt(e.$length(),1))&&(e=e["$[]"](0)),l.$push(e)):$t}).$$s=this,s.$$arity=-1,s)),l},x.$$arity=1),Q.def(V,"$grep_v",k=function(a){var s,t=k.$$p,o=t||$t,l=$t;return t&&(k.$$p=null),l=[],ot(this,"each",[],((s=function(t){s.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r=Z(e),st(ot(a,"__send__",["==="].concat(Q.to_a(r))))?$t:(o!==$t?(st(tt(e.$length(),1))&&(e=[e]),e=Q.yieldX(o,Q.to_a(e))):st(nt(e.$length(),1))&&(e=e["$[]"](0)),l.$push(e))}).$$s=this,s.$$arity=-1,s)),l},k.$$arity=1),Q.def(V,"$group_by",w=function(){var t,r,e=w.$$p,n=e||$t,i=$t,$=$t;return e&&(w.$$p=null),n===$t?ot(this,"enum_for",["group_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):(i=ct([],{}),this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=Q.yield1(n,t);(st(r=i["$[]"](e))?r:($=[e,[]],ot(i,"[]=",Q.to_a($)),$[rt($.length,1)]))["$<<"](t)},this.$each(),i)},w.$$arity=0),Q.def(V,"$include?",E=function($){try{var a;return ot(this,"each",[],((a=function(t){a.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(!Q.const_get_relative(J,"Opal").$destructure(e)["$=="]($))return $t;Q.ret(!0)}).$$s=this,a.$$arity=-1,a)),!1}catch(t){if(t===Q.returner)return t.$v;throw t}},E.$$arity=1),Q.def(V,"$inject",A=function(t,e){var r=A.$$p,n=r||$t;r&&(A.$$p=null);var i=t;return n!==$t&&void 0===e?this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);void 0!==i&&(t=Q.yieldX(n,[i,t])),i=t}:(void 0===e&&(Q.const_get_relative(J,"Symbol")["$==="](t)||this.$raise(Q.const_get_relative(J,"TypeError"),t.$inspect()+" is not a Symbol"),e=t,i=void 0),this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);i=void 0!==i?i.$__send__(e,t):t}),this.$each(),null==i?$t:i},A.$$arity=-1),Q.def(V,"$lazy",O=function(){var a;return ot(Q.const_get_qualified(Q.const_get_relative(J,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],((a=function(t,e){a.$$s;var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];return null==t&&(t=$t),ot(t,"yield",Q.to_a(r))}).$$s=this,a.$$arity=-2,a))},O.$$arity=0),Q.def(V,"$enumerator_size",S=function(){return st(this["$respond_to?"]("size"))?this.$size():$t},S.$$arity=0),Q.alias(V,"map","collect"),Q.def(V,"$max",R=function(t){var e,r,n=this,i=R.$$p,$=i||$t;return i&&(R.$$p=null),void 0===t||t===$t?(n.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);void 0!==e?((r=$!==$t?Q.yieldX($,[t,e]):t["$<=>"](e))===$t&&n.$raise(Q.const_get_relative(J,"ArgumentError"),"comparison failed"),0<r&&(e=t)):e=t},n.$each(),void 0===e?$t:e):(t=Q.const_get_relative(J,"Opal").$coerce_to(t,Q.const_get_relative(J,"Integer"),"to_int"),ot(n,"sort",[],$.$to_proc()).$reverse().$first(t))},R.$$arity=-1),Q.def(V,"$max_by",T=function(){var t,r,n,e=T.$$p,i=e||$t;return e&&(T.$$p=null),st(i)?(this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=Q.yield1(i,t);if(void 0===r)return r=t,void(n=e);0<e["$<=>"](n)&&(r=t,n=e)},this.$each(),void 0===r?$t:r):ot(this,"enum_for",["max_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t))},T.$$arity=0),Q.alias(V,"member?","include?"),Q.def(V,"$min",M=function(){var r,n=this,t=M.$$p,i=t||$t;return t&&(M.$$p=null),n.$each.$$p=i!==$t?function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);if(void 0!==r){var e=i(t,r);e===$t&&n.$raise(Q.const_get_relative(J,"ArgumentError"),"comparison failed"),e<0&&(r=t)}else r=t}:function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);void 0!==r?Q.const_get_relative(J,"Opal").$compare(t,r)<0&&(r=t):r=t},n.$each(),void 0===r?$t:r},M.$$arity=0),Q.def(V,"$min_by",C=function(){var t,r,n,e=C.$$p,i=e||$t;return e&&(C.$$p=null),st(i)?(this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=Q.yield1(i,t);if(void 0===r)return r=t,void(n=e);e["$<=>"](n)<0&&(r=t,n=e)},this.$each(),void 0===r?$t:r):ot(this,"enum_for",["min_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t))},C.$$arity=0),Q.def(V,"$minmax",I=function(){var t,r,n=this,e=I.$$p,i=e||$t;e&&(I.$$p=null),i=st(t=i)?t:ot(n,"proc",[],((r=function(t,e){r.$$s;return null==t&&(t=$t),null==e&&(e=$t),t["$<=>"](e)}).$$s=n,r.$$arity=2,r));var $=$t,a=$t,s=!0;return n.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments);if(s)$=a=t,s=!1;else{var e=i.$call($,t);e===$t?n.$raise(Q.const_get_relative(J,"ArgumentError"),"comparison failed"):0<e&&($=t);var r=i.$call(a,t);r===$t?n.$raise(Q.const_get_relative(J,"ArgumentError"),"comparison failed"):r<0&&(a=t)}},n.$each(),[$,a]},I.$$arity=0),Q.def(V,"$minmax_by",q=function(){var t=q.$$p;return t&&(q.$$p=null),this.$raise(Q.const_get_relative(J,"NotImplementedError"))},q.$$arity=0),Q.def(V,"$none?",N=function(a){try{var s,$,o,t=this,e=N.$$p,l=e||$t;return e&&(N.$$p=null),st(void 0!==a)?ot(t,"each",[],((s=function(t){s.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];if(r=Z(e),!st(ot(a,"public_send",["==="].concat(Q.to_a(r)))))return $t;Q.ret(!1)}).$$s=t,s.$$arity=-1,s)):ot(t,"each",[],l!==$t?(($=function(t){$.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(!st(Q.yieldX(l,Q.to_a(e))))return $t;Q.ret(!1)}).$$s=t,$.$$arity=-1,$):((o=function(t){o.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];if(r=Q.const_get_relative(J,"Opal").$destructure(e),!st(r))return $t;Q.ret(!1)}).$$s=t,o.$$arity=-1,o)),!0}catch(t){if(t===Q.returner)return t.$v;throw t}},N.$$arity=-1),Q.def(V,"$one?",z=function(a){try{var s,$,o,t=this,e=z.$$p,l=e||$t,c=$t;return e&&(z.$$p=null),st(void(c=0)!==a)?ot(t,"each",[],((s=function(t){s.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r=Z(e),st(ot(a,"public_send",["==="].concat(Q.to_a(r))))?(c=et(c,1),st(tt(c,1))?void Q.ret(!1):$t):$t}).$$s=t,s.$$arity=-1,s)):ot(t,"each",[],l!==$t?(($=function(t){$.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return st(Q.yieldX(l,Q.to_a(e)))?(c=et(c,1),st(tt(c,1))?void Q.ret(!1):$t):$t}).$$s=t,$.$$arity=-1,$):((o=function(t){o.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return st(Q.const_get_relative(J,"Opal").$destructure(e))?(c=et(c,1),st(tt(c,1))?void Q.ret(!1):$t):$t}).$$s=t,o.$$arity=-1,o)),c["$=="](1)}catch(t){if(t===Q.returner)return t.$v;throw t}},z.$$arity=-1),Q.def(V,"$partition",D=function(){var t,e=D.$$p,r=e||$t;if(e&&(D.$$p=null),r===$t)return ot(this,"enum_for",["partition"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[],i=[];return this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=Q.yield1(r,t);st(e)?n.push(t):i.push(t)},this.$each(),[n,i]},D.$$arity=0),Q.alias(V,"reduce","inject"),Q.def(V,"$reject",B=function(){var t,e=B.$$p,r=e||$t;if(e&&(B.$$p=null),r===$t)return ot(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[];return this.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=Q.yield1(r,t);lt(e)&&n.push(t)},this.$each(),n},B.$$arity=0),Q.def(V,"$reverse_each",F=function(){var t,e=F.$$p,r=e||$t;if(e&&(F.$$p=null),r===$t)return ot(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[];this.$each.$$p=function(){n.push(arguments)},this.$each();for(var i=n.length-1;0<=i;i--)Q.yieldX(r,n[i]);return n},F.$$arity=0),Q.alias(V,"select","find_all"),Q.def(V,"$slice_before",P=function(i){var e,t=P.$$p,$=t||$t;return t&&(P.$$p=null),st(void 0===i&&$===$t)&&this.$raise(Q.const_get_relative(J,"ArgumentError"),"both pattern and block are given"),st(void 0!==i&&$!==$t||1<arguments.length)&&this.$raise(Q.const_get_relative(J,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),ot(Q.const_get_relative(J,"Enumerator"),"new",[],((e=function(r){var t=e.$$s||this;null==r&&(r=$t);var n=[];t.$each.$$p=$!==$t?void 0===i?function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=Q.yield1($,t);st(e)&&0<n.length&&(r["$<<"](n),n=[]),n.push(t)}:function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=$(t,i.$dup());st(e)&&0<n.length&&(r["$<<"](n),n=[]),n.push(t)}:function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=i["$==="](t);st(e)&&0<n.length&&(r["$<<"](n),n=[]),n.push(t)},t.$each(),0<n.length&&r["$<<"](n)}).$$s=this,e.$$arity=1,e))},P.$$arity=-1),Q.def(V,"$slice_after",L=function(e){var r,i,t=this,n=L.$$p,$=n||$t;return n&&(L.$$p=null),st(void 0===e&&$===$t)&&t.$raise(Q.const_get_relative(J,"ArgumentError"),"both pattern and block are given"),st(void 0!==e&&$!==$t||1<arguments.length)&&t.$raise(Q.const_get_relative(J,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),st(void 0!==e)&&($=ot(t,"proc",[],((r=function(t){r.$$s;return null==t&&(t=$t),e["$==="](t)}).$$s=t,r.$$arity=1,r))),ot(Q.const_get_relative(J,"Enumerator"),"new",[],((i=function(r){var n,t=i.$$s||this;null==r&&(r=$t),t.$each.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=Q.yield1($,t);null==n&&(n=[]),st(e)?(n.push(t),r.$yield(n),n=null):n.push(t)},t.$each(),null!=n&&r.$yield(n)}).$$s=t,i.$$arity=1,i))},L.$$arity=-1),Q.def(V,"$slice_when",j=function(){var e,t=j.$$p,s=t||$t;return t&&(j.$$p=null),s!==$t||this.$raise(Q.const_get_relative(J,"ArgumentError"),"wrong number of arguments (0 for 1)"),ot(Q.const_get_relative(J,"Enumerator"),"new",[],((e=function(i){var t=e.$$s||this;null==i&&(i=$t);var $=$t,a=$t;t.$each_cons.$$p=function(){var t=Q.const_get_relative(J,"Opal").$destructure(arguments),e=t[0],r=t[1],n=Q.yieldX(s,[e,r]);a=r,$===$t&&($=[]),st(n)?($.push(e),i.$yield($),$=[]):$.push(e)},t.$each_cons(2),$!==$t&&($.push(a),i.$yield($))}).$$s=this,e.$$arity=1,e))},j.$$arity=0),Q.def(V,"$sort",U=function(){var r,t,e=U.$$p,n=e||$t;return e&&(U.$$p=null),t=this.$to_a(),n!==$t||(n=ot(this,"lambda",[],((r=function(t,e){r.$$s;return null==t&&(t=$t),null==e&&(e=$t),t["$<=>"](e)}).$$s=this,r.$$arity=2,r))),ot(t,"sort",[],n.$to_proc())},U.$$arity=0),Q.def(V,"$sort_by",H=function(){var t,e,r,n,i,$=this,a=H.$$p,s=a||$t;return a&&(H.$$p=null),s===$t?ot($,"enum_for",["sort_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=$,t.$$arity=0,t)):(i=ot($,"map",[],((e=function(){var t;e.$$s;return t=Q.const_get_relative(J,"Opal").$destructure(arguments),[Q.yield1(s,t),t]}).$$s=$,e.$$arity=0,e)),ot(i,"sort!",[],((r=function(t,e){r.$$s;return null==t&&(t=$t),null==e&&(e=$t),t[0]["$<=>"](e[0])}).$$s=$,r.$$arity=2,r)),ot(i,"map!",[],((n=function(t){n.$$s;return null==t&&(t=$t),t[1]}).$$s=$,n.$$arity=1,n)))},H.$$arity=0),Q.def(V,"$sum",G=function(t){var a,e=G.$$p,s=e||$t,o=$t;return null==t&&(t=0),e&&(G.$$p=null),o=t,ot(this,"each",[],((a=function(t){a.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r=s!==$t?Q.yieldX(s,Q.to_a(e)):Q.const_get_relative(J,"Opal").$destructure(e),o=et(o,r)}).$$s=this,a.$$arity=-1,a)),o},G.$$arity=-1),Q.def(V,"$take",Y=function(t){return this.$first(t)},Y.$$arity=1),Q.def(V,"$take_while",W=function(){try{var a,t=W.$$p,s=t||$t,o=$t;return t&&(W.$$p=null),st(s)?(o=[],ot(this,"each",[],((a=function(t){a.$$s;var e,r,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r=Q.const_get_relative(J,"Opal").$destructure(e),st(Q.yield1(s,r))||Q.ret(o),o.push(r)}).$$s=this,a.$$arity=-1,a))):this.$enum_for("take_while")}catch(t){if(t===Q.returner)return t.$v;throw t}},W.$$arity=0),Q.def(V,"$uniq",X=function(){var o,t=X.$$p,l=t||$t,c=$t;return t&&(X.$$p=null),c=ct([],{}),ot(this,"each",[],((o=function(t){o.$$s;var e,r,n,i=$t,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var s=0;s<$;s++)e[s-0]=arguments[s];return r=Q.const_get_relative(J,"Opal").$destructure(e),n=l!==$t?Q.yield1(l,r):r,st(c["$key?"](n))?$t:(i=[n,r],ot(c,"[]=",Q.to_a(i)),i[rt(i.length,1)])}).$$s=this,o.$$arity=-1,o)),c.$values()},X.$$arity=0),Q.alias(V,"to_a","entries"),Q.def(V,"$zip",K=function(t){var e,r=K.$$p,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r&&(K.$$p=null),ot(this.$to_a(),"zip",Q.to_a(e))},K.$$arity=-1)}(0,it)},Opal.modules["corelib/enumerator"]=function(b){function x(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function k(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var t=b.top,u=[],w=b.nil,d=b.breaker,f=b.slice,E=b.klass,A=b.truthy,O=b.send,S=b.falsy;return b.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),t.$require("corelib/enumerable"),function(t,e,r){function n(){}var c,i,l,$,a,s,y=n=E(u[0],null,"Enumerator",n),o=y.$$proto,_=[y].concat(r);return o.size=o.args=o.object=o.method=w,y.$include(b.const_get_relative(_,"Enumerable")),o.$$is_enumerator=!0,b.defs(y,"$for",c=function(t,e,r){var n,i=c.$$p,$=i||w;null==e&&(e="each");var a=arguments.length,s=a-2;s<0&&(s=0),n=new Array(s);for(var o=2;o<a;o++)n[o-2]=arguments[o];i&&(c.$$p=null);var l=this.$allocate();return l.object=t,l.size=$,l.method=e,l.args=n,l},c.$$arity=-2),b.def(y,"$initialize",i=function(t){var e=this,r=i.$$p,n=r||w;return r&&(i.$$p=null),A(n)?(e.object=O(b.const_get_relative(_,"Generator"),"new",[],n.$to_proc()),e.method="each",e.args=[],e.size=t||w,A(e.size)?e.size=b.const_get_relative(_,"Opal").$coerce_to(e.size,b.const_get_relative(_,"Integer"),"to_int"):w):(e.object=t,e.method=arguments[1]||"each",e.args=f.call(arguments,2),e.size=w)},i.$$arity=-1),b.def(y,"$each",l=function(t){var e,r,n=this,i=l.$$p,$=i||w,a=arguments.length,s=a-0;s<0&&(s=0),r=new Array(s);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i&&(l.$$p=null),A(A(e=$["$nil?"]())?r["$empty?"]():e)?n:(r=x(n.args,r),A($["$nil?"]())?O(n.$class(),"new",[n.object,n.method].concat(b.to_a(r))):O(n.object,"__send__",[n.method].concat(b.to_a(r)),$.$to_proc()))},l.$$arity=-1),b.def(y,"$size",$=function(){return A(b.const_get_relative(_,"Proc")["$==="](this.size))?O(this.size,"call",b.to_a(this.args)):this.size},$.$$arity=0),b.def(y,"$with_index",a=function(t){var e,r=a.$$p,n=r||w;if(null==t&&(t=0),r&&(a.$$p=null),t=A(t)?b.const_get_relative(_,"Opal").$coerce_to(t,b.const_get_relative(_,"Integer"),"to_int"):0,!A(n))return O(this,"enum_for",["with_index",t],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i=t;return this.$each.$$p=function(){var t=b.const_get_relative(_,"Opal").$destructure(arguments),e=n(t,i);return i++,e},this.$each()},a.$$arity=-1),b.alias(y,"with_object","each_with_object"),b.def(y,"$inspect",s=function(){var t=this,e=w;return e="#<"+t.$class()+": "+t.object.$inspect()+":"+t.method,A(t.args["$any?"]())&&(e=x(e,"("+t.args.$inspect()["$[]"](b.const_get_relative(_,"Range").$new(1,-2))+")")),x(e,">")},s.$$arity=0),function(t,e,r){function n(){}var i,o,$=n=E(t,null,"Generator",n),a=$.$$proto,l=[$].concat(r);a.block=w,$.$include(b.const_get_relative(l,"Enumerable")),b.def($,"$initialize",i=function(){var t=i.$$p,e=t||w;return t&&(i.$$p=null),A(e)||this.$raise(b.const_get_relative(l,"LocalJumpError"),"no block given"),this.block=e},i.$$arity=0),b.def($,"$each",o=function(t){var e,r,n=o.$$p,i=n||w,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var s=0;s<$;s++)e[s-0]=arguments[s];n&&(o.$$p=null),r=O(b.const_get_relative(l,"Yielder"),"new",[],i.$to_proc());try{e.unshift(r),b.yieldX(this.block,e)}catch(t){if(t===d)return d.$v;throw t}return this},o.$$arity=-1)}(_[0],0,_),function(t,e,r){function n(){}var i,$,a,s=n=E(t,null,"Yielder",n),o=s.$$proto;[s].concat(r);o.block=w,b.def(s,"$initialize",i=function(){var t=i.$$p,e=t||w;return t&&(i.$$p=null),this.block=e},i.$$arity=0),b.def(s,"$yield",$=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var $=b.yieldX(this.block,e);if($===d)throw d;return $},$.$$arity=-1),b.def(s,"$<<",a=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return O(this,"yield",b.to_a(e)),this},a.$$arity=-1)}(_[0],0,_),function(t,e,r){function n(){}var i,$,a,s,o,c,l,_,u,d,f,h,p,g=n=E(t,y,"Lazy",n),v=g.$$proto,m=[g].concat(r);return v.enumerator=w,function(t,e,r){function n(){}var i=n=E(t,e,"StopLazyError",n);i.$$proto,[i].concat(r)}(m[0],b.const_get_relative(m,"Exception"),m),b.def(g,"$initialize",i=function(o,t){var l,e=this,r=i.$$p,c=r||w;return null==t&&(t=w),r&&(i.$$p=null),c!==w||e.$raise(b.const_get_relative(m,"ArgumentError"),"tried to call lazy new without a block"),e.enumerator=o,O(e,b.find_super_dispatcher(e,"initialize",i,!1),[t],((l=function($,t){var e,a,r=l.$$s||this,n=arguments.length,i=n-1;i<0&&(i=0),e=new Array(i);for(var s=1;s<n;s++)e[s-1]=arguments[s];null==$&&($=w);try{return O(o,"each",b.to_a(e),((a=function(t){a.$$s;var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];e.unshift($),b.yieldX(c,e)}).$$s=r,a.$$arity=-1,a))}catch(t){if(!b.rescue(t,[b.const_get_relative(m,"Exception")]))throw t;try{return w}finally{b.pop_exception()}}}).$$s=e,l.$$arity=-2,l))},i.$$arity=-2),b.alias(g,"force","to_a"),b.def(g,"$lazy",$=function(){return this},$.$$arity=0),b.def(g,"$collect",a=function(){var s,t=a.$$p,o=t||w;return t&&(a.$$p=null),A(o)||this.$raise(b.const_get_relative(m,"ArgumentError"),"tried to call lazy map without a block"),O(b.const_get_relative(m,"Lazy"),"new",[this,this.$enumerator_size()],((s=function(t,e){s.$$s;var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];null==t&&(t=w);var a=b.yieldX(o,r);t.$yield(a)}).$$s=this,s.$$arity=-2,s))},a.$$arity=0),b.def(g,"$collect_concat",s=function(){var c,t=s.$$p,_=t||w;return t&&(s.$$p=null),A(_)||this.$raise(b.const_get_relative(m,"ArgumentError"),"tried to call lazy map without a block"),O(b.const_get_relative(m,"Lazy"),"new",[this,w],((c=function(e,t){var r,n,i,$=c.$$s||this,a=arguments.length,s=a-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<a;o++)r[o-1]=arguments[o];null==e&&(e=w);var l=b.yieldX(_,r);l["$respond_to?"]("force")&&l["$respond_to?"]("each")?O(l,"each",[],((n=function(t){n.$$s;return null==t&&(t=w),e.$yield(t)}).$$s=$,n.$$arity=1,n)):b.const_get_relative(m,"Opal").$try_convert(l,b.const_get_relative(m,"Array"),"to_ary")===w?e.$yield(l):O(l,"each",[],((i=function(t){i.$$s;return null==t&&(t=w),e.$yield(t)}).$$s=$,i.$$arity=1,i))}).$$s=this,c.$$arity=-2,c))},s.$$arity=0),b.def(g,"$drop",o=function(a){var s,t,e,o=w;return a=b.const_get_relative(m,"Opal").$coerce_to(a,b.const_get_relative(m,"Integer"),"to_int"),A(k(a,0))&&this.$raise(b.const_get_relative(m,"ArgumentError"),"attempt to drop negative size"),t=this.$enumerator_size(),e=A(b.const_get_relative(m,"Integer")["$==="](t))&&A(k(a,t))?a:t,o=0,O(b.const_get_relative(m,"Lazy"),"new",[this,e],((s=function(t,e){s.$$s;var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];return null==t&&(t=w),A(k(o,a))?o=x(o,1):O(t,"yield",b.to_a(r))}).$$s=this,s.$$arity=-2,s))},o.$$arity=1),b.def(g,"$drop_while",c=function(){var s,t=c.$$p,o=t||w,l=w;return t&&(c.$$p=null),A(o)||this.$raise(b.const_get_relative(m,"ArgumentError"),"tried to call lazy drop_while without a block"),l=!0,O(b.const_get_relative(m,"Lazy"),"new",[this,w],((s=function(t,e){s.$$s;var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];if(null==t&&(t=w),!A(l))return O(t,"yield",b.to_a(r));var a=b.yieldX(o,r);S(a)&&(l=!1,O(t,"yield",b.to_a(r)))}).$$s=this,s.$$arity=-2,s))},c.$$arity=0),b.def(g,"$enum_for",l=function(t,e){var r,n=this,i=l.$$p,$=i||w;null==t&&(t="each");var a=arguments.length,s=a-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<a;o++)r[o-1]=arguments[o];return i&&(l.$$p=null),O(n.$class(),"for",[n,t].concat(b.to_a(r)),$.$to_proc())},l.$$arity=-1),b.def(g,"$find_all",_=function(){var s,t=_.$$p,o=t||w;return t&&(_.$$p=null),A(o)||this.$raise(b.const_get_relative(m,"ArgumentError"),"tried to call lazy select without a block"),O(b.const_get_relative(m,"Lazy"),"new",[this,w],((s=function(t,e){s.$$s;var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];null==t&&(t=w);var a=b.yieldX(o,r);A(a)&&O(t,"yield",b.to_a(r))}).$$s=this,s.$$arity=-2,s))},_.$$arity=0),b.alias(g,"flat_map","collect_concat"),b.def(g,"$grep",u=function(o){var l,c,t=u.$$p,_=t||w;return t&&(u.$$p=null),A(_)?O(b.const_get_relative(m,"Lazy"),"new",[this,w],((l=function(t,e){l.$$s;var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];null==t&&(t=w);var a=b.const_get_relative(m,"Opal").$destructure(r),s=o["$==="](a);A(s)&&(s=b.yield1(_,a),t.$yield(b.yield1(_,a)))}).$$s=this,l.$$arity=-2,l)):O(b.const_get_relative(m,"Lazy"),"new",[this,w],((c=function(t,e){c.$$s;var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];null==t&&(t=w);var a=b.const_get_relative(m,"Opal").$destructure(r),s=o["$==="](a);A(s)&&t.$yield(a)}).$$s=this,c.$$arity=-2,c))},u.$$arity=1),b.alias(g,"map","collect"),b.alias(g,"select","find_all"),b.def(g,"$reject",d=function(){var s,t=d.$$p,o=t||w;return t&&(d.$$p=null),A(o)||this.$raise(b.const_get_relative(m,"ArgumentError"),"tried to call lazy reject without a block"),O(b.const_get_relative(m,"Lazy"),"new",[this,w],((s=function(t,e){s.$$s;var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];null==t&&(t=w);var a=b.yieldX(o,r);S(a)&&O(t,"yield",b.to_a(r))}).$$s=this,s.$$arity=-2,s))},d.$$arity=0),b.def(g,"$take",f=function(s){var o,t,e,l=w;return s=b.const_get_relative(m,"Opal").$coerce_to(s,b.const_get_relative(m,"Integer"),"to_int"),A(k(s,0))&&this.$raise(b.const_get_relative(m,"ArgumentError"),"attempt to take negative size"),t=this.$enumerator_size(),e=A(b.const_get_relative(m,"Integer")["$==="](t))&&A(k(s,t))?s:t,l=0,O(b.const_get_relative(m,"Lazy"),"new",[this,e],((o=function(t,e){var r,n=o.$$s||this,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var a=1;a<i;a++)r[a-1]=arguments[a];return null==t&&(t=w),A(k(l,s))?(O(t,"yield",b.to_a(r)),l=x(l,1)):n.$raise(b.const_get_relative(m,"StopLazyError"))}).$$s=this,o.$$arity=-2,o))},f.$$arity=1),b.def(g,"$take_while",h=function(){var o,t=h.$$p,l=t||w;return t&&(h.$$p=null),A(l)||this.$raise(b.const_get_relative(m,"ArgumentError"),"tried to call lazy take_while without a block"),O(b.const_get_relative(m,"Lazy"),"new",[this,w],((o=function(t,e){var r,n=o.$$s||this,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var a=1;a<i;a++)r[a-1]=arguments[a];null==t&&(t=w);var s=b.yieldX(l,r);A(s)?O(t,"yield",b.to_a(r)):n.$raise(b.const_get_relative(m,"StopLazyError"))}).$$s=this,o.$$arity=-2,o))},h.$$arity=0),b.alias(g,"to_enum","enum_for"),b.def(g,"$inspect",p=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},p.$$arity=0),w&&"inspect"}(_[0],0,_)}(0,0,u)},Opal.modules["corelib/numeric"]=function(U){function H(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function G(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function Y(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function W(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var t=U.top,X=[],K=U.nil,V=(U.breaker,U.slice,U.klass),J=U.truthy,Z=U.hash2;return U.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),t.$require("corelib/comparable"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L=n=V(X[0],null,"Numeric",n),j=(L.$$proto,[L].concat(r));return L.$include(U.const_get_relative(j,"Comparable")),U.def(L,"$coerce",i=function(t){return J(t["$instance_of?"](this.$class()))?[t,this]:[this.$Float(t),this.$Float(this)]},i.$$arity=1),U.def(L,"$__coerced__",$=function(t,e){var r,n,i=this,$=K,a=K,s=K;return J(e["$respond_to?"]("coerce"))?(n=e.$coerce(i),$=null==(r=U.to_ary(n))[0]?K:r[0],a=null==r[1]?K:r[1],$.$__send__(t,a)):"+"["$==="](s=t)||"-"["$==="](s)||"*"["$==="](s)||"/"["$==="](s)||"%"["$==="](s)||"&"["$==="](s)||"|"["$==="](s)||"^"["$==="](s)||"**"["$==="](s)?i.$raise(U.const_get_relative(j,"TypeError"),e.$class()+" can't be coerced into Numeric"):">"["$==="](s)||">="["$==="](s)||"<"["$==="](s)||"<="["$==="](s)||"<=>"["$==="](s)?i.$raise(U.const_get_relative(j,"ArgumentError"),"comparison of "+i.$class()+" with "+e.$class()+" failed"):K},$.$$arity=2),U.def(L,"$<=>",a=function(t){return J(this["$equal?"](t))?0:K},a.$$arity=1),U.def(L,"$+@",s=function(){return this},s.$$arity=0),U.def(L,"$-@",o=function(){return H(0,this)},o.$$arity=0),U.def(L,"$%",l=function(t){return H(this,G(t,this.$div(t)))},l.$$arity=1),U.def(L,"$abs",c=function(){return Y(this,0)?this["$-@"]():this},c.$$arity=0),U.def(L,"$abs2",_=function(){return G(this,this)},_.$$arity=0),U.def(L,"$angle",u=function(){return Y(this,0)?U.const_get_qualified(U.const_get_relative(j,"Math"),"PI"):0},u.$$arity=0),U.alias(L,"arg","angle"),U.def(L,"$ceil",d=function(t){return null==t&&(t=0),this.$to_f().$ceil(t)},d.$$arity=-1),U.def(L,"$conj",f=function(){return this},f.$$arity=0),U.alias(L,"conjugate","conj"),U.def(L,"$denominator",h=function(){return this.$to_r().$denominator()},h.$$arity=0),U.def(L,"$div",p=function(t){return t["$=="](0)&&this.$raise(U.const_get_relative(j,"ZeroDivisionError"),"divided by o"),W(this,t).$floor()},p.$$arity=1),U.def(L,"$divmod",g=function(t){return[this.$div(t),this["$%"](t)]},g.$$arity=1),U.def(L,"$fdiv",v=function(t){return W(this.$to_f(),t)},v.$$arity=1),U.def(L,"$floor",m=function(t){return null==t&&(t=0),this.$to_f().$floor(t)},m.$$arity=-1),U.def(L,"$i",y=function(){return this.$Complex(0,this)},y.$$arity=0),U.def(L,"$imag",b=function(){return 0},b.$$arity=0),U.alias(L,"imaginary","imag"),U.def(L,"$integer?",x=function(){return!1},x.$$arity=0),U.alias(L,"magnitude","abs"),U.alias(L,"modulo","%"),U.def(L,"$nonzero?",k=function(){return J(this["$zero?"]())?K:this},k.$$arity=0),U.def(L,"$numerator",w=function(){return this.$to_r().$numerator()},w.$$arity=0),U.alias(L,"phase","arg"),U.def(L,"$polar",E=function(){return[this.$abs(),this.$arg()]},E.$$arity=0),U.def(L,"$quo",A=function(t){return W(U.const_get_relative(j,"Opal")["$coerce_to!"](this,U.const_get_relative(j,"Rational"),"to_r"),t)},A.$$arity=1),U.def(L,"$real",O=function(){return this},O.$$arity=0),U.def(L,"$real?",S=function(){return!0},S.$$arity=0),U.def(L,"$rect",R=function(){return[this,0]},R.$$arity=0),U.alias(L,"rectangular","rect"),U.def(L,"$round",T=function(t){return this.$to_f().$round(t)},T.$$arity=-1),U.def(L,"$to_c",M=function(){return this.$Complex(this,0)},M.$$arity=0),U.def(L,"$to_int",C=function(){return this.$to_i()},C.$$arity=0),U.def(L,"$truncate",I=function(t){return null==t&&(t=0),this.$to_f().$truncate(t)},I.$$arity=-1),U.def(L,"$zero?",q=function(){return this["$=="](0)},q.$$arity=0),U.def(L,"$positive?",N=function(){var t,e;return e=0,"number"==typeof(t=this)&&"number"==typeof e?e<t:t["$>"](e)},N.$$arity=0),U.def(L,"$negative?",z=function(){return Y(this,0)},z.$$arity=0),U.def(L,"$dup",D=function(){return this},D.$$arity=0),U.def(L,"$clone",B=function(t){if(null==t||!t.$$is_hash){if(null!=t)throw U.ArgumentError.$new("expected kwargs");t=Z([],{})}return null==t.$$smap.freeze&&!0,this},B.$$arity=-1),U.def(L,"$finite?",F=function(){return!0},F.$$arity=0),U.def(L,"$infinite?",P=function(){return K},P.$$arity=0),K&&"infinite?"}(0,0,X)},Opal.modules["corelib/array"]=function(Xt){function Kt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}var t=Xt.top,Vt=[],Jt=Xt.nil,Zt=(Xt.breaker,Xt.slice,Xt.klass),Qt=Xt.truthy,te=Xt.hash2,ee=Xt.send,re=Xt.gvars;return Xt.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),t.$require("corelib/enumerable"),t.$require("corelib/numeric"),function(t,e,r){function n(){}var i,s,$,a,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,_t,ut,dt,ft,ht,pt,gt,vt,mt,yt,bt,xt,kt,wt,Et,At,Ot,St,Rt,Tt,Mt,Ct,It,qt,Nt,zt,Dt,Bt,Ft,Pt,Lt,jt,Ut=n=Zt(Vt[0],e,"Array",n),Ht=Ut.$$proto,Gt=[Ut].concat(r);function Yt(t,e){return e.$$name===Xt.Array?t:e.$allocate().$replace(t.$to_a())}function Wt(t,e){return t===e||0===e?1:0<e&&e<t?Wt(t-1,e-1)+Wt(t-1,e):0}return Ut.$include(Xt.const_get_relative(Gt,"Enumerable")),Ht.$$is_array=!0,Xt.defs(Ut,"$[]",i=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return Yt(e,this)},i.$$arity=-1),Xt.def(Ut,"$initialize",s=function(t,e){var r,n,i=this,$=s.$$p,a=$||Jt;if(null==t&&(t=Jt),null==e&&(e=Jt),$&&(s.$$p=null),e!==Jt&&a!==Jt&&i.$warn("warning: block supersedes default value argument"),t>Xt.const_get_qualified(Xt.const_get_relative(Gt,"Integer"),"MAX")&&i.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"array size too big"),2<arguments.length&&i.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return i.splice(0,i.length),i;if(1===arguments.length){if(t.$$is_array)return i.$replace(t.$to_a()),i;if(t["$respond_to?"]("to_ary"))return i.$replace(t.$to_ary()),i}if((t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"))<0&&i.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"negative array size"),i.splice(0,i.length),a===Jt)for(r=0;r<t;r++)i.push(e);else for(r=0;r<t;r++)n=a(r),i[r]=n;return i},s.$$arity=-1),Xt.defs(Ut,"$try_convert",$=function(t){return Xt.const_get_relative(Gt,"Opal")["$coerce_to?"](t,Xt.const_get_relative(Gt,"Array"),"to_ary")},$.$$arity=1),Xt.def(Ut,"$&",a=function(t){t=Qt(Xt.const_get_relative(Gt,"Array")["$==="](t))?t.$to_a():Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Array"),"to_ary").$to_a();var e,r,n,i=[],$=te([],{});for(e=0,r=t.length;e<r;e++)Xt.hash_put($,t[e],!0);for(e=0,r=this.length;e<r;e++)n=this[e],void 0!==Xt.hash_delete($,n)&&i.push(n);return i},a.$$arity=1),Xt.def(Ut,"$|",o=function(t){t=Qt(Xt.const_get_relative(Gt,"Array")["$==="](t))?t.$to_a():Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Array"),"to_ary").$to_a();var e,r,n=te([],{});for(e=0,r=this.length;e<r;e++)Xt.hash_put(n,this[e],!0);for(e=0,r=t.length;e<r;e++)Xt.hash_put(n,t[e],!0);return n.$keys()},o.$$arity=1),Xt.def(Ut,"$*",l=function(t){if(Qt(t["$respond_to?"]("to_str")))return this.$join(t.$to_str());t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),Qt(t<0)&&this.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"negative argument");for(var e=[],r=this.$to_a(),n=0;n<t;n++)e=e.concat(r);return Yt(e,this.$class())},l.$$arity=1),Xt.def(Ut,"$+",c=function(t){return t=Qt(Xt.const_get_relative(Gt,"Array")["$==="](t))?t.$to_a():Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Array"),"to_ary").$to_a(),this.concat(t)},c.$$arity=1),Xt.def(Ut,"$-",_=function(t){if(t=Qt(Xt.const_get_relative(Gt,"Array")["$==="](t))?t.$to_a():Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Array"),"to_ary").$to_a(),Qt(0===this.length))return[];if(Qt(0===t.length))return this.slice();var e,r,n,i=[],$=te([],{});for(e=0,r=t.length;e<r;e++)Xt.hash_put($,t[e],!0);for(e=0,r=this.length;e<r;e++)n=this[e],void 0===Xt.hash_get($,n)&&i.push(n);return i},_.$$arity=1),Xt.def(Ut,"$<<",u=function(t){return this.push(t),this},u.$$arity=1),Xt.def(Ut,"$<=>",d=function(t){if(Qt(Xt.const_get_relative(Gt,"Array")["$==="](t)))t=t.$to_a();else{if(!Qt(t["$respond_to?"]("to_ary")))return Jt;t=t.$to_ary().$to_a()}if(this.$hash()===t.$hash())return 0;for(var e=Math.min(this.length,t.length),r=0;r<e;r++){var n=this[r]["$<=>"](t[r]);if(0!==n)return n}return this.length["$<=>"](t.length)},d.$$arity=1),Xt.def(Ut,"$==",f=function(t){var s={};return function t(e,r){var n,i,$,a;if(e===r)return!0;if(!r.$$is_array)return!!Xt.const_get_relative(Gt,"Opal")["$respond_to?"](r,"to_ary")&&r["$=="](e);if(e.constructor!==Array&&(e=e.$to_a()),r.constructor!==Array&&(r=r.$to_a()),e.length!==r.length)return!1;for(s[e.$object_id()]=!0,n=0,i=e.length;n<i;n++)if($=e[n],a=r[n],$.$$is_array){if(a.$$is_array&&a.length!==$.length)return!1;if(!s.hasOwnProperty($.$object_id())&&!t($,a))return!1}else if(!$["$=="](a))return!1;return!0}(this,t)},f.$$arity=1),Xt.def(Ut,"$[]",h=function(t,e){var r,n,i,$,a,s,o,l,c,_;return t.$$is_range?(s=t,_=(a=this).length,o=s.excl,l=Xt.Opal.$coerce_to(s.begin,Xt.Integer,"to_int"),c=Xt.Opal.$coerce_to(s.end,Xt.Integer,"to_int"),l<0&&(l+=_)<0?Jt:_<l?Jt:c<0&&(c+=_)<0?[]:(o||(c+=1),Yt(a.slice(l,c),a.$class()))):(n=t,i=e,$=(r=this).length,(n=Xt.Opal.$coerce_to(n,Xt.Integer,"to_int"))<0&&(n+=$)<0?Jt:void 0===i?$<=n||n<0?Jt:r[n]:(i=Xt.Opal.$coerce_to(i,Xt.Integer,"to_int"))<0||$<n||n<0?Jt:Yt(r.slice(n,n+i),r.$class()))},h.$$arity=-2),Xt.def(Ut,"$[]=",p=function(t,e,r){var n,i,$=this,a=Jt,s=Jt,o=$.length;if(Qt(Xt.const_get_relative(Gt,"Range")["$==="](t))){a=Qt(Xt.const_get_relative(Gt,"Array")["$==="](e))?e.$to_a():Qt(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e];var l=t.excl,c=Xt.const_get_relative(Gt,"Opal").$coerce_to(t.begin,Xt.const_get_relative(Gt,"Integer"),"to_int"),_=Xt.const_get_relative(Gt,"Opal").$coerce_to(t.end,Xt.const_get_relative(Gt,"Integer"),"to_int");if(c<0&&(c+=o)<0&&$.$raise(Xt.const_get_relative(Gt,"RangeError"),t.$inspect()+" out of range"),_<0&&(_+=o),l||(_+=1),o<c)for(n=o;n<c;n++)$[n]=Jt;return _<0?$.splice.apply($,[c,0].concat(a)):$.splice.apply($,[c,_-c].concat(a)),e}if(Qt(void 0===r)?s=1:(s=e,e=r,a=Qt(Xt.const_get_relative(Gt,"Array")["$==="](e))?e.$to_a():Qt(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]),t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),s=Xt.const_get_relative(Gt,"Opal").$coerce_to(s,Xt.const_get_relative(Gt,"Integer"),"to_int"),t<0&&(i=t,(t+=o)<0&&$.$raise(Xt.const_get_relative(Gt,"IndexError"),"index "+i+" too small for array; minimum "+-$.length)),s<0&&$.$raise(Xt.const_get_relative(Gt,"IndexError"),"negative length ("+s+")"),o<t)for(n=o;n<t;n++)$[n]=Jt;return void 0===r?$[t]=e:$.splice.apply($,[t,s].concat(a)),e},p.$$arity=-3),Xt.def(Ut,"$any?",g=function(t){var e,r=g.$$p,n=Jt,i=Jt;for(r&&(g.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return 0!==this.length&&ee(this,Xt.find_super_dispatcher(this,"any?",g,!1),n,r)},g.$$arity=-1),Xt.def(Ut,"$assoc",v=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&e[0]["$=="](t))return e;return Jt},v.$$arity=1),Xt.def(Ut,"$at",m=function(t){return(t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length?Jt:this[t]},m.$$arity=1),Xt.def(Ut,"$bsearch_index",y=function(){var t=y.$$p,e=t||Jt;if(t&&(y.$$p=null),e===Jt)return this.$enum_for("bsearch_index");for(var r,n,i,$=0,a=this.length,s=!1,o=Jt;$<a;){if(n=this[r=$+Math.floor((a-$)/2)],!0===(i=Xt.yield1(e,n)))o=r,s=!0;else if(!1===i||i===Jt)s=!1;else if(i.$$is_number){if(0===i)return r;s=i<0}else this.$raise(Xt.const_get_relative(Gt,"TypeError"),"wrong argument type "+i.$class()+" (must be numeric, true, false or nil)");s?a=r:$=r+1}return o},y.$$arity=0),Xt.def(Ut,"$bsearch",b=function(){var t,e=b.$$p,r=e||Jt;return e&&(b.$$p=null),r===Jt?this.$enum_for("bsearch"):null!=(t=ee(this,"bsearch_index",[],r.$to_proc()))&&t.$$is_number?this[t]:t},b.$$arity=0),Xt.def(Ut,"$cycle",x=function(n){var i,t,e,r,$=x.$$p,a=$||Jt;if(null==n&&(n=Jt),$&&(x.$$p=null),a===Jt)return ee(this,"enum_for",["cycle",n],((i=function(){var t,e,r=i.$$s||this;return Qt(n["$nil?"]())?Xt.const_get_qualified(Xt.const_get_relative(Gt,"Float"),"INFINITY"):(n=Xt.const_get_relative(Gt,"Opal")["$coerce_to!"](n,Xt.const_get_relative(Gt,"Integer"),"to_int"),Qt(Kt(n,0))?(t=r.$enumerator_size(),e=n,"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)):0)}).$$s=this,i.$$arity=0,i));if(Qt(Qt(t=this["$empty?"]())?t:n["$=="](0)))return Jt;if(n===Jt)for(;;)for(e=0,r=this.length;e<r;e++)Xt.yield1(a,this[e]);else{if((n=Xt.const_get_relative(Gt,"Opal")["$coerce_to!"](n,Xt.const_get_relative(Gt,"Integer"),"to_int"))<=0)return this;for(;0<n;){for(e=0,r=this.length;e<r;e++)Xt.yield1(a,this[e]);n--}}return this},x.$$arity=-1),Xt.def(Ut,"$clear",k=function(){return this.splice(0,this.length),this},k.$$arity=0),Xt.def(Ut,"$count",w=function(t){var e,r,n=w.$$p,i=n||Jt,$=Jt,a=Jt;for(null==t&&(t=Jt),n&&(w.$$p=null),a=0,r=arguments.length,$=new Array(r);a<r;a++)$[a]=arguments[a];return Qt(Qt(e=t)?e:i)?ee(this,Xt.find_super_dispatcher(this,"count",w,!1),$,n):this.$size()},w.$$arity=-1),Xt.def(Ut,"$initialize_copy",E=function(t){return this.$replace(t)},E.$$arity=1),Xt.def(Ut,"$collect",A=function(){var t,e=A.$$p,r=e||Jt;if(e&&(A.$$p=null),r===Jt)return ee(this,"enum_for",["collect"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n=[],i=0,$=this.length;i<$;i++){var a=Xt.yield1(r,this[i]);n.push(a)}return n},A.$$arity=0),Xt.def(Ut,"$collect!",O=function(){var t,e=O.$$p,r=e||Jt;if(e&&(O.$$p=null),r===Jt)return ee(this,"enum_for",["collect!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n=0,i=this.length;n<i;n++){var $=Xt.yield1(r,this[n]);this[n]=$}return this},O.$$arity=0),Xt.def(Ut,"$combination",S=function(t){var e,r,n,i,$,a,s,o,l,c=this,_=S.$$p,u=_||Jt;if(_&&(S.$$p=null),r=Xt.const_get_relative(Gt,"Opal")["$coerce_to!"](t,Xt.const_get_relative(Gt,"Integer"),"to_int"),u===Jt)return ee(c,"enum_for",["combination",r],((e=function(){return Wt((e.$$s||this).length,r)}).$$s=c,e.$$arity=0,e));if(0===r)Xt.yield1(u,[]);else if(1===r)for(n=0,i=c.length;n<i;n++)Xt.yield1(u,[c[n]]);else if(r===c.length)Xt.yield1(u,c.slice());else if(0<=r&&r<c.length){for($=[],n=0;n<=r+1;n++)$.push(0);for(o=!(a=[]),$[s=0]=-1;!o;){for(a[s]=c[$[s+1]];s<r-1;)l=$[++s+1]=$[s]+1,a[s]=c[l];for(Xt.yield1(u,a.slice()),s++;o=0===s,$[s]++,$[--s+1]+r===c.length+s+1;);}}return c},S.$$arity=1),Xt.def(Ut,"$repeated_combination",R=function(t){var e,r,n=R.$$p,s=n||Jt;if(n&&(R.$$p=null),r=Xt.const_get_relative(Gt,"Opal")["$coerce_to!"](t,Xt.const_get_relative(Gt,"Integer"),"to_int"),s===Jt)return ee(this,"enum_for",["repeated_combination",r],((e=function(){return Wt((e.$$s||this).length+r-1,r)}).$$s=this,e.$$arity=0,e));return 0<=r&&function t(e,r,n,i){if(n.length!=e)for(var $=r;$<i.length;$++)n.push(i[$]),t(e,$,n,i),n.pop();else{var a=n.slice();Xt.yield1(s,a)}}(r,0,[],this),this},R.$$arity=1),Xt.def(Ut,"$compact",T=function(){for(var t,e=[],r=0,n=this.length;r<n;r++)(t=this[r])!==Jt&&e.push(t);return e},T.$$arity=0),Xt.def(Ut,"$compact!",M=function(){for(var t=this.length,e=0,r=this.length;e<r;e++)this[e]===Jt&&(this.splice(e,1),r--,e--);return this.length===t?Jt:this},M.$$arity=0),Xt.def(Ut,"$concat",C=function(t){var r,i,e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var a=0;a<n;a++)e[a-0]=arguments[a];return e=ee(e,"map",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=Jt),t=Qt(Xt.const_get_relative(Gt,"Array")["$==="](t))?t.$to_a():Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Array"),"to_ary").$to_a(),Qt(t["$equal?"](e))&&(t=t.$dup()),t}).$$s=this,r.$$arity=1,r)),ee(e,"each",[],((i=function(t){var e=i.$$s||this;null==t&&(t=Jt);for(var r=0,n=t.length;r<n;r++)e.push(t[r])}).$$s=this,i.$$arity=1,i)),this},C.$$arity=-1),Xt.def(Ut,"$delete",I=function(t){var e=I.$$p,r=e||Jt;e&&(I.$$p=null);for(var n=this.length,i=0,$=n;i<$;i++)this[i]["$=="](t)&&(this.splice(i,1),$--,i--);return this.length===n?r!==Jt?Xt.yieldX(r,[]):Jt:t},I.$$arity=1),Xt.def(Ut,"$delete_at",q=function(t){if((t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length)return Jt;var e=this[t];return this.splice(t,1),e},q.$$arity=1),Xt.def(Ut,"$delete_if",N=function(){var t,e=N.$$p,r=e||Jt;if(e&&(N.$$p=null),r===Jt)return ee(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.length;i<$;i++)!1!==(n=r(this[i]))&&n!==Jt&&(this.splice(i,1),$--,i--);return this},N.$$arity=0),Xt.def(Ut,"$dig",z=function(t,e){var r,n=Jt,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var a=1;a<i;a++)r[a-1]=arguments[a];return(n=this["$[]"](t))===Jt||0===r.length?n:(Qt(n["$respond_to?"]("dig"))||this.$raise(Xt.const_get_relative(Gt,"TypeError"),n.$class()+" does not have #dig method"),ee(n,"dig",Xt.to_a(r)))},z.$$arity=-2),Xt.def(Ut,"$drop",D=function(t){return t<0&&this.$raise(Xt.const_get_relative(Gt,"ArgumentError")),this.slice(t)},D.$$arity=1),Xt.def(Ut,"$dup",B=function(){var t,e=B.$$p,r=Jt,n=Jt;for(e&&(B.$$p=null),n=0,t=arguments.length,r=new Array(t);n<t;n++)r[n]=arguments[n];return this.$$class===Xt.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):ee(this,Xt.find_super_dispatcher(this,"dup",B,!1),r,e)},B.$$arity=0),Xt.def(Ut,"$each",F=function(){var t,e=F.$$p,r=e||Jt;if(e&&(F.$$p=null),r===Jt)return ee(this,"enum_for",["each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n=0,i=this.length;n<i;n++)Xt.yield1(r,this[n]);return this},F.$$arity=0),Xt.def(Ut,"$each_index",P=function(){var t,e=P.$$p,r=e||Jt;if(e&&(P.$$p=null),r===Jt)return ee(this,"enum_for",["each_index"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n=0,i=this.length;n<i;n++)Xt.yield1(r,n);return this},P.$$arity=0),Xt.def(Ut,"$empty?",L=function(){return 0===this.length},L.$$arity=0),Xt.def(Ut,"$eql?",j=function(t){var s={};return function t(e,r){var n,i,$,a;if(!r.$$is_array)return!1;if(r=r.$to_a(),e.length!==r.length)return!1;for(s[e.$object_id()]=!0,n=0,i=e.length;n<i;n++)if($=e[n],a=r[n],$.$$is_array){if(a.$$is_array&&a.length!==$.length)return!1;if(!s.hasOwnProperty($.$object_id())&&!t($,a))return!1}else if(!$["$eql?"](a))return!1;return!0}(this,t)},j.$$arity=1),Xt.def(Ut,"$fetch",U=function(t,e){var r=U.$$p,n=r||Jt;r&&(U.$$p=null);var i=t;return(t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"))<0&&(t+=this.length),0<=t&&t<this.length?this[t]:(n!==Jt&&null!=e&&this.$warn("warning: block supersedes default value argument"),n!==Jt?n(i):null!=e?e:void(0===this.length?this.$raise(Xt.const_get_relative(Gt,"IndexError"),"index "+i+" outside of array bounds: 0...0"):this.$raise(Xt.const_get_relative(Gt,"IndexError"),"index "+i+" outside of array bounds: -"+this.length+"..."+this.length)))},U.$$arity=-2),Xt.def(Ut,"$fill",H=function(t){var e,r,n,i,$,a=this,s=H.$$p,o=s||Jt,l=Jt,c=Jt,_=Jt,u=Jt,d=Jt,f=arguments.length,h=f-0;h<0&&(h=0),n=new Array(h);for(var p=0;p<f;p++)n[p-0]=arguments[p];if(s&&(H.$$p=null),Qt(o)?(Qt(2<n.length)&&a.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"wrong number of arguments ("+n.$length()+" for 0..2)"),r=n,l=null==(e=Xt.to_ary(r))[0]?Jt:e[0],c=null==e[1]?Jt:e[1]):(Qt(0==n.length)?a.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):Qt(3<n.length)&&a.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"wrong number of arguments ("+n.$length()+" for 1..3)"),r=n,_=null==(e=Xt.to_ary(r))[0]?Jt:e[0],l=null==e[1]?Jt:e[1],c=null==e[2]?Jt:e[2]),Qt(Xt.const_get_relative(Gt,"Range")["$==="](l))){if(Qt(c)&&a.$raise(Xt.const_get_relative(Gt,"TypeError"),"length invalid with range"),u=Xt.const_get_relative(Gt,"Opal").$coerce_to(l.$begin(),Xt.const_get_relative(Gt,"Integer"),"to_int"),Qt(u<0)&&(u+=this.length),Qt(u<0)&&a.$raise(Xt.const_get_relative(Gt,"RangeError"),l.$inspect()+" out of range"),d=Xt.const_get_relative(Gt,"Opal").$coerce_to(l.$end(),Xt.const_get_relative(Gt,"Integer"),"to_int"),Qt(d<0)&&(d+=this.length),Qt(l["$exclude_end?"]())||(d+=1),Qt(d<=u))return a}else if(Qt(l))if(u=Xt.const_get_relative(Gt,"Opal").$coerce_to(l,Xt.const_get_relative(Gt,"Integer"),"to_int"),Qt(u<0)&&(u+=this.length),Qt(u<0)&&(u=0),Qt(c)){if(d=Xt.const_get_relative(Gt,"Opal").$coerce_to(c,Xt.const_get_relative(Gt,"Integer"),"to_int"),Qt(0==d))return a;d+=u}else d=this.length;else u=0,d=this.length;if(Qt(u>this.length))for(i=this.length;i<d;i++)a[i]=Jt;if(Qt(d>this.length)&&(this.length=d),Qt(o))for(this.length;u<d;u++)$=o(u),a[u]=$;else for(this.length;u<d;u++)a[u]=_;return a},H.$$arity=-1),Xt.def(Ut,"$first",G=function(t){return null==t?0===this.length?Jt:this[0]:((t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"))<0&&this.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"negative array size"),this.slice(0,t))},G.$$arity=-1),Xt.def(Ut,"$flatten",Y=function(t){var o=this;return void 0!==t&&(t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int")),Yt(function t(e,r){var n,i,$,a,s=[];for(n=0,i=(e=e.$to_a()).length;n<i;n++)if($=e[n],Xt.const_get_relative(Gt,"Opal")["$respond_to?"]($,"to_ary",!0))if((a=$.$to_ary())!==Jt)switch(a.$$is_array||o.$raise(Xt.const_get_relative(Gt,"TypeError")),a===o&&o.$raise(Xt.const_get_relative(Gt,"ArgumentError")),r){case void 0:s=s.concat(t(a));break;case 0:s.push(a);break;default:s.push.apply(s,t(a,r-1))}else s.push($);else s.push($);return s}(o,t),o.$class())},Y.$$arity=-1),Xt.def(Ut,"$flatten!",W=function(t){var e=this.$flatten(t);if(this.length==e.length){for(var r=0,n=this.length;r<n&&this[r]===e[r];r++);if(r==n)return Jt}return this.$replace(e),this},W.$$arity=-1),Xt.def(Ut,"$hash",X=function(){var t,e,r,n=void 0===Xt.hash_ids,i=["A"],$=this.$object_id();try{if(n&&(Xt.hash_ids=Object.create(null)),Xt.hash_ids[$])return"self";for(r in Xt.hash_ids)if(t=Xt.hash_ids[r],this["$eql?"](t))return"self";for(Xt.hash_ids[$]=this,e=0;e<this.length;e++)t=this[e],i.push(t.$hash());return i.join(",")}finally{n&&(Xt.hash_ids=void 0)}},X.$$arity=0),Xt.def(Ut,"$include?",K=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return!0;return!1},K.$$arity=1),Xt.def(Ut,"$index",V=function(t){var e,r,n,i=V.$$p,$=i||Jt;if(i&&(V.$$p=null),null!=t&&$!==Jt&&this.$warn("warning: given block not used"),null!=t){for(e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return e}else{if($===Jt)return this.$enum_for("index");for(e=0,r=this.length;e<r;e++)if(!1!==(n=$(this[e]))&&n!==Jt)return e}return Jt},V.$$arity=-1),Xt.def(Ut,"$insert",J=function(t,e){var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];if(t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),0<r.length){if(t<0&&(t+=this.length+1)<0&&this.$raise(Xt.const_get_relative(Gt,"IndexError"),t+" is out of bounds"),t>this.length)for(var a=this.length;a<t;a++)this.push(Jt);this.splice.apply(this,[t,0].concat(r))}return this},J.$$arity=-2),Xt.def(Ut,"$inspect",Z=function(){for(var t=[],e=this.$__id__(),r=0,n=this.length;r<n;r++){var i=this["$[]"](r);i.$__id__()===e?t.push("[...]"):t.push(i.$inspect())}return"["+t.join(", ")+"]"},Z.$$arity=0),Xt.def(Ut,"$join",Q=function(t){if(null==re[","]&&(re[","]=Jt),null==t&&(t=Jt),Qt(0===this.length))return"";Qt(t===Jt)&&(t=re[","]);var e,r,n,i,$=[];for(e=0,r=this.length;e<r;e++)n=this[e],Xt.const_get_relative(Gt,"Opal")["$respond_to?"](n,"to_str")&&(i=n.$to_str())!==Jt?$.push(i.$to_s()):Xt.const_get_relative(Gt,"Opal")["$respond_to?"](n,"to_ary")&&((i=n.$to_ary())===this&&this.$raise(Xt.const_get_relative(Gt,"ArgumentError")),i!==Jt)?$.push(i.$join(t)):Xt.const_get_relative(Gt,"Opal")["$respond_to?"](n,"to_s")&&(i=n.$to_s())!==Jt?$.push(i):this.$raise(Xt.const_get_relative(Gt,"NoMethodError").$new(Xt.inspect(n)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return t===Jt?$.join(""):$.join(Xt.const_get_relative(Gt,"Opal")["$coerce_to!"](t,Xt.const_get_relative(Gt,"String"),"to_str").$to_s())},Q.$$arity=-1),Xt.def(Ut,"$keep_if",tt=function(){var t,e=tt.$$p,r=e||Jt;if(e&&(tt.$$p=null),r===Jt)return ee(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.length;i<$;i++)!1!==(n=r(this[i]))&&n!==Jt||(this.splice(i,1),$--,i--);return this},tt.$$arity=0),Xt.def(Ut,"$last",et=function(t){return null==t?0===this.length?Jt:this[this.length-1]:((t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"))<0&&this.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"negative array size"),t>this.length&&(t=this.length),this.slice(this.length-t,this.length))},et.$$arity=-1),Xt.def(Ut,"$length",rt=function(){return this.length},rt.$$arity=0),Xt.alias(Ut,"map","collect"),Xt.alias(Ut,"map!","collect!"),Xt.def(Ut,"$max",nt=function(t){var e=nt.$$p,r=e||Jt;return e&&(nt.$$p=null),ee(this.$each(),"max",[t],r.$to_proc())},nt.$$arity=-1),Xt.def(Ut,"$min",it=function(){var t=it.$$p,e=t||Jt;return t&&(it.$$p=null),ee(this.$each(),"min",[],e.$to_proc())},it.$$arity=0),Xt.def(Ut,"$permutation",$t=function(e){var r,s,t,o,l=this,n=$t.$$p,i=n||Jt,$=Jt,a=Jt;if(n&&($t.$$p=null),i===Jt)return ee(l,"enum_for",["permutation",e],((r=function(){var t=r.$$s||this;return function(t,e){for(var r=0<=e?1:0;e;)r*=t,t--,e--;return r}(t.length,void 0===e?t.length:e)}).$$s=l,r.$$arity=0,r));if((e=void 0===e?l.length:Xt.const_get_relative(Gt,"Opal").$coerce_to(e,Xt.const_get_relative(Gt,"Integer"),"to_int"))<0||l.length<e);else if(0===e)Xt.yield1(i,[]);else if(1===e)for(var c=0;c<l.length;c++)Xt.yield1(i,[l[c]]);else $=Xt.const_get_relative(Gt,"Array").$new(e),a=Xt.const_get_relative(Gt,"Array").$new(l.length,!1),s=function(t,e,r,n,i){l=this;for(var $=0;$<l.length;$++)if(n["$[]"]($)["$!"]())if(e[r]=$,r<t-1)n[$]=!0,s.call(l,t,e,r+1,n,i),n[$]=!1;else{o=[];for(var a=0;a<e.length;a++)o.push(l[e[a]]);Xt.yield1(i,o)}},i!==Jt?(t=l.slice(),s.call(t,e,$,0,a,i)):s.call(l,e,$,0,a,i);return l},$t.$$arity=-1),Xt.def(Ut,"$repeated_permutation",at=function(t){var n,i,e=at.$$p,a=e||Jt;if(e&&(at.$$p=null),i=Xt.const_get_relative(Gt,"Opal")["$coerce_to!"](t,Xt.const_get_relative(Gt,"Integer"),"to_int"),a===Jt)return ee(this,"enum_for",["repeated_permutation",i],((n=function(){var t,e,r=n.$$s||this;return Qt((e=0,"number"==typeof(t=i)&&"number"==typeof e?e<=t:t["$>="](e)))?r.$size()["$**"](i):0}).$$s=this,n.$$arity=0,n));return function t(e,r,n){if(r.length!=e)for(var i=0;i<n.length;i++)r.push(n[i]),t(e,r,n),r.pop();else{var $=r.slice();Xt.yield1(a,$)}}(i,[],this.slice()),this},at.$$arity=1),Xt.def(Ut,"$pop",st=function(t){var e=this;return Qt(void 0===t)?Qt(0===e.length)?Jt:e.pop():(t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),Qt(t<0)&&e.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"negative array size"),Qt(0===e.length)?[]:Qt(t>e.length)?e.splice(0,e.length):e.splice(e.length-t,e.length))},st.$$arity=-1),Xt.def(Ut,"$product",ot=function(t){var e,r=ot.$$p,n=r||Jt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];r&&(ot.$$p=null);var s,o,l,c,_=n!==Jt?null:[],u=e.length+1,d=new Array(u),f=new Array(u),h=new Array(u),p=1;for(h[0]=this,s=1;s<u;s++)h[s]=Xt.const_get_relative(Gt,"Opal").$coerce_to(e[s-1],Xt.const_get_relative(Gt,"Array"),"to_ary");for(s=0;s<u;s++){if(0===(c=h[s].length))return _||this;2147483647<(p*=c)&&this.$raise(Xt.const_get_relative(Gt,"RangeError"),"too big to product"),f[s]=c,d[s]=0}t:for(;;){for(l=[],s=0;s<u;s++)l.push(h[s][d[s]]);for(_?_.push(l):Xt.yield1(n,l),d[o=u-1]++;d[o]===f[o];){if(d[o]=0,--o<0)break t;d[o]++}}return _||this},ot.$$arity=-1),Xt.def(Ut,"$push",lt=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,a=e.length;$<a;$++)this.push(e[$]);return this},lt.$$arity=-1),Xt.alias(Ut,"append","push"),Xt.def(Ut,"$rassoc",ct=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return Jt},ct.$$arity=1),Xt.def(Ut,"$reject",_t=function(){var t,e=_t.$$p,r=e||Jt;if(e&&(_t.$$p=null),r===Jt)return ee(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=[],$=0,a=this.length;$<a;$++)!1!==(n=r(this[$]))&&n!==Jt||i.push(this[$]);return i},_t.$$arity=0),Xt.def(Ut,"$reject!",ut=function(){var t,e,r=ut.$$p,n=r||Jt;return r&&(ut.$$p=null),n===Jt?ee(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(e=this.$length(),ee(this,"delete_if",[],n.$to_proc()),this.$length()["$=="](e)?Jt:this)},ut.$$arity=0),Xt.def(Ut,"$replace",dt=function(t){return t=Qt(Xt.const_get_relative(Gt,"Array")["$==="](t))?t.$to_a():Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,t),this},dt.$$arity=1),Xt.def(Ut,"$reverse",ft=function(){return this.slice(0).reverse()},ft.$$arity=0),Xt.def(Ut,"$reverse!",ht=function(){return this.reverse()},ht.$$arity=0),Xt.def(Ut,"$reverse_each",pt=function(){var t,e=pt.$$p,r=e||Jt;return e&&(pt.$$p=null),r===Jt?ee(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(ee(this.$reverse(),"each",[],r.$to_proc()),this)},pt.$$arity=0),Xt.def(Ut,"$rindex",gt=function(t){var e,r,n=gt.$$p,i=n||Jt;if(n&&(gt.$$p=null),null!=t&&i!==Jt&&this.$warn("warning: given block not used"),null!=t){for(e=this.length-1;0<=e&&!(e>=this.length);e--)if(this[e]["$=="](t))return e}else if(i!==Jt){for(e=this.length-1;0<=e&&!(e>=this.length);e--)if(!1!==(r=i(this[e]))&&r!==Jt)return e}else if(null==t)return this.$enum_for("rindex");return Jt},gt.$$arity=-1),Xt.def(Ut,"$rotate",vt=function(t){var e,r,n,i;return null==t&&(t=1),t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),1===this.length?this.slice():0===this.length?[]:(r=t%(e=this.slice()).length,n=e.slice(r),i=e.slice(0,r),n.concat(i))},vt.$$arity=-1),Xt.def(Ut,"$rotate!",mt=function(t){var e;return null==t&&(t=1),0===this.length||1===this.length?this:(t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),e=this.$rotate(t),this.$replace(e))},mt.$$arity=-1),function(t,e,r){function n(){}var i,$,a=n=Zt(t,null,"SampleRandom",n),s=a.$$proto,o=[a].concat(r);s.rng=Jt,Xt.def(a,"$initialize",i=function(t){return this.rng=t},i.$$arity=1),Xt.def(a,"$rand",$=function(t){var e;return e=Xt.const_get_relative(o,"Opal").$coerce_to(this.rng.$rand(t),Xt.const_get_relative(o,"Integer"),"to_int"),Qt(e<0)&&this.$raise(Xt.const_get_relative(o,"RangeError"),"random value must be >= 0"),Qt(e<t)||this.$raise(Xt.const_get_relative(o,"RangeError"),"random value must be less than Array size"),e},$.$$arity=1)}(Gt[0],0,Gt),Xt.def(Ut,"$sample",yt=function(t,e){var r,n,i,$,a,s,o,l,c,_=this,u=Jt,d=Jt;if(Qt(void 0===t))return _.$at(Xt.const_get_relative(Gt,"Kernel").$rand(_.length));if(Qt(void 0===e)?Qt(u=Xt.const_get_relative(Gt,"Opal")["$coerce_to?"](t,Xt.const_get_relative(Gt,"Hash"),"to_hash"))?(e=u,t=Jt):(e=Jt,t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int")):(t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),e=Xt.const_get_relative(Gt,"Opal").$coerce_to(e,Xt.const_get_relative(Gt,"Hash"),"to_hash")),Qt(Qt(r=t)?t<0:r)&&_.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"count must be greater than 0"),Qt(e)&&(d=e["$[]"]("random")),d=Qt(Qt(r=d)?d["$respond_to?"]("rand"):r)?Xt.const_get_relative(Gt,"SampleRandom").$new(d):Xt.const_get_relative(Gt,"Kernel"),!Qt(t))return _[d.$rand(_.length)];switch(t>_.length&&(t=_.length),t){case 0:return[];case 1:return[_[d.$rand(_.length)]];case 2:return(a=d.$rand(_.length))===(s=d.$rand(_.length))&&(s=0===a?a+1:a-1),[_[a],_[s]];default:if(3<_.length/t){for(n=!1,i=0,a=1,($=Xt.const_get_relative(Gt,"Array").$new(t))[0]=d.$rand(_.length);a<t;){for(o=d.$rand(_.length),s=0;s<a;){for(;o===$[s];){if(100<++i){n=!0;break}o=d.$rand(_.length)}if(n)break;s++}if(n)break;$[a]=o,a++}if(!n){for(a=0;a<t;)$[a]=_[$[a]],a++;return $}}$=_.slice();for(var f=0;f<t;f++)l=d.$rand(_.length),c=$[f],$[f]=$[l],$[l]=c;return t===_.length?$:$["$[]"](0,t)}},yt.$$arity=-1),Xt.def(Ut,"$select",bt=function(){var t,e=bt.$$p,r=e||Jt;if(e&&(bt.$$p=null),r===Jt)return ee(this,"enum_for",["select"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=[],a=0,s=this.length;a<s;a++)n=this[a],!1!==(i=Xt.yield1(r,n))&&i!==Jt&&$.push(n);return $},bt.$$arity=0),Xt.def(Ut,"$select!",xt=function(){var t,e=xt.$$p,r=e||Jt;if(e&&(xt.$$p=null),r===Jt)return ee(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var n=this.length;return ee(this,"keep_if",[],r.$to_proc()),this.length===n?Jt:this},xt.$$arity=0),Xt.def(Ut,"$shift",kt=function(t){return Qt(void 0===t)?Qt(0===this.length)?Jt:this.shift():(t=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),Qt(t<0)&&this.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"negative array size"),Qt(0===this.length)?[]:this.splice(0,t))},kt.$$arity=-1),Xt.alias(Ut,"size","length"),Xt.def(Ut,"$shuffle",wt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},wt.$$arity=-1),Xt.def(Ut,"$shuffle!",Et=function(t){var e,r,n,i=this.length;for(void 0!==t&&(t=Xt.const_get_relative(Gt,"Opal")["$coerce_to?"](t,Xt.const_get_relative(Gt,"Hash"),"to_hash"))!==Jt&&(t=t["$[]"]("random"))!==Jt&&t["$respond_to?"]("rand")&&(e=t);i;)e?((r=e.$rand(i).$to_int())<0&&this.$raise(Xt.const_get_relative(Gt,"RangeError"),"random number too small "+r),i<=r&&this.$raise(Xt.const_get_relative(Gt,"RangeError"),"random number too big "+r)):r=this.$rand(i),n=this[--i],this[i]=this[r],this[r]=n;return this},Et.$$arity=-1),Xt.alias(Ut,"slice","[]"),Xt.def(Ut,"$slice!",At=function(t,e){var r=this,n=Jt,i=Jt,$=Jt,a=Jt,s=Jt;if(n=Jt,Qt(void 0===e))if(Qt(Xt.const_get_relative(Gt,"Range")["$==="](t))){i=t,n=r["$[]"](i),$=Xt.const_get_relative(Gt,"Opal").$coerce_to(i.$begin(),Xt.const_get_relative(Gt,"Integer"),"to_int"),a=Xt.const_get_relative(Gt,"Opal").$coerce_to(i.$end(),Xt.const_get_relative(Gt,"Integer"),"to_int"),$<0&&($+=r.length),a<0?a+=r.length:a>=r.length&&(a=r.length-1,i.excl&&(a+=1));var o=a-$;i.excl?a-=1:o+=1,$<r.length&&0<=$&&a<r.length&&0<=a&&0<o&&r.splice($,o)}else{if((s=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"))<0&&(s+=r.length),s<0||s>=r.length)return Jt;n=r[s],0===s?r.shift():r.splice(s,1)}else{if(s=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),(e=Xt.const_get_relative(Gt,"Opal").$coerce_to(e,Xt.const_get_relative(Gt,"Integer"),"to_int"))<0)return Jt;n=r["$[]"](s,e),s<0&&(s+=r.length),s+e>r.length&&(e=r.length-s),s<r.length&&0<=s&&r.splice(s,e)}return n},At.$$arity=-2),Xt.def(Ut,"$sort",Ot=function(){var $=this,t=Ot.$$p,a=t||Jt;return t&&(Ot.$$p=null),Qt(1<$.length)?(a===Jt&&(a=function(t,e){return t["$<=>"](e)}),$.slice().sort(function(t,e){var r,n,i=a(t,e);return i===Jt&&$.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"comparison of "+t.$inspect()+" with "+e.$inspect()+" failed"),Kt(i,0)?1:(n=0,("number"==typeof(r=i)&&"number"==typeof n?r<n:r["$<"](n))?-1:0)})):$},Ot.$$arity=0),Xt.def(Ut,"$sort!",St=function(){var t,e=St.$$p,r=e||Jt;e&&(St.$$p=null),t=r!==Jt?ee(this.slice(),"sort",[],r.$to_proc()):this.slice().$sort();for(var n=this.length=0,i=t.length;n<i;n++)this.push(t[n]);return this},St.$$arity=0),Xt.def(Ut,"$sort_by!",Rt=function(){var t,e=Rt.$$p,r=e||Jt;return e&&(Rt.$$p=null),r===Jt?ee(this,"enum_for",["sort_by!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):this.$replace(ee(this,"sort_by",[],r.$to_proc()))},Rt.$$arity=0),Xt.def(Ut,"$take",Tt=function(t){return t<0&&this.$raise(Xt.const_get_relative(Gt,"ArgumentError")),this.slice(0,t)},Tt.$$arity=1),Xt.def(Ut,"$take_while",Mt=function(){var t=Mt.$$p,e=t||Jt;t&&(Mt.$$p=null);for(var r,n,i=[],$=0,a=this.length;$<a;$++){if(!1===(n=e(r=this[$]))||n===Jt)return i;i.push(r)}return i},Mt.$$arity=0),Xt.def(Ut,"$to_a",Ct=function(){return this},Ct.$$arity=0),Xt.alias(Ut,"to_ary","to_a"),Xt.def(Ut,"$to_h",It=function(){var t,e,r,n,i=this.length,$=te([],{});for(t=0;t<i;t++)(e=Xt.const_get_relative(Gt,"Opal")["$coerce_to?"](this[t],Xt.const_get_relative(Gt,"Array"),"to_ary")).$$is_array||this.$raise(Xt.const_get_relative(Gt,"TypeError"),"wrong element type "+e.$class()+" at "+t+" (expected array)"),2!==e.length&&this.$raise(Xt.const_get_relative(Gt,"ArgumentError"),"wrong array length at "+t+" (expected 2, was "+e.$length()+")"),r=e[0],n=e[1],Xt.hash_put($,r,n);return $},It.$$arity=0),Xt.alias(Ut,"to_s","inspect"),Xt.def(Ut,"$transpose",qt=function(){var r,s=Jt,n=Jt;return Qt(this["$empty?"]())?[]:(s=[],n=Jt,ee(this,"each",[],((r=function($){var t,a,e=r.$$s||this;return null==$&&($=Jt),$=Qt(Xt.const_get_relative(Gt,"Array")["$==="]($))?$.$to_a():Xt.const_get_relative(Gt,"Opal").$coerce_to($,Xt.const_get_relative(Gt,"Array"),"to_ary").$to_a(),n=Qt(t=n)?t:$.length,Qt($.length["$!="](n))&&e.$raise(Xt.const_get_relative(Gt,"IndexError"),"element size differs ("+$.length+" should be "+n+")"),ee($.length,"times",[],((a=function(t){a.$$s;var e,r,n,i=Jt;return null==t&&(t=Jt),(Qt(e=s["$[]"](t))?e:(i=[t,[]],ee(s,"[]=",Xt.to_a(i)),i[(r=i.length,n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))]))["$<<"]($.$at(t))}).$$s=e,a.$$arity=1,a))}).$$s=this,r.$$arity=1,r)),s)},qt.$$arity=0),Xt.def(Ut,"$uniq",Nt=function(){var t=Nt.$$p,e=t||Jt;t&&(Nt.$$p=null);var r,n,i,$,a=te([],{});if(e===Jt)for(r=0,n=this.length;r<n;r++)i=this[r],void 0===Xt.hash_get(a,i)&&Xt.hash_put(a,i,i);else for(r=0,n=this.length;r<n;r++)i=this[r],$=Xt.yield1(e,i),void 0===Xt.hash_get(a,$)&&Xt.hash_put(a,$,i);return Yt(a.$values(),this.$class())},Nt.$$arity=0),Xt.def(Ut,"$uniq!",zt=function(){var t=zt.$$p,e=t||Jt;t&&(zt.$$p=null);var r,n,i,$,a=this.length,s=te([],{});for(r=0,n=a;r<n;r++)i=this[r],$=e===Jt?i:Xt.yield1(e,i),void 0!==Xt.hash_get(s,$)?(this.splice(r,1),n--,r--):Xt.hash_put(s,$,i);return this.length===a?Jt:this},zt.$$arity=0),Xt.def(Ut,"$unshift",Dt=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=e.length-1;0<=$;$--)this.unshift(e[$]);return this},Dt.$$arity=-1),Xt.alias(Ut,"prepend","unshift"),Xt.def(Ut,"$values_at",Bt=function(t){var a,e,s=Jt,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return s=[],ee(e,"each",[],((a=function(t){var r,e=a.$$s||this,n=Jt,i=Jt,$=Jt;return null==t&&(t=Jt),Qt(t["$is_a?"](Xt.const_get_relative(Gt,"Range")))?(n=Xt.const_get_relative(Gt,"Opal").$coerce_to(t.$last(),Xt.const_get_relative(Gt,"Integer"),"to_int"),(i=Xt.const_get_relative(Gt,"Opal").$coerce_to(t.$first(),Xt.const_get_relative(Gt,"Integer"),"to_int"))<0?(i+=e.length,Jt):(n<0&&(n+=e.length),t["$exclude_end?"]()&&n--,n<i?Jt:ee(i,"upto",[n],((r=function(t){var e=r.$$s||this;return null==t&&(t=Jt),s["$<<"](e.$at(t))}).$$s=e,r.$$arity=1,r)))):($=Xt.const_get_relative(Gt,"Opal").$coerce_to(t,Xt.const_get_relative(Gt,"Integer"),"to_int"),s["$<<"](e.$at($)))}).$$s=this,a.$$arity=1,a)),s},Bt.$$arity=-1),Xt.def(Ut,"$zip",Ft=function(t){var e,r,n=Ft.$$p,i=n||Jt,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<$;s++)r[s-0]=arguments[s];n&&(Ft.$$p=null);var o,l,c,_,u,d=[],f=this.length;for(_=0,u=r.length;_<u;_++)(l=r[_]).$$is_array||(l.$$is_enumerator?l.$size()===1/0?r[_]=l.$take(f):r[_]=l.$to_a():r[_]=(Qt(e=Xt.const_get_relative(Gt,"Opal")["$coerce_to?"](l,Xt.const_get_relative(Gt,"Array"),"to_ary"))?e:Xt.const_get_relative(Gt,"Opal")["$coerce_to!"](l,Xt.const_get_relative(Gt,"Enumerator"),"each")).$to_a());for(c=0;c<f;c++){for(o=[this[c]],_=0,u=r.length;_<u;_++)null==(l=r[_][c])&&(l=Jt),o[_+1]=l;d[c]=o}if(i!==Jt){for(c=0;c<f;c++)i(d[c]);return Jt}return d},Ft.$$arity=-1),Xt.defs(Ut,"$inherited",Pt=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},Pt.$$arity=1),Xt.def(Ut,"$instance_variables",Lt=function(){var r,t,e=Lt.$$p,n=Jt,i=Jt;for(e&&(Lt.$$p=null),i=0,t=arguments.length,n=new Array(t);i<t;i++)n[i]=arguments[i];return ee(ee(this,Xt.find_super_dispatcher(this,"instance_variables",Lt,!1),n,e),"reject",[],((r=function(t){var e;r.$$s;return null==t&&(t=Jt),Qt(e=/^@\d+$/.test(t))?e:t["$=="]("@length")}).$$s=this,r.$$arity=1,r))},Lt.$$arity=0),Xt.const_get_relative(Gt,"Opal").$pristine(Ut.$singleton_class(),"allocate"),Xt.const_get_relative(Gt,"Opal").$pristine(Ut,"copy_instance_variables","initialize_dup"),Xt.def(Ut,"$pack",jt=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},jt.$$arity=-1),Jt&&"pack"}(0,Array,Vt)},Opal.modules["corelib/hash"]=function(pt){function gt(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function vt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var t=pt.top,mt=[],yt=pt.nil,bt=(pt.breaker,pt.slice,pt.klass),xt=pt.send,kt=pt.hash2,wt=pt.truthy;return pt.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),t.$require("corelib/enumerable"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,_t,ut,dt=n=bt(mt[0],null,"Hash",n),ft=dt.$$proto,ht=[dt].concat(r);return dt.$include(pt.const_get_relative(ht,"Enumerable")),ft.$$is_hash=!0,pt.defs(dt,"$[]",i=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var $,a,s=e.length;if(1===s){if(($=pt.const_get_relative(ht,"Opal")["$coerce_to?"](e["$[]"](0),pt.const_get_relative(ht,"Hash"),"to_hash"))!==yt)return this.$allocate()["$merge!"]($);for((e=pt.const_get_relative(ht,"Opal")["$coerce_to?"](e["$[]"](0),pt.const_get_relative(ht,"Array"),"to_ary"))===yt&&this.$raise(pt.const_get_relative(ht,"ArgumentError"),"odd number of arguments for Hash"),s=e.length,$=this.$allocate(),a=0;a<s;a++)if(e[a].$$is_array)switch(e[a].length){case 1:$.$store(e[a][0],yt);break;case 2:$.$store(e[a][0],e[a][1]);break;default:this.$raise(pt.const_get_relative(ht,"ArgumentError"),"invalid number of elements ("+e[a].length+" for 1..2)")}return $}for(s%2!=0&&this.$raise(pt.const_get_relative(ht,"ArgumentError"),"odd number of arguments for Hash"),$=this.$allocate(),a=0;a<s;a+=2)$.$store(e[a],e[a+1]);return $},i.$$arity=-1),pt.defs(dt,"$allocate",$=function(){var t=new this.$$alloc;return pt.hash_init(t),t.$$none=yt,t.$$proc=yt,t},$.$$arity=0),pt.defs(dt,"$try_convert",a=function(t){return pt.const_get_relative(ht,"Opal")["$coerce_to?"](t,pt.const_get_relative(ht,"Hash"),"to_hash")},a.$$arity=1),pt.def(dt,"$initialize",s=function(t){var e=s.$$p,r=e||yt;return e&&(s.$$p=null),void 0!==t&&r!==yt&&this.$raise(pt.const_get_relative(ht,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===t?yt:t,this.$$proc=r,this},s.$$arity=-1),pt.def(dt,"$==",o=function(t){if(this===t)return!0;if(!t.$$is_hash)return!1;if(this.$$keys.length!==t.$$keys.length)return!1;for(var e,r,n,i=0,$=this.$$keys,a=$.length;i<a;i++)if((e=$[i]).$$is_string?(r=this.$$smap[e],n=t.$$smap[e]):(r=e.value,n=pt.hash_get(t,e.key)),void 0===n||!r["$eql?"](n))return!1;return!0},o.$$arity=1),pt.def(dt,"$>=",l=function(t){var i,$=yt;return t=pt.const_get_relative(ht,"Opal")["$coerce_to!"](t,pt.const_get_relative(ht,"Hash"),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&($=!0,xt(t,"each",[],((i=function(t,e){var r,n=i.$$s||this;null==t&&(t=yt),null==e&&(e=yt),null!=(r=n.$fetch(t,null))&&r===e||($=!1)}).$$s=this,i.$$arity=2,i)),$)},l.$$arity=1),pt.def(dt,"$>",c=function(t){return t=pt.const_get_relative(ht,"Opal")["$coerce_to!"](t,pt.const_get_relative(ht,"Hash"),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&gt(this,t)},c.$$arity=1),pt.def(dt,"$<",_=function(t){var e,r;return t=pt.const_get_relative(ht,"Opal")["$coerce_to!"](t,pt.const_get_relative(ht,"Hash"),"to_hash"),r=this,"number"==typeof(e=t)&&"number"==typeof r?r<e:e["$>"](r)},_.$$arity=1),pt.def(dt,"$<=",u=function(t){return gt(t=pt.const_get_relative(ht,"Opal")["$coerce_to!"](t,pt.const_get_relative(ht,"Hash"),"to_hash"),this)},u.$$arity=1),pt.def(dt,"$[]",d=function(t){var e=pt.hash_get(this,t);return void 0!==e?e:this.$default(t)},d.$$arity=1),pt.def(dt,"$[]=",f=function(t,e){return pt.hash_put(this,t,e),e},f.$$arity=2),pt.def(dt,"$assoc",h=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if((e=n[r]).$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return yt},h.$$arity=1),pt.def(dt,"$clear",p=function(){return pt.hash_init(this),this},p.$$arity=0),pt.def(dt,"$clone",g=function(){var t=new this.$$class.$$alloc;return pt.hash_init(t),pt.hash_clone(this,t),t},g.$$arity=0),pt.def(dt,"$compact",v=function(){for(var t,e,r=pt.hash(),n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),e!==yt&&pt.hash_put(r,t,e);return r},v.$$arity=0),pt.def(dt,"$compact!",m=function(){for(var t,e,r=!1,n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),e===yt&&void 0!==pt.hash_delete(this,t)&&(r=!0,$--,n--);return r?this:yt},m.$$arity=0),pt.def(dt,"$compare_by_identity",y=function(){var t,e,r,n,i=this,$=i.$$keys;if(i.$$by_identity)return i;if(0===i.$$keys.length)return i.$$by_identity=!0,i;for(n=kt([],{}).$compare_by_identity(),t=0,e=$.length;t<e;t++)(r=$[t]).$$is_string||(r=r.key),pt.hash_put(n,r,pt.hash_get(i,r));return i.$$by_identity=!0,i.$$map=n.$$map,i.$$smap=n.$$smap,i},y.$$arity=0),pt.def(dt,"$compare_by_identity?",b=function(){return!0===this.$$by_identity},b.$$arity=0),pt.def(dt,"$default",x=function(t){return void 0!==t&&this.$$proc!==yt&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?yt:this.$$none},x.$$arity=-1),pt.def(dt,"$default=",k=function(t){return this.$$proc=yt,this.$$none=t},k.$$arity=1),pt.def(dt,"$default_proc",w=function(){return void 0!==this.$$proc?this.$$proc:yt},w.$$arity=0),pt.def(dt,"$default_proc=",E=function(t){var e=t;return e!==yt&&(e=pt.const_get_relative(ht,"Opal")["$coerce_to!"](e,pt.const_get_relative(ht,"Proc"),"to_proc"))["$lambda?"]()&&2!==e.$arity().$abs()&&this.$raise(pt.const_get_relative(ht,"TypeError"),"default_proc takes two arguments"),this.$$none=yt,this.$$proc=e,t},E.$$arity=1),pt.def(dt,"$delete",A=function(t){var e=A.$$p,r=e||yt;e&&(A.$$p=null);var n=pt.hash_delete(this,t);return void 0!==n?n:r!==yt?pt.yield1(r,t):yt},A.$$arity=1),pt.def(dt,"$delete_if",O=function(){var t,e=O.$$p,r=e||yt;if(e&&(O.$$p=null),!wt(r))return xt(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=0,s=this.$$keys,o=s.length;a<o;a++)(n=s[a]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==yt&&void 0!==pt.hash_delete(this,n)&&(o--,a--);return this},O.$$arity=0),pt.alias(dt,"dup","clone"),pt.def(dt,"$dig",S=function(t,e){var r,n=yt,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var a=1;a<i;a++)r[a-1]=arguments[a];return(n=this["$[]"](t))===yt||0===r.length?n:(wt(n["$respond_to?"]("dig"))||this.$raise(pt.const_get_relative(ht,"TypeError"),n.$class()+" does not have #dig method"),xt(n,"dig",pt.to_a(r)))},S.$$arity=-2),pt.def(dt,"$each",R=function(){var t,e=R.$$p,r=e||yt;if(e&&(R.$$p=null),!wt(r))return xt(this,"enum_for",["each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=0,a=this.$$keys,s=a.length;$<s;$++)(n=a[$]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),pt.yield1(r,[n,i]);return this},R.$$arity=0),pt.def(dt,"$each_key",T=function(){var t,e=T.$$p,r=e||yt;if(e&&(T.$$p=null),!wt(r))return xt(this,"enum_for",["each_key"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.$$keys,a=$.length;i<a;i++)r((n=$[i]).$$is_string?n:n.key);return this},T.$$arity=0),pt.alias(dt,"each_pair","each"),pt.def(dt,"$each_value",M=function(){var t,e=M.$$p,r=e||yt;if(e&&(M.$$p=null),!wt(r))return xt(this,"enum_for",["each_value"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.$$keys,a=$.length;i<a;i++)r((n=$[i]).$$is_string?this.$$smap[n]:n.value);return this},M.$$arity=0),pt.def(dt,"$empty?",C=function(){return 0===this.$$keys.length},C.$$arity=0),pt.alias(dt,"eql?","=="),pt.def(dt,"$fetch",I=function(t,e){var r=I.$$p,n=r||yt;r&&(I.$$p=null);var i=pt.hash_get(this,t);return void 0!==i?i:n!==yt?n(t):void 0!==e?e:this.$raise(pt.const_get_relative(ht,"KeyError").$new("key not found: "+t.$inspect(),kt(["key","receiver"],{key:t,receiver:this})))},I.$$arity=-2),pt.def(dt,"$fetch_values",q=function(t){var r,e,n=q.$$p,i=n||yt,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var s=0;s<$;s++)e[s-0]=arguments[s];return n&&(q.$$p=null),xt(e,"map",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=yt),xt(e,"fetch",[t],i.$to_proc())}).$$s=this,r.$$arity=1,r))},q.$$arity=-1),pt.def(dt,"$flatten",N=function(t){null==t&&(t=1),t=pt.const_get_relative(ht,"Opal")["$coerce_to!"](t,pt.const_get_relative(ht,"Integer"),"to_int");for(var e,r,n=[],i=0,$=this.$$keys,a=$.length;i<a;i++)if((e=$[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),n.push(e),r.$$is_array){if(1===t){n.push(r);continue}n=n.concat(r.$flatten(t-2))}else n.push(r);return n},N.$$arity=-1),pt.def(dt,"$has_key?",z=function(t){return void 0!==pt.hash_get(this,t)},z.$$arity=1),pt.def(dt,"$has_value?",D=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if(((e=n[r]).$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},D.$$arity=1),pt.def(dt,"$hash",B=function(){var t,e,r=void 0===pt.hash_ids,n=this.$object_id(),i=["Hash"];try{if(r&&(pt.hash_ids=Object.create(null)),pt[n])return"self";for(t in pt.hash_ids)if(e=pt.hash_ids[t],this["$eql?"](e))return"self";pt.hash_ids[n]=this;for(var $=0,a=this.$$keys,s=a.length;$<s;$++)(t=a[$]).$$is_string?i.push([t,this.$$smap[t].$hash()]):i.push([t.key_hash,t.value.$hash()]);return i.sort().join()}finally{r&&(pt.hash_ids=void 0)}},B.$$arity=0),pt.alias(dt,"include?","has_key?"),pt.def(dt,"$index",F=function(t){for(var e,r,n=0,i=this.$$keys,$=i.length;n<$;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return yt},F.$$arity=1),pt.def(dt,"$indexes",P=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $,a,s=[],o=0,l=e.length;o<l;o++)$=e[o],void 0!==(a=pt.hash_get(this,$))?s.push(a):s.push(this.$default());return s},P.$$arity=-1),pt.alias(dt,"indices","indexes"),pt.def(dt,"$inspect",L=function(){var t=void 0===ut,e=this.$object_id(),r=[];try{if(t&&(ut={}),ut.hasOwnProperty(e))return"{...}";ut[e]=!0;for(var n,i,$=0,a=this.$$keys,s=a.length;$<s;$++)(n=a[$]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),r.push(n.$inspect()+"=>"+i.$inspect());return"{"+r.join(", ")+"}"}finally{t&&(ut=void 0)}},L.$$arity=0),pt.def(dt,"$invert",j=function(){for(var t,e,r=pt.hash(),n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),pt.hash_put(r,e,t);return r},j.$$arity=0),pt.def(dt,"$keep_if",U=function(){var t,e=U.$$p,r=e||yt;if(e&&(U.$$p=null),!wt(r))return xt(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=0,s=this.$$keys,o=s.length;a<o;a++)(n=s[a]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==yt||void 0!==pt.hash_delete(this,n)&&(o--,a--);return this},U.$$arity=0),pt.alias(dt,"key","index"),pt.alias(dt,"key?","has_key?"),pt.def(dt,"$keys",H=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(t):e.push(t.key);return e},H.$$arity=0),pt.def(dt,"$length",G=function(){return this.$$keys.length},G.$$arity=0),pt.alias(dt,"member?","has_key?"),pt.def(dt,"$merge",Y=function(t){var e=Y.$$p,r=e||yt;return e&&(Y.$$p=null),xt(this.$dup(),"merge!",[t],r.$to_proc())},Y.$$arity=1),pt.def(dt,"$merge!",W=function(t){var e=W.$$p,r=e||yt;e&&(W.$$p=null),t.$$is_hash||(t=pt.const_get_relative(ht,"Opal")["$coerce_to!"](t,pt.const_get_relative(ht,"Hash"),"to_hash"));var n,i,$,a,s=t.$$keys,o=s.length;if(r===yt){for(n=0;n<o;n++)(i=s[n]).$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),pt.hash_put(this,i,a);return this}for(n=0;n<o;n++)(i=s[n]).$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),void 0!==($=pt.hash_get(this,i))?pt.hash_put(this,i,r(i,$,a)):pt.hash_put(this,i,a);return this},W.$$arity=1),pt.def(dt,"$rassoc",X=function(t){for(var e,r,n=0,i=this.$$keys,$=i.length;n<$;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return yt},X.$$arity=1),pt.def(dt,"$rehash",K=function(){return pt.hash_rehash(this),this},K.$$arity=0),pt.def(dt,"$reject",V=function(){var t,e=V.$$p,r=e||yt;if(e&&(V.$$p=null),!wt(r))return xt(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=pt.hash(),s=0,o=this.$$keys,l=o.length;s<l;s++)(n=o[s]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==yt||pt.hash_put(a,n,i);return a},V.$$arity=0),pt.def(dt,"$reject!",J=function(){var t,e=J.$$p,r=e||yt;if(e&&(J.$$p=null),!wt(r))return xt(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=!1,s=0,o=this.$$keys,l=o.length;s<l;s++)(n=o[s]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==yt&&void 0!==pt.hash_delete(this,n)&&(a=!0,l--,s--);return a?this:yt},J.$$arity=0),pt.def(dt,"$replace",Z=function(t){var e=yt;t=pt.const_get_relative(ht,"Opal")["$coerce_to!"](t,pt.const_get_relative(ht,"Hash"),"to_hash"),pt.hash_init(this);for(var r,n,i=0,$=t.$$keys,a=$.length;i<a;i++)(r=$[i]).$$is_string?n=t.$$smap[r]:(n=r.value,r=r.key),pt.hash_put(this,r,n);return wt(t.$default_proc())?(e=[t.$default_proc()],xt(this,"default_proc=",pt.to_a(e))):(e=[t.$default()],xt(this,"default=",pt.to_a(e))),e[vt(e.length,1)],this},Z.$$arity=1),pt.def(dt,"$select",Q=function(){var t,e=Q.$$p,r=e||yt;if(e&&(Q.$$p=null),!wt(r))return xt(this,"enum_for",["select"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=pt.hash(),s=0,o=this.$$keys,l=o.length;s<l;s++)(n=o[s]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==yt&&pt.hash_put(a,n,i);return a},Q.$$arity=0),pt.def(dt,"$select!",tt=function(){var t,e=tt.$$p,r=e||yt;if(e&&(tt.$$p=null),!wt(r))return xt(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=yt,s=0,o=this.$$keys,l=o.length;s<l;s++)(n=o[s]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==yt||(void 0!==pt.hash_delete(this,n)&&(l--,s--),a=this);return a},tt.$$arity=0),pt.def(dt,"$shift",et=function(){var t,e=this.$$keys;return 0<e.length?[t=(t=e[0]).$$is_string?t:t.key,pt.hash_delete(this,t)]:this.$default(yt)},et.$$arity=0),pt.alias(dt,"size","length"),pt.def(dt,"$slice",rt=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=pt.hash(),a=0,s=e.length;a<s;a++){var o=e[a],l=pt.hash_get(this,o);void 0!==l&&pt.hash_put($,o,l)}return $},rt.$$arity=-1),pt.alias(dt,"store","[]="),pt.def(dt,"$to_a",nt=function(){for(var t,e,r=[],n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),r.push([t,e]);return r},nt.$$arity=0),pt.def(dt,"$to_h",it=function(){if(this.$$class===pt.Hash)return this;var t=new pt.Hash.$$alloc;return pt.hash_init(t),pt.hash_clone(this,t),t},it.$$arity=0),pt.def(dt,"$to_hash",$t=function(){return this},$t.$$arity=0),pt.def(dt,"$to_proc",at=function(){var r;return xt(this,"proc",[],((r=function(t){var e=r.$$s||this;return null==t&&e.$raise(pt.const_get_relative(ht,"ArgumentError"),"no key given"),e["$[]"](t)}).$$s=this,r.$$arity=-1,r))},at.$$arity=0),pt.alias(dt,"to_s","inspect"),pt.def(dt,"$transform_keys",st=function(){var t,e=st.$$p,r=e||yt;if(e&&(st.$$p=null),!wt(r))return xt(this,"enum_for",["transform_keys"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=pt.hash(),a=0,s=this.$$keys,o=s.length;a<o;a++)(n=s[a]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),n=pt.yield1(r,n),pt.hash_put($,n,i);return $},st.$$arity=0),pt.def(dt,"$transform_keys!",ot=function(){var t,e=ot.$$p,r=e||yt;if(e&&(ot.$$p=null),!wt(r))return xt(this,"enum_for",["transform_keys!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var n,i,$,a,s=pt.slice.call(this.$$keys),o=s.length;for(n=0;n<o;n++)(i=s[n]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),a=pt.yield1(r,i),pt.hash_delete(this,i),pt.hash_put(this,a,$);return this},ot.$$arity=0),pt.def(dt,"$transform_values",lt=function(){var t,e=lt.$$p,r=e||yt;if(e&&(lt.$$p=null),!wt(r))return xt(this,"enum_for",["transform_values"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=pt.hash(),a=0,s=this.$$keys,o=s.length;a<o;a++)(n=s[a]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),i=pt.yield1(r,i),pt.hash_put($,n,i);return $},lt.$$arity=0),pt.def(dt,"$transform_values!",ct=function(){var t,e=ct.$$p,r=e||yt;if(e&&(ct.$$p=null),!wt(r))return xt(this,"enum_for",["transform_values!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=0,a=this.$$keys,s=a.length;$<s;$++)(n=a[$]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),i=pt.yield1(r,i),pt.hash_put(this,n,i);return this},ct.$$arity=0),pt.alias(dt,"update","merge!"),pt.alias(dt,"value?","has_value?"),pt.alias(dt,"values_at","indexes"),pt.def(dt,"$values",_t=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},_t.$$arity=0),yt&&"values"}(0,0,mt)},Opal.modules["corelib/number"]=function(wt){function Et(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function At(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function Ot(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function St(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function Rt(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function Tt(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var t=wt.top,e=[],Mt=wt.nil,Ct=(wt.breaker,wt.slice,wt.klass),It=wt.truthy,qt=wt.send,Nt=wt.hash2;return wt.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),t.$require("corelib/numeric"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,_t,ut,dt,ft,ht,pt,gt,vt,mt,yt,bt,xt=n=Ct(t,e,"Number",n),kt=(xt.$$proto,[xt].concat(r));wt.const_get_relative(kt,"Opal").$bridge(xt,Number),Number.prototype.$$is_number=!0,xt.$$is_number_class=!0,function(t,e){t.$$proto;var r,n=[t].concat(e);wt.def(t,"$allocate",r=function(){return this.$raise(wt.const_get_relative(n,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),wt.udef(t,"$new")}(wt.get_singleton_class(xt),kt),wt.def(xt,"$coerce",i=function(t){if(t===Mt)this.$raise(wt.const_get_relative(kt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[this.$Float(t),this];if(t["$respond_to?"]("to_f"))return[wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Float"),"to_f"),this];if(t.$$is_number)return[t,this];this.$raise(wt.const_get_relative(kt,"TypeError"),"can't convert "+t.$class()+" into Float")}},i.$$arity=1),wt.def(xt,"$__id__",$=function(){return 2*this+1},$.$$arity=0),wt.alias(xt,"object_id","__id__"),wt.def(xt,"$+",a=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},a.$$arity=1),wt.def(xt,"$-",s=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},s.$$arity=1),wt.def(xt,"$*",o=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},o.$$arity=1),wt.def(xt,"$/",l=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},l.$$arity=1),wt.alias(xt,"fdiv","/"),wt.def(xt,"$%",c=function(t){return t.$$is_number?t==-1/0?t:0!=t?t<0||this<0?(this%t+t)%t:this%t:void this.$raise(wt.const_get_relative(kt,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",t)},c.$$arity=1),wt.def(xt,"$&",_=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},_.$$arity=1),wt.def(xt,"$|",u=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},u.$$arity=1),wt.def(xt,"$^",d=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},d.$$arity=1),wt.def(xt,"$<",f=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},f.$$arity=1),wt.def(xt,"$<=",h=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},h.$$arity=1),wt.def(xt,"$>",p=function(t){return t.$$is_number?t<this:this.$__coerced__(">",t)},p.$$arity=1),wt.def(xt,"$>=",g=function(t){return t.$$is_number?t<=this:this.$__coerced__(">=",t)},g.$$arity=1);wt.def(xt,"$<=>",v=function(t){var e,r;try{return e=this,(r=t).$$is_number?isNaN(e)||isNaN(r)?Mt:r<e?1:e<r?-1:0:e.$__coerced__("<=>",r)}catch(t){if(!wt.rescue(t,[wt.const_get_relative(kt,"ArgumentError")]))throw t;try{return Mt}finally{wt.pop_exception()}}},v.$$arity=1),wt.def(xt,"$<<",m=function(t){return 0<(t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Integer"),"to_int"))?this<<t:this>>-t},m.$$arity=1),wt.def(xt,"$>>",y=function(t){return 0<(t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Integer"),"to_int"))?this>>t:this<<-t},y.$$arity=1),wt.def(xt,"$[]",b=function(t){return(t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Integer"),"to_int"))<0?0:32<=t?this<0?1:0:this>>t&1},b.$$arity=1),wt.def(xt,"$+@",x=function(){return+this},x.$$arity=0),wt.def(xt,"$-@",k=function(){return-this},k.$$arity=0),wt.def(xt,"$~",w=function(){return~this},w.$$arity=0),wt.def(xt,"$**",E=function(t){var e,r;return It(wt.const_get_relative(kt,"Integer")["$==="](t))?It(It(e=wt.const_get_relative(kt,"Integer")["$==="](this)["$!"]())?e:Et(t,0))?Math.pow(this,t):wt.const_get_relative(kt,"Rational").$new(this,1)["$**"](t):It((e=At(this,0))?It(r=wt.const_get_relative(kt,"Float")["$==="](t))?r:wt.const_get_relative(kt,"Rational")["$==="](t):At(this,0))?wt.const_get_relative(kt,"Complex").$new(this,0)["$**"](t.$to_f()):It(null!=t.$$is_number)?Math.pow(this,t):this.$__coerced__("**",t)},E.$$arity=1),wt.def(xt,"$===",A=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},A.$$arity=1),wt.def(xt,"$==",O=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},O.$$arity=1),wt.def(xt,"$abs",S=function(){return Math.abs(this)},S.$$arity=0),wt.def(xt,"$abs2",R=function(){return Math.abs(this*this)},R.$$arity=0),wt.def(xt,"$allbits?",T=function(t){return(this&(t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Integer"),"to_int")))==t},T.$$arity=1),wt.def(xt,"$anybits?",M=function(t){return 0!=(this&(t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Integer"),"to_int")))},M.$$arity=1),wt.def(xt,"$angle",C=function(){return It(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:this<0?Math.PI:0},C.$$arity=0),wt.alias(xt,"arg","angle"),wt.alias(xt,"phase","angle"),wt.def(xt,"$bit_length",I=function(){if(It(wt.const_get_relative(kt,"Integer")["$==="](this))||this.$raise(wt.const_get_relative(kt,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var t=0,e=this<0?~this:this;0!=e;)t+=1,e>>>=1;return t},I.$$arity=0),wt.def(xt,"$ceil",q=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&0<=t)return e;var r=Math.pow(10,t),n=Math.ceil(e*r)/r;return e%1==0&&(n=Math.round(n)),n},q.$$arity=-1),wt.def(xt,"$chr",N=function(t){return String.fromCharCode(this)},N.$$arity=-1),wt.def(xt,"$denominator",z=function(){var t,e,r=z.$$p,n=Mt,i=Mt;for(r&&(z.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return It(It(t=this["$nan?"]())?t:this["$infinite?"]())?1:qt(this,wt.find_super_dispatcher(this,"denominator",z,!1),n,r)},z.$$arity=0),wt.def(xt,"$downto",D=function(e){var r,t=D.$$p,n=t||Mt;if(t&&(D.$$p=null),n===Mt)return qt(this,"enum_for",["downto",e],((r=function(){var t=r.$$s||this;return It(wt.const_get_relative(kt,"Numeric")["$==="](e))||t.$raise(wt.const_get_relative(kt,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),It(Et(e,t))?0:Ot(St(t,e),1)}).$$s=this,r.$$arity=0,r));e.$$is_number||this.$raise(wt.const_get_relative(kt,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed");for(var i=this;e<=i;i--)n(i);return this},D.$$arity=1),wt.alias(xt,"eql?","=="),wt.def(xt,"$equal?",B=function(t){var e;return It(e=this["$=="](t))?e:isNaN(this)&&isNaN(t)},B.$$arity=1),wt.def(xt,"$even?",F=function(){return this%2==0},F.$$arity=0),wt.def(xt,"$floor",P=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&0<=t)return e;var r=Math.pow(10,t),n=Math.floor(e*r)/r;return e%1==0&&(n=Math.round(n)),n},P.$$arity=-1),wt.def(xt,"$gcd",L=function(t){It(wt.const_get_relative(kt,"Integer")["$==="](t))||this.$raise(wt.const_get_relative(kt,"TypeError"),"not an integer");for(var e=Math.abs(this),r=Math.abs(t);0<e;){var n=e;e=r%e,r=n}return r},L.$$arity=1),wt.def(xt,"$gcdlcm",j=function(t){return[this.$gcd(),this.$lcm()]},j.$$arity=1),wt.def(xt,"$integer?",U=function(){return this%1==0},U.$$arity=0),wt.def(xt,"$is_a?",H=function(t){var e,r=H.$$p,n=Mt,i=Mt;for(r&&(H.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return!!It(t["$=="](wt.const_get_relative(kt,"Integer"))?wt.const_get_relative(kt,"Integer")["$==="](this):t["$=="](wt.const_get_relative(kt,"Integer")))||(!!It(t["$=="](wt.const_get_relative(kt,"Integer"))?wt.const_get_relative(kt,"Integer")["$==="](this):t["$=="](wt.const_get_relative(kt,"Integer")))||(!!It(t["$=="](wt.const_get_relative(kt,"Float"))?wt.const_get_relative(kt,"Float")["$==="](this):t["$=="](wt.const_get_relative(kt,"Float")))||qt(this,wt.find_super_dispatcher(this,"is_a?",H,!1),n,r)))},H.$$arity=1),wt.alias(xt,"kind_of?","is_a?"),wt.def(xt,"$instance_of?",G=function(t){var e,r=G.$$p,n=Mt,i=Mt;for(r&&(G.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return!!It(t["$=="](wt.const_get_relative(kt,"Integer"))?wt.const_get_relative(kt,"Integer")["$==="](this):t["$=="](wt.const_get_relative(kt,"Integer")))||(!!It(t["$=="](wt.const_get_relative(kt,"Integer"))?wt.const_get_relative(kt,"Integer")["$==="](this):t["$=="](wt.const_get_relative(kt,"Integer")))||(!!It(t["$=="](wt.const_get_relative(kt,"Float"))?wt.const_get_relative(kt,"Float")["$==="](this):t["$=="](wt.const_get_relative(kt,"Float")))||qt(this,wt.find_super_dispatcher(this,"instance_of?",G,!1),n,r)))},G.$$arity=1),wt.def(xt,"$lcm",Y=function(t){return It(wt.const_get_relative(kt,"Integer")["$==="](t))||this.$raise(wt.const_get_relative(kt,"TypeError"),"not an integer"),0==this||0==t?0:Math.abs(this*t/this.$gcd(t))},Y.$$arity=1),wt.alias(xt,"magnitude","abs"),wt.alias(xt,"modulo","%"),wt.def(xt,"$next",W=function(){return this+1},W.$$arity=0),wt.def(xt,"$nobits?",X=function(t){return 0==(this&(t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Integer"),"to_int")))},X.$$arity=1),wt.def(xt,"$nonzero?",K=function(){return 0==this?Mt:this},K.$$arity=0),wt.def(xt,"$numerator",V=function(){var t,e,r=V.$$p,n=Mt,i=Mt;for(r&&(V.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return It(It(t=this["$nan?"]())?t:this["$infinite?"]())?this:qt(this,wt.find_super_dispatcher(this,"numerator",V,!1),n,r)},V.$$arity=0),wt.def(xt,"$odd?",J=function(){return this%2!=0},J.$$arity=0),wt.def(xt,"$ord",Z=function(){return this},Z.$$arity=0),wt.def(xt,"$pow",Q=function(t,e){return 0==this&&this.$raise(wt.const_get_relative(kt,"ZeroDivisionError"),"divided by 0"),void 0===e?this["$**"](t):(wt.const_get_relative(kt,"Integer")["$==="](t)||this.$raise(wt.const_get_relative(kt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&this.$raise(wt.const_get_relative(kt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),wt.const_get_relative(kt,"Integer")["$==="](e)||this.$raise(wt.const_get_relative(kt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&this.$raise(wt.const_get_relative(kt,"ZeroDivisionError"),"divided by 0"),this["$**"](t)["$%"](e))},Q.$$arity=-2),wt.def(xt,"$pred",tt=function(){return this-1},tt.$$arity=0),wt.def(xt,"$quo",et=function(t){var e,r=et.$$p,n=Mt,i=Mt;for(r&&(et.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return It(wt.const_get_relative(kt,"Integer")["$==="](this))?qt(this,wt.find_super_dispatcher(this,"quo",et,!1),n,r):Rt(this,t)},et.$$arity=1),wt.def(xt,"$rationalize",rt=function(t){var e,r,n=Mt,i=Mt;return 1<arguments.length&&this.$raise(wt.const_get_relative(kt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),It(wt.const_get_relative(kt,"Integer")["$==="](this))?wt.const_get_relative(kt,"Rational").$new(this,1):It(this["$infinite?"]())?this.$raise(wt.const_get_relative(kt,"FloatDomainError"),"Infinity"):It(this["$nan?"]())?this.$raise(wt.const_get_relative(kt,"FloatDomainError"),"NaN"):It(null==t)?(r=wt.const_get_relative(kt,"Math").$frexp(this),n=null==(e=wt.to_ary(r))[0]?Mt:e[0],i=null==e[1]?Mt:e[1],n=wt.const_get_relative(kt,"Math").$ldexp(n,wt.const_get_qualified(wt.const_get_relative(kt,"Float"),"MANT_DIG")).$to_i(),i=St(i,wt.const_get_qualified(wt.const_get_relative(kt,"Float"),"MANT_DIG")),wt.const_get_relative(kt,"Rational").$new(Tt(2,n),1["$<<"](St(1,i))).$rationalize(wt.const_get_relative(kt,"Rational").$new(1,1["$<<"](St(1,i))))):this.$to_r().$rationalize(t)},rt.$$arity=-1),wt.def(xt,"$remainder",nt=function(t){return St(this,Tt(t,Rt(this,t).$truncate()))},nt.$$arity=1),wt.def(xt,"$round",it=function(t){var e,r,n,i,$,a,s=this,o=Mt;if(It(wt.const_get_relative(kt,"Integer")["$==="](s))){if(It(null==t))return s;if(It(It(e=wt.const_get_relative(kt,"Float")["$==="](t))?t["$infinite?"]():e)&&s.$raise(wt.const_get_relative(kt,"RangeError"),"Infinity"),t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Integer"),"to_int"),It(At(t,wt.const_get_qualified(wt.const_get_relative(kt,"Integer"),"MIN")))&&s.$raise(wt.const_get_relative(kt,"RangeError"),"out of bounds"),It(0<=t))return s;if(.415241*(t=t["$-@"]())-.125>s.$size())return 0;var l=Math.pow(10,t),c=Math.floor((Math.abs(c)+l/2)/l)*l;return s<0?-c:c}if(It(It(e=s["$nan?"]())?null==t:e)&&s.$raise(wt.const_get_relative(kt,"FloatDomainError"),"NaN"),t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t||0,wt.const_get_relative(kt,"Integer"),"to_int"),It((a=0,"number"==typeof($=t)&&"number"==typeof a?$<=a:$["$<="](a))))It(s["$nan?"]())?s.$raise(wt.const_get_relative(kt,"RangeError"),"NaN"):It(s["$infinite?"]())&&s.$raise(wt.const_get_relative(kt,"FloatDomainError"),"Infinity");else{if(t["$=="](0))return Math.round(s);if(It(It(e=s["$nan?"]())?e:s["$infinite?"]()))return s}return r=wt.const_get_relative(kt,"Math").$frexp(s),null==(e=wt.to_ary(r))[0]?Mt:e[0],o=null==e[1]?Mt:e[1],It((n=t,i=St(Ot(wt.const_get_qualified(wt.const_get_relative(kt,"Float"),"DIG"),2),It(Et(o,0))?Rt(o,4):St(Rt(o,3),1)),"number"==typeof n&&"number"==typeof i?i<=n:n["$>="](i)))?s:It(At(t,(It(Et(o,0))?Ot(Rt(o,3),1):Rt(o,4))["$-@"]()))?0:Math.round(s*Math.pow(10,t))/Math.pow(10,t)},it.$$arity=-1),wt.def(xt,"$step",$t=function(t,e,r){var n,i,$,a,s,o,l=this,c=$t.$$p,_=c||Mt,u=Mt,d=Mt;if(i=wt.slice.call(arguments,0,arguments.length),null==(r=wt.extract_kwargs(i))||!r.$$is_hash){if(null!=r)throw wt.ArgumentError.$new("expected kwargs");r=Nt([],{})}function f(){void 0!==$&&(s=$),void 0===s&&(s=Mt),o===Mt&&l.$raise(wt.const_get_relative(kt,"TypeError"),"step must be numeric"),0===o&&l.$raise(wt.const_get_relative(kt,"ArgumentError"),"step can't be 0"),void 0!==a&&(o=a),o!==Mt&&null!=o||(o=1);var t=o["$<=>"](0);t===Mt&&l.$raise(wt.const_get_relative(kt,"ArgumentError"),"0 can't be coerced into "+o.$class()),s!==Mt&&null!=s||(s=0<t?wt.const_get_qualified(wt.const_get_relative(kt,"Float"),"INFINITY"):wt.const_get_qualified(wt.const_get_relative(kt,"Float"),"INFINITY")["$-@"]()),wt.const_get_relative(kt,"Opal").$compare(l,s)}function h(){if(0<o&&s<l||o<0&&l<s)return 0;if(o===1/0||o===-1/0)return 1;var t=Math.abs,e=Math.floor,r=(t(l)+t(s)+t(s-l))/t(o)*wt.const_get_qualified(wt.const_get_relative(kt,"Float"),"EPSILON");return r===1/0||r===-1/0?0:(.5<r&&(r=.5),e((s-l)/o+r)+1)}if($=r.$$smap.to,a=r.$$smap.by,0<i.length&&(s=i.splice(0,1)[0]),0<i.length&&(o=i.splice(0,1)[0]),c&&($t.$$p=null),void 0!==s&&void 0!==$&&l.$raise(wt.const_get_relative(kt,"ArgumentError"),"to is given twice"),void 0!==o&&void 0!==a&&l.$raise(wt.const_get_relative(kt,"ArgumentError"),"step is given twice"),_===Mt)return u=[],d=Nt([],{}),void 0!==s&&u.push(s),void 0!==o&&u.push(o),void 0!==$&&wt.hash_put(d,"to",$),void 0!==a&&wt.hash_put(d,"by",a),d["$any?"]()&&u.push(d),qt(l,"enum_for",["step"].concat(wt.to_a(u)),((n=function(){n.$$s;return function(){if(f(),0===o)return 1/0;if(o%1!=0)return h();if(0<o&&s<l||o<0&&l<s)return 0;var t=Math.ceil,e=Math.abs;return t((e(l-s)+1)/e(o))}()}).$$s=l,n.$$arity=0,n));if(f(),0===o)for(;;)_(l);if(l%1!=0||s%1!=0||o%1!=0){var p=h();if(0<p)if(o===1/0||o===-1/0)_(l);else{var g,v=0;if(0<o)for(;v<p;)s<(g=v*o+l)&&(g=s),_(g),v+=1;else for(;v<p;)(g=v*o+l)<s&&(g=s),_(g),v+=1}}else{var m=l;if(0<o)for(;m<=s;)_(m),m+=o;else for(;s<=m;)_(m),m+=o}return l},$t.$$arity=-1),wt.alias(xt,"succ","next"),wt.def(xt,"$times",at=function(){var t,e=at.$$p,r=e||Mt;if(e&&(at.$$p=null),!It(r))return qt(this,"enum_for",["times"],((t=function(){return t.$$s||this}).$$s=this,t.$$arity=0,t));for(var n=0;n<this;n++)r(n);return this},at.$$arity=0),wt.def(xt,"$to_f",st=function(){return this},st.$$arity=0),wt.def(xt,"$to_i",ot=function(){return parseInt(this,10)},ot.$$arity=0),wt.alias(xt,"to_int","to_i"),wt.def(xt,"$to_r",lt=function(){var t,e,r=Mt,n=Mt;return It(wt.const_get_relative(kt,"Integer")["$==="](this))?wt.const_get_relative(kt,"Rational").$new(this,1):(e=wt.const_get_relative(kt,"Math").$frexp(this),r=null==(t=wt.to_ary(e))[0]?Mt:t[0],n=null==t[1]?Mt:t[1],r=wt.const_get_relative(kt,"Math").$ldexp(r,wt.const_get_qualified(wt.const_get_relative(kt,"Float"),"MANT_DIG")).$to_i(),n=St(n,wt.const_get_qualified(wt.const_get_relative(kt,"Float"),"MANT_DIG")),Tt(r,wt.const_get_qualified(wt.const_get_relative(kt,"Float"),"RADIX")["$**"](n)).$to_r())},lt.$$arity=0),wt.def(xt,"$to_s",ct=function(t){var e;return null==t&&(t=10),t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Integer"),"to_int"),It(It(e=At(t,2))?e:Et(t,36))&&this.$raise(wt.const_get_relative(kt,"ArgumentError"),"invalid radix "+t),this.toString(t)},ct.$$arity=-1),wt.def(xt,"$truncate",_t=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&0<=t)return e;var r=Math.pow(10,t),n=parseInt(e*r,10)/r;return e%1==0&&(n=Math.round(n)),n},_t.$$arity=-1),wt.alias(xt,"inspect","to_s"),wt.def(xt,"$digits",ut=function(t){null==t&&(t=10),At(this,0)&&this.$raise(wt.const_get_qualified(wt.const_get_relative(kt,"Math"),"DomainError"),"out of domain"),t=wt.const_get_relative(kt,"Opal")["$coerce_to!"](t,wt.const_get_relative(kt,"Integer"),"to_int"),It(At(t,2))&&this.$raise(wt.const_get_relative(kt,"ArgumentError"),"invalid radix "+t);for(var e=this,r=[];0!==e;)r.push(e%t),e=parseInt(e/t,10);return r},ut.$$arity=-1),wt.def(xt,"$divmod",dt=function(t){var e,r,n=dt.$$p,i=Mt,$=Mt;for(n&&(dt.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return It(It(e=this["$nan?"]())?e:t["$nan?"]())?this.$raise(wt.const_get_relative(kt,"FloatDomainError"),"NaN"):It(this["$infinite?"]())?this.$raise(wt.const_get_relative(kt,"FloatDomainError"),"Infinity"):qt(this,wt.find_super_dispatcher(this,"divmod",dt,!1),i,n)},dt.$$arity=1),wt.def(xt,"$upto",ft=function(e){var r,t=ft.$$p,n=t||Mt;if(t&&(ft.$$p=null),n===Mt)return qt(this,"enum_for",["upto",e],((r=function(){var t=r.$$s||this;return It(wt.const_get_relative(kt,"Numeric")["$==="](e))||t.$raise(wt.const_get_relative(kt,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),It(At(e,t))?0:Ot(St(e,t),1)}).$$s=this,r.$$arity=0,r));e.$$is_number||this.$raise(wt.const_get_relative(kt,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed");for(var i=this;i<=e;i++)n(i);return this},ft.$$arity=1),wt.def(xt,"$zero?",ht=function(){return 0==this},ht.$$arity=0),wt.def(xt,"$size",pt=function(){return 4},pt.$$arity=0),wt.def(xt,"$nan?",gt=function(){return isNaN(this)},gt.$$arity=0),wt.def(xt,"$finite?",vt=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},vt.$$arity=0),wt.def(xt,"$infinite?",mt=function(){return this==1/0?1:this==-1/0?-1:Mt},mt.$$arity=0),wt.def(xt,"$positive?",yt=function(){return 0!=this&&(this==1/0||0<1/this)},yt.$$arity=0),wt.def(xt,"$negative?",bt=function(){return this==-1/0||1/this<0},bt.$$arity=0)}(e[0],wt.const_get_relative(e,"Numeric"),e),wt.const_set(e[0],"Fixnum",wt.const_get_relative(e,"Number")),function(t,e,r){function n(){}var i=n=Ct(t,e,"Integer",n),$=(i.$$proto,[i].concat(r));i.$$is_number_class=!0,function(t,e){t.$$proto;var r,n,i,$=[t].concat(e);wt.def(t,"$allocate",r=function(){return this.$raise(wt.const_get_relative($,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),wt.udef(t,"$new"),wt.def(t,"$===",n=function(t){return!!t.$$is_number&&t%1==0},n.$$arity=1),wt.def(t,"$sqrt",i=function(t){return(t=wt.const_get_relative($,"Opal")["$coerce_to!"](t,wt.const_get_relative($,"Integer"),"to_int"))<0&&this.$raise(wt.const_get_qualified(wt.const_get_relative($,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},i.$$arity=1)}(wt.get_singleton_class(i),$),wt.const_set($[0],"MAX",Math.pow(2,30)-1),wt.const_set($[0],"MIN",-Math.pow(2,30))}(e[0],wt.const_get_relative(e,"Numeric"),e),function(t,e,r){function n(){}var i=n=Ct(t,e,"Float",n),$=(i.$$proto,[i].concat(r));return i.$$is_number_class=!0,function(t,e){t.$$proto;var r,n,i=[t].concat(e);wt.def(t,"$allocate",r=function(){return this.$raise(wt.const_get_relative(i,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),wt.udef(t,"$new"),wt.def(t,"$===",n=function(t){return!!t.$$is_number},n.$$arity=1)}(wt.get_singleton_class(i),$),wt.const_set($[0],"INFINITY",1/0),wt.const_set($[0],"MAX",Number.MAX_VALUE),wt.const_set($[0],"MIN",Number.MIN_VALUE),wt.const_set($[0],"NAN",NaN),wt.const_set($[0],"DIG",15),wt.const_set($[0],"MANT_DIG",53),wt.const_set($[0],"RADIX",2),wt.const_set($[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(e[0],wt.const_get_relative(e,"Numeric"),e)},Opal.modules["corelib/range"]=function(E){function A(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function O(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function S(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function R(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=E.top,T=[],M=E.nil,C=(E.breaker,E.slice,E.klass),I=E.truthy,q=E.send;return E.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),t.$require("corelib/enumerable"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x=n=C(T[0],null,"Range",n),k=x.$$proto,w=[x].concat(r);return k.begin=k.end=k.excl=M,x.$include(E.const_get_relative(w,"Enumerable")),k.$$is_range=!0,x.$attr_reader("begin","end"),E.def(x,"$initialize",i=function(t,e,r){return null==r&&(r=!1),I(this.begin)&&this.$raise(E.const_get_relative(w,"NameError"),"'initialize' called twice"),I(t["$<=>"](e))||this.$raise(E.const_get_relative(w,"ArgumentError"),"bad value for range"),this.begin=t,this.end=e,this.excl=r},i.$$arity=-3),E.def(x,"$==",$=function(t){return!!t.$$is_range&&(this.excl===t.excl&&this.begin==t.begin&&this.end==t.end)},$.$$arity=1),E.def(x,"$===",a=function(t){return this["$include?"](t)},a.$$arity=1),E.def(x,"$cover?",s=function(t){var e,r,n;return r=this.begin["$<=>"](t),!!I(I(e=r)?A(r,0):e)&&(n=t["$<=>"](this.end),I(this.excl)?I(e=n)?O(n,0):e:I(e=n)?A(n,0):e)},s.$$arity=1),E.def(x,"$each",o=function(){var t,e,r,n,i=this,$=o.$$p,a=$||M,s=M;if($&&(o.$$p=null),a===M)return i.$enum_for("each");if(i.begin.$$is_number&&i.end.$$is_number){for(i.begin%1==0&&i.end%1==0||i.$raise(E.const_get_relative(w,"TypeError"),"can't iterate from Float"),r=i.begin,n=i.end+(I(i.excl)?0:1);r<n;r++)a(r);return i}if(i.begin.$$is_string&&i.end.$$is_string)return q(i.begin,"upto",[i.end,i.excl],a.$to_proc()),i;for(s=i.begin,e=i.end,I(s["$respond_to?"]("succ"))||i.$raise(E.const_get_relative(w,"TypeError"),"can't iterate from "+s.$class());I(O(s["$<=>"](e),0));)E.yield1(a,s),s=s.$succ();return I(I(t=i.excl["$!"]())?s["$=="](e):t)&&E.yield1(a,s),i},o.$$arity=0),E.def(x,"$eql?",l=function(t){var e,r;return!!I(E.const_get_relative(w,"Range")["$==="](t))&&(I(e=I(r=this.excl["$==="](t["$exclude_end?"]()))?this.begin["$eql?"](t.$begin()):r)?this.end["$eql?"](t.$end()):e)},l.$$arity=1),E.def(x,"$exclude_end?",c=function(){return this.excl},c.$$arity=0),E.def(x,"$first",_=function(t){var e,r=_.$$p,n=M,i=M;for(r&&(_.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return I(null==t)?this.begin:q(this,E.find_super_dispatcher(this,"first",_,!1),n,r)},_.$$arity=-1),E.alias(x,"include?","cover?"),E.def(x,"$last",u=function(t){return I(null==t)?this.end:this.$to_a().$last(t)},u.$$arity=-1),E.def(x,"$max",d=function(){var t,e,r=this,n=d.$$p,i=n||M,$=M,a=M;for(n&&(d.$$p=null),a=0,e=arguments.length,$=new Array(e);a<e;a++)$[a]=arguments[a];return i!==M?q(r,E.find_super_dispatcher(r,"max",d,!1),$,n):I(S(r.begin,r.end))?M:I(I(t=r.excl)?r.begin["$=="](r.end):t)?M:r.excl?r.end-1:r.end},d.$$arity=0),E.alias(x,"member?","cover?"),E.def(x,"$min",f=function(){var t,e,r=f.$$p,n=r||M,i=M,$=M;for(r&&(f.$$p=null),$=0,e=arguments.length,i=new Array(e);$<e;$++)i[$]=arguments[$];return n!==M?q(this,E.find_super_dispatcher(this,"min",f,!1),i,r):I(S(this.begin,this.end))?M:I(I(t=this.excl)?this.begin["$=="](this.end):t)?M:this.begin},f.$$arity=0),E.def(x,"$size",h=function(){var t,e,r,n,i=M,$=M;return i=this.begin,$=this.end,I(this.excl)&&(n=1,$="number"==typeof(r=$)&&"number"==typeof n?r-n:r["$-"](n)),I(I(t=E.const_get_relative(w,"Numeric")["$==="](i))?E.const_get_relative(w,"Numeric")["$==="]($):t)?I(O($,i))?0:(e=E.const_get_qualified(E.const_get_relative(w,"Float"),"INFINITY"),I([i.$abs(),$.$abs()]["$include?"](e))?e:(Math.abs($-i)+1).$to_i()):M},h.$$arity=0),E.def(x,"$step",p=function(o){var t,s,r,l=this,e=p.$$p,c=e||M,_=M;function n(){o.$$is_number||(o=E.const_get_relative(w,"Opal")["$coerce_to!"](o,E.const_get_relative(w,"Integer"),"to_int")),o<0?l.$raise(E.const_get_relative(w,"ArgumentError"),"step can't be negative"):0===o&&l.$raise(E.const_get_relative(w,"ArgumentError"),"step can't be 0")}return null==o&&(o=1),e&&(p.$$p=null),c===M?q(l,"enum_for",["step",o],((t=function(){t.$$s;return n(),function(){if(!l.begin["$respond_to?"]("succ"))return M;if(l.begin.$$is_string&&l.end.$$is_string)return M;if(o%1==0)return(e=l.$size(),r=o,"number"==typeof e&&"number"==typeof r?e/r:e["$/"](r)).$ceil();var t,e,r,n=l.begin,i=l.end,$=Math.abs,a=Math.floor,s=($(n)+$(i)+$(i-n))/$(o)*E.const_get_qualified(E.const_get_relative(w,"Float"),"EPSILON");return.5<s&&(s=.5),l.excl?(t=a((i-n)/o-s))*o+n<i&&t++:t=a((i-n)/o+s)+1,t}()}).$$s=l,t.$$arity=0,t)):(n(),I(l.begin.$$is_number&&l.end.$$is_number)?(_=0,function(){var a=E.new_brk();try{q(l,"loop",[],((s=function(){var t,e,r,n,i,$=s.$$s||this;return null==$.begin&&($.begin=M),null==$.excl&&($.excl=M),null==$.end&&($.end=M),t=R($.begin,(r=o,"number"==typeof(e=_)&&"number"==typeof r?e*r:e["$*"](r))),I($.excl)?I((n=t,i=$.end,"number"==typeof n&&"number"==typeof i?i<=n:n["$>="](i)))&&E.brk(M,a):I(S(t,$.end))&&E.brk(M,a),E.yield1(c,t),_=R(_,1)}).$$s=l,s.$$brk=a,s.$$arity=0,s))}catch(t){if(t===a)return t.$v;throw t}}()):(l.begin.$$is_string&&l.end.$$is_string&&o%1!=0&&l.$raise(E.const_get_relative(w,"TypeError"),"no implicit conversion to float from string"),q(l,"each_with_index",[],((r=function(t,e){r.$$s;return null==t&&(t=M),null==e&&(e=M),e["$%"](o)["$=="](0)?E.yield1(c,t):M}).$$s=l,r.$$arity=2,r))),l)},p.$$arity=-1),E.def(x,"$bsearch",g=function(){var t=g.$$p,e=t||M;return t&&(g.$$p=null),e===M?this.$enum_for("bsearch"):(I(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(E.const_get_relative(w,"TypeError"),"can't do binary search for "+this.begin.$class()),q(this.$to_a(),"bsearch",[],e.$to_proc()))},g.$$arity=0),E.def(x,"$to_s",v=function(){var t=this;return t.begin+(I(t.excl)?"...":"..")+t.end},v.$$arity=0),E.def(x,"$inspect",m=function(){var t=this;return t.begin.$inspect()+(I(t.excl)?"...":"..")+t.end.$inspect()},m.$$arity=0),E.def(x,"$marshal_load",y=function(t){return this.begin=t["$[]"]("begin"),this.end=t["$[]"]("end"),this.excl=t["$[]"]("excl")},y.$$arity=1),E.def(x,"$hash",b=function(){return[this.begin,this.end,this.excl].$hash()},b.$$arity=0),M&&"hash"}(0,0,T)},Opal.modules["corelib/proc"]=function(g){g.top;var v=[],m=g.nil,y=(g.breaker,g.slice),b=g.klass,x=g.truthy;return g.add_stubs(["$raise","$coerce_to!"]),function(t,e,r){function n(){}var i,l,$,a,s,o,c,_,u,d,f=n=b(v[0],e,"Proc",n),h=f.$$proto,p=[f].concat(r);return h.$$is_proc=!0,h.$$is_lambda=!1,g.defs(f,"$new",i=function(){var t=i.$$p,e=t||m;return t&&(i.$$p=null),x(e)||this.$raise(g.const_get_relative(p,"ArgumentError"),"tried to create a Proc object without a block"),e},i.$$arity=0),g.def(f,"$call",l=function(t){var e,r=l.$$p,n=r||m,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];r&&(l.$$p=null),n!==m&&(this.$$p=n);var s,o=this.$$brk;if(o)try{s=this.$$is_lambda?this.apply(null,e):g.yieldX(this,e)}catch(t){if(t===o)return o.$v;throw t}else s=this.$$is_lambda?this.apply(null,e):g.yieldX(this,e);return s},l.$$arity=-1),g.alias(f,"[]","call"),g.alias(f,"===","call"),g.alias(f,"yield","call"),g.def(f,"$to_proc",$=function(){return this},$.$$arity=0),g.def(f,"$lambda?",a=function(){return!!this.$$is_lambda},a.$$arity=0),g.def(f,"$arity",s=function(){return this.$$is_curried?-1:this.$$arity},s.$$arity=0),g.def(f,"$source_location",o=function(){return this.$$is_curried,m},o.$$arity=0),g.def(f,"$binding",c=function(){return this.$$is_curried&&this.$raise(g.const_get_relative(p,"ArgumentError"),"Can't create Binding"),m},c.$$arity=0),g.def(f,"$parameters",_=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var t,e,r=[];for(t=0,e=this.$$parameters.length;t<e;t++){var n=this.$$parameters[t];"req"===n[0]&&(n=["opt",n[1]]),r.push(n)}return r}return[]},_.$$arity=0),g.def(f,"$curry",u=function(n){var i=this;function $(){var t,e=y.call(arguments),r=e.length;return n<r&&i.$$is_lambda&&!i.$$is_curried&&i.$raise(g.const_get_relative(p,"ArgumentError"),"wrong number of arguments ("+r+" for "+n+")"),n<=r?i.$call.apply(i,e):((t=function(){return $.apply(null,e.concat(y.call(arguments)))}).$$is_lambda=i.$$is_lambda,t.$$is_curried=!0,t)}return void 0===n?n=i.length:(n=g.const_get_relative(p,"Opal")["$coerce_to!"](n,g.const_get_relative(p,"Integer"),"to_int"),i.$$is_lambda&&n!==i.length&&i.$raise(g.const_get_relative(p,"ArgumentError"),"wrong number of arguments ("+n+" for "+i.length+")")),$.$$is_lambda=i.$$is_lambda,$.$$is_curried=!0,$},u.$$arity=-1),g.def(f,"$dup",d=function(){var t=this.$$original_proc||this,e=function(){return t.apply(this,arguments)};for(var r in this)this.hasOwnProperty(r)&&(e[r]=this[r]);return e},d.$$arity=0),g.alias(f,"clone","dup")}(0,Function,v)},Opal.modules["corelib/method"]=function(p){p.top;var g=[],v=p.nil,m=(p.breaker,p.slice,p.klass),y=p.truthy;return p.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d=n=m(g[0],null,"Method",n),f=d.$$proto,h=[d].concat(r);f.method=f.receiver=f.owner=f.name=v,d.$attr_reader("owner","receiver","name"),p.def(d,"$initialize",i=function(t,e,r,n){return this.receiver=t,this.owner=e,this.name=n,this.method=r},i.$$arity=4),p.def(d,"$arity",$=function(){return this.method.$arity()},$.$$arity=0),p.def(d,"$parameters",a=function(){return this.method.$$parameters},a.$$arity=0),p.def(d,"$source_location",s=function(){var t;return y(t=this.method.$$source_location)?t:["(eval)",0]},s.$$arity=0),p.def(d,"$comments",o=function(){var t;return y(t=this.method.$$comments)?t:[]},o.$$arity=0),p.def(d,"$call",l=function(t){var e,r=l.$$p,n=r||v,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(l.$$p=null),this.method.$$p=n,this.method.apply(this.receiver,e)},l.$$arity=-1),p.alias(d,"[]","call"),p.def(d,"$unbind",c=function(){return p.const_get_relative(h,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},c.$$arity=0),p.def(d,"$to_proc",_=function(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t},_.$$arity=0),p.def(d,"$inspect",u=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},u.$$arity=0)}(0,0,g),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_=n=m(g[0],null,"UnboundMethod",n),u=_.$$proto,d=[_].concat(r);return u.method=u.owner=u.name=u.source=v,_.$attr_reader("source","owner","name"),p.def(_,"$initialize",i=function(t,e,r,n){return this.source=t,this.owner=e,this.method=r,this.name=n},i.$$arity=4),p.def(_,"$arity",$=function(){return this.method.$arity()},$.$$arity=0),p.def(_,"$parameters",a=function(){return this.method.$$parameters},a.$$arity=0),p.def(_,"$source_location",s=function(){var t;return y(t=this.method.$$source_location)?t:["(eval)",0]},s.$$arity=0),p.def(_,"$comments",o=function(){var t;return y(t=this.method.$$comments)?t:[]},o.$$arity=0),p.def(_,"$bind",l=function(t){if(this.owner.$$is_module||p.is_a(t,this.owner))return p.const_get_relative(d,"Method").$new(t,this.owner,this.method,this.name);this.$raise(p.const_get_relative(d,"TypeError"),"can't bind singleton method to a different class (expected "+t+".kind_of?("+this.owner+" to be true)")},l.$$arity=1),p.def(_,"$inspect",c=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},c.$$arity=0),v&&"inspect"}(0,0,g)},Opal.modules["corelib/variables"]=function(t){t.top;var e=[],r=t.nil,n=(t.breaker,t.slice,t.gvars),i=t.hash2;return t.add_stubs(["$new"]),n["&"]=n["~"]=n["`"]=n["'"]=r,n.LOADED_FEATURES=n['"']=t.loaded_features,n.LOAD_PATH=n[":"]=[],n["/"]="\n",n[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",t.const_get_relative(e,"Object").$new()),t.const_set(e[0],"ENV",i([],{})),n.VERBOSE=!1,n.DEBUG=!1,n.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){t.top;var e,r,n,i=[],$=t.nil,a=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),(r=a((e=i)[0],"Opal")).$$proto,n=[r].concat(e),t.const_set(n[0],"REGEXP_START",t.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?"^":$),t.const_set(n[0],"REGEXP_END",t.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?"$":$),t.const_set(n[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(n[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(n[0],"INLINE_IDENTIFIER_REGEXP",t.const_get_relative(n,"Regexp").$new("[^"+t.const_get_relative(n,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+t.const_get_relative(n,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(n[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),void t.const_set(n[0],"CONST_NAME_REGEXP",t.const_get_relative(n,"Regexp").$new(t.const_get_relative(n,"REGEXP_START")+"(::)?[A-Z][^"+t.const_get_relative(n,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+t.const_get_relative(n,"REGEXP_END")))},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(w){var t=w.top,s=[],E=w.nil,A=(w.breaker,w.slice,w.klass),O=w.send,S=w.truthy,R=w.gvars;return w.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$to_s","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),t.$require("corelib/string"),function(t,e,r){function n(){}var i,$=n=A(s[0],null,"String",n),a=($.$$proto,[$].concat(r));w.defs($,"$inherited",i=function(t){var e;e=w.const_get_relative(a,"Class").$new(w.const_get_qualified(w.const_get_relative(a,"String"),"Wrapper")),t.$$proto=e.$$proto,(t.$$proto.$$class=t).$$alloc=e.$$alloc,t.$$parent=w.const_get_qualified(w.const_get_relative(a,"String"),"Wrapper"),t.$allocate=e.$allocate,t.$new=e.$new},i.$$arity=1)}(0,0,s),function(t,e,r){function n(){}var i,o,$,a,l,s,c,_,u,d,f,h,p,g,v,m,y,b,x=n=A(t,null,"Wrapper",n),k=x.$$proto;[x].concat(r);return k.literal=E,k.$$is_string=!0,w.defs(x,"$allocate",i=function(t){var e=i.$$p,r=E;return null==t&&(t=""),e&&(i.$$p=null),(r=O(this,w.find_super_dispatcher(this,"allocate",i,!1,n),[],null)).literal=t,r},i.$$arity=-1),w.defs(x,"$new",o=function(t){var e,r,n=o.$$p,i=n||E,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var s=0;s<$;s++)e[s-0]=arguments[s];return n&&(o.$$p=null),r=this.$allocate(),O(r,"initialize",w.to_a(e),i.$to_proc()),r},o.$$arity=-1),w.defs(x,"$[]",$=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$allocate(e)},$.$$arity=-1),w.def(x,"$initialize",a=function(t){return null==t&&(t=""),this.literal=t},a.$$arity=-1),w.def(x,"$method_missing",l=function(t){var e,r,n=l.$$p,i=n||E,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var s=0;s<$;s++)e[s-0]=arguments[s];return n&&(l.$$p=null),r=O(this.literal,"__send__",w.to_a(e),i.$to_proc()),S(null!=r.$$is_string)?S(r==this.literal)?this:this.$class().$allocate(r):r},l.$$arity=-1),w.def(x,"$initialize_copy",s=function(t){return this.literal=t.literal.$clone()},s.$$arity=1),w.def(x,"$respond_to?",c=function(t,e){var r,n,i=c.$$p,$=E,a=E;for(i&&(c.$$p=null),a=0,n=arguments.length,$=new Array(n);a<n;a++)$[a]=arguments[a];return S(r=O(this,w.find_super_dispatcher(this,"respond_to?",c,!1),$,i))?r:this.literal["$respond_to?"](t)},c.$$arity=-2),w.def(x,"$==",_=function(t){return this.literal["$=="](t)},_.$$arity=1),w.alias(x,"eql?","=="),w.alias(x,"===","=="),w.def(x,"$to_s",u=function(){return this.literal.$to_s()},u.$$arity=0),w.alias(x,"to_str","to_s"),w.def(x,"$inspect",d=function(){return this.literal.$inspect()},d.$$arity=0),w.def(x,"$+",f=function(t){var e,r;return e=this.literal,r=t,"number"==typeof e&&"number"==typeof r?e+r:e["$+"](r)},f.$$arity=1),w.def(x,"$*",h=function(t){var e,r,n=(e=this.literal,r=t,"number"==typeof e&&"number"==typeof r?e*r:e["$*"](r));return n.$$is_string?this.$class().$allocate(n):n},h.$$arity=1),w.def(x,"$split",p=function(t,e){var r;return O(this.literal.$split(t,e),"map",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=E),e.$class().$allocate(t)}).$$s=this,r.$$arity=1,r))},p.$$arity=-1),w.def(x,"$replace",g=function(t){return this.literal=t},g.$$arity=1),w.def(x,"$each_line",v=function(t){var r,e=v.$$p,n=e||E;return null==R["/"]&&(R["/"]=E),null==t&&(t=R["/"]),e&&(v.$$p=null),n===E?this.$enum_for("each_line",t):O(this.literal,"each_line",[t],((r=function(t){var e=r.$$s||this;return null==t&&(t=E),w.yield1(n,e.$class().$allocate(t))}).$$s=this,r.$$arity=1,r))},v.$$arity=-1),w.def(x,"$lines",m=function(t){var e=m.$$p,r=e||E,n=E;return null==R["/"]&&(R["/"]=E),null==t&&(t=R["/"]),e&&(m.$$p=null),n=O(this,"each_line",[t],r.$to_proc()),S(r)?this:n.$to_a()},m.$$arity=-1),w.def(x,"$%",y=function(t){return this.literal["$%"](t)},y.$$arity=1),w.def(x,"$instance_variables",b=function(){var t,e,r,n=b.$$p,i=E,$=E;for(n&&(b.$$p=null),$=0,t=arguments.length,i=new Array(t);$<t;$++)i[$]=arguments[$];return e=O(this,w.find_super_dispatcher(this,"instance_variables",b,!1),i,n),r=["@literal"],"number"==typeof e&&"number"==typeof r?e-r:e["$-"](r)},b.$$arity=0),E&&"instance_variables"}(w.const_get_relative(s,"String"),0,s)},Opal.modules["corelib/string/encoding"]=function(g){var r,n,i,$,s,t=g.top,v=[],m=g.nil,y=(g.breaker,g.slice,g.klass),b=g.truthy,x=g.send,k=g.hash2;return g.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),t.$require("corelib/string"),function(t,e,r){function n(){}var _,i,$,a,s,o,l,c,u,d,f=n=y(v[0],null,"Encoding",n),h=f.$$proto,p=[f].concat(r);h.ascii=h.dummy=h.name=m,f.$$register={},g.defs(f,"$register",_=function(t,e){var r,n,i,$,a,s=_.$$p,o=s||m,l=m,c=m;return null==e&&(e=k([],{})),s&&(_.$$p=null),$=[t],a=b(r=e["$[]"]("aliases"))?r:[],l="number"==typeof $&&"number"==typeof a?$+a:$["$+"](a),i=x(g.const_get_relative(p,"Class"),"new",[this],o.$to_proc()).$new(t,l,!!b(r=e["$[]"]("ascii"))&&r,!!b(r=e["$[]"]("dummy"))&&r),c=this.$$register,x(l,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=m),e.$const_set(t.$sub("-","_"),i),c["$$"+t]=i}).$$s=this,n.$$arity=1,n))},_.$$arity=-2),g.defs(f,"$find",i=function(t){var e,r,n;return t["$=="]("default_external")?this.$default_external():(r=this.$$register,n=b(e=r["$$"+t])?e:r["$$"+t.$upcase()],b(n)||this.$raise(g.const_get_relative(p,"ArgumentError"),"unknown encoding name - "+t),n)},i.$$arity=1),function(t,e){t.$$proto,[t].concat(e);t.$attr_accessor("default_external")}(g.get_singleton_class(f),p),f.$attr_reader("name","names"),g.def(f,"$initialize",$=function(t,e,r,n){return this.name=t,this.names=e,this.ascii=r,this.dummy=n},$.$$arity=4),g.def(f,"$ascii_compatible?",a=function(){return this.ascii},a.$$arity=0),g.def(f,"$dummy?",s=function(){return this.dummy},s.$$arity=0),g.def(f,"$to_s",o=function(){return this.name},o.$$arity=0),g.def(f,"$inspect",l=function(){var t=this;return"#<Encoding:"+t.name+(b(t.dummy)?" (dummy)":m)+">"},l.$$arity=0),g.def(f,"$each_byte",c=function(t){return this.$raise(g.const_get_relative(p,"NotImplementedError"))},c.$$arity=-1),g.def(f,"$getbyte",u=function(t){return this.$raise(g.const_get_relative(p,"NotImplementedError"))},u.$$arity=-1),g.def(f,"$bytesize",d=function(t){return this.$raise(g.const_get_relative(p,"NotImplementedError"))},d.$$arity=-1),function(t,e,r){function n(){}var i=n=y(t,e,"EncodingError",n);i.$$proto,[i].concat(r)}(p[0],g.const_get_relative(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=y(t,e,"CompatibilityError",n);i.$$proto,[i].concat(r)}(p[0],g.const_get_relative(p,"EncodingError"),p)}(0,0,v),x(g.const_get_relative(v,"Encoding"),"register",["UTF-8",k(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],((r=function(){var l,t,e=r.$$s||this;return g.def(e,"$each_byte",l=function(t){var e=l.$$p,r=e||m;e&&(l.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);if($<=127)g.yield1(r,$);else for(var a=encodeURIComponent(t.charAt(n)).substr(1).split("%"),s=0,o=a.length;s<o;s++)g.yield1(r,parseInt(a[s],16))}},l.$$arity=1),g.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,r.$$arity=0,r)),x(g.const_get_relative(v,"Encoding"),"register",["UTF-16LE"],((n=function(){var a,t,e=n.$$s||this;return g.def(e,"$each_byte",a=function(t){var e=a.$$p,r=e||m;e&&(a.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);g.yield1(r,255&$),g.yield1(r,$>>8)}},a.$$arity=1),g.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,n.$$arity=0,n)),x(g.const_get_relative(v,"Encoding"),"register",["UTF-16BE"],((i=function(){var a,t,e=i.$$s||this;return g.def(e,"$each_byte",a=function(t){var e=a.$$p,r=e||m;e&&(a.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);g.yield1(r,$>>8),g.yield1(r,255&$)}},a.$$arity=1),g.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,i.$$arity=0,i)),x(g.const_get_relative(v,"Encoding"),"register",["UTF-32LE"],(($=function(){var a,t,e=$.$$s||this;return g.def(e,"$each_byte",a=function(t){var e=a.$$p,r=e||m;e&&(a.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);g.yield1(r,255&$),g.yield1(r,$>>8)}},a.$$arity=1),g.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,$.$$arity=0,$)),x(g.const_get_relative(v,"Encoding"),"register",["ASCII-8BIT",k(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],((s=function(){var a,t,e=s.$$s||this;return g.def(e,"$each_byte",a=function(t){var e=a.$$p,r=e||m;e&&(a.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);g.yield1(r,255&$),g.yield1(r,$>>8)}},a.$$arity=1),g.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,s.$$arity=0,s)),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_=n=y(v[0],null,"String",n),u=_.$$proto,d=[_].concat(r);return u.encoding=m,_.$attr_reader("encoding"),String.prototype.encoding=g.const_get_qualified(g.const_get_relative(d,"Encoding"),"UTF_16LE"),g.def(_,"$bytes",i=function(){return this.$each_byte().$to_a()},i.$$arity=0),g.def(_,"$bytesize",$=function(){return this.encoding.$bytesize(this)},$.$$arity=0),g.def(_,"$each_byte",a=function(){var t=a.$$p,e=t||m;return t&&(a.$$p=null),e===m?this.$enum_for("each_byte"):(x(this.encoding,"each_byte",[this],e.$to_proc()),this)},a.$$arity=0),g.def(_,"$encode",s=function(t){return this.$dup().$force_encoding(t)},s.$$arity=1),g.def(_,"$force_encoding",o=function(t){return t===this.encoding?this:(t=g.const_get_relative(d,"Opal")["$coerce_to!"](t,g.const_get_relative(d,"String"),"to_s"),(t=g.const_get_relative(d,"Encoding").$find(t))===this.encoding||(this.encoding=t),this)},o.$$arity=1),g.def(_,"$getbyte",l=function(t){return this.encoding.$getbyte(this,t)},l.$$arity=1),g.def(_,"$valid_encoding?",c=function(){return!0},c.$$arity=0),m&&"valid_encoding?"}(0,0,v)},Opal.modules["corelib/math"]=function(d){d.top;var t,e,r,n,i,$,a,s,o,l,c,_,u,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I=[],q=(d.nil,d.breaker,d.slice,d.module),N=d.truthy;return d.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),(M=q((t=I)[0],"Math")).$$proto,C=[M].concat(t),d.const_set(C[0],"E",Math.E),d.const_set(C[0],"PI",Math.PI),d.const_set(C[0],"DomainError",d.const_get_relative(C,"Class").$new(d.const_get_relative(C,"StandardError"))),d.defs(M,"$checked",e=function(t,e){var r,n=arguments.length,i=n-1;i<0&&(i=0),r=new Array(i);for(var $=1;$<n;$++)r[$-1]=arguments[$];if(isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var a=Math[t].apply(null,r);return isNaN(a)&&this.$raise(d.const_get_relative(C,"DomainError"),'Numerical argument is out of domain - "'+t+'"'),a},e.$$arity=-2),d.defs(M,"$float!",r=function(e){var r=this;try{return r.$Float(e)}catch(t){if(!d.rescue(t,[d.const_get_relative(C,"ArgumentError")]))throw t;try{return r.$raise(d.const_get_relative(C,"Opal").$type_error(e,d.const_get_relative(C,"Float")))}finally{d.pop_exception()}}},r.$$arity=1),d.defs(M,"$integer!",n=function(e){var r=this;try{return r.$Integer(e)}catch(t){if(!d.rescue(t,[d.const_get_relative(C,"ArgumentError")]))throw t;try{return r.$raise(d.const_get_relative(C,"Opal").$type_error(e,d.const_get_relative(C,"Integer")))}finally{d.pop_exception()}}},n.$$arity=1),M.$module_function(),d.def(M,"$acos",i=function(t){return d.const_get_relative(C,"Math").$checked("acos",d.const_get_relative(C,"Math")["$float!"](t))},i.$$arity=1),N(void 0!==Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),d.def(M,"$acosh",$=function(t){return d.const_get_relative(C,"Math").$checked("acosh",d.const_get_relative(C,"Math")["$float!"](t))},$.$$arity=1),d.def(M,"$asin",a=function(t){return d.const_get_relative(C,"Math").$checked("asin",d.const_get_relative(C,"Math")["$float!"](t))},a.$$arity=1),N(void 0!==Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),d.def(M,"$asinh",s=function(t){return d.const_get_relative(C,"Math").$checked("asinh",d.const_get_relative(C,"Math")["$float!"](t))},s.$$arity=1),d.def(M,"$atan",o=function(t){return d.const_get_relative(C,"Math").$checked("atan",d.const_get_relative(C,"Math")["$float!"](t))},o.$$arity=1),d.def(M,"$atan2",l=function(t,e){return d.const_get_relative(C,"Math").$checked("atan2",d.const_get_relative(C,"Math")["$float!"](t),d.const_get_relative(C,"Math")["$float!"](e))},l.$$arity=2),N(void 0!==Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),d.def(M,"$atanh",c=function(t){return d.const_get_relative(C,"Math").$checked("atanh",d.const_get_relative(C,"Math")["$float!"](t))},c.$$arity=1),N(void 0!==Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,r=0;e<.125;)e*=8,r--;for(;1<e;)e*=.125,r++;for(e=(-.46946116*e+1.072302)*e+.3812513;r<0;)e*=.5,r++;for(;0<r;)e*=2,r--;return e=2/3*(e=2/3*(e=2/3*(e=2/3*e+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e)}),d.def(M,"$cbrt",_=function(t){return d.const_get_relative(C,"Math").$checked("cbrt",d.const_get_relative(C,"Math")["$float!"](t))},_.$$arity=1),d.def(M,"$cos",u=function(t){return d.const_get_relative(C,"Math").$checked("cos",d.const_get_relative(C,"Math")["$float!"](t))},u.$$arity=1),N(void 0!==Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),d.def(M,"$cosh",f=function(t){return d.const_get_relative(C,"Math").$checked("cosh",d.const_get_relative(C,"Math")["$float!"](t))},f.$$arity=1),N(void 0!==Math.erf)||(Math.erf=function(t){var e=1;t<0&&(e=-1);var r=1/(1+.3275911*(t=Math.abs(t)));return e*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-t*t))}),d.def(M,"$erf",h=function(t){return d.const_get_relative(C,"Math").$checked("erf",d.const_get_relative(C,"Math")["$float!"](t))},h.$$arity=1),N(void 0!==Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),r=1/(.5*e+1),n=-e*e-1.26551223+r*(r*(r*(r*(r*(r*(r*(r*(.17087277*r-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),i=r*Math.exp(n);return t<0?2-i:i}),d.def(M,"$erfc",p=function(t){return d.const_get_relative(C,"Math").$checked("erfc",d.const_get_relative(C,"Math")["$float!"](t))},p.$$arity=1),d.def(M,"$exp",g=function(t){return d.const_get_relative(C,"Math").$checked("exp",d.const_get_relative(C,"Math")["$float!"](t))},g.$$arity=1),d.def(M,"$frexp",v=function(t){if(t=d.const_get_relative(C,"Math")["$float!"](t),isNaN(t))return[NaN,0];var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,e),e]},v.$$arity=1),d.def(M,"$gamma",m=function(t){var e,r,n,i,$,a,s,o,l;t=d.const_get_relative(C,"Math")["$float!"](t);var c,_,u=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-1/0;if(-1!==t&&t!==-1/0||this.$raise(d.const_get_relative(C,"DomainError"),'Numerical argument is out of domain - "gamma"'),d.const_get_relative(C,"Integer")["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(171<t)return 1/0;for(i=t-2,$=t-1;1<i;)$*=i,i--;return 0==$&&($=1),$}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*d.const_get_relative(C,"Math").$gamma((_=t,"number"==typeof(c=1)&&"number"==typeof _?c-_:c["$-"](_))));if(171.35<=t)return 1/0;if(85<t)return l=(o=(s=(a=t*t)*t)*t)*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*a)-139/(51840*s)-571/(2488320*o)+163879/(209018880*l)+5246819/(75246796800*l*t));for(t-=1,n=u[0],e=1;e<u.length;++e)n+=u[e]/(t+e);return r=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*n},m.$$arity=1),N(void 0!==Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),d.def(M,"$hypot",y=function(t,e){return d.const_get_relative(C,"Math").$checked("hypot",d.const_get_relative(C,"Math")["$float!"](t),d.const_get_relative(C,"Math")["$float!"](e))},y.$$arity=2),d.def(M,"$ldexp",b=function(t,e){return t=d.const_get_relative(C,"Math")["$float!"](t),e=d.const_get_relative(C,"Math")["$integer!"](e),isNaN(e)&&this.$raise(d.const_get_relative(C,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,e)},b.$$arity=2),d.def(M,"$lgamma",x=function(t){return-1==t?[1/0,1]:[Math.log(Math.abs(d.const_get_relative(C,"Math").$gamma(t))),d.const_get_relative(C,"Math").$gamma(t)<0?-1:1]},x.$$arity=1),d.def(M,"$log",k=function(t,e){var r,n;return N(d.const_get_relative(C,"String")["$==="](t))&&this.$raise(d.const_get_relative(C,"Opal").$type_error(t,d.const_get_relative(C,"Float"))),N(null==e)?d.const_get_relative(C,"Math").$checked("log",d.const_get_relative(C,"Math")["$float!"](t)):(N(d.const_get_relative(C,"String")["$==="](e))&&this.$raise(d.const_get_relative(C,"Opal").$type_error(e,d.const_get_relative(C,"Float"))),r=d.const_get_relative(C,"Math").$checked("log",d.const_get_relative(C,"Math")["$float!"](t)),n=d.const_get_relative(C,"Math").$checked("log",d.const_get_relative(C,"Math")["$float!"](e)),"number"==typeof r&&"number"==typeof n?r/n:r["$/"](n))},k.$$arity=-2),N(void 0!==Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),d.def(M,"$log10",w=function(t){return N(d.const_get_relative(C,"String")["$==="](t))&&this.$raise(d.const_get_relative(C,"Opal").$type_error(t,d.const_get_relative(C,"Float"))),d.const_get_relative(C,"Math").$checked("log10",d.const_get_relative(C,"Math")["$float!"](t))},w.$$arity=1),N(void 0!==Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),d.def(M,"$log2",E=function(t){return N(d.const_get_relative(C,"String")["$==="](t))&&this.$raise(d.const_get_relative(C,"Opal").$type_error(t,d.const_get_relative(C,"Float"))),d.const_get_relative(C,"Math").$checked("log2",d.const_get_relative(C,"Math")["$float!"](t))},E.$$arity=1),d.def(M,"$sin",A=function(t){return d.const_get_relative(C,"Math").$checked("sin",d.const_get_relative(C,"Math")["$float!"](t))},A.$$arity=1),N(void 0!==Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),d.def(M,"$sinh",O=function(t){return d.const_get_relative(C,"Math").$checked("sinh",d.const_get_relative(C,"Math")["$float!"](t))},O.$$arity=1),d.def(M,"$sqrt",S=function(t){return d.const_get_relative(C,"Math").$checked("sqrt",d.const_get_relative(C,"Math")["$float!"](t))},S.$$arity=1),d.def(M,"$tan",R=function(t){return t=d.const_get_relative(C,"Math")["$float!"](t),N(t["$infinite?"]())?d.const_get_qualified(d.const_get_relative(C,"Float"),"NAN"):d.const_get_relative(C,"Math").$checked("tan",d.const_get_relative(C,"Math")["$float!"](t))},R.$$arity=1),N(void 0!==Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),void d.def(M,"$tanh",T=function(t){return d.const_get_relative(C,"Math").$checked("tanh",d.const_get_relative(C,"Math")["$float!"](t))},T.$$arity=1)},Opal.modules["corelib/complex"]=function(B){function F(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function P(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function L(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function j(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var t,e,r,n,i=B.top,$=[],U=B.nil,H=(B.breaker,B.slice,B.klass),G=B.truthy,a=B.module;return B.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$finite?","$infinite?","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?"]),i.$require("corelib/numeric"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N=n=H(t,e,"Complex",n),z=N.$$proto,D=[N].concat(r);z.real=z.imag=U,B.defs(N,"$rect",i=function(t,e){var r,n,i;return null==e&&(e=0),G(G(r=G(n=G(i=B.const_get_relative(D,"Numeric")["$==="](t))?t["$real?"]():i)?B.const_get_relative(D,"Numeric")["$==="](e):n)?e["$real?"]():r)||this.$raise(B.const_get_relative(D,"TypeError"),"not a real"),this.$new(t,e)},i.$$arity=-2),function(t,e){t.$$proto,[t].concat(e);B.alias(t,"rectangular","rect")}(B.get_singleton_class(N),D),B.defs(N,"$polar",$=function(t,e){var r,n,i;return null==e&&(e=0),G(G(r=G(n=G(i=B.const_get_relative(D,"Numeric")["$==="](t))?t["$real?"]():i)?B.const_get_relative(D,"Numeric")["$==="](e):n)?e["$real?"]():r)||this.$raise(B.const_get_relative(D,"TypeError"),"not a real"),this.$new(F(t,B.const_get_relative(D,"Math").$cos(e)),F(t,B.const_get_relative(D,"Math").$sin(e)))},$.$$arity=-2),N.$attr_reader("real","imag"),B.def(N,"$initialize",a=function(t,e){return null==e&&(e=0),this.real=t,this.imag=e},a.$$arity=-2),B.def(N,"$coerce",s=function(t){var e;return G(B.const_get_relative(D,"Complex")["$==="](t))?[t,this]:G(G(e=B.const_get_relative(D,"Numeric")["$==="](t))?t["$real?"]():e)?[B.const_get_relative(D,"Complex").$new(t,0),this]:this.$raise(B.const_get_relative(D,"TypeError"),t.$class()+" can't be coerced into Complex")},s.$$arity=1),B.def(N,"$==",o=function(t){var e;return G(B.const_get_relative(D,"Complex")["$==="](t))?(e=this.real["$=="](t.$real()))?this.imag["$=="](t.$imag()):this.real["$=="](t.$real()):G(G(e=B.const_get_relative(D,"Numeric")["$==="](t))?t["$real?"]():e)?(e=this.real["$=="](t))?this.imag["$=="](0):this.real["$=="](t):t["$=="](this)},o.$$arity=1),B.def(N,"$-@",l=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},l.$$arity=0),B.def(N,"$+",c=function(t){var e;return G(B.const_get_relative(D,"Complex")["$==="](t))?this.$Complex(P(this.real,t.$real()),P(this.imag,t.$imag())):G(G(e=B.const_get_relative(D,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(P(this.real,t),this.imag):this.$__coerced__("+",t)},c.$$arity=1),B.def(N,"$-",_=function(t){var e;return G(B.const_get_relative(D,"Complex")["$==="](t))?this.$Complex(L(this.real,t.$real()),L(this.imag,t.$imag())):G(G(e=B.const_get_relative(D,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(L(this.real,t),this.imag):this.$__coerced__("-",t)},_.$$arity=1),B.def(N,"$*",u=function(t){var e;return G(B.const_get_relative(D,"Complex")["$==="](t))?this.$Complex(L(F(this.real,t.$real()),F(this.imag,t.$imag())),P(F(this.real,t.$imag()),F(this.imag,t.$real()))):G(G(e=B.const_get_relative(D,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(F(this.real,t),F(this.imag,t)):this.$__coerced__("*",t)},u.$$arity=1),B.def(N,"$/",d=function(t){var e,r,n,i;return G(B.const_get_relative(D,"Complex")["$==="](t))?G(G(e=G(r=G(n=G(i=B.const_get_relative(D,"Number")["$==="](this.real))?this.real["$nan?"]():i)?n:G(i=B.const_get_relative(D,"Number")["$==="](this.imag))?this.imag["$nan?"]():i)?r:G(n=B.const_get_relative(D,"Number")["$==="](t.$real()))?t.$real()["$nan?"]():n)?e:G(r=B.const_get_relative(D,"Number")["$==="](t.$imag()))?t.$imag()["$nan?"]():r)?B.const_get_relative(D,"Complex").$new(B.const_get_qualified(B.const_get_relative(D,"Float"),"NAN"),B.const_get_qualified(B.const_get_relative(D,"Float"),"NAN")):j(F(this,t.$conj()),t.$abs2()):G(G(e=B.const_get_relative(D,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(this.real.$quo(t),this.imag.$quo(t)):this.$__coerced__("/",t)},d.$$arity=1),B.def(N,"$**",f=function(t){var e,r,n,i,$,a,s=U,o=U,l=U,c=U,_=U,u=U,d=U,f=U,h=U,p=U,g=U;if(t["$=="](0))return B.const_get_relative(D,"Complex").$new(1,0);if(G(B.const_get_relative(D,"Complex")["$==="](t)))return r=this.$polar(),s=null==(e=B.to_ary(r))[0]?U:e[0],o=null==e[1]?U:e[1],l=t.$real(),c=t.$imag(),_=B.const_get_relative(D,"Math").$exp(L(F(l,B.const_get_relative(D,"Math").$log(s)),F(c,o))),u=P(F(o,l),F(c,B.const_get_relative(D,"Math").$log(s))),B.const_get_relative(D,"Complex").$polar(_,u);if(G(B.const_get_relative(D,"Integer")["$==="](t))){if(G((a=0,"number"==typeof($=t)&&"number"==typeof a?a<$:$["$>"](a)))){for(f=d=this,h=L(t,1);G(h["$!="](0));){for(n=h.$divmod(2),p=null==(r=B.to_ary(n))[0]?U:r[0],g=null==r[1]?U:r[1];g["$=="](0);)d=this.$Complex(L(F(d.$real(),d.$real()),F(d.$imag(),d.$imag())),F(F(2,d.$real()),d.$imag())),i=(h=p).$divmod(2),p=null==(n=B.to_ary(i))[0]?U:n[0],g=null==n[1]?U:n[1];f=F(f,d),h=L(h,1)}return f}return j(B.const_get_relative(D,"Rational").$new(1,1),this)["$**"](t["$-@"]())}return G(G(e=B.const_get_relative(D,"Float")["$==="](t))?e:B.const_get_relative(D,"Rational")["$==="](t))?(r=this.$polar(),s=null==(e=B.to_ary(r))[0]?U:e[0],o=null==e[1]?U:e[1],B.const_get_relative(D,"Complex").$polar(s["$**"](t),F(o,t))):this.$__coerced__("**",t)},f.$$arity=1),B.def(N,"$abs",h=function(){return B.const_get_relative(D,"Math").$hypot(this.real,this.imag)},h.$$arity=0),B.def(N,"$abs2",p=function(){return P(F(this.real,this.real),F(this.imag,this.imag))},p.$$arity=0),B.def(N,"$angle",g=function(){return B.const_get_relative(D,"Math").$atan2(this.imag,this.real)},g.$$arity=0),B.alias(N,"arg","angle"),B.def(N,"$conj",v=function(){return this.$Complex(this.real,this.imag["$-@"]())},v.$$arity=0),B.alias(N,"conjugate","conj"),B.def(N,"$denominator",m=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},m.$$arity=0),B.alias(N,"divide","/"),B.def(N,"$eql?",y=function(t){var e,r;return G(e=G(r=B.const_get_relative(D,"Complex")["$==="](t))?this.real.$class()["$=="](this.imag.$class()):r)?this["$=="](t):e},y.$$arity=1),B.def(N,"$fdiv",b=function(t){return G(B.const_get_relative(D,"Numeric")["$==="](t))||this.$raise(B.const_get_relative(D,"TypeError"),t.$class()+" can't be coerced into Complex"),j(this,t)},b.$$arity=1),B.def(N,"$finite?",x=function(){var t;return G(t=this.real["$finite?"]())?this.imag["$finite?"]():t},x.$$arity=0),B.def(N,"$hash",k=function(){return"Complex:"+this.real+":"+this.imag},k.$$arity=0),B.alias(N,"imaginary","imag"),B.def(N,"$infinite?",w=function(){var t;return G(t=this.real["$infinite?"]())?t:this.imag["$infinite?"]()},w.$$arity=0),B.def(N,"$inspect",E=function(){return"("+this+")"},E.$$arity=0),B.alias(N,"magnitude","abs"),B.udef(N,"$negative?"),B.def(N,"$numerator",A=function(){var t;return t=this.$denominator(),this.$Complex(F(this.real.$numerator(),j(t,this.real.$denominator())),F(this.imag.$numerator(),j(t,this.imag.$denominator())))},A.$$arity=0),B.alias(N,"phase","arg"),B.def(N,"$polar",O=function(){return[this.$abs(),this.$arg()]},O.$$arity=0),B.udef(N,"$positive?"),B.alias(N,"quo","/"),B.def(N,"$rationalize",S=function(t){return 1<arguments.length&&this.$raise(B.const_get_relative(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),G(this.imag["$!="](0))&&this.$raise(B.const_get_relative(D,"RangeError"),"can't' convert "+this+" into Rational"),this.$real().$rationalize(t)},S.$$arity=-1),B.def(N,"$real?",R=function(){return!1},R.$$arity=0),B.def(N,"$rect",T=function(){return[this.real,this.imag]},T.$$arity=0),B.alias(N,"rectangular","rect"),B.def(N,"$to_f",M=function(){return this.imag["$=="](0)||this.$raise(B.const_get_relative(D,"RangeError"),"can't convert "+this+" into Float"),this.real.$to_f()},M.$$arity=0),B.def(N,"$to_i",C=function(){return this.imag["$=="](0)||this.$raise(B.const_get_relative(D,"RangeError"),"can't convert "+this+" into Integer"),this.real.$to_i()},C.$$arity=0),B.def(N,"$to_r",I=function(){return this.imag["$=="](0)||this.$raise(B.const_get_relative(D,"RangeError"),"can't convert "+this+" into Rational"),this.real.$to_r()},I.$$arity=0),B.def(N,"$to_s",q=function(){var t,e,r,n=this,i=U;return i=P(i=P(i=n.real.$inspect(),G(G(t=G(e=G(r=B.const_get_relative(D,"Number")["$==="](n.imag))?n.imag["$nan?"]():r)?e:n.imag["$positive?"]())?t:n.imag["$zero?"]())?"+":"-"),n.imag.$abs().$inspect()),G(G(t=B.const_get_relative(D,"Number")["$==="](n.imag))?G(e=n.imag["$nan?"]())?e:n.imag["$infinite?"]():t)&&(i=P(i,"*")),P(i,"i")},q.$$arity=0),B.const_set(D[0],"I",N.$new(0,1))}($[0],B.const_get_relative($,"Numeric"),$),(r=a((t=$)[0],"Kernel")).$$proto,n=[r].concat(t),void B.def(r,"$Complex",e=function(t,e){return null==e&&(e=U),G(e)?B.const_get_relative(n,"Complex").$new(t,e):B.const_get_relative(n,"Complex").$new(t,0)},e.$$arity=-2)},Opal.modules["corelib/rational"]=function(I){function q(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function N(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function z(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function D(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function B(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t,e,r,n,i=I.top,$=[],F=I.nil,P=(I.breaker,I.slice,I.klass),L=I.truthy,a=I.module;return I.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$<=","$truncate","$send","$convert"]),i.$require("corelib/numeric"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T=n=P(t,e,"Rational",n),M=T.$$proto,C=[T].concat(r);M.num=M.den=F,I.defs(T,"$reduce",i=function(t,e){var r;if(t=t.$to_i(),(e=e.$to_i())["$=="](0))this.$raise(I.const_get_relative(C,"ZeroDivisionError"),"divided by 0");else if(L(q(e,0)))t=t["$-@"](),e=e["$-@"]();else if(e["$=="](1))return this.$new(t,e);return r=t.$gcd(e),this.$new(N(t,r),N(e,r))},i.$$arity=2),I.defs(T,"$convert",$=function(t,e){var r,n;return L(L(r=t["$nil?"]())?r:e["$nil?"]())&&this.$raise(I.const_get_relative(C,"TypeError"),"cannot convert nil into Rational"),L(L(r=I.const_get_relative(C,"Integer")["$==="](t))?I.const_get_relative(C,"Integer")["$==="](e):r)?this.$reduce(t,e):(L(L(r=L(n=I.const_get_relative(C,"Float")["$==="](t))?n:I.const_get_relative(C,"String")["$==="](t))?r:I.const_get_relative(C,"Complex")["$==="](t))&&(t=t.$to_r()),L(L(r=L(n=I.const_get_relative(C,"Float")["$==="](e))?n:I.const_get_relative(C,"String")["$==="](e))?r:I.const_get_relative(C,"Complex")["$==="](e))&&(e=e.$to_r()),L(L(r=e["$equal?"](1))?I.const_get_relative(C,"Integer")["$==="](t)["$!"]():r)?I.const_get_relative(C,"Opal")["$coerce_to!"](t,I.const_get_relative(C,"Rational"),"to_r"):L(L(r=I.const_get_relative(C,"Numeric")["$==="](t))?I.const_get_relative(C,"Numeric")["$==="](e):r)?N(t,e):this.$reduce(t,e))},$.$$arity=2),I.def(T,"$initialize",a=function(t,e){return this.num=t,this.den=e},a.$$arity=2),I.def(T,"$numerator",s=function(){return this.num},s.$$arity=0),I.def(T,"$denominator",o=function(){return this.den},o.$$arity=0),I.def(T,"$coerce",l=function(t){var e=this,r=F;return r=t,I.const_get_relative(C,"Rational")["$==="](r)?[t,e]:I.const_get_relative(C,"Integer")["$==="](r)?[t.$to_r(),e]:I.const_get_relative(C,"Float")["$==="](r)?[t,e.$to_f()]:F},l.$$arity=1),I.def(T,"$==",c=function(t){var e=this,r=F;return r=t,I.const_get_relative(C,"Rational")["$==="](r)?e.num["$=="](t.$numerator())?e.den["$=="](t.$denominator()):e.num["$=="](t.$numerator()):I.const_get_relative(C,"Integer")["$==="](r)?e.num["$=="](t)?e.den["$=="](1):e.num["$=="](t):I.const_get_relative(C,"Float")["$==="](r)?e.$to_f()["$=="](t):t["$=="](e)},c.$$arity=1),I.def(T,"$<=>",_=function(t){var e=this,r=F;return r=t,I.const_get_relative(C,"Rational")["$==="](r)?z(D(e.num,t.$denominator()),D(e.den,t.$numerator()))["$<=>"](0):I.const_get_relative(C,"Integer")["$==="](r)?z(e.num,D(e.den,t))["$<=>"](0):I.const_get_relative(C,"Float")["$==="](r)?e.$to_f()["$<=>"](t):e.$__coerced__("<=>",t)},_.$$arity=1),I.def(T,"$+",u=function(t){var e=this,r=F,n=F,i=F;return r=t,I.const_get_relative(C,"Rational")["$==="](r)?(n=B(D(e.num,t.$denominator()),D(e.den,t.$numerator())),i=D(e.den,t.$denominator()),e.$Rational(n,i)):I.const_get_relative(C,"Integer")["$==="](r)?e.$Rational(B(e.num,D(t,e.den)),e.den):I.const_get_relative(C,"Float")["$==="](r)?B(e.$to_f(),t):e.$__coerced__("+",t)},u.$$arity=1),I.def(T,"$-",d=function(t){var e=this,r=F,n=F,i=F;return r=t,I.const_get_relative(C,"Rational")["$==="](r)?(n=z(D(e.num,t.$denominator()),D(e.den,t.$numerator())),i=D(e.den,t.$denominator()),e.$Rational(n,i)):I.const_get_relative(C,"Integer")["$==="](r)?e.$Rational(z(e.num,D(t,e.den)),e.den):I.const_get_relative(C,"Float")["$==="](r)?z(e.$to_f(),t):e.$__coerced__("-",t)},d.$$arity=1),I.def(T,"$*",f=function(t){var e=this,r=F,n=F,i=F;return r=t,I.const_get_relative(C,"Rational")["$==="](r)?(n=D(e.num,t.$numerator()),i=D(e.den,t.$denominator()),e.$Rational(n,i)):I.const_get_relative(C,"Integer")["$==="](r)?e.$Rational(D(e.num,t),e.den):I.const_get_relative(C,"Float")["$==="](r)?D(e.$to_f(),t):e.$__coerced__("*",t)},f.$$arity=1),I.def(T,"$/",h=function(t){var e=this,r=F,n=F,i=F;return r=t,I.const_get_relative(C,"Rational")["$==="](r)?(n=D(e.num,t.$denominator()),i=D(e.den,t.$numerator()),e.$Rational(n,i)):I.const_get_relative(C,"Integer")["$==="](r)?t["$=="](0)?N(e.$to_f(),0):e.$Rational(e.num,D(e.den,t)):I.const_get_relative(C,"Float")["$==="](r)?N(e.$to_f(),t):e.$__coerced__("/",t)},h.$$arity=1),I.def(T,"$**",p=function(t){var e,r,n=this,i=F;return i=t,I.const_get_relative(C,"Integer")["$==="](i)?L(n["$=="](0)?q(t,0):n["$=="](0))?I.const_get_qualified(I.const_get_relative(C,"Float"),"INFINITY"):L((r=0,"number"==typeof(e=t)&&"number"==typeof r?r<e:e["$>"](r)))?n.$Rational(n.num["$**"](t),n.den["$**"](t)):L(q(t,0))?n.$Rational(n.den["$**"](t["$-@"]()),n.num["$**"](t["$-@"]())):n.$Rational(1,1):I.const_get_relative(C,"Float")["$==="](i)?n.$to_f()["$**"](t):I.const_get_relative(C,"Rational")["$==="](i)?t["$=="](0)?n.$Rational(1,1):t.$denominator()["$=="](1)?L(q(t,0))?n.$Rational(n.den["$**"](t.$numerator().$abs()),n.num["$**"](t.$numerator().$abs())):n.$Rational(n.num["$**"](t.$numerator()),n.den["$**"](t.$numerator())):L(n["$=="](0)?q(t,0):n["$=="](0))?n.$raise(I.const_get_relative(C,"ZeroDivisionError"),"divided by 0"):n.$to_f()["$**"](t):n.$__coerced__("**",t)},p.$$arity=1),I.def(T,"$abs",g=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},g.$$arity=0),I.def(T,"$ceil",v=function(t){return null==t&&(t=0),t["$=="](0)?N(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",t)},v.$$arity=-1),I.alias(T,"divide","/"),I.def(T,"$floor",m=function(t){return null==t&&(t=0),t["$=="](0)?N(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",t)},m.$$arity=-1),I.def(T,"$hash",y=function(){return"Rational:"+this.num+":"+this.den},y.$$arity=0),I.def(T,"$inspect",b=function(){return"("+this+")"},b.$$arity=0),I.alias(T,"quo","/"),I.def(T,"$rationalize",x=function(t){if(1<arguments.length&&this.$raise(I.const_get_relative(C,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return this;for(var e,r,n,i,$,a,s,o=t.$abs(),l=z(this,o),c=B(this,o),_=0,u=1,d=1,f=0;n=l.$ceil(),s=c,!("number"==typeof(a=n)&&"number"==typeof s?a<=s:a["$<="](s));)e=(i=n-1)*u+_,r=i*f+d,$=N(1,z(c,i)),c=N(1,z(l,i)),l=$,_=u,d=f,u=e,f=r;return this.$Rational(n*u+_,n*f+d)},x.$$arity=-1),I.def(T,"$round",k=function(t){var e=F;return null==t&&(t=0),t["$=="](0)?this.num["$=="](0)?0:this.den["$=="](1)?this.num:(e=N(B(D(this.num.$abs(),2),this.den),D(this.den,2)).$truncate(),L(q(this.num,0))?e["$-@"]():e):this.$with_precision("round",t)},k.$$arity=-1),I.def(T,"$to_f",w=function(){return N(this.num,this.den)},w.$$arity=0),I.def(T,"$to_i",E=function(){return this.$truncate()},E.$$arity=0),I.def(T,"$to_r",A=function(){return this},A.$$arity=0),I.def(T,"$to_s",O=function(){return this.num+"/"+this.den},O.$$arity=0),I.def(T,"$truncate",S=function(t){return null==t&&(t=0),t["$=="](0)?L(q(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",t)},S.$$arity=-1),I.def(T,"$with_precision",R=function(t,e){var r,n=F;return L(I.const_get_relative(C,"Integer")["$==="](e))||this.$raise(I.const_get_relative(C,"TypeError"),"not an Integer"),n=D(this,r=10["$**"](e)),L(q(e,1))?N(n.$send(t),r).$to_i():this.$Rational(n.$send(t),r)},R.$$arity=2)}($[0],I.const_get_relative($,"Numeric"),$),(r=a((t=$)[0],"Kernel")).$$proto,n=[r].concat(t),void I.def(r,"$Rational",e=function(t,e){return null==e&&(e=1),I.const_get_relative(n,"Rational").$convert(t,e)},e.$$arity=-2)},Opal.modules["corelib/time"]=function(Q){function tt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function et(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function rt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function nt(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var t=Q.top,it=[],$t=Q.nil,at=(Q.breaker,Q.slice),st=Q.klass,ot=Q.truthy,lt=Q.range;return Q.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),t.$require("corelib/comparable"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L,j,U,H,G,Y=n=st(it[0],e,"Time",n),W=(Y.$$proto,[Y].concat(r));Y.$include(Q.const_get_relative(W,"Comparable"));var X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],K=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],J=["January","February","March","April","May","June","July","August","September","October","November","December"];function Z(t,e,r,n,i,$){if(t=t.$$is_string?parseInt(t,10):Q.const_get_relative(W,"Opal")["$coerce_to!"](t,Q.const_get_relative(W,"Integer"),"to_int"),e===$t)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch((e=e.$to_str()).toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=Q.const_get_relative(W,"Opal")["$coerce_to!"](e,Q.const_get_relative(W,"Integer"),"to_int");return(e<1||12<e)&&Y.$raise(Q.const_get_relative(W,"ArgumentError"),"month out of range: "+e),e-=1,((r=r===$t?1:r.$$is_string?parseInt(r,10):Q.const_get_relative(W,"Opal")["$coerce_to!"](r,Q.const_get_relative(W,"Integer"),"to_int"))<1||31<r)&&Y.$raise(Q.const_get_relative(W,"ArgumentError"),"day out of range: "+r),((n=n===$t?0:n.$$is_string?parseInt(n,10):Q.const_get_relative(W,"Opal")["$coerce_to!"](n,Q.const_get_relative(W,"Integer"),"to_int"))<0||24<n)&&Y.$raise(Q.const_get_relative(W,"ArgumentError"),"hour out of range: "+n),((i=i===$t?0:i.$$is_string?parseInt(i,10):Q.const_get_relative(W,"Opal")["$coerce_to!"](i,Q.const_get_relative(W,"Integer"),"to_int"))<0||59<i)&&Y.$raise(Q.const_get_relative(W,"ArgumentError"),"min out of range: "+i),$===$t?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):Q.const_get_relative(W,"Opal")["$coerce_to!"]($,Q.const_get_relative(W,"Integer"),"to_int")),($<0||60<$)&&Y.$raise(Q.const_get_relative(W,"ArgumentError"),"sec out of range: "+$),[t,e,r,n,i,$]}return Q.defs(Y,"$at",i=function(t,e){var r;return Q.const_get_relative(W,"Time")["$==="](t)?(void 0!==e&&this.$raise(Q.const_get_relative(W,"TypeError"),"can't convert Time into an exact number"),(r=new Date(t.getTime())).is_utc=t.is_utc,r):(t.$$is_number||(t=Q.const_get_relative(W,"Opal")["$coerce_to!"](t,Q.const_get_relative(W,"Integer"),"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=Q.const_get_relative(W,"Opal")["$coerce_to!"](e,Q.const_get_relative(W,"Integer"),"to_int")),new Date(1e3*t+e/1e3)))},i.$$arity=-2),Q.defs(Y,"$new",$=function(t,e,r,n,i,$,a){var s,o;return null==e&&(e=$t),null==r&&(r=$t),null==n&&(n=$t),null==i&&(i=$t),null==$&&($=$t),null==a&&(a=$t),void 0===t?new Date:(a!==$t&&this.$raise(Q.const_get_relative(W,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),t=(s=Z(t,e,r,n,i,$))[0],e=s[1],r=s[2],n=s[3],i=s[4],$=s[5],o=new Date(t,e,r,n,i,0,1e3*$),t<100&&o.setFullYear(t),o)},$.$$arity=-1),Q.defs(Y,"$local",a=function(t,e,r,n,i,$,a,s,o,l){var c,_;return null==e&&(e=$t),null==r&&(r=$t),null==n&&(n=$t),null==i&&(i=$t),null==$&&($=$t),null==a&&(a=$t),null==s&&(s=$t),null==o&&(o=$t),null==l&&(l=$t),10===arguments.length&&(t=(c=at.call(arguments))[5],e=c[4],r=c[3],n=c[2],i=c[1],$=c[0]),t=(c=Z(t,e,r,n,i,$))[0],e=c[1],r=c[2],n=c[3],i=c[4],$=c[5],_=new Date(t,e,r,n,i,0,1e3*$),t<100&&_.setFullYear(t),_},a.$$arity=-2),Q.defs(Y,"$gm",s=function(t,e,r,n,i,$,a,s,o,l){var c,_;return null==e&&(e=$t),null==r&&(r=$t),null==n&&(n=$t),null==i&&(i=$t),null==$&&($=$t),null==a&&(a=$t),null==s&&(s=$t),null==o&&(o=$t),null==l&&(l=$t),10===arguments.length&&(t=(c=at.call(arguments))[5],e=c[4],r=c[3],n=c[2],i=c[1],$=c[0]),t=(c=Z(t,e,r,n,i,$))[0],e=c[1],r=c[2],n=c[3],i=c[4],$=c[5],_=new Date(Date.UTC(t,e,r,n,i,0,1e3*$)),t<100&&_.setUTCFullYear(t),_.is_utc=!0,_},s.$$arity=-2),function(t,e){t.$$proto,[t].concat(e);Q.alias(t,"mktime","local"),Q.alias(t,"utc","gm")}(Q.get_singleton_class(Y),W),Q.defs(Y,"$now",o=function(){return this.$new()},o.$$arity=0),Q.def(Y,"$+",l=function(t){ot(Q.const_get_relative(W,"Time")["$==="](t))&&this.$raise(Q.const_get_relative(W,"TypeError"),"time + time?"),t.$$is_number||(t=Q.const_get_relative(W,"Opal")["$coerce_to!"](t,Q.const_get_relative(W,"Integer"),"to_int"));var e=new Date(this.getTime()+1e3*t);return e.is_utc=this.is_utc,e},l.$$arity=1),Q.def(Y,"$-",c=function(t){if(ot(Q.const_get_relative(W,"Time")["$==="](t)))return(this.getTime()-t.getTime())/1e3;t.$$is_number||(t=Q.const_get_relative(W,"Opal")["$coerce_to!"](t,Q.const_get_relative(W,"Integer"),"to_int"));var e=new Date(this.getTime()-1e3*t);return e.is_utc=this.is_utc,e},c.$$arity=1),Q.def(Y,"$<=>",_=function(t){var e,r,n,i,$=$t;return ot(Q.const_get_relative(W,"Time")["$==="](t))?this.$to_f()["$<=>"](t.$to_f()):($=t["$<=>"](this),ot($["$nil?"]())?$t:ot((i=0,"number"==typeof(n=$)&&"number"==typeof i?i<n:n["$>"](i)))?-1:ot((r=0,"number"==typeof(e=$)&&"number"==typeof r?e<r:e["$<"](r)))?1:0)},_.$$arity=1),Q.def(Y,"$==",u=function(t){var e;return ot(e=Q.const_get_relative(W,"Time")["$==="](t))?this.$to_f()===t.$to_f():e},u.$$arity=1),Q.def(Y,"$asctime",d=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},d.$$arity=0),Q.alias(Y,"ctime","asctime"),Q.def(Y,"$day",f=function(){return this.is_utc?this.getUTCDate():this.getDate()},f.$$arity=0),Q.def(Y,"$yday",h=function(){var t;return t=Q.const_get_relative(W,"Time").$new(this.$year()).$to_i(),86400,tt(et(rt(Q.const_get_relative(W,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),t),86400).$round(),1)},h.$$arity=0),Q.def(Y,"$isdst",p=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},p.$$arity=0),Q.alias(Y,"dst?","isdst"),Q.def(Y,"$dup",g=function(){var t=$t;return(t=new Date(this.getTime())).$copy_instance_variables(this),t.$initialize_dup(this),t},g.$$arity=0),Q.def(Y,"$eql?",v=function(t){var e;return ot(e=t["$is_a?"](Q.const_get_relative(W,"Time")))?this["$<=>"](t)["$zero?"]():e},v.$$arity=1),Q.def(Y,"$friday?",m=function(){return 5==this.$wday()},m.$$arity=0),Q.def(Y,"$hash",y=function(){return"Time:"+this.getTime()},y.$$arity=0),Q.def(Y,"$hour",b=function(){return this.is_utc?this.getUTCHours():this.getHours()},b.$$arity=0),Q.def(Y,"$inspect",x=function(){return ot(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},x.$$arity=0),Q.alias(Y,"mday","day"),Q.def(Y,"$min",k=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},k.$$arity=0),Q.def(Y,"$mon",w=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},w.$$arity=0),Q.def(Y,"$monday?",E=function(){return 1==this.$wday()},E.$$arity=0),Q.alias(Y,"month","mon"),Q.def(Y,"$saturday?",A=function(){return 6==this.$wday()},A.$$arity=0),Q.def(Y,"$sec",O=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},O.$$arity=0),Q.def(Y,"$succ",S=function(){var t=new Date(this.getTime()+1e3);return t.is_utc=this.is_utc,t},S.$$arity=0),Q.def(Y,"$usec",R=function(){return 1e3*this.getMilliseconds()},R.$$arity=0),Q.def(Y,"$zone",T=function(){var t,e=this.toString();return"GMT"==(t=-1==e.indexOf("(")?e.match(/[A-Z]{3,4}/)[0]:e.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(e)?RegExp.$1:t},T.$$arity=0),Q.def(Y,"$getgm",M=function(){var t=new Date(this.getTime());return t.is_utc=!0,t},M.$$arity=0),Q.alias(Y,"getutc","getgm"),Q.def(Y,"$gmtime",C=function(){return this.is_utc=!0,this},C.$$arity=0),Q.alias(Y,"utc","gmtime"),Q.def(Y,"$gmt?",I=function(){return!0===this.is_utc},I.$$arity=0),Q.def(Y,"$gmt_offset",q=function(){return 60*-this.getTimezoneOffset()},q.$$arity=0),Q.def(Y,"$strftime",N=function(t){var h=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,e,r,n,i){var $="",a=-1!==e.indexOf("0"),s=-1===e.indexOf("-"),o=-1!==e.indexOf("_"),l=-1!==e.indexOf("^"),c=-1!==e.indexOf("#"),_=(e.match(":")||[]).length;switch(r=parseInt(r,10),a&&o&&(e.indexOf("0")<e.indexOf("_")?a=!1:o=!1),i){case"Y":$+=h.$year();break;case"C":a=!o,$+=Math.round(h.$year()/100);break;case"y":a=!o,$+=h.$year()%100;break;case"m":a=!o,$+=h.$mon();break;case"B":$+=J[h.$mon()-1];break;case"b":case"h":o=!a,$+=V[h.$mon()-1];break;case"d":a=!o,$+=h.$day();break;case"e":o=!a,$+=h.$day();break;case"j":$+=h.$yday();break;case"H":a=!o,$+=h.$hour();break;case"k":o=!a,$+=h.$hour();break;case"I":a=!o,$+=h.$hour()%12||12;break;case"l":o=!a,$+=h.$hour()%12||12;break;case"P":$+=12<=h.$hour()?"pm":"am";break;case"p":$+=12<=h.$hour()?"PM":"AM";break;case"M":a=!o,$+=h.$min();break;case"S":a=!o,$+=h.$sec();break;case"L":a=!o,r=isNaN(r)?3:r,$+=h.getMilliseconds();break;case"N":r=isNaN(r)?9:r,$=($+=h.getMilliseconds().toString().$rjust(3,"0")).$ljust(r,"0");break;case"z":var u=h.getTimezoneOffset(),d=Math.floor(Math.abs(u)/60),f=Math.abs(u)%60;$+=u<0?"+":"-",$+=d<10?"0":"",$+=d,0<_&&($+=":"),$+=f<10?"0":"",$+=f,1<_&&($+=":00");break;case"Z":$+=h.$zone();break;case"A":$+=X[h.$wday()];break;case"a":$+=K[h.$wday()];break;case"u":$+=h.$wday()+1;break;case"w":$+=h.$wday();break;case"V":$+=h.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":$+=h.$cweek_cyear()["$[]"](1);break;case"g":$+=h.$cweek_cyear()["$[]"](1)["$[]"](lt(-2,-1,!1));break;case"s":$+=h.$to_i();break;case"n":$+="\n";break;case"t":$+="\t";break;case"%":$+="%";break;case"c":$+=h.$strftime("%a %b %e %T %Y");break;case"D":case"x":$+=h.$strftime("%m/%d/%y");break;case"F":$+=h.$strftime("%Y-%m-%d");break;case"v":$+=h.$strftime("%e-%^b-%4Y");break;case"r":$+=h.$strftime("%I:%M:%S %p");break;case"R":$+=h.$strftime("%H:%M");break;case"T":case"X":$+=h.$strftime("%H:%M:%S");break;default:return t}return l&&($=$.toUpperCase()),c&&($=$.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(a||o)&&($=$.$rjust(isNaN(r)?2:r,o?" ":"0")),$})},N.$$arity=1),Q.def(Y,"$sunday?",z=function(){return 0==this.$wday()},z.$$arity=0),Q.def(Y,"$thursday?",D=function(){return 4==this.$wday()},D.$$arity=0),Q.def(Y,"$to_a",B=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},B.$$arity=0),Q.def(Y,"$to_f",F=function(){return this.getTime()/1e3},F.$$arity=0),Q.def(Y,"$to_i",P=function(){return parseInt(this.getTime()/1e3,10)},P.$$arity=0),Q.alias(Y,"to_s","inspect"),Q.def(Y,"$tuesday?",L=function(){return 2==this.$wday()},L.$$arity=0),Q.alias(Y,"tv_sec","to_i"),Q.alias(Y,"tv_usec","usec"),Q.alias(Y,"utc?","gmt?"),Q.alias(Y,"gmtoff","gmt_offset"),Q.alias(Y,"utc_offset","gmt_offset"),Q.def(Y,"$wday",j=function(){return this.is_utc?this.getUTCDay():this.getDay()},j.$$arity=0),Q.def(Y,"$wednesday?",U=function(){return 3==this.$wday()},U.$$arity=0),Q.def(Y,"$year",H=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},H.$$arity=0),Q.def(Y,"$cweek_cyear",G=function(){var t,e=$t,r=$t,n=$t,i=$t,$=$t;return e=Q.const_get_relative(W,"Time").$new(this.$year(),1,1).$wday(),0,r=this.$year(),ot(ot(t=nt(e,4))?e["$!="](0):t)?n=rt(e,1):(n=rt(rt(e,7),1))["$=="](-8)&&(n=-1),i=et(tt(this.$yday(),n),7).$ceil(),ot(nt(i,0))?Q.const_get_relative(W,"Time").$new(rt(this.$year(),1),12,31).$cweek_cyear():(i["$=="](53)&&($=Q.const_get_relative(W,"Time").$new(this.$year(),12,31).$wday(),ot(ot(t=nt($,3))?$["$!="](0):t)&&(r=tt(r,i=1))),[i,r])},G.$$arity=0),$t&&"cweek_cyear"}(0,Date,it)},Opal.modules["corelib/struct"]=function(E){function A(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function O(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function S(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function R(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function T(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=E.top,M=[],C=E.nil,I=(E.breaker,E.slice,E.klass),q=E.truthy,N=E.send,z=E.hash2;return E.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),t.$require("corelib/enumerable"),function(t,e,r){function n(){}var _,i,$,a,s,o,l,c,u,d,f,h,p,g,v,m,y,b,x,k=n=I(M[0],null,"Struct",n),w=(k.$$proto,[k].concat(r));return k.$include(E.const_get_relative(w,"Enumerable")),E.defs(k,"$new",_=function(e,t,r){var n,i,$,a,s,o=_.$$p,l=o||C,c=C;if($=E.slice.call(arguments,1,arguments.length),null==(r=E.extract_kwargs($))||!r.$$is_hash){if(null!=r)throw E.ArgumentError.$new("expected kwargs");r=z([],{})}if(null==(a=r.$$smap.keyword_init)&&(a=!1),s=0<$.length?$.splice(0,$.length-0):[],o&&(_.$$p=null),q(e))try{e=E.const_get_relative(w,"Opal")["$const_name!"](e)}catch(t){if(!E.rescue(t,[E.const_get_relative(w,"TypeError"),E.const_get_relative(w,"NameError")]))throw t;try{s.$unshift(e),e=C}finally{E.pop_exception()}}return N(s,"map",[],((n=function(t){n.$$s;return null==t&&(t=C),E.const_get_relative(w,"Opal")["$coerce_to!"](t,E.const_get_relative(w,"String"),"to_str")}).$$s=this,n.$$arity=1,n)),c=N(E.const_get_relative(w,"Class"),"new",[this],((i=function(){var r,t=i.$$s||this;return N(s,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=C),e.$define_struct_attribute(t)}).$$s=t,r.$$arity=1,r)),function(t,e){var r;t.$$proto,[t].concat(e);return E.def(t,"$new",r=function(t){var e,r=C,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return(r=this.$allocate()).$$data={},N(r,"initialize",E.to_a(e)),r},r.$$arity=-1),t.$alias_method("[]","new")}(E.get_singleton_class(t),w)}).$$s=this,i.$$arity=0,i)),q(l)&&N(c,"module_eval",[],l.$to_proc()),c.$$keyword_init=a,q(e)&&E.const_get_relative(w,"Struct").$const_set(e,c),c},_.$$arity=-2),E.defs(k,"$define_struct_attribute",i=function(r){var t,n;return this["$=="](E.const_get_relative(w,"Struct"))&&this.$raise(E.const_get_relative(w,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](r),N(this,"define_method",[r],((t=function(){return(t.$$s||this).$$data[r]}).$$s=this,t.$$arity=0,t)),N(this,"define_method",[r+"="],((n=function(t){var e=n.$$s||this;return null==t&&(t=C),e.$$data[r]=t}).$$s=this,n.$$arity=1,n))},i.$$arity=1),E.defs(k,"$members",$=function(){var t;return null==this.members&&(this.members=C),this["$=="](E.const_get_relative(w,"Struct"))&&this.$raise(E.const_get_relative(w,"ArgumentError"),"the Struct class has no members"),this.members=q(t=this.members)?t:[]},$.$$arity=0),E.defs(k,"$inherited",a=function(t){var e,r;return null==this.members&&(this.members=C),r=this.members,N(t,"instance_eval",[],((e=function(){return(e.$$s||this).members=r}).$$s=this,e.$$arity=0,e))},a.$$arity=1),E.def(k,"$initialize",s=function(t){var e,n,i,$,r=this,a=C,s=C,o=arguments.length,l=o-0;l<0&&(l=0),$=new Array(l);for(var c=0;c<o;c++)$[c-0]=arguments[c];return q(r.$class().$$keyword_init)?(a=q(e=$.$last())?e:z([],{}),q(q(e=A($.$length(),1))?e:1===$.length&&!a.$$is_hash)&&r.$raise(E.const_get_relative(w,"ArgumentError"),"wrong number of arguments (given "+$.$length()+", expected 0)"),s=O(a.$keys(),r.$class().$members()),q(s["$any?"]())&&r.$raise(E.const_get_relative(w,"ArgumentError"),"unknown keywords: "+s.$join(", ")),N(r.$class().$members(),"each",[],((n=function(t){var e,r=n.$$s||this;return null==t&&(t=C),e=[t,a["$[]"](t)],N(r,"[]=",E.to_a(e)),e[O(e.length,1)]}).$$s=r,n.$$arity=1,n))):(q(A($.$length(),r.$class().$members().$length()))&&r.$raise(E.const_get_relative(w,"ArgumentError"),"struct size differs"),N(r.$class().$members(),"each_with_index",[],((i=function(t,e){var r,n=i.$$s||this;return null==t&&(t=C),null==e&&(e=C),r=[t,$["$[]"](e)],N(n,"[]=",E.to_a(r)),r[O(r.length,1)]}).$$s=r,i.$$arity=2,i)))},s.$$arity=-1),E.def(k,"$members",o=function(){return this.$class().$members()},o.$$arity=0),E.def(k,"$hash",l=function(){return E.const_get_relative(w,"Hash").$new(this.$$data).$hash()},l.$$arity=0),E.def(k,"$[]",c=function(t){var e=this;return q(E.const_get_relative(w,"Integer")["$==="](t))?(q(S(t,e.$class().$members().$size()["$-@"]()))&&e.$raise(E.const_get_relative(w,"IndexError"),"offset "+t+" too small for struct(size:"+e.$class().$members().$size()+")"),q(R(t,e.$class().$members().$size()))&&e.$raise(E.const_get_relative(w,"IndexError"),"offset "+t+" too large for struct(size:"+e.$class().$members().$size()+")"),t=e.$class().$members()["$[]"](t)):q(E.const_get_relative(w,"String")["$==="](t))?e.$$data.hasOwnProperty(t)||e.$raise(E.const_get_relative(w,"NameError").$new("no member '"+t+"' in struct",t)):e.$raise(E.const_get_relative(w,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=E.const_get_relative(w,"Opal")["$coerce_to!"](t,E.const_get_relative(w,"String"),"to_str"),e.$$data[t]},c.$$arity=1),E.def(k,"$[]=",u=function(t,e){var r=this;return q(E.const_get_relative(w,"Integer")["$==="](t))?(q(S(t,r.$class().$members().$size()["$-@"]()))&&r.$raise(E.const_get_relative(w,"IndexError"),"offset "+t+" too small for struct(size:"+r.$class().$members().$size()+")"),q(R(t,r.$class().$members().$size()))&&r.$raise(E.const_get_relative(w,"IndexError"),"offset "+t+" too large for struct(size:"+r.$class().$members().$size()+")"),t=r.$class().$members()["$[]"](t)):q(E.const_get_relative(w,"String")["$==="](t))?q(r.$class().$members()["$include?"](t.$to_sym()))||r.$raise(E.const_get_relative(w,"NameError").$new("no member '"+t+"' in struct",t)):r.$raise(E.const_get_relative(w,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=E.const_get_relative(w,"Opal")["$coerce_to!"](t,E.const_get_relative(w,"String"),"to_str"),r.$$data[t]=e},u.$$arity=2),E.def(k,"$==",d=function(t){if(!q(t["$instance_of?"](this.$class())))return!1;var a={},s={};return function t(e,r){var n,i,$;for(n in a[e.$__id__()]=!0,s[r.$__id__()]=!0,e.$$data)if(i=e.$$data[n],$=r.$$data[n],E.const_get_relative(w,"Struct")["$==="](i)){if(!(a.hasOwnProperty(i.$__id__())&&s.hasOwnProperty($.$__id__())||t(i,$)))return!1}else if(!i["$=="]($))return!1;return!0}(this,t)},d.$$arity=1),E.def(k,"$eql?",f=function(t){if(!q(t["$instance_of?"](this.$class())))return!1;var a={},s={};return function t(e,r){var n,i,$;for(n in a[e.$__id__()]=!0,s[r.$__id__()]=!0,e.$$data)if(i=e.$$data[n],$=r.$$data[n],E.const_get_relative(w,"Struct")["$==="](i)){if(!(a.hasOwnProperty(i.$__id__())&&s.hasOwnProperty($.$__id__())||t(i,$)))return!1}else if(!i["$eql?"]($))return!1;return!0}(this,t)},f.$$arity=1),E.def(k,"$each",h=function(){var t,r,e=h.$$p,n=e||C;return e&&(h.$$p=null),n===C?N(this,"enum_for",["each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(N(this.$class().$members(),"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=C),E.yield1(n,e["$[]"](t))}).$$s=this,r.$$arity=1,r)),this)},h.$$arity=0),E.def(k,"$each_pair",p=function(){var t,r,e=p.$$p,n=e||C;return e&&(p.$$p=null),n===C?N(this,"enum_for",["each_pair"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(N(this.$class().$members(),"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=C),E.yield1(n,[t,e["$[]"](t)])}).$$s=this,r.$$arity=1,r)),this)},p.$$arity=0),E.def(k,"$length",g=function(){return this.$class().$members().$length()},g.$$arity=0),E.alias(k,"size","length"),E.def(k,"$to_a",v=function(){var r;return N(this.$class().$members(),"map",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=C),e["$[]"](t)}).$$s=this,r.$$arity=1,r))},v.$$arity=0),E.alias(k,"values","to_a"),E.def(k,"$inspect",m=function(){var t,r,e=C;return e="#<struct ",q(q(t=E.const_get_relative(w,"Struct")["$==="](this))?this.$class().$name():t)&&(e=T(e,this.$class()+" ")),e=T(e=T(e,N(this.$each_pair(),"map",[],(r=function(t,e){r.$$s;return null==t&&(t=C),null==e&&(e=C),t+"="+e.$inspect()},r.$$s=this,r.$$arity=2,r)).$join(", ")),">")},m.$$arity=0),E.alias(k,"to_s","inspect"),E.def(k,"$to_h",y=function(){var i;return N(this.$class().$members(),"each_with_object",[z([],{})],((i=function(t,e){var r,n=i.$$s||this;return null==t&&(t=C),null==e&&(e=C),r=[t,n["$[]"](t)],N(e,"[]=",E.to_a(r)),r[O(r.length,1)]}).$$s=this,i.$$arity=2,i))},y.$$arity=0),E.def(k,"$values_at",b=function(t){var e,r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];for(var a=[],s=0,o=(r=N(r,"map",[],(e=function(t){e.$$s;return null==t&&(t=C),t.$$is_range?t.$to_a():t},e.$$s=this,e.$$arity=1,e)).$flatten()).length;s<o;s++)r[s].$$is_number||this.$raise(E.const_get_relative(w,"TypeError"),"no implicit conversion of "+r[s].$class()+" into Integer"),a.push(this["$[]"](r[s]));return a},b.$$arity=-1),E.def(k,"$dig",x=function(t,e){var r,n=this,i=C,$=arguments.length,a=$-1;a<0&&(a=0),r=new Array(a);for(var s=1;s<$;s++)r[s-1]=arguments[s];return(i=q(t.$$is_string&&n.$$data.hasOwnProperty(t))&&n.$$data[t]||C)===C||0===r.length?i:(q(i["$respond_to?"]("dig"))||n.$raise(E.const_get_relative(w,"TypeError"),i.$class()+" does not have #dig method"),N(i,"dig",E.to_a(r)))},x.$$arity=-2),C&&"dig"}(0,0,M)},Opal.modules["corelib/io"]=function(m){function t(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}m.top;var y=[],b=m.nil,x=(m.breaker,m.slice,m.klass),k=m.module,w=m.send,E=m.gvars,A=m.truthy,e=b;m.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p=n=x(y[0],null,"IO",n),g=p.$$proto,v=[p].concat(r);g.tty=g.closed=b,m.const_set(v[0],"SEEK_SET",0),m.const_set(v[0],"SEEK_CUR",1),m.const_set(v[0],"SEEK_END",2),m.def(p,"$tty?",i=function(){return this.tty},i.$$arity=0),m.def(p,"$closed?",$=function(){return this.closed},$.$$arity=0),p.$attr_accessor("write_proc"),m.def(p,"$write",a=function(t){return this.write_proc(t),t.$size()},a.$$arity=1),p.$attr_accessor("sync","tty"),m.def(p,"$flush",s=function(){return b},s.$$arity=0),function(t,e){var r,n,i,$=k(t,"Writable");$.$$proto,[$].concat(e);m.def($,"$<<",r=function(t){return this.$write(t),this},r.$$arity=1),m.def($,"$print",n=function(t){var r,e;null==E[","]&&(E[","]=b);var n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return this.$write(w(e,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=b),e.$String(t)},r.$$s=this,r.$$arity=1,r)).$join(E[","])),b},n.$$arity=-1),m.def($,"$puts",i=function(t){var r,e,n;null==E["/"]&&(E["/"]=b);var i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return n=E["/"],A(e["$empty?"]())?this.$write(E["/"]):this.$write(w(e,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=b),e.$String(t).$chomp()},r.$$s=this,r.$$arity=1,r)).$concat([b]).$join(n)),b},i.$$arity=-1)}(v[0],v),o=v[0],l=v,(f=k(o,"Readable")).$$proto,h=[f].concat(l),m.def(f,"$readbyte",c=function(){return this.$getbyte()},c.$$arity=0),m.def(f,"$readchar",_=function(){return this.$getc()},_.$$arity=0),m.def(f,"$readline",u=function(t){return null==E["/"]&&(E["/"]=b),null==t&&(t=E["/"]),this.$raise(m.const_get_relative(h,"NotImplementedError"))},u.$$arity=-1),m.def(f,"$readpartial",d=function(t,e){return null==e&&(e=b),this.$raise(m.const_get_relative(h,"NotImplementedError"))},d.$$arity=-2)}(0,0,y),m.const_set(y[0],"STDERR",E.stderr=m.const_get_relative(y,"IO").$new()),m.const_set(y[0],"STDIN",E.stdin=m.const_get_relative(y,"IO").$new()),m.const_set(y[0],"STDOUT",E.stdout=m.const_get_relative(y,"IO").$new());var r=m.global.console;return e=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){r.log(t)}],w(m.const_get_relative(y,"STDOUT"),"write_proc=",m.to_a(e)),e[t(e.length,1)],e=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){r.warn(t)}],w(m.const_get_relative(y,"STDERR"),"write_proc=",m.to_a(e)),e[t(e.length,1)],m.const_get_relative(y,"STDOUT").$extend(m.const_get_qualified(m.const_get_relative(y,"IO"),"Writable")),m.const_get_relative(y,"STDERR").$extend(m.const_get_qualified(m.const_get_relative(y,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(e){var t,r,n=e.top,i=[],$=e.nil;e.breaker,e.slice;return e.add_stubs(["$include"]),e.defs(n,"$to_s",t=function(){return"main"},t.$$arity=0),e.defs(n,"$include",r=function(t){return e.const_get_relative(i,"Object").$include(t)},r.$$arity=1),$&&"include"},Opal.modules["corelib/dir"]=function(a){a.top;var s=[],o=a.nil,l=(a.breaker,a.slice,a.klass),c=a.truthy;return a.add_stubs(["$[]"]),function(t,e,r){function n(){}var i=n=l(s[0],null,"Dir",n),$=(i.$$proto,[i].concat(r));return function(t,e){t.$$proto;var i,r,n,$=[t].concat(e);return a.def(t,"$chdir",i=function(t){var e=i.$$p,r=e||o,n=o;return e&&(i.$$p=null),function(){try{return n=a.current_dir,a.current_dir=t,a.yieldX(r,[])}finally{a.current_dir=n}}()},i.$$arity=1),a.def(t,"$pwd",r=function(){return a.current_dir||"."},r.$$arity=0),a.alias(t,"getwd","pwd"),a.def(t,"$home",n=function(){var t;return c(t=a.const_get_relative($,"ENV")["$[]"]("HOME"))?t:"."},n.$$arity=0),o&&"home"}(a.get_singleton_class(i),$)}(0,0,s)},Opal.modules["corelib/file"]=function(y){function b(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}y.top;var t=[],x=y.nil,a=(y.breaker,y.slice,y.klass),k=y.truthy,_=y.range,u=y.send;return y.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(t,e,r){function n(){}var i=n=a(t,e,"File",n),$=(i.$$proto,[i].concat(r)),m=x;return y.const_set($[0],"Separator",y.const_set($[0],"SEPARATOR","/")),y.const_set($[0],"ALT_SEPARATOR",x),y.const_set($[0],"PATH_SEPARATOR",":"),y.const_set($[0],"FNM_SYSCASE",0),m=/^[a-zA-Z]:(?:\\|\/)/,function(t,e){t.$$proto;var r,n,i,$,a,s,o,l,g=[t].concat(e);function c(t){return k(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=y.const_get_relative(g,"Opal")["$coerce_to!"](t,y.const_get_relative(g,"String"),"to_str")}function v(){return y.const_get_relative(g,"ALT_SEPARATOR")===x?y.escape_regexp(y.const_get_relative(g,"SEPARATOR")):y.escape_regexp(b(y.const_get_relative(g,"SEPARATOR"),y.const_get_relative(g,"ALT_SEPARATOR")))}return y.def(t,"$expand_path",r=function(t,e){var r,n,i,$,a,s,o=x,l=x,c=x,_=x,u=x,d=x,f=x;null==e&&(e=x),n=y.const_get_relative(g,"SEPARATOR"),i=v(),o=[],k("~"===t[0]||e&&"~"===e[0])&&(l=y.const_get_relative(g,"Dir").$home(),k(l)||this.$raise(y.const_get_relative(g,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),k(l["$start_with?"](n))||this.$raise(y.const_get_relative(g,"ArgumentError"),"non-absolute home"),l=b(l,n),c=new RegExp("^\\~(?:"+n+"|$)"),t=t.$sub(c,l),k(e)&&(e=e.$sub(c,l))),e=k(r=e)?r:y.const_get_relative(g,"Dir").$pwd(),$=t.substr(0,n.length)===n||m.test(t),a=e.substr(0,n.length)===n||m.test(e),k($)?(_=t.$split(new RegExp("["+i+"]")),u=m.test(t)?"":t.$sub(new RegExp("^(["+i+"]+).*$"),"\\1"),d=!0):(_=b(e.$split(new RegExp("["+i+"]")),t.$split(new RegExp("["+i+"]"))),u=m.test(e)?"":e.$sub(new RegExp("^(["+i+"]+).*$"),"\\1"),d=a);for(var h=0,p=_.length;h<p;h++)(s=_[h])===x||""===s&&(0===o.length||d)||"."===s&&(0===o.length||d)||(".."===s?o.pop():o.push(s));return d||"."===_[0]||o.$unshift("."),f=o.$join(n),k(d)&&(f=b(u,f)),f},r.$$arity=-2),y.alias(t,"realpath","expand_path"),y.def(t,"$dirname",n=function(t){var e;e=v();var r=(t=c(t)).match(new RegExp("^["+e+"]"));return""===(t=(t=(t=t.replace(new RegExp("["+e+"]+$"),"")).replace(new RegExp("[^"+e+"]+$"),"")).replace(new RegExp("["+e+"]+$"),""))?r?"/":".":t},n.$$arity=1),y.def(t,"$basename",i=function(t,e){var r;return null==e&&(e=x),r=v(),0==(t=c(t)).length||(e=e!==x?y.const_get_relative(g,"Opal")["$coerce_to!"](e,y.const_get_relative(g,"String"),"to_str"):null,t=(t=t.replace(new RegExp("(.)["+r+"]*$"),"$1")).replace(new RegExp("^(?:.*["+r+"])?([^"+r+"]+)$"),"$1"),".*"===e?t=t.replace(/\.[^\.]+$/,""):null!==e&&(e=y.escape_regexp(e),t=t.replace(new RegExp(e+"$"),""))),t},i.$$arity=-2),y.def(t,"$extname",$=function(t){var e,r,n,i=x,$=x;return t=c(t),i=this.$basename(t),k(i["$empty?"]())?"":($=i["$[]"](_(1,-1,!1)).$rindex("."),k(k(e=$["$nil?"]())?e:b($,1)["$=="]((r=i.$length(),n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))))?"":i["$[]"](y.Range.$new(b($,1),-1,!1)))},$.$$arity=1),y.def(t,"$exist?",a=function(t){return null!=y.modules[t]},a.$$arity=1),y.alias(t,"exists?","exist?"),y.def(t,"$directory?",s=function(e){var r,t=x;for(var n in t=[],y.modules)t.push(n);return e=e.$gsub(new RegExp("(^."+y.const_get_relative(g,"SEPARATOR")+"+|"+y.const_get_relative(g,"SEPARATOR")+"+$)")),u(t,"find",[],((r=function(t){r.$$s;return null==t&&(t=x),t["$=~"](new RegExp("^"+e))}).$$s=this,r.$$arity=1,r))},s.$$arity=1),y.def(t,"$join",o=function(t){var r,i,$,a=x,e=arguments.length,n=e-0;n<0&&(n=0),$=new Array(n);for(var s=0;s<e;s++)$[s-0]=arguments[s];return k($["$empty?"]())?"":(a="",$=u($.$flatten().$each_with_index(),"map",[],((r=function(t,e){r.$$s;return null==t&&(t=x),null==e&&(e=x),k(e["$=="](0)?t["$empty?"]():e["$=="](0))?y.const_get_relative(g,"SEPARATOR"):k($.$length()["$=="](b(e,1))?t["$empty?"]():$.$length()["$=="](b(e,1)))?y.const_get_relative(g,"SEPARATOR"):t}).$$s=this,r.$$arity=2,r)),$=u($,"reject",[],"empty?".$to_proc()),u($,"each_with_index",[],((i=function(t,e){i.$$s;var r,n=x;return null==t&&(t=x),null==e&&(e=x),n=$["$[]"](b(e,1)),k(n["$nil?"]())?a=""+a+t:(k(k(r=t["$end_with?"](y.const_get_relative(g,"SEPARATOR")))?n["$start_with?"](y.const_get_relative(g,"SEPARATOR")):r)&&(t=t.$sub(new RegExp(y.const_get_relative(g,"SEPARATOR")+"+$"),"")),a=k(k(r=t["$end_with?"](y.const_get_relative(g,"SEPARATOR")))?r:n["$start_with?"](y.const_get_relative(g,"SEPARATOR")))?""+a+t:""+a+t+y.const_get_relative(g,"SEPARATOR"))}).$$s=this,i.$$arity=2,i)),a)},o.$$arity=-1),y.def(t,"$split",l=function(t){return t.$split(y.const_get_relative(g,"SEPARATOR"))},l.$$arity=1),x&&"split"}(y.get_singleton_class(i),$)}(t[0],y.const_get_relative(t,"IO"),t)},Opal.modules["corelib/process"]=function(u){u.top;var d=[],f=u.nil,h=(u.breaker,u.slice,u.klass),p=u.truthy;return u.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(t,e,r){function n(){}var i,$,a,s,o=n=h(d[0],null,"Process",n),l=(o.$$proto,[o].concat(r)),c=f;if(o.__clocks__=[],u.defs(o,"$__register_clock__",i=function(t,e){return null==this.__clocks__&&(this.__clocks__=f),this.$const_set(t,this.__clocks__.$size()),this.__clocks__["$<<"](e)},i.$$arity=2),o.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),c=!1,u.global.performance)c=function(){return performance.now()};else if(u.global.process&&process.hrtime){var _=process.hrtime();c=function(){var t=process.hrtime(_),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}p(c)&&o.$__register_clock__("CLOCK_MONOTONIC",c),u.defs(o,"$pid",$=function(){return 0},$.$$arity=0),u.defs(o,"$times",a=function(){var t;return t=u.const_get_relative(l,"Time").$now().$to_f(),u.const_get_qualified(u.const_get_relative(l,"Benchmark"),"Tms").$new(t,t,t,t,t)},a.$$arity=0),u.defs(o,"$clock_gettime",s=function(t,e){var r=f;null==this.__clocks__&&(this.__clocks__=f),null==e&&(e="float_second"),p(r=this.__clocks__["$[]"](t))||this.$raise(u.const_get_qualified(u.const_get_relative(l,"Errno"),"EINVAL"),"clock_gettime("+t+") "+this.__clocks__["$[]"](t));var n=r();switch(e){case"float_second":return n/1e3;case"float_millisecond":return n/1;case"float_microsecond":return 1e3*n;case"second":return n/1e3|0;case"millisecond":return n/1|0;case"microsecond":return 1e3*n|0;case"nanosecond":return 1e6*n|0;default:this.$raise(u.const_get_relative(l,"ArgumentError"),"unexpected unit: "+e)}},s.$$arity=-2)}(0,0,d),function(t,e,r){function n(){}var i,$=n=h(d[0],null,"Signal",n);$.$$proto,[$].concat(r);u.defs($,"$trap",i=function(t){return f},i.$$arity=-1)}(0,0,d),function(t,e,r){function n(){}var i,$=n=h(d[0],null,"GC",n);$.$$proto,[$].concat(r);return u.defs($,"$start",i=function(){return f},i.$$arity=0),f&&"start"}(0,0,d)},Opal.modules["corelib/random/seedrandom"]=function(t){t.top;var $=[],a=(t.nil,t.breaker,t.slice,t.klass);return function(t,e,r){function n(){}var i=n=a($[0],null,"Random",n);i.$$proto,[i].concat(r);!function(s,o){function t(t,e,r){var n=[],i=_(function t(e,r){var n,i=[],$=typeof e;if(r&&"object"==$)for(n in e)if(e.hasOwnProperty(n))try{i.push(t(e[n],r-1))}catch(e){}return i.length?i:"string"==$?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,u(s)]:null==t?function(){try{if(d)return u(d.randomBytes(h));var t=new Uint8Array(h);return(f.crypto||f.msCrypto).getRandomValues(t),u(t)}catch(t){var e=f.navigator,r=e&&e.plugins;return[+new Date,f,r,f.screen,u(s)]}}():t,3),n),$=new l(n),a=function(){for(var t=$.g(p),e=v,r=0;t<m;)t=(t+r)*h,e*=h,r=$.g(1);for(;y<=t;)t/=2,e/=2,r>>>=1;return(t+r)/e};return a.int32=function(){return 0|$.g(4)},a.quick=function(){return $.g(4)/4294967296},a.double=a,_(u($.S),s),(e.pass||r||function(t,e,r,n){return n&&(n.S&&c(n,$),t.state=function(){return c($,{})}),r?(o[g]=t,e):t})(a,i,"global"in e?e.global:this==o,e.state)}function l(t){var e,r=t.length,a=this,n=0,i=a.i=a.j=0,$=a.S=[];for(r||(t=[r++]);n<h;)$[n]=n++;for(n=0;n<h;n++)$[n]=$[i=b&i+t[n%r]+(e=$[n])],$[i]=e;(a.g=function(t){for(var e,r=0,n=a.i,i=a.j,$=a.S;t--;)e=$[n=b&n+1],r=r*h+$[b&($[n]=$[i=b&i+e])+($[i]=e)];return a.i=n,a.j=i,r})(h)}function c(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function _(t,e){for(var r,n=t+"",i=0;i<n.length;)e[b&i]=b&(r^=19*e[b&i])+n.charCodeAt(i++);return u(e)}function u(t){return String.fromCharCode.apply(0,t)}var d,f=this,h=256,p=6,g="random",v=o.pow(h,p),m=o.pow(2,52),y=2*m,b=h-1;if(o["seed"+g]=t,_(o.random(),s),"object"==typeof module&&module.exports){module.exports=t;try{d=require("crypto")}catch(s){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return t})}([],Math)}(0,0,$)},Opal.modules["corelib/random"]=function(p){var t=p.top,g=[],v=p.nil,m=(p.breaker,p.slice,p.klass),y=p.truthy,b=p.send;return p.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$<","$raise","$encode","$join","$new","$chr","$===","$==","$state"]),t.$require("corelib/random/seedrandom.js"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d=n=m(g[0],null,"Random",n),f=(d.$$proto,[d].concat(r));d.$attr_reader("seed","state"),p.def(d,"$initialize",i=function(t){return null==t&&(t=p.const_get_relative(f,"Random").$new_seed()),t=p.const_get_relative(f,"Opal")["$coerce_to!"](t,p.const_get_relative(f,"Integer"),"to_int"),this.state=t,this.$reseed(t)},i.$$arity=-1),p.def(d,"$reseed",$=function(t){return this.seed=t,this.$rng=new Math.seedrandom(t)},$.$$arity=1);var h=new Math.seedrandom("opal",{entropy:!0});return p.defs(d,"$new_seed",a=function(){return Math.abs(h.int32())},a.$$arity=0),p.defs(d,"$rand",s=function(t){return p.const_get_relative(f,"DEFAULT").$rand(t)},s.$$arity=-1),p.defs(d,"$srand",o=function(t){var e;return null==t&&(t=p.const_get_relative(f,"Random").$new_seed()),t=p.const_get_relative(f,"Opal")["$coerce_to!"](t,p.const_get_relative(f,"Integer"),"to_int"),e=p.const_get_relative(f,"DEFAULT").$seed(),p.const_get_relative(f,"DEFAULT").$reseed(t),e},o.$$arity=-1),p.defs(d,"$urandom",l=function(t){var e,r,n;return t=p.const_get_relative(f,"Opal")["$coerce_to!"](t,p.const_get_relative(f,"Integer"),"to_int"),y((n=0,"number"==typeof(r=t)&&"number"==typeof n?r<n:r["$<"](n)))&&this.$raise(p.const_get_relative(f,"ArgumentError"),"negative string size (or size too big)"),b(p.const_get_relative(f,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},l.$$arity=1),p.const_set(f[0],"DEFAULT",d.$new(d.$new_seed())),p.def(d,"$==",c=function(t){return!!y(p.const_get_relative(f,"Random")["$==="](t))&&(this.$seed()["$=="](t.$seed())?this.$state()["$=="](t.$state()):this.$seed()["$=="](t.$seed()))},c.$$arity=1),p.def(d,"$bytes",_=function(t){var e;return t=p.const_get_relative(f,"Opal")["$coerce_to!"](t,p.const_get_relative(f,"Integer"),"to_int"),b(p.const_get_relative(f,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},_.$$arity=1),p.def(d,"$rand",u=function(n){var i=this;function t(){return i.state++,i.$rng.quick()}function e(){return Math.floor(t()*n)}return null==n?t():n.$$is_range?function(){var t=n.begin,e=n.end;if(t===v||e===v)return v;var r=e-t;return r<0?v:0===r?t:(e%1!=0||t%1!=0||n.excl||r++,i.$rand(r)+t)}():n.$$is_number?(n<=0&&i.$raise(p.const_get_relative(f,"ArgumentError"),"invalid argument - "+n),n%1==0?e():t()*n):((n=p.const_get_relative(f,"Opal")["$coerce_to!"](n,p.const_get_relative(f,"Integer"),"to_int"))<=0&&i.$raise(p.const_get_relative(f,"ArgumentError"),"invalid argument - "+n),e())},u.$$arity=-1),v&&"rand"}(0,0,g)},Opal.modules["corelib/unsupported"]=function(A){var t,e,r=A.top,n=[],l=A.nil,O=(A.breaker,A.slice,A.klass),i=A.module;A.add_stubs(["$raise","$warn","$%"]);var $,a,s,o,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w={};function E(t){switch(A.config.unsupported_features_severity){case"error":A.const_get_relative(n,"Kernel").$raise(A.const_get_relative(n,"NotImplementedError"),t);break;case"warning":!function(t){if(w[t])return;w[t]=!0,r.$warn(t)}(t)}}return function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k=n=O(t,null,"String",n),w=(k.$$proto,[k].concat(r)),E="String#%s not supported. Mutable String methods are not supported in Opal.";A.def(k,"$<<",i=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("<<"))},i.$$arity=-1),A.def(k,"$capitalize!",$=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("capitalize!"))},$.$$arity=-1),A.def(k,"$chomp!",a=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("chomp!"))},a.$$arity=-1),A.def(k,"$chop!",s=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("chop!"))},s.$$arity=-1),A.def(k,"$downcase!",o=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("downcase!"))},o.$$arity=-1),A.def(k,"$gsub!",l=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("gsub!"))},l.$$arity=-1),A.def(k,"$lstrip!",c=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("lstrip!"))},c.$$arity=-1),A.def(k,"$next!",_=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("next!"))},_.$$arity=-1),A.def(k,"$reverse!",u=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("reverse!"))},u.$$arity=-1),A.def(k,"$slice!",d=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("slice!"))},d.$$arity=-1),A.def(k,"$squeeze!",f=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("squeeze!"))},f.$$arity=-1),A.def(k,"$strip!",h=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("strip!"))},h.$$arity=-1),A.def(k,"$sub!",p=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("sub!"))},p.$$arity=-1),A.def(k,"$succ!",g=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("succ!"))},g.$$arity=-1),A.def(k,"$swapcase!",v=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("swapcase!"))},v.$$arity=-1),A.def(k,"$tr!",m=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("tr!"))},m.$$arity=-1),A.def(k,"$tr_s!",y=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("tr_s!"))},y.$$arity=-1),A.def(k,"$upcase!",b=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("upcase!"))},b.$$arity=-1),A.def(k,"$prepend",x=function(t){return this.$raise(A.const_get_relative(w,"NotImplementedError"),E["$%"]("prepend"))},x.$$arity=-1)}(n[0],0,n),$=n[0],a=n,(c=i($,"Kernel")).$$proto,[c].concat(a),_="Object freezing is not supported by Opal",A.def(c,"$freeze",s=function(){return E(_),this},s.$$arity=0),A.def(c,"$frozen?",o=function(){return E(_),!1},o.$$arity=0),u=n[0],d=n,(g=i(u,"Kernel")).$$proto,[g].concat(d),v="Object tainting is not supported by Opal",A.def(g,"$taint",f=function(){return E(v),this},f.$$arity=0),A.def(g,"$untaint",h=function(){return E(v),this},h.$$arity=0),A.def(g,"$tainted?",p=function(){return E(v),!1},p.$$arity=0),function(t,e,r){function n(){}var i,$,a,s,o=n=O(t,null,"Module",n);o.$$proto,[o].concat(r);A.def(o,"$public",i=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return 0===e.length&&(this.$$module_function=!1),l},i.$$arity=-1),A.alias(o,"private","public"),A.alias(o,"protected","public"),A.alias(o,"nesting","public"),A.def(o,"$private_class_method",$=function(t){return this},$.$$arity=-1),A.alias(o,"public_class_method","private_class_method"),A.def(o,"$private_method_defined?",a=function(t){return!1},a.$$arity=1),A.def(o,"$private_constant",s=function(t){return l},s.$$arity=-1),A.alias(o,"protected_method_defined?","private_method_defined?"),A.alias(o,"public_instance_methods","instance_methods"),A.alias(o,"public_method_defined?","method_defined?")}(n[0],0,n),function(t,e){var r,n=i(t,"Kernel");n.$$proto,[n].concat(e);A.def(n,"$private_methods",r=function(t){return[]},r.$$arity=-1),A.alias(n,"private_instance_methods","private_methods")}(n[0],n),m=n[0],y=n,(x=i(m,"Kernel")).$$proto,k=[x].concat(y),A.def(x,"$eval",b=function(t){return this.$raise(A.const_get_relative(k,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+A.const_get_relative(k,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},b.$$arity=-1),A.defs(r,"$public",t=function(t){return l},t.$$arity=-1),A.defs(r,"$private",e=function(t){return l},e.$$arity=-1),l&&"private"},Opal.modules.opal=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")},Opal.require("opal"),function(t,e){t.Asciidoctor=function(o){Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=t.nil,n=(t.breaker,t.slice,t.send),i=t.gvars,$=r;return null==i.stdout&&(i.stdout=r),null==i.stderr&&(i.stderr=r),t.add_stubs(["$write_proc=","$-"]),$=[function(t){print(t)}],n(i.stdout,"write_proc=",t.to_a($)),$[e($.length,1)],$=[function(t){print(t)}],n(i.stderr,"write_proc=",t.to_a($)),$[e($.length,1)]},Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=function(a){a.top;var t=[],s=(a.nil,a.breaker,a.slice,a.klass);return function(t,e,r){function n(){}var i=n=s(t,null,"Dir",n),$=(i.$$proto,[i].concat(r));return function(t,e){var r;t.$$proto,[t].concat(e);return a.def(t,"$pwd",r=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},r.$$arity=0),a.alias(t,"getwd","pwd")}(a.get_singleton_class(i),$)}(t[0],0,t)},Opal.modules["asciidoctor/js/opal_ext/nashorn/file"]=function(a){a.top;var t=[],s=a.nil,o=(a.breaker,a.slice,a.klass);return function(t,e,r){function n(){}var i,$=n=o(t,null,"File",n);$.$$proto,[$].concat(r);return a.defs($,"$read",i=function(t){var e=Java.type("java.nio.file.Paths"),r=Java.type("java.nio.file.Files"),n=r.readAllLines(e.get(t),Java.type("java.nio.charset.StandardCharsets").UTF_8),i=[];return n.forEach(function(t){i.push(t)}),i.join("\n")},i.$$arity=1),s&&"read"}(t[0],0,t)},Opal.modules["asciidoctor/js/opal_ext/nashorn"]=function(t){var e,r,n,i,$=t.top,a=[];t.nil,t.breaker,t.slice;if(t.add_stubs(["$require"]),"object"==typeof o&&"object"==typeof o.runtime){var s=o.runtime;e=s.platform,r=s.engine,n=s.framework,i=s.ioModule}return i=i||"java_nio",e=e||"java",r=r||"nashorn",n=n||"",t.const_set(a[0],"JAVASCRIPT_IO_MODULE",i),t.const_set(a[0],"JAVASCRIPT_PLATFORM",e),t.const_set(a[0],"JAVASCRIPT_ENGINE",r),t.const_set(a[0],"JAVASCRIPT_FRAMEWORK",n),$.$require("asciidoctor/js/opal_ext/nashorn/io"),$.$require("asciidoctor/js/opal_ext/nashorn/dir"),$.$require("asciidoctor/js/opal_ext/nashorn/file")},Opal.modules.set=function(N){function z(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function D(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function B(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}N.top;var t,l,e,c,r=[],F=N.nil,P=(N.breaker,N.slice,N.klass),L=N.truthy,j=N.send,n=N.module;return N.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C=n=P(t,null,"Set",n),I=C.$$proto,q=[C].concat(r);I.hash=F,C.$include(N.const_get_relative(q,"Enumerable")),N.defs(C,"$[]",i=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$new(e)},i.$$arity=-1),N.def(C,"$initialize",$=function(t){var r,e=$.$$p,n=e||F;return null==t&&(t=F),e&&($.$$p=null),this.hash=N.const_get_relative(q,"Hash").$new(),L(t["$nil?"]())?F:(L(N.const_get_relative(q,"Enumerable")["$==="](t))||this.$raise(N.const_get_relative(q,"ArgumentError"),"value must be enumerable"),L(n)?j(t,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e.$add(n.$call(t))}).$$s=this,r.$$arity=1,r)):this.$merge(t))},$.$$arity=-1),N.def(C,"$dup",a=function(){return this.$class().$new().$merge(this)},a.$$arity=0),N.def(C,"$-",s=function(t){return L(t["$respond_to?"]("each"))||this.$raise(N.const_get_relative(q,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(t)},s.$$arity=1),N.alias(C,"difference","-"),N.def(C,"$inspect",o=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},o.$$arity=0),N.def(C,"$==",l=function(t){var e,r;return!!L(this["$equal?"](t))||(L(t["$instance_of?"](this.$class()))?this.hash["$=="](t.$instance_variable_get("@hash")):!!L(L(e=t["$is_a?"](N.const_get_relative(q,"Set")))?this.$size()["$=="](t.$size()):e)&&j(t,"all?",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=F),null==t&&(t=F),e.hash["$include?"](t)}).$$s=this,r.$$arity=1,r)))},l.$$arity=1),N.def(C,"$add",c=function(t){var e=F;return e=[t,!0],j(this.hash,"[]=",N.to_a(e)),z(e.length,1),this},c.$$arity=1),N.alias(C,"<<","add"),N.def(C,"$classify",_=function(){var i,e,t=_.$$p,r=t||F,n=F;return t&&(_.$$p=null),r===F?this.$enum_for("classify"):(n=j(N.const_get_relative(q,"Hash"),"new",[],((i=function(t,e){var r=i.$$s||this,n=F;return null==t&&(t=F),null==e&&(e=F),n=[e,r.$class().$new()],j(t,"[]=",N.to_a(n)),n[z(n.length,1)]}).$$s=this,i.$$arity=2,i)),j(this,"each",[],((e=function(t){e.$$s;return null==t&&(t=F),n["$[]"](N.yield1(r,t)).$add(t)}).$$s=this,e.$$arity=1,e)),n)},_.$$arity=0),N.def(C,"$collect!",u=function(){var e,t=u.$$p,r=t||F,n=F;return t&&(u.$$p=null),r===F?this.$enum_for("collect!"):(n=this.$class().$new(),j(this,"each",[],((e=function(t){e.$$s;return null==t&&(t=F),n["$<<"](N.yield1(r,t))}).$$s=this,e.$$arity=1,e)),this.$replace(n))},u.$$arity=0),N.alias(C,"map!","collect!"),N.def(C,"$delete",d=function(t){return this.hash.$delete(t),this},d.$$arity=1),N.def(C,"$delete?",f=function(t){return L(this["$include?"](t))?(this.$delete(t),this):F},f.$$arity=1),N.def(C,"$delete_if",h=function(){try{var e,r,t=h.$$p,n=t||F;return t&&(h.$$p=null),L(n!==F)||N.ret(this.$enum_for("delete_if")),j(j(this,"select",[],((e=function(t){e.$$s;return null==t&&(t=F),N.yield1(n,t)}).$$s=this,e.$$arity=1,e)),"each",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=F),null==t&&(t=F),e.hash.$delete(t)}).$$s=this,r.$$arity=1,r)),this}catch(t){if(t===N.returner)return t.$v;throw t}},h.$$arity=0),N.def(C,"$add?",p=function(t){return L(this["$include?"](t))?F:this.$add(t)},p.$$arity=1),N.def(C,"$each",g=function(){var t=g.$$p,e=t||F;return t&&(g.$$p=null),e===F?this.$enum_for("each"):(j(this.hash,"each_key",[],e.$to_proc()),this)},g.$$arity=0),N.def(C,"$empty?",v=function(){return this.hash["$empty?"]()},v.$$arity=0),N.def(C,"$eql?",m=function(t){var e;return this.hash["$eql?"](j(t,"instance_eval",[],((e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=F),t.hash}).$$s=this,e.$$arity=0,e)))},m.$$arity=1),N.def(C,"$clear",y=function(){return this.hash.$clear(),this},y.$$arity=0),N.def(C,"$include?",b=function(t){return this.hash["$include?"](t)},b.$$arity=1),N.alias(C,"member?","include?"),N.def(C,"$merge",x=function(t){var r;return j(t,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e.$add(t)}).$$s=this,r.$$arity=1,r)),this},x.$$arity=1),N.def(C,"$replace",k=function(t){return this.$clear(),this.$merge(t),this},k.$$arity=1),N.def(C,"$size",w=function(){return this.hash.$size()},w.$$arity=0),N.alias(C,"length","size"),N.def(C,"$subtract",E=function(t){var r;return j(t,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e.$delete(t)}).$$s=this,r.$$arity=1,r)),this},E.$$arity=1),N.def(C,"$|",A=function(t){return L(t["$respond_to?"]("each"))||this.$raise(N.const_get_relative(q,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(t)},A.$$arity=1),N.def(C,"$superset?",O=function(t){var r;return L(t["$is_a?"](N.const_get_relative(q,"Set")))||this.$raise(N.const_get_relative(q,"ArgumentError"),"value must be a set"),!L(D(this.$size(),t.$size()))&&j(t,"all?",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},O.$$arity=1),N.alias(C,">=","superset?"),N.def(C,"$proper_superset?",S=function(t){var r;return L(t["$is_a?"](N.const_get_relative(q,"Set")))||this.$raise(N.const_get_relative(q,"ArgumentError"),"value must be a set"),!L(B(this.$size(),t.$size()))&&j(t,"all?",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},S.$$arity=1),N.alias(C,">","proper_superset?"),N.def(C,"$subset?",R=function(e){var r;return L(e["$is_a?"](N.const_get_relative(q,"Set")))||this.$raise(N.const_get_relative(q,"ArgumentError"),"value must be a set"),!L(D(e.$size(),this.$size()))&&j(this,"all?",[],((r=function(t){r.$$s;return null==t&&(t=F),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},R.$$arity=1),N.alias(C,"<=","subset?"),N.def(C,"$proper_subset?",T=function(e){var r;return L(e["$is_a?"](N.const_get_relative(q,"Set")))||this.$raise(N.const_get_relative(q,"ArgumentError"),"value must be a set"),!L(B(e.$size(),this.$size()))&&j(this,"all?",[],((r=function(t){r.$$s;return null==t&&(t=F),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},T.$$arity=1),N.alias(C,"<","proper_subset?"),N.alias(C,"+","|"),N.alias(C,"union","|"),N.def(C,"$to_a",M=function(){return this.hash.$keys()},M.$$arity=0)}(r[0],0,r),(e=n((t=r)[0],"Enumerable")).$$proto,c=[e].concat(t),void N.def(e,"$to_set",l=function(t,e){var r,n=this,i=l.$$p,$=i||F;null==t&&(t=N.const_get_relative(c,"Set"));var a=arguments.length,s=a-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<a;o++)r[o-1]=arguments[o];return i&&(l.$$p=null),j(t,"new",[n].concat(N.to_a(r)),$.$to_proc())},l.$$arity=-1)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(u){u.top;var t,l,e,c,r=[],d=u.nil,n=(u.breaker,u.slice,u.module),_=u.send,f=u.klass,h=u.truthy,p=u.gvars;return u.add_stubs(["$new","$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),(e=n((t=r)[0],"Kernel")).$$proto,c=[e].concat(t),u.def(e,"$open",l=function(t,e){var r,n=l.$$p,i=n||d,$=d,a=arguments.length,s=a-1;s<0&&(s=0),r=new Array(s);for(var o=1;o<a;o++)r[o-1]=arguments[o];return n&&(l.$$p=null),$=_(u.const_get_relative(c,"File"),"new",[t].concat(u.to_a(r))),i!==d?u.yield1(i,$):$},l.$$arity=-2),function(t,e,r){function n(){}var i,$,c,a,s=n=f(t,null,"File",n),o=s.$$proto,_=[s].concat(r);o.eof=o.path=d,s.$attr_reader("eof"),s.$attr_reader("lineno"),s.$attr_reader("path"),u.def(s,"$initialize",i=function(t,e){var r=d;return null==e&&(e="r"),this.path=t,this.contents=d,this.eof=!1,this.lineno=0,e=e.$delete("b"),r=/:(.*)/,e=e.$gsub(r,""),this.flags=e},i.$$arity=-2),u.def(s,"$read",$=function(){var t=d;return h(this.eof)?"":(t=u.const_get_relative(_,"File").$read(this.path),this.eof=!0,this.lineno=t.$size(),t)},$.$$arity=0),u.def(s,"$each_line",c=function(t){var e=this,r=c.$$p,n=r||d,i=d;if(null==p["/"]&&(p["/"]=d),null==t&&(t=p["/"]),r&&(c.$$p=null),h(e.eof))return n!==d?e:[].$to_enum();if(n!==d){i=u.const_get_relative(_,"File").$read(e.path),e.eof=!1,e.lineno=0;for(var $=i.$chomp(),a=i.length!=$.length,s=$.split(t),o=0,l=s.length;o<l;o++)e.lineno+=1,o<l-1||a?u.yield1(n,s[o]+t):u.yield1(n,s[o]);return e.eof=!0,e}return e.$read().$each_line()},c.$$arity=-1),u.def(s,"$readlines",a=function(){return u.const_get_relative(_,"File").$readlines(this.path)},a.$$arity=0),function(t,e){t.$$proto;var r,n,i,$,a=[t].concat(e);u.def(t,"$readlines",r=function(t,e){return null==p["/"]&&(p["/"]=d),null==e&&(e=p["/"]),u.const_get_relative(a,"File").$read(t).$split(e)},r.$$arity=-2),u.def(t,"$file?",n=function(t){return!0},n.$$arity=1),u.def(t,"$readable?",i=function(t){return!0},i.$$arity=1),u.def(t,"$read",$=function(t){return""},$.$$arity=1)}(u.get_singleton_class(s),_)}(r[0],0,r),function(t,e,r){function n(){}var i,$=n=f(t,null,"IO",n),a=($.$$proto,[$].concat(r));return u.defs($,"$read",i=function(t){return u.const_get_relative(a,"File").$read(t)},i.$$arity=1),d&&"read"}(r[0],0,r)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(s){s.top;var t=[],o=s.nil,l=(s.breaker,s.slice,s.klass),c=s.send;return s.add_stubs(["$[]=","$-"]),function(t,e,r){function n(){}var i,$=n=l(t,null,"MatchData",n),a=$.$$proto;[$].concat(r);return a.matches=o,s.def($,"$[]=",i=function(t,e){var r,n,i=o;return i=[t,e],c(this.matches,"[]=",s.to_a(i)),i[(r=i.length,n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))]},i.$$arity=2),o&&"[]="}(t[0],0,t)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(i){i.top;var t=[],$=(i.nil,i.breaker,i.slice,i.module);return function(t,e){var r,n=$(t,"Kernel");n.$$proto,[n].concat(e);i.def(n,"$freeze",r=function(){return this},r.$$arity=0)}(t[0],t)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){t.top;var e,r,n,i=[],$=(t.nil,t.breaker,t.slice,t.module),a=t.klass;return(r=$((e=i)[0],"ThreadSafe")).$$proto,void function(t,e,r){function n(){}var i=n=a(t,e,"Cache",n);i.$$proto,[i].concat(r)}((n=[r].concat(e))[0],t.const_get_qualified("::","Hash"),n)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(s){s.top;var t=[],o=s.nil,l=(s.breaker,s.slice,s.klass),c=s.truthy,_=s.send;return s.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(t,e,r){function n(){}var i,$,a=n=l(t,null,"String",n);a.$$proto,[a].concat(r);return c(a["$method_defined?"]("limit_bytesize"))||s.def(a,"$limit_bytesize",i=function(t){var e,r;return c((e=t,r=this.$bytes().$length(),"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r)))?this.$byteslice(0,t).$to_s():this.$to_s()},i.$$arity=1),c(a["$method_defined?"]("limit"))||s.alias(a,"limit","limit_bytesize"),s.alias(a,"_original_unpack","unpack"),s.def(a,"$unpack",$=function(t){var r;return t["$=="]("C3")?_(this["$[]"](0,3).$bytes().$select(),"with_index",[],((r=function(t,e){r.$$s;return null==t&&(t=o),null==e&&(e=o),e["$even?"]()}).$$s=this,r.$$arity=2,r)):this.$_original_unpack(t)},$.$$arity=1),o&&"unpack"}(t[0],0,t)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(e){e.top;var t,r,n,i,$=[],a=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$extend"]),(n=a((t=$)[0],"URI")).$$proto,i=[n].concat(t),void e.defs(n,"$parse",r=function(t){return t.$extend(e.const_get_relative(i,"URI"))},r.$$arity=1)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/thread_safe"),e.$require("asciidoctor/js/opal_ext/string"),e.$require("asciidoctor/js/opal_ext/uri"),e.$require("asciidoctor/js/opal_ext/nashorn")},Opal.modules["asciidoctor/js/rx"]=function(e){function t(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}e.top;var r,n,i,$,a=[],s=e.nil,o=(e.breaker,e.slice,e.module),l=e.send,c=e.gvars,_=e.truthy;return e.add_stubs(["$gsub","$+","$unpack_hex_range"]),(i=o((r=a)[0],"Asciidoctor")).$$proto,$=[i].concat(r),e.const_set($[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),e.defs(i,"$unpack_hex_range",n=function(t){var r;return l(t,"gsub",[e.const_get_relative($,"HEX_RANGE_RX")],((r=function(){var t,e;return r.$$s,"\\u"+((t=c["~"])===s?s:t["$[]"](1))+(_(t=(e=c["~"])===s?s:e["$[]"](2))?"-\\u"+((e=c["~"])===s?s:e["$[]"](2)):t)}).$$s=this,r.$$arity=0,r))},n.$$arity=1),e.const_set($[0],"P_L",t("A-Za-z",i.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),e.const_set($[0],"P_Nl",i.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),e.const_set($[0],"P_Nd",t("0-9",i.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),e.const_set($[0],"P_Pc",i.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),e.const_set($[0],"CC_ALPHA",""+e.const_get_relative($,"P_L")+e.const_get_relative($,"P_Nl")),e.const_set($[0],"CG_ALPHA","["+e.const_get_relative($,"CC_ALPHA")+"]"),e.const_set($[0],"CC_ALNUM",""+e.const_get_relative($,"CC_ALPHA")+e.const_get_relative($,"P_Nd")),e.const_set($[0],"CG_ALNUM","["+e.const_get_relative($,"CC_ALNUM")+"]"),e.const_set($[0],"CC_WORD",""+e.const_get_relative($,"CC_ALNUM")+e.const_get_relative($,"P_Pc")),e.const_set($[0],"CG_WORD","["+e.const_get_relative($,"CC_WORD")+"]"),e.const_set($[0],"CG_BLANK","[ \\t]"),e.const_set($[0],"CC_EOL","(?=\\n|$)"),e.const_set($[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),void e.const_set($[0],"CC_ALL","[\\s\\S]")},Opal.modules.strscan=function(M){M.top;var t=[],C=M.nil,I=(M.breaker,M.slice,M.klass),q=M.send;return M.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R=n=I(t,null,"StringScanner",n),T=R.$$proto;[R].concat(r);return T.pos=T.string=T.working=T.matched=T.prev_pos=T.match=C,R.$attr_reader("pos"),R.$attr_reader("matched"),M.def(R,"$initialize",i=function(t){return this.string=t,this.pos=0,this.matched=C,this.working=t,this.match=[]},i.$$arity=1),R.$attr_reader("string"),M.def(R,"$beginning_of_line?",$=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},$.$$arity=0),M.alias(R,"bol?","beginning_of_line?"),M.def(R,"$scan",a=function(t){var e=this,r=(t=e.$anchor(t)).exec(e.working);return null==r?e.matched=C:"object"==typeof r?(e.prev_pos=e.pos,e.pos+=r[0].length,e.working=e.working.substring(r[0].length),e.matched=r[0],(e.match=r)[0]):"string"==typeof r?(e.pos+=r.length,e.working=e.working.substring(r.length),r):C},a.$$arity=1),M.def(R,"$scan_until",s=function(t){var e=this;t=e.$anchor(t);for(var r,n=e.pos,i=e.working;;){if(r=t.exec(i),n+=1,i=i.substr(1),null!=r)return e.matched=e.string.substr(e.pos,n-e.pos-1+r[0].length),e.prev_pos=n-1,e.pos=n,e.working=i.substr(r[0].length),e.matched;if(0===i.length)return e.matched=C}},s.$$arity=1),M.def(R,"$[]",o=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length?C:null==e[t]?C:e[t]},o.$$arity=1),M.def(R,"$check",l=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?C:e[0]},l.$$arity=1),M.def(R,"$check_until",c=function(t){var e=this.prev_pos,r=this.pos,n=this.$scan_until(t);return n!==C&&(this.matched=n.substr(-1),this.working=this.string.substr(r)),this.prev_pos=e,this.pos=r,n},c.$$arity=1),M.def(R,"$peek",_=function(t){return this.working.substring(0,t)},_.$$arity=1),M.def(R,"$eos?",u=function(){return 0===this.working.length},u.$$arity=0),M.def(R,"$exist?",d=function(t){var e=t.exec(this.working);return null==e?C:0==e.index?0:e.index+1},d.$$arity=1),M.def(R,"$skip",f=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.matched=C;var r=e[0],n=r.length;return this.matched=r,this.prev_pos=this.pos,this.pos+=n,this.working=this.working.substring(n),n},f.$$arity=1),M.def(R,"$skip_until",h=function(t){var e=this.$scan_until(t);return e===C?C:(this.matched=e.substr(-1),e.length)},h.$$arity=1),M.def(R,"$get_byte",p=function(){var t=this,e=C;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,e=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=C,e},p.$$arity=0),M.alias(R,"getch","get_byte"),M.def(R,"$match?",g=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?C:(this.prev_pos=this.pos,e[0].length)},g.$$arity=1),M.def(R,"$pos=",v=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},v.$$arity=1),M.def(R,"$matched_size",m=function(){return this.matched===C?C:this.matched.length},m.$$arity=0),M.def(R,"$post_match",y=function(){return this.matched===C?C:this.string.substr(this.pos)},y.$$arity=0),M.def(R,"$pre_match",b=function(){return this.matched===C?C:this.string.substr(0,this.prev_pos)},b.$$arity=0),M.def(R,"$reset",x=function(){return this.working=this.string,this.matched=C,this.pos=0},x.$$arity=0),M.def(R,"$rest",k=function(){return this.working},k.$$arity=0),M.def(R,"$rest?",w=function(){return 0!==this.working.length},w.$$arity=0),M.def(R,"$rest_size",E=function(){return this.$rest().$size()},E.$$arity=0),M.def(R,"$terminate",A=function(){var t,e,r=C;return this.match=C,r=[this.string.$length()],q(this,"pos=",M.to_a(r)),r[(t=r.length,e=1,"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e))]},A.$$arity=0),M.def(R,"$unscan",O=function(){return this.pos=this.prev_pos,this.prev_pos=C,this.match=C,this},O.$$arity=0),R.$private(),M.def(R,"$anchor",S=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},S.$$arity=1),C&&"anchor"}(t[0],0,t)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/timings"]=function(f){function h(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function p(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function g(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}f.top;var t,e,r,n=[],v=f.nil,i=(f.breaker,f.slice,f.module),m=f.klass,y=f.hash2,b=f.send,x=f.truthy,k=f.gvars;return f.add_stubs(["$now","$[]=","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u=n=m(t,null,"Timings",n),d=u.$$proto;[u].concat(r),d.timers=d.log=v,f.def(u,"$initialize",i=function(){return this.log=y([],{}),this.timers=y([],{})},i.$$arity=0),f.def(u,"$start",$=function(t){var e=v;return e=[t,f.const_get_qualified("::","Time").$now()],b(this.timers,"[]=",f.to_a(e)),e[h(e.length,1)]},$.$$arity=1),f.def(u,"$record",a=function(t){var e=v;return e=[t,h(f.const_get_qualified("::","Time").$now(),this.timers.$delete(t))],b(this.log,"[]=",f.to_a(e)),e[h(e.length,1)]},a.$$arity=1),f.def(u,"$read_parse",s=function(){var t,e=v;return x(p(e=g(x(t=this.log["$[]"]("read"))?t:0,x(t=this.log["$[]"]("parse"))?t:0),0))?e:v},s.$$arity=0),f.def(u,"$convert",o=function(){var t;return x(t=this.log["$[]"]("convert"))?t:0},o.$$arity=0),f.def(u,"$read_parse_convert",l=function(){var t,e=v;return x(p(e=g(g(x(t=this.log["$[]"]("read"))?t:0,x(t=this.log["$[]"]("parse"))?t:0),x(t=this.log["$[]"]("convert"))?t:0),0))?e:v},l.$$arity=0),f.def(u,"$total",c=function(){var t,e=v;return x(p(e=g(g(g(x(t=this.log["$[]"]("read"))?t:0,x(t=this.log["$[]"]("parse"))?t:0),x(t=this.log["$[]"]("convert"))?t:0),x(t=this.log["$[]"]("write"))?t:0),0))?e:v},c.$$arity=0),f.def(u,"$print_report",_=function(t,e){return null==k.stdout&&(k.stdout=v),null==t&&(t=k.stdout),null==e&&(e=v),x(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},_.$$arity=-1)}((r=[e].concat(t))[0],0,r)},Opal.modules["asciidoctor/version"]=function(t){t.top;var e,r,n,i=[],$=(t.nil,t.breaker,t.slice,t.module);return(r=$((e=i)[0],"Asciidoctor")).$$proto,n=[r].concat(e),void t.const_set(n[0],"VERSION","1.5.6.2")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function($){$.top;var t=[],a=$.nil,s=($.breaker,$.slice,$.klass),o=$.truthy;return $.add_stubs(["$method_defined?"]),function(t,e,r){function n(){}var i=n=s(t,null,"NilClass",n);i.$$proto,[i].concat(r);o(i["$method_defined?"]("nil_or_empty?"))||$.alias(i,"nil_or_empty?","nil?")}(t[0],0,t),function(t,e,r){function n(){}var i=n=s(t,null,"String",n);i.$$proto,[i].concat(r);o(i["$method_defined?"]("nil_or_empty?"))||$.alias(i,"nil_or_empty?","empty?")}(t[0],0,t),function(t,e,r){function n(){}var i=n=s(t,null,"Array",n);i.$$proto,[i].concat(r);o(i["$method_defined?"]("nil_or_empty?"))||$.alias(i,"nil_or_empty?","empty?")}(t[0],0,t),function(t,e,r){function n(){}var i=n=s(t,null,"Hash",n);i.$$proto,[i].concat(r);o(i["$method_defined?"]("nil_or_empty?"))||$.alias(i,"nil_or_empty?","empty?")}(t[0],0,t),function(t,e,r){function n(){}var i=n=s(t,null,"Numeric",n);i.$$proto,[i].concat(r);return o(i["$method_defined?"]("nil_or_empty?"))?a:$.alias(i,"nil_or_empty?","nil?")}(t[0],0,t)},Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function($){$.top;var t=[],a=$.nil,s=($.breaker,$.slice,$.klass),o=$.truthy;return $.add_stubs(["$method_defined?"]),function(t,e,r){function n(){}var i=n=s(t,null,"Regexp",n);i.$$proto,[i].concat(r);return o(i["$method_defined?"]("match?"))?a:$.alias(i,"match?","===")}(t[0],0,t)},Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(a){a.top;var t=[],s=a.nil,o=(a.breaker,a.slice,a.klass),l=a.truthy;return a.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(t,e,r){function n(){}var i,$=n=o(t,null,"String",n);$.$$proto,[$].concat(r);return l($["$method_defined?"]("limit_bytesize"))?s:(a.def($,"$limit_bytesize",i=function(t){var e,r,n,i,$=s;if(!l((e=t,r=this.$bytesize(),"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r))))return this;for(;!l(($=this.$byteslice(0,t)).$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)i=1,t="number"==typeof(n=t)&&"number"==typeof i?n-i:n["$-"](i);return $},i.$$arity=1),s&&"limit_bytesize")}(t[0],0,t)},Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function($){$.top;var t,a=[],s=$.nil,e=($.breaker,$.slice,$.truthy),o=$.send;return $.add_stubs(["$respond_to?","$open","$write"]),e($.const_get_relative(a,"IO")["$respond_to?"]("write"))?s:($.defs($.const_get_relative(a,"IO"),"$write",t=function(t,e,r,n){var i;return null==r&&(r=0),null==n&&(n=s),o($.const_get_relative(a,"File"),"open",[t,"w"],((i=function(t){i.$$s;return null==t&&(t=s),t.$write(e)}).$$s=this,i.$$arity=1,i))},t.$$arity=-3),s&&"write")},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.breaker,t.slice,t.truthy);return t.add_stubs(["$require","$==","$!="]),e.$require("asciidoctor/core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext/regexp/is_match"),i(t.const_get_relative(r,"RUBY_MIN_VERSION_1_9"))?(e.$require("asciidoctor/core_ext/string/limit_bytesize"),t.const_get_relative(r,"RUBY_ENGINE")["$=="]("opal")?e.$require("asciidoctor/core_ext/1.8.7/io/write"):n):(i(t.const_get_relative(r,"RUBY_ENGINE")["$!="]("opal")),n)},Opal.modules["asciidoctor/helpers"]=function(c){function _(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}c.top;var t,e,r,n,i,$,a,s,o,l,u,d,f,h,p,g,v,m=[],y=c.nil,b=(c.breaker,c.slice,c.module),x=c.truthy,k=c.send,w=c.range,E=c.gvars;return c.add_stubs(["$require","$==","$===","$raise","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$unpack","$[]","$slice","$map","$each_line","$encode","$force_encoding","$join","$rstrip","$[]=","$-","$encoding","$nil_or_empty?","$include?","$match?","$=~","$gsub","$each_byte","$sprintf","$rindex","$length","$basename","$extname","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),(g=b((t=m)[0],"Asciidoctor")).$$proto,v=[g].concat(t),e=v[0],r=v,(h=b(e,"Helpers")).$$proto,p=[h].concat(r),c.defs(h,"$require_library",n=function(e,r,n){var i=this,$=y,a=y;null==r&&(r=!0),null==n&&(n="abort");try{return i.$require(e)}catch(t){if(!c.rescue(t,[c.const_get_qualified("::","LoadError")]))throw t;$=t;try{return x(r)?(r["$=="](!0)&&(r=e),"abort"["$==="](a=n)?i.$raise(c.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: required gem '"+r+"' is not installed. Processing aborted."):"warn"["$==="](a)?i.$warn("asciidoctor: WARNING: optional gem '"+r+"' is not installed. Functionality disabled."):y):"abort"["$==="](a=n)?i.$raise(c.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: "+$.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](a)?i.$warn("asciidoctor: WARNING: "+$.$message().$chomp(".")+". Functionality disabled."):y}finally{c.pop_exception()}}},n.$$arity=-2),c.defs(h,"$normalize_lines",i=function(t){return t.$class()["$=="](c.const_get_qualified("::","String"))?this.$normalize_lines_from_string(t):this.$normalize_lines_array(t)},i.$$arity=1),c.defs(h,"$normalize_lines_array",$=function(t){var e,r,n,i,$=y,a=y,s=y,o=y,l=y;return x(t["$empty?"]())?t:($=(a=t["$[]"](0)).$unpack("C3"),x(c.const_get_relative(p,"COERCE_ENCODING"))?(s=c.const_get_qualified(c.const_get_qualified("::","Encoding"),"UTF_8"),(o=$.$slice(0,2))["$=="](c.const_get_relative(p,"BOM_BYTES_UTF_16LE"))?k(t.$join().$force_encoding(c.const_get_qualified(c.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](w(1,-1,!1)).$encode(s).$each_line(),"map",[],((e=function(t){return e.$$s,null==t&&(t=y),t.$rstrip()}).$$s=this,e.$$arity=1,e)):o["$=="](c.const_get_relative(p,"BOM_BYTES_UTF_16BE"))?(l=[0,a.$force_encoding(c.const_get_qualified(c.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](w(1,-1,!1))],k(t,"[]=",c.to_a(l)),l[_(l.length,1)],k(t,"map",[],((r=function(t){return r.$$s,null==t&&(t=y),""+t.$force_encoding(c.const_get_qualified(c.const_get_qualified("::","Encoding"),"UTF_16BE")).$encode(s).$rstrip()}).$$s=this,r.$$arity=1,r))):($["$=="](c.const_get_relative(p,"BOM_BYTES_UTF_8"))&&(l=[0,a.$force_encoding(s)["$[]"](w(1,-1,!1))],k(t,"[]=",c.to_a(l)),l[_(l.length,1)]),k(t,"map",[],((n=function(t){return n.$$s,null==t&&(t=y),t.$encoding()["$=="](s)?t.$rstrip():t.$force_encoding(s).$rstrip()}).$$s=this,n.$$arity=1,n)))):($["$=="](c.const_get_relative(p,"BOM_BYTES_UTF_8"))&&(l=[0,a["$[]"](w(3,-1,!1))],k(t,"[]=",c.to_a(l)),l[_(l.length,1)]),k(t,"map",[],((i=function(t){return i.$$s,null==t&&(t=y),t.$rstrip()}).$$s=this,i.$$arity=1,i))))},$.$$arity=1),c.defs(h,"$normalize_lines_from_string",a=function(t){var e,r=y,n=y,i=y;return x(t["$nil_or_empty?"]())?[]:(r=t.$unpack("C3"),x(c.const_get_relative(p,"COERCE_ENCODING"))?(n=c.const_get_qualified(c.const_get_qualified("::","Encoding"),"UTF_8"),(i=r.$slice(0,2))["$=="](c.const_get_relative(p,"BOM_BYTES_UTF_16LE"))?t=t.$force_encoding(c.const_get_qualified(c.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](w(1,-1,!1)).$encode(n):i["$=="](c.const_get_relative(p,"BOM_BYTES_UTF_16BE"))?t=t.$force_encoding(c.const_get_qualified(c.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](w(1,-1,!1)).$encode(n):r["$=="](c.const_get_relative(p,"BOM_BYTES_UTF_8"))?t=t.$encoding()["$=="](n)?t["$[]"](w(1,-1,!1)):t.$force_encoding(n)["$[]"](w(1,-1,!1)):t.$encoding()["$=="](n)||(t=t.$force_encoding(n))):r["$=="](c.const_get_relative(p,"BOM_BYTES_UTF_8"))&&(t=t["$[]"](w(3,-1,!1))),k(t.$each_line(),"map",[],((e=function(t){return e.$$s,null==t&&(t=y),t.$rstrip()}).$$s=this,e.$$arity=1,e)))},a.$$arity=1),c.defs(h,"$uriish?",s=function(t){var e;return x(e=t["$include?"](":"))?c.const_get_relative(p,"UriSniffRx")["$match?"](t):e},s.$$arity=1),c.defs(h,"$uri_prefix",o=function(t){var e;return x(x(e=t["$include?"](":"))?c.const_get_relative(p,"UriSniffRx")["$=~"](t):e)?(e=E["~"])===y?y:e["$[]"](0):y},o.$$arity=1),c.const_set(p[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),c.defs(h,"$uri_encode",l=function(t){var n;return k(t,"gsub",[c.const_get_relative(p,"REGEXP_ENCODE_URI_CHARS")],((n=function(){var t,r,e=n.$$s||this;return k(((t=E["~"])===y?y:t["$[]"](0)).$each_byte(),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=y),e.$sprintf("%%%02X",t)},r.$$s=e,r.$$arity=1,r)).$join()}).$$s=this,n.$$arity=0,n))},l.$$arity=1),c.defs(h,"$rootname",u=function(t){var e;return t.$slice(0,x(e=t.$rindex("."))?e:t.$length())},u.$$arity=1),c.defs(h,"$basename",d=function(t,e){return null==e&&(e=y),x(e)?c.const_get_qualified("::","File").$basename(t,e["$=="](!0)?c.const_get_qualified("::","File").$extname(t):e):c.const_get_qualified("::","File").$basename(t)},d.$$arity=-2),void c.defs(h,"$mkdir_p",f=function(t){var e,r=y;return x(c.const_get_qualified("::","File")["$directory?"](t))?y:(r=c.const_get_qualified("::","File").$dirname(t),x(x(e=c.const_get_qualified("::","File")["$directory?"](r=c.const_get_qualified("::","File").$dirname(t))["$!"]())?r["$!="]("."):e)&&this.$mkdir_p(r),c.const_get_qualified("::","Dir").$mkdir(t))},f.$$arity=1)},Opal.modules["asciidoctor/substitutors"]=function(w){function x(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function k(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function E(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function A(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}w.top;var t,e,r,n,i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L,j,U=[],H=w.nil,G=(w.breaker,w.slice),Y=w.module,W=w.hash2,X=w.hash,K=w.truthy,V=w.send,J=w.gvars,Z=w.range;return w.add_stubs(["$freeze","$+","$keys","$attr_reader","$empty?","$!","$===","$[]","$each","$<<","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$==","$length","$>","$-","$end_with?","$parse_attributes","$size","$[]=","$unescape_brackets","$resolve_pass_subs","$start_with?","$to_sym","$nil_or_empty?","$attributes","$basebackend?","$to_i","$convert","$new","$clear","$match?","$convert_quoted_text","$do_replacement","$sub","$shift","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$slice","$strip","$index","$min","$compact","$map","$chop","$unescape_bracketed_text","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$names","$config","$dup","$!=","$process_method","$register","$tr","$basename","$split_simple_csv","$normalize_string","$!~","$delete","$uri_encode","$sub_inline_xrefs","$sub_inline_anchors","$find","$footnotes","$id","$text","$style","$lstrip","$rindex","$catalog","$key","$attr?","$escape","$attr","$read_next_id","$callouts","$<","$parse_quoted_text_attributes","$shorthand_property_syntax","$concat","$parse_into","$parse","$each_char","$join","$chr","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$find_by_alias","$find_by_mimetype","$name","$option?","$=~","$to_a","$uniq","$sort","$resolve_block_subs"]),(L=Y((t=U)[0],"Asciidoctor")).$$proto,j=[L].concat(t),e=j[0],r=j,(F=Y(e,"Substitutors")).$$proto,P=[F].concat(r),w.const_set(P[0],"SpecialCharsRx",/[<&>]/),w.const_set(P[0],"SpecialCharsTr",W([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),w.const_set(P[0],"QuotedTextSniffRx",X(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),w.const_set(P[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),w.const_set(P[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),w.const_set(P[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),w.const_set(P[0],"NONE_SUBS",[]).$freeze(),w.const_set(P[0],"TITLE_SUBS",["specialcharacters","quotes","replacements","macros","attributes","post_replacements"]).$freeze(),w.const_set(P[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),w.const_set(P[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),w.const_set(P[0],"SUB_GROUPS",W(["none","normal","verbatim","specialchars"],{none:w.const_get_relative(P,"NONE_SUBS"),normal:w.const_get_relative(P,"NORMAL_SUBS"),verbatim:w.const_get_relative(P,"VERBATIM_SUBS"),specialchars:w.const_get_relative(P,"BASIC_SUBS")})),w.const_set(P[0],"SUB_HINTS",W(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),w.const_set(P[0],"SUB_OPTIONS",W(["block","inline"],{block:x(x(w.const_get_relative(P,"SUB_GROUPS").$keys(),w.const_get_relative(P,"NORMAL_SUBS")),["callouts"]),inline:x(w.const_get_relative(P,"SUB_GROUPS").$keys(),w.const_get_relative(P,"NORMAL_SUBS"))})),w.const_set(P[0],"SUB_HIGHLIGHT",["coderay","pygments"]),w.const_set(P[0],"PASS_START",""),w.const_set(P[0],"PASS_END",""),w.const_set(P[0],"PassSlotRx",new RegExp(w.const_get_relative(P,"PASS_START")+"(\\d+)"+w.const_get_relative(P,"PASS_END"))),w.const_set(P[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+w.const_get_relative(P,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+w.const_get_relative(P,"PASS_END")+"</span>")),w.const_set(P[0],"RS","\\"),w.const_set(P[0],"R_SB","]"),w.const_set(P[0],"ESC_R_SB","\\]"),w.const_set(P[0],"PLUS","+"),w.const_set(P[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),w.const_set(P[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m),F.$attr_reader("passthroughs"),w.def(F,"$apply_subs",n=function(t,n,e){var r,i,$,a=H,s=H,o=H,l=H;if(null==this.passthroughs&&(this.passthroughs=H),null==n&&(n=w.const_get_relative(P,"NORMAL_SUBS")),null==e&&(e=H),K(K(r=t["$empty?"]())?r:n["$!"]()))return t;if(K(e)){if(K(w.const_get_qualified("::","Symbol")["$==="](n)))n=K(r=w.const_get_relative(P,"SUB_GROUPS")["$[]"](n))?r:[n];else if(a=[],V(n,"each",[],((i=function(t){i.$$s;var e=H;return null==t&&(t=H),K(e=w.const_get_relative(P,"SUB_GROUPS")["$[]"](t))?K(e["$empty?"]())?H:a=x(a,e):a["$<<"](t)}).$$s=this,i.$$arity=1,i)),K((n=a)["$empty?"]()))return t}else if(K(n["$empty?"]()))return t;return s=K(o=w.const_get_qualified("::","Array")["$==="](t))?k(t,w.const_get_relative(P,"LF")):t,K(l=n["$include?"]("macros"))&&(s=this.$extract_passthroughs(s),K(this.passthroughs["$empty?"]())&&(l=!1)),V(n,"each",[],(($=function(t){var e=$.$$s||this,r=H;return null==t&&(t=H),"specialcharacters"["$==="](r=t)?s=e.$sub_specialchars(s):"quotes"["$==="](r)?s=e.$sub_quotes(s):"attributes"["$==="](r)?K(s["$include?"](w.const_get_relative(P,"ATTR_REF_HEAD")))?s=k(e.$sub_attributes(s.$split(w.const_get_relative(P,"LF"),-1)),w.const_get_relative(P,"LF")):H:"replacements"["$==="](r)?s=e.$sub_replacements(s):"macros"["$==="](r)?s=e.$sub_macros(s):"highlight"["$==="](r)?s=e.$highlight_source(s,n["$include?"]("callouts")):"callouts"["$==="](r)?K(n["$include?"]("highlight"))?H:s=e.$sub_callouts(s):"post_replacements"["$==="](r)?s=e.$sub_post_replacements(s):e.$warn("asciidoctor: WARNING: unknown substitution type "+t)}).$$s=this,$.$$arity=1,$)),K(l)&&(s=this.$restore_passthroughs(s)),K(o)?s.$split(w.const_get_relative(P,"LF"),-1):s},n.$$arity=-2),w.def(F,"$apply_normal_subs",i=function(t){return this.$apply_subs(t)},i.$$arity=1),w.def(F,"$apply_title_subs",$=function(t){return this.$apply_subs(t,w.const_get_relative(P,"TITLE_SUBS"))},$.$$arity=1),w.def(F,"$apply_reftext_subs",a=function(t){return this.$apply_subs(t,w.const_get_relative(P,"REFTEXT_SUBS"))},a.$$arity=1),w.def(F,"$apply_header_subs",s=function(t){return this.$apply_subs(t,w.const_get_relative(P,"HEADER_SUBS"))},s.$$arity=1),w.def(F,"$extract_passthroughs",o=function(t){var e,r,u,d,o,f=H,n=H,i=H,$=H;return null==this.document&&(this.document=H),f=this.document.$compat_mode(),K(K(e=K(r=t["$include?"]("++"))?r:t["$include?"]("$$"))?e:t["$include?"]("ss:"))&&(t=V(t,"gsub",[w.const_get_relative(P,"InlinePassMacroRx")],((u=function(){var t,e=u.$$s||this,r=H,n=H,i=H,$=H,a=H,s=H,o=H,l=H,c=H,_=H;if(null==e.passthroughs&&(e.passthroughs=H),null==J["~"]&&(J["~"]=H),r=J["~"],n=H,K(i=r["$[]"](4))){if(K(K(t=f)?i["$=="]("++"):t))return K(r["$[]"](2))?r["$[]"](1)+"["+r["$[]"](2)+"]"+r["$[]"](3)+"++"+e.$extract_passthroughs(r["$[]"](5))+"++":""+r["$[]"](1)+r["$[]"](3)+"++"+e.$extract_passthroughs(r["$[]"](5))+"++";if($=r["$[]"](2),a=r["$[]"](3).$length(),s=r["$[]"](5),o=!1,K($)){if(K(E(a,0)))return r["$[]"](1)+"["+$+"]"+k(w.const_get_relative(P,"RS"),A(a,1))+i+r["$[]"](5)+i;r["$[]"](1)["$=="](w.const_get_relative(P,"RS"))?(n="["+$+"]",$=H):(K((t=i["$=="]("++"))?$["$end_with?"]("x-"):i["$=="]("++"))&&(o=!0,$=$["$[]"](Z(0,-2,!0))),$=e.$parse_attributes($))}else if(K(E(a,0)))return""+k(w.const_get_relative(P,"RS"),A(a,1))+i+r["$[]"](5)+i;l=i["$=="]("+++")?[]:w.const_get_relative(P,"BASIC_SUBS"),c=e.passthroughs.$size(),_=K($)?K(o)?[c,W(["text","subs","type","attributes"],{text:s,subs:w.const_get_relative(P,"NORMAL_SUBS"),type:"monospaced",attributes:$})]:[c,W(["text","subs","type","attributes"],{text:s,subs:l,type:"unquoted",attributes:$})]:[c,W(["text","subs"],{text:s,subs:l})],V(e.passthroughs,"[]=",w.to_a(_)),_[A(_.length,1)]}else{if(r["$[]"](6)["$=="](w.const_get_relative(P,"RS")))return r["$[]"](0)["$[]"](Z(1,-1,!1));_=[c=e.passthroughs.$size(),W(["text","subs"],{text:e.$unescape_brackets(r["$[]"](8)),subs:K(r["$[]"](7))?e.$resolve_pass_subs(r["$[]"](7)):[]})],V(e.passthroughs,"[]=",w.to_a(_)),_[A(_.length,1)]}return""+n+w.const_get_relative(P,"PASS_START")+c+w.const_get_relative(P,"PASS_END")}).$$s=this,u.$$arity=0,u))),r=w.const_get_relative(P,"PassInlineRx")["$[]"](f),e=w.to_ary(r),n=null==e[0]?H:e[0],i=null==e[1]?H:e[1],$=null==e[2]?H:e[2],K(K(e=t["$include?"](n))?e:K(r=i)?t["$include?"](i):r)&&(t=V(t,"gsub",[$],((d=function(){var t,e=d.$$s||this,r=H,n=H,i=H,$=H,a=H,s=H,o=H,l=H,c=H,_=H;if(null==e.passthroughs&&(e.passthroughs=H),null==J["~"]&&(J["~"]=H),r=J["~"],n=r["$[]"](1),i=r["$[]"](2),K(r["$[]"](3)["$start_with?"](w.const_get_relative(P,"RS")))&&($=w.const_get_relative(P,"RS")),a=r["$[]"](4),s=r["$[]"](5),K(f)?o=!0:K(o=K(t=i)?i["$end_with?"]("x-"):t)&&(i=i["$[]"](Z(0,-2,!0))),K(i)){if(K((t=a["$=="]("`"))?o["$!"]():a["$=="]("`")))return n+"["+i+"]"+$+"`"+e.$extract_passthroughs(s)+"`";if(K($))return n+"["+i+"]"+r["$[]"](3)["$[]"](Z(1,-1,!1));n["$=="](w.const_get_relative(P,"RS"))?(n="["+i+"]",i=H):i=e.$parse_attributes(i)}else{if(K((t=a["$=="]("`"))?o["$!"]():a["$=="]("`")))return""+n+$+"`"+e.$extract_passthroughs(s)+"`";if(K($))return""+n+r["$[]"](3)["$[]"](Z(1,-1,!1))}return l=e.passthroughs.$size(),K(f)?c=[l,W(["text","subs","attributes","type"],{text:s,subs:w.const_get_relative(P,"BASIC_SUBS"),attributes:i,type:"monospaced"})]:K(i)?K(o)?(_=a["$=="]("`")?w.const_get_relative(P,"BASIC_SUBS"):w.const_get_relative(P,"NORMAL_SUBS"),c=[l,W(["text","subs","attributes","type"],{text:s,subs:_,attributes:i,type:"monospaced"})]):c=[l,W(["text","subs","attributes","type"],{text:s,subs:w.const_get_relative(P,"BASIC_SUBS"),attributes:i,type:"unquoted"})]:c=[l,W(["text","subs"],{text:s,subs:w.const_get_relative(P,"BASIC_SUBS")})],V(e.passthroughs,"[]=",w.to_a(c)),c[A(c.length,1)],""+n+w.const_get_relative(P,"PASS_START")+l+w.const_get_relative(P,"PASS_END")}).$$s=this,d.$$arity=0,d))),K(K(e=t["$include?"](":"))?K(r=t["$include?"]("stem:"))?r:t["$include?"]("math:"):e)&&(t=V(t,"gsub",[w.const_get_relative(P,"InlineStemMacroRx")],((o=function(){var t=o.$$s||this,e=H,r=H,n=H,i=H,$=H,a=H,s=H;return null==t.document&&(t.document=H),null==t.passthroughs&&(t.passthroughs=H),null==J["~"]&&(J["~"]=H),e=J["~"],K(e["$[]"](0)["$start_with?"](w.const_get_relative(P,"RS")))?e["$[]"](0)["$[]"](Z(1,-1,!1)):((r=e["$[]"](1).$to_sym())["$=="]("stem")&&(r=(K((n=t.document.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":n).$to_sym()),i=t.$unescape_brackets(e["$[]"](3)),$=K(e["$[]"](2))?t.$resolve_pass_subs(e["$[]"](2)):K(t.document["$basebackend?"]("html"))?w.const_get_relative(P,"BASIC_SUBS"):[],a=[s=t.passthroughs.$size(),W(["text","subs","type"],{text:i,subs:$,type:r})],V(t.passthroughs,"[]=",w.to_a(a)),A(a.length,1),""+w.const_get_relative(P,"PASS_START")+s+w.const_get_relative(P,"PASS_END"))}).$$s=this,o.$$arity=0,o))),t},o.$$arity=1),w.def(F,"$restore_passthroughs",l=function(t,e){var r,n,$,i=this;return null==i.passthroughs&&(i.passthroughs=H),null==e&&(e=!0),function(){try{return K(K(r=e)?K(n=i.passthroughs["$empty?"]())?n:t["$include?"](w.const_get_relative(P,"PASS_START"))["$!"]():r)?t:V(t,"gsub",[w.const_get_relative(P,"PassSlotRx")],(($=function(){var t,e=$.$$s||this,r=H,n=H,i=H;return null==e.passthroughs&&(e.passthroughs=H),r=e.passthroughs["$[]"](((t=J["~"])===H?H:t["$[]"](1)).$to_i()),n=e.$apply_subs(r["$[]"]("text"),r["$[]"]("subs")),K(i=r["$[]"]("type"))&&(n=w.const_get_relative(P,"Inline").$new(e,"quoted",n,W(["type","attributes"],{type:i,attributes:r["$[]"]("attributes")})).$convert()),K(n["$include?"](w.const_get_relative(P,"PASS_START")))?e.$restore_passthroughs(n,!1):n}).$$s=i,$.$$arity=0,$))}finally{K(e)&&i.passthroughs.$clear()}}()},l.$$arity=-2),w.const_get_relative(P,"RUBY_ENGINE")["$=="]("opal")&&(w.def(F,"$sub_quotes",c=function($){var a,t=H;return null==this.document&&(this.document=H),K(w.const_get_relative(P,"QuotedTextSniffRx")["$[]"](t=this.document.$compat_mode())["$match?"]($))&&V(w.const_get_relative(P,"QUOTE_SUBS")["$[]"](t),"each",[],((a=function(e,r,t){var n,i=a.$$s||this;return null==e&&(e=H),null==r&&(r=H),null==t&&(t=H),$=V($,"gsub",[t],((n=function(){var t=n.$$s||this;return null==J["~"]&&(J["~"]=H),t.$convert_quoted_text(J["~"],e,r)}).$$s=i,n.$$arity=0,n))}).$$s=this,a.$$arity=3,a)),$},c.$$arity=1),w.def(F,"$sub_replacements",_=function($){var a;return K(w.const_get_relative(P,"ReplaceableTextRx")["$match?"]($))&&V(w.const_get_relative(P,"REPLACEMENTS"),"each",[],((a=function(t,e,r){var n,i=a.$$s||this;return null==t&&(t=H),null==e&&(e=H),null==r&&(r=H),$=V($,"gsub",[t],((n=function(){var t=n.$$s||this;return null==J["~"]&&(J["~"]=H),t.$do_replacement(J["~"],e,r)}).$$s=i,n.$$arity=0,n))}).$$s=this,a.$$arity=3,a)),$},_.$$arity=1),w.def(F,"$sub_specialchars",u=function(t){var e,r;return K(K(e=K(r=t["$include?"]("<"))?r:t["$include?"]("&"))?e:t["$include?"](">"))?t.$gsub(w.const_get_relative(P,"SpecialCharsRx"),w.const_get_relative(P,"SpecialCharsTr")):t},u.$$arity=1)),w.alias(F,"sub_specialcharacters","sub_specialchars"),w.def(F,"$do_replacement",d=function(t,e,r){var n=H,i=H;return K((n=t["$[]"](0))["$include?"](w.const_get_relative(P,"RS")))?n.$sub(w.const_get_relative(P,"RS"),""):"none"["$==="](i=r)?e:"bounding"["$==="](i)?""+t["$[]"](1)+e+t["$[]"](2):""+t["$[]"](1)+e},d.$$arity=3),w.def(F,"$sub_attributes",f=function(t,d){var e,i,r=this,n=H,f=H,$=H;return null==r.document&&(r.document=H),null==d&&(d=W([],{})),K(n=w.const_get_qualified("::","String")["$==="](t))&&(t=[t]),e=[r.document.$attributes(),[]],f=e[0],$=e[1],function(){var e=w.new_brk();try{V(t,"each",[],((i=function(t){var c,e,r,n=i.$$s||this,_=H,u=H;return null==t&&(t=H),_=u=!1,K(t["$include?"](w.const_get_relative(P,"ATTR_REF_HEAD")))&&(t=function(){var l=w.new_brk();try{return V(t,"gsub",[w.const_get_relative(P,"AttributeReferenceRx")],((c=function(){var t,e,r,n=c.$$s||this,i=H,$=H,a=H,s=H,o=H;return null==n.document&&(n.document=H),K(K(t=((e=J["~"])===H?H:e["$[]"](1))["$=="](w.const_get_relative(P,"RS")))?t:((e=J["~"])===H?H:e["$[]"](4))["$=="](w.const_get_relative(P,"RS")))?"{"+((t=J["~"])===H?H:t["$[]"](2))+"}":K((t=J["~"])===H?H:t["$[]"](3))?(i=($=((t=J["~"])===H?H:t["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](i)?(e=w.const_get_relative(P,"Parser").$store_attribute($["$[]"](0),K(r=$["$[]"](1))?r:"",n.document),null==(t=w.to_ary(e))[0]||t[0],a=null==t[1]?H:t[1],K(a)||f.$fetch("attribute-undefined",w.const_get_relative(P,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(_=!0,w.brk("",l)),u=!0,""):"counter2"["$==="](i)?(V(n.document,"counter",w.to_a($)),u=!0,""):V(n.document,"counter",w.to_a($))):K(f["$key?"](s=((t=J["~"])===H?H:t["$[]"](2)).$downcase()))?f["$[]"](s):K(w.const_get_relative(P,"INTRINSIC_ATTRIBUTES")["$key?"](s))?w.const_get_relative(P,"INTRINSIC_ATTRIBUTES")["$[]"](s):(i=o=K(t=o)?t:K(e=d["$[]"]("attribute_missing"))?e:f.$fetch("attribute-missing",w.const_get_relative(P,"Compliance").$attribute_missing()),"drop"["$==="](i)?(u=!0,""):"drop-line"["$==="](i)?(n.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+s),_=!0,void w.brk("",l)):("warn"["$==="](i)&&n.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+s),(t=J["~"])===H?H:t["$[]"](0)))}).$$s=n,c.$$brk=l,c.$$arity=0,c))}catch(t){if(t===l)return t.$v;throw t}}()),K(K(e=_)?e:K(r=u)?t["$empty?"]():r)?H:$["$<<"](t)}).$$s=r,i.$$brk=e,i.$$arity=1,i))}catch(t){if(t===e)return t.$v;throw t}}(),K(n)?k($,w.const_get_relative(P,"LF")):$},f.$$arity=-2),w.def(F,"$sub_macros",h=function(t){var e,r,s,c,_,n,o,u,d,f,a,h,i=this,$=H,l=H,p=H,g=H,v=H,m=H,y=H,b=H,x=H,k=H;return null==i.document&&(i.document=H),$=W([],{}),p=["square_bracket",t["$include?"]("[")],V($,"[]=",w.to_a(p)),l=p[A(p.length,1)],g=t["$include?"](":"),p=["macroish",K(e=l)?g:e],V($,"[]=",w.to_a(p)),v=p[A(p.length,1)],m=K(e=v)?t["$include?"](":["):e,y=i.document.$attributes(),b=y["$key?"]("linkattrs"),x=t,K(y["$key?"]("experimental"))&&(K(K(e=m)?K(r=x["$include?"]("kbd:"))?r:x["$include?"]("btn:"):e)&&(x=V(x,"gsub",[w.const_get_relative(P,"InlineKbdBtnMacroRx")],((s=function(){var t,e,r,n=s.$$s||this,i=H,$=H,a=H;return K((t=J["~"])===H?H:t["$[]"](1))?((t=J["~"])===H?H:t["$[]"](0)).$slice(1,((t=J["~"])===H?H:t["$[]"](0)).$length()):((t=J["~"])===H?H:t["$[]"](2))["$=="]("kbd")?(K((i=((t=J["~"])===H?H:t["$[]"](3)).$strip())["$include?"](w.const_get_relative(P,"R_SB")))&&(i=i.$gsub(w.const_get_relative(P,"ESC_R_SB"),w.const_get_relative(P,"R_SB"))),K(K(t=E(i.$length(),1))?$=K($=i.$index(",",1))?[$,i.$index("+",1)].$compact().$min():i.$index("+",1):t)?(a=i.$slice($,1),K(i["$end_with?"](a))?(i=V(i.$chop().$split(a,-1),"map",[],((e=function(t){return e.$$s,null==t&&(t=H),t.$strip()}).$$s=n,e.$$arity=1,e)),p=[-1,""+i["$[]"](-1)+a],V(i,"[]=",w.to_a(p)),p[A(p.length,1)]):i=V(i.$split(a),"map",[],((r=function(t){return r.$$s,null==t&&(t=H),t.$strip()}).$$s=n,r.$$arity=1,r))):i=[i],w.const_get_relative(P,"Inline").$new(n,"kbd",H,W(["attributes"],{attributes:W(["keys"],{keys:i})})).$convert()):w.const_get_relative(P,"Inline").$new(n,"button",n.$unescape_bracketed_text((t=J["~"])===H?H:t["$[]"](3))).$convert()}).$$s=i,s.$$arity=0,s))),K(K(e=v)?x["$include?"]("menu:"):e)&&(x=V(x,"gsub",[w.const_get_relative(P,"InlineMenuMacroRx")],((c=function(){var t,e,r=c.$$s||this,n=H,i=H,$=H,a=H,s=H,o=H,l=H;return null==J["~"]&&(J["~"]=H),n=J["~"],K((i=n["$[]"](0))["$start_with?"](w.const_get_relative(P,"RS")))?i["$[]"](Z(1,-1,!1)):(t=[n["$[]"](1),n["$[]"](2)],$=t[0],a=t[1],K(a)?(K(a["$include?"](w.const_get_relative(P,"R_SB")))&&(a=a.$gsub(w.const_get_relative(P,"ESC_R_SB"),w.const_get_relative(P,"R_SB"))),K(s=K(a["$include?"]("&gt;"))?"&gt;":K(a["$include?"](","))?",":H)?(o=V(a.$split(s),"map",[],((e=function(t){return e.$$s,null==t&&(t=H),t.$strip()}).$$s=r,e.$$arity=1,e)),l=o.$pop()):(t=[[],a.$rstrip()],o=t[0],l=t[1])):(o=(t=[[],H])[0],l=t[1]),w.const_get_relative(P,"Inline").$new(r,"menu",H,W(["attributes"],{attributes:W(["menu","submenus","menuitem"],{menu:$,submenus:o,menuitem:l})})).$convert())}).$$s=i,c.$$arity=0,c))),K(K(e=x["$include?"]('"'))?x["$include?"]("&gt;"):e)&&(x=V(x,"gsub",[w.const_get_relative(P,"MenuInlineRx")],((_=function(){var t,e,r,n=_.$$s||this,i=H,$=H,a=H,s=H,o=H,l=H;return null==J["~"]&&(J["~"]=H),i=J["~"],K(($=i["$[]"](0))["$start_with?"](w.const_get_relative(P,"RS")))?$["$[]"](Z(1,-1,!1)):(a=i["$[]"](1),e=V(a.$split("&gt;"),"map",[],((r=function(t){return r.$$s,null==t&&(t=H),t.$strip()}).$$s=n,r.$$arity=1,r)),t=w.to_ary(e),s=null==t[0]?H:t[0],o=G.call(t,1),l=o.$pop(),w.const_get_relative(P,"Inline").$new(n,"menu",H,W(["attributes"],{attributes:W(["menu","submenus","menuitem"],{menu:s,submenus:o,menuitem:l})})).$convert())}).$$s=i,_.$$arity=0,_)))),K(K(e=k=i.document.$extensions())?k["$inline_macros?"]():e)&&V(k.$inline_macros(),"each",[],((n=function(o){var l,t=n.$$s||this;return null==o&&(o=H),x=V(x,"gsub",[o.$instance().$regexp()],((l=function(){var t,e=l.$$s||this,r=H,n=H,i=H,$=H,a=H,s=H;return null==J["~"]&&(J["~"]=H),r=J["~"],K(r["$[]"](0)["$start_with?"](w.const_get_relative(P,"RS")))?r["$[]"](0)["$[]"](Z(1,-1,!1)):(t=K(function(){try{return r.$names()}catch(t){if(!w.rescue(t,[w.const_get_relative(P,"StandardError")]))throw t;try{return[]}finally{w.pop_exception()}}}()["$empty?"]())?[r["$[]"](1),r["$[]"](2),o.$config()]:[function(){try{return r["$[]"]("target")}catch(t){if(!w.rescue(t,[w.const_get_relative(P,"StandardError")]))throw t;try{return H}finally{w.pop_exception()}}}(),function(){try{return r["$[]"]("content")}catch(t){if(!w.rescue(t,[w.const_get_relative(P,"StandardError")]))throw t;try{return H}finally{w.pop_exception()}}}(),o.$config()],n=t[0],i=t[1],$=t[2],a=K(a=$["$[]"]("default_attrs"))?a.$dup():W([],{}),K(i["$nil_or_empty?"]())?K(K(t=i)?$["$[]"]("content_model")["$!="]("attributes"):t)&&(p=["text",i],V(a,"[]=",w.to_a(p)),p[A(p.length,1)]):(i=e.$unescape_bracketed_text(i),$["$[]"]("content_model")["$=="]("attributes")?e.$parse_attributes(i,K(t=$["$[]"]("pos_attrs"))?t:[],W(["sub_result","into"],{sub_result:!1,into:a})):(p=["text",i],V(a,"[]=",w.to_a(p)),p[A(p.length,1)])),s=o.$process_method()["$[]"](e,K(t=n)?t:i,a),K(w.const_get_relative(P,"Inline")["$==="](s))?s.$convert():s)}).$$s=t,l.$$arity=0,l))}).$$s=i,n.$$arity=1,n)),K(K(e=v)?K(r=x["$include?"]("image:"))?r:x["$include?"]("icon:"):e)&&(x=V(x,"gsub",[w.const_get_relative(P,"InlineImageMacroRx")],((o=function(){var t,e=o.$$s||this,r=H,n=H,i=H,$=H,a=H,s=H;return null==e.document&&(e.document=H),null==J["~"]&&(J["~"]=H),r=J["~"],K((n=(t=J["~"])===H?H:t["$[]"](0))["$start_with?"](w.const_get_relative(P,"RS")))?n["$[]"](Z(1,-1,!1)):(i=K(n["$start_with?"]("icon:"))?(t=["icon",["size"]])[0]:(t=["image",["alt","width","height"]])[0],$=t[1],K((a=r["$[]"](1))["$include?"](w.const_get_relative(P,"ATTR_REF_HEAD")))&&(a=e.$sub_attributes(a)),i["$=="]("icon")||e.document.$register("images",a),s=e.$parse_attributes(r["$[]"](2),$,W(["unescape_input"],{unescape_input:!0})),K(t=s["$[]"]("alt"))||(p=["alt",(p=["default-alt",w.const_get_relative(P,"Helpers").$basename(a,!0).$tr("_-"," ")],V(s,"[]=",w.to_a(p)),p[A(p.length,1)])],V(s,"[]=",w.to_a(p)),p[A(p.length,1)]),w.const_get_relative(P,"Inline").$new(e,"image",H,W(["type","target","attributes"],{type:i,target:a,attributes:s})).$convert())}).$$s=i,o.$$arity=0,o))),K(K(e=K(r=x["$include?"]("(("))?x["$include?"]("))"):r)?e:K(r=m)?x["$include?"]("indexterm"):r)&&(x=V(x,"gsub",[w.const_get_relative(P,"InlineIndextermMacroRx")],((u=function(){var t,e=u.$$s||this,r=H,n=H,i=H,$=H,a=H,s=H,o=H,l=H;return null==e.document&&(e.document=H),null==J["~"]&&(J["~"]=H),r=J["~"],K(r["$[]"](0)["$start_with?"](w.const_get_relative(P,"RS")))?r["$[]"](0)["$[]"](Z(1,-1,!1)):(n=r["$[]"](1),"indexterm"["$==="](n)?(i=e.$split_simple_csv(e.$normalize_string(r["$[]"](2),!0)),e.document.$register("indexterms",i),w.const_get_relative(P,"Inline").$new(e,"indexterm",H,W(["attributes"],{attributes:W(["terms"],{terms:i})})).$convert()):"indexterm2"["$==="](n)?($=e.$normalize_string(r["$[]"](2),!0),e.document.$register("indexterms",[$]),w.const_get_relative(P,"Inline").$new(e,"indexterm",$,W(["type"],{type:"visible"})).$convert()):(t=[r["$[]"](3),!0,H,H],a=t[0],s=t[1],o=t[2],l=t[3],K(a["$start_with?"]("("))?K(a["$end_with?"](")"))?(t=[a.$slice(1,A(a.$length(),2)),!1],a=t[0],s=t[1]):(t=[a.$slice(1,A(a.$length(),1)),"(",""],a=t[0],o=t[1],l=t[2]):K(a["$end_with?"](")"))&&(K(a["$start_with?"]("("))?(t=[a.$slice(1,A(a.$length(),2)),!1],a=t[0],s=t[1]):(t=[a.$slice(0,A(a.$length(),1)),"",")"],a=t[0],o=t[1],l=t[2])),K(s)?($=e.$normalize_string(a),e.document.$register("indexterms",[$]),x=w.const_get_relative(P,"Inline").$new(e,"indexterm",$,W(["type"],{type:"visible"})).$convert()):(i=e.$split_simple_csv(e.$normalize_string(a)),e.document.$register("indexterms",i),x=w.const_get_relative(P,"Inline").$new(e,"indexterm",H,W(["attributes"],{attributes:W(["terms"],{terms:i})})).$convert()),K(o)?""+o+x+l:x))}).$$s=i,u.$$arity=0,u))),K(K(e=g)?x["$include?"]("://"):e)&&(x=V(x,"gsub",[w.const_get_relative(P,"LinkInlineRx")],((d=function(){var t,e,r,n=d.$$s||this,i=H,$=H,a=H,s=H,o=H,l=H,c=H,_=H,u=H;if(null==n.document&&(n.document=H),null==J["~"]&&(J["~"]=H),i=J["~"],K(i["$[]"](2)["$start_with?"](w.const_get_relative(P,"RS"))))return""+i["$[]"](1)+i["$[]"](2)["$[]"](Z(1,-1,!1))+i["$[]"](3);if(t=[i["$[]"](1),i["$[]"](2),K(e=$=i["$[]"](3))?e:"",""],a=t[0],s=t[1],o=t[2],l=t[3],a["$=="]("link:")){if(!K($))return i["$[]"](0);a=""}return K(K(t=$)?t:w.const_get_relative(P,"UriTerminatorRx")["$!~"](s))||(c=(t=J["~"])===H?H:t["$[]"](0),")"["$==="](c)?(s=s.$chop(),l=")"):";"["$==="](c)?K(K(t=a["$start_with?"]("&lt;"))?s["$end_with?"]("&gt;"):t)?(a=a["$[]"](Z(4,-1,!1)),s=s["$[]"](Z(0,-4,!0))):K((s=s.$chop())["$end_with?"](")"))?(s=s.$chop(),l=");"):l=";":":"["$==="](c)&&(K((s=s.$chop())["$end_with?"](")"))?(s=s.$chop(),l="):"):l=":")),t=[H,W(["type"],{type:"link"})],_=t[0],u=t[1],K(o["$empty?"]())||(K(o["$include?"](w.const_get_relative(P,"R_SB")))&&(o=o.$gsub(w.const_get_relative(P,"ESC_R_SB"),w.const_get_relative(P,"R_SB"))),K(K(t=b)?K(e=o["$start_with?"]('"'))?e:K(r=o["$include?"](","))?o["$include?"]("="):r:t)&&(_=n.$parse_attributes(o,[]),K(_["$key?"]("id"))&&(p=["id",_.$delete("id")],V(u,"[]=",w.to_a(p)),p[A(p.length,1)]),o=K(t=_["$[]"](1))?t:""),K(o["$end_with?"]("^"))&&(o=o.$chop(),K(_)?K(t=_["$[]"]("window"))||(p=["window","_blank"],V(_,"[]=",w.to_a(p)),p[A(p.length,1)]):_=W(["window"],{window:"_blank"}))),K(o["$empty?"]())&&(o=K(y["$key?"]("hide-uri-scheme"))?s.$sub(w.const_get_relative(P,"UriSniffRx"),""):s,K(_)?(p=["role",K(_["$key?"]("role"))?"bare "+_["$[]"]("role"):"bare"],V(_,"[]=",w.to_a(p)),p[A(p.length,1)]):_=W(["role"],{role:"bare"})),n.document.$register("links",(p=["target",s],V(u,"[]=",w.to_a(p)),p[A(p.length,1)])),K(_)&&(p=["attributes",_],V(u,"[]=",w.to_a(p)),p[A(p.length,1)]),""+a+w.const_get_relative(P,"Inline").$new(n,"anchor",o,u).$convert()+l}).$$s=i,d.$$arity=0,d))),K(K(e=v)?K(r=x["$include?"]("link:"))?r:x["$include?"]("mailto:"):e)&&(x=V(x,"gsub",[w.const_get_relative(P,"InlineLinkMacroRx")],((f=function(){var t,e,r,n,i=f.$$s||this,$=H,a=H,s=H,o=H,l=H,c=H;return null==i.document&&(i.document=H),null==J["~"]&&(J["~"]=H),$=J["~"],K($["$[]"](0)["$start_with?"](w.const_get_relative(P,"RS")))?$["$[]"](0)["$[]"](Z(1,-1,!1)):(a=K(s=$["$[]"](1))?"mailto:"+$["$[]"](2):$["$[]"](2),t=[H,W(["type"],{type:"link"})],o=t[0],l=t[1],K((c=$["$[]"](3))["$empty?"]())||(K(c["$include?"](w.const_get_relative(P,"R_SB")))&&(c=c.$gsub(w.const_get_relative(P,"ESC_R_SB"),w.const_get_relative(P,"R_SB"))),K(K(t=b)?K(e=c["$start_with?"]('"'))?e:K(r=c["$include?"](","))?K(n=s)?n:c["$include?"]("="):r:t)&&(o=i.$parse_attributes(c,[]),K(o["$key?"]("id"))&&(p=["id",o.$delete("id")],V(l,"[]=",w.to_a(p)),p[A(p.length,1)]),K(s)&&K(o["$key?"](2))&&(a=K(o["$key?"](3))?a+"?subject="+w.const_get_relative(P,"Helpers").$uri_encode(o["$[]"](2))+"&amp;body="+w.const_get_relative(P,"Helpers").$uri_encode(o["$[]"](3)):a+"?subject="+w.const_get_relative(P,"Helpers").$uri_encode(o["$[]"](2))),c=K(t=o["$[]"](1))?t:""),K(c["$end_with?"]("^"))&&(c=c.$chop(),K(o)?K(t=o["$[]"]("window"))||(p=["window","_blank"],V(o,"[]=",w.to_a(p)),p[A(p.length,1)]):o=W(["window"],{window:"_blank"}))),K(c["$empty?"]())&&(K(s)?c=$["$[]"](2):(c=K(y["$key?"]("hide-uri-scheme"))?a.$sub(w.const_get_relative(P,"UriSniffRx"),""):a,K(o)?(p=["role",K(o["$key?"]("role"))?"bare "+o["$[]"]("role"):"bare"],V(o,"[]=",w.to_a(p)),p[A(p.length,1)]):o=W(["role"],{role:"bare"}))),i.document.$register("links",(p=["target",a],V(l,"[]=",w.to_a(p)),p[A(p.length,1)])),K(o)&&(p=["attributes",o],V(l,"[]=",w.to_a(p)),p[A(p.length,1)]),w.const_get_relative(P,"Inline").$new(i,"anchor",c,l).$convert())}).$$s=i,f.$$arity=0,f))),K(x["$include?"]("@"))&&(x=V(x,"gsub",[w.const_get_relative(P,"EmailInlineRx")],((a=function(){var t,e,r=a.$$s||this,n=H,i=H,$=H;return null==r.document&&(r.document=H),t=[(e=J["~"])===H?H:e["$[]"](0),(e=J["~"])===H?H:e["$[]"](1)],n=t[0],K(i=t[1])?i["$=="](w.const_get_relative(P,"RS"))?n["$[]"](Z(1,-1,!1)):n:($="mailto:"+n,r.document.$register("links",$),w.const_get_relative(P,"Inline").$new(r,"anchor",n,W(["type","target"],{type:"link",target:$})).$convert())}).$$s=i,a.$$arity=0,a))),K(K(e=m)?x["$include?"]("footnote"):e)&&(x=V(x,"gsub",[w.const_get_relative(P,"InlineFootnoteMacroRx")],((h=function(){var t,e,r,n=h.$$s||this,i=H,$=H,a=H,s=H,o=H,l=H,c=H;return null==n.document&&(n.document=H),null==J["~"]&&(J["~"]=H),i=J["~"],K(i["$[]"](0)["$start_with?"](w.const_get_relative(P,"RS")))?i["$[]"](0)["$[]"](Z(1,-1,!1)):(i["$[]"](1)["$=="]("footnote")?($=H,a=n.$restore_passthroughs(n.$sub_inline_xrefs(n.$sub_inline_anchors(n.$normalize_string(i["$[]"](2),!0))),!1),s=n.document.$counter("footnote-number"),n.document.$register("footnotes",w.const_get_qualified(w.const_get_relative(P,"Document"),"Footnote").$new(s,$,a)),l=o=H):(e=i["$[]"](2).$split(",",2),t=w.to_ary(e),$=null==t[0]?H:t[0],a=null==t[1]?H:t[1],$=$.$strip(),K(a)?(a=n.$restore_passthroughs(n.$sub_inline_xrefs(n.$sub_inline_anchors(n.$normalize_string(a,!0))),!1),s=n.document.$counter("footnote-number"),n.document.$register("footnotes",w.const_get_qualified(w.const_get_relative(P,"Document"),"Footnote").$new(s,$,a)),o="ref",l=H):(K(c=V(n.document.$footnotes(),"find",[],((r=function(t){return r.$$s,null==t&&(t=H),t.$id()["$=="]($)}).$$s=n,r.$$arity=1,r)))?(s=c.$index(),a=c.$text()):(s=H,a=$),l=$,$=H,o="xref")),w.const_get_relative(P,"Inline").$new(n,"footnote",a,W(["attributes","id","target","type"],{attributes:W(["index"],{index:s}),id:$,target:l,type:o})).$convert())}).$$s=i,h.$$arity=0,h))),i.$sub_inline_xrefs(i.$sub_inline_anchors(x,$),$)},h.$$arity=1),w.def(F,"$sub_inline_anchors",p=function(t,e){var r,n,i,$,a;return null==this.context&&(this.context=H),null==this.parent&&(this.parent=H),null==e&&(e=H),K((r=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(t=V(t,"sub",[w.const_get_relative(P,"InlineBiblioAnchorRx")],((n=function(){var t,e,r=n.$$s||this;return w.const_get_relative(P,"Inline").$new(r,"anchor","["+(K(t=(e=J["~"])===H?H:e["$[]"](2))?t:(e=J["~"])===H?H:e["$[]"](1))+"]",W(["type","id","target"],{type:"bibref",id:(t=J["~"])===H?H:t["$[]"](1),target:(t=J["~"])===H?H:t["$[]"](1)})).$convert()}).$$s=this,n.$$arity=0,n))),K(K(r=K(i=K($=e["$!"]())?$:e["$[]"]("square_bracket"))?t["$include?"]("[["):i)?r:K(i=K($=e["$!"]())?$:e["$[]"]("macroish"))?t["$include?"]("or:"):i)&&(t=V(t,"gsub",[w.const_get_relative(P,"InlineAnchorRx")],((a=function(){var t,e,r=a.$$s||this,n=H,i=H;return K((t=J["~"])===H?H:t["$[]"](1))?((t=J["~"])===H?H:t["$[]"](0)).$slice(1,((t=J["~"])===H?H:t["$[]"](0)).$length()):(K(n=(t=J["~"])===H?H:t["$[]"](2))?i=(t=J["~"])===H?H:t["$[]"](3):(n=(t=J["~"])===H?H:t["$[]"](4),K(K(t=i=(e=J["~"])===H?H:e["$[]"](5))?i["$include?"](w.const_get_relative(P,"R_SB")):t)&&(i=i.$gsub(w.const_get_relative(P,"ESC_R_SB"),w.const_get_relative(P,"R_SB")))),w.const_get_relative(P,"Inline").$new(r,"anchor",i,W(["type","id","target"],{type:"ref",id:n,target:n})).$convert())}).$$s=this,a.$$arity=0,a))),t},p.$$arity=-2),w.def(F,"$sub_inline_xrefs",g=function(t,e){var r,n,f;return null==e&&(e=H),K(K(r=K(n=K(e)?e["$[]"]("macroish"):t["$include?"]("["))?t["$include?"]("xref:"):n)?r:K(n=t["$include?"]("&"))?t["$include?"]("&lt;&lt;"):n)&&(t=V(t,"gsub",[w.const_get_relative(P,"InlineXrefMacroRx")],((f=function(){var t,e,r=f.$$s||this,n=H,i=H,$=H,a=H,s=H,o=H,l=H,c=H,_=H,u=H,d=H;return null==r.document&&(r.document=H),null==J["~"]&&(J["~"]=H),null==J.VERBOSE&&(J.VERBOSE=H),n=J["~"],K(n["$[]"](0)["$start_with?"](w.const_get_relative(P,"RS")))?n["$[]"](0)["$[]"](Z(1,-1,!1)):(K(i=n["$[]"](1))?(e=i.$split(",",2),t=w.to_ary(e),i=null==t[0]?H:t[0],$=null==t[1]?H:t[1],K($)&&($=$.$lstrip())):(i=n["$[]"](2),K(K(t=$=n["$[]"](3))?$["$include?"](w.const_get_relative(P,"R_SB")):t)&&($=$.$gsub(w.const_get_relative(P,"ESC_R_SB"),w.const_get_relative(P,"R_SB")))),K(a=i.$index("#"))?K(E(a,0))?(t=K(E(s=A(A(i.$length(),a),1),0))?[i.$slice(0,a),i.$slice(x(a,1),s)]:[i.$slice(0,a),H],o=t[0],l=t[1]):(t=[i,H,i.$slice(1,i.$length())],c=t[0],o=t[1],l=t[2]):(o=(t=[H,i])[0],l=t[1]),K(c)?_=l:K(o)?(K(K(t=u=o.$rindex("."))?w.const_get_relative(P,"ASCIIDOC_EXTENSIONS")["$[]"](o.$slice(u,o.$length())):t)&&(o=o.$slice(0,u)),K(K(t=r.document.$attributes()["$[]"]("docname")["$=="](o))?t:r.document.$catalog()["$[]"]("includes")["$include?"](o))?(_=(t=[l,H,"#"+l])[0],o=t[1],c=t[2]):(_=K(l)?o+"#"+l:o,o=""+r.document.$attributes()["$[]"]("relfileprefix")+o+r.document.$attributes().$fetch("outfilesuffix",".html"),c=K(l)?o+"#"+l:o)):(K(r.document.$catalog()["$[]"]("ids")["$key?"](l))||(K(K(t=K(e=l["$include?"](" "))?e:l.$downcase()["$!="](l))?d=r.document.$catalog()["$[]"]("ids").$key(l):t)?l=d:K(J.VERBOSE)&&r.$warn("asciidoctor: WARNING: invalid reference: "+l)),_=(t=[l,"#"+l])[0],c=t[1]),w.const_get_relative(P,"Inline").$new(r,"anchor",$,W(["type","target","attributes"],{type:"xref",target:c,attributes:W(["path","fragment","refid"],{path:o,fragment:l,refid:_})})).$convert())}).$$s=this,f.$$arity=0,f))),t},g.$$arity=-2),w.def(F,"$sub_callouts",v=function(t){var r,e=this,n=H;return n=K(e["$attr?"]("line-comment"))?new RegExp("(?:"+w.const_get_qualified("::","Regexp").$escape(e.$attr("line-comment"))+" )?"+w.const_get_relative(P,"CalloutSourceRxt")):w.const_get_relative(P,"CalloutSourceRx"),V(t,"gsub",[n],((r=function(){var t,e=r.$$s||this;return null==e.document&&(e.document=H),K((t=J["~"])===H?H:t["$[]"](1))?((t=J["~"])===H?H:t["$[]"](0)).$sub(w.const_get_relative(P,"RS"),""):w.const_get_relative(P,"Inline").$new(e,"callout",(t=J["~"])===H?H:t["$[]"](3),W(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()}).$$s=e,r.$$arity=0,r))},v.$$arity=1),w.def(F,"$sub_post_replacements",m=function(t){var e,r,n,i,$,a=H,s=H;return null==this.document&&(this.document=H),null==this.attributes&&(this.attributes=H),K(K(e=this.document.$attributes()["$key?"]("hardbreaks"))?e:this.attributes["$key?"]("hardbreaks-option"))?(a=t.$split(w.const_get_relative(P,"LF"),-1),K((i=a.$size(),$=2,"number"==typeof i&&"number"==typeof $?i<$:i["$<"]($)))?t:(s=a.$pop(),k(V(a,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=H),w.const_get_relative(P,"Inline").$new(e,"break",K(t["$end_with?"](w.const_get_relative(P,"HARD_LINE_BREAK")))?t.$slice(0,A(t.$length(),2)):t,W(["type"],{type:"line"})).$convert()},r.$$s=this,r.$$arity=1,r))["$<<"](s),w.const_get_relative(P,"LF")))):K(K(e=t["$include?"](w.const_get_relative(P,"PLUS")))?t["$include?"](w.const_get_relative(P,"HARD_LINE_BREAK")):e)?V(t,"gsub",[w.const_get_relative(P,"HardLineBreakRx")],((n=function(){var t,e=n.$$s||this;return w.const_get_relative(P,"Inline").$new(e,"break",(t=J["~"])===H?H:t["$[]"](1),W(["type"],{type:"line"})).$convert()}).$$s=this,n.$$arity=0,n)):t},m.$$arity=1),w.def(F,"$convert_quoted_text",y=function(t,e,r){var n=H,i=H,$=H,a=H,s=H;if(K(t["$[]"](0)["$start_with?"](w.const_get_relative(P,"RS")))){if(!K(r["$=="]("constrained")?n=t["$[]"](2):r["$=="]("constrained")))return t["$[]"](0)["$[]"](Z(1,-1,!1));i="["+n+"]"}return r["$=="]("constrained")?K(i)?""+i+w.const_get_relative(P,"Inline").$new(this,"quoted",t["$[]"](3),W(["type"],{type:e})).$convert():(K($=t["$[]"](2))&&(a=(s=this.$parse_quoted_text_attributes($)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+w.const_get_relative(P,"Inline").$new(this,"quoted",t["$[]"](3),W(["type","id","attributes"],{type:e,id:a,attributes:s})).$convert()):(K($=t["$[]"](1))&&(a=(s=this.$parse_quoted_text_attributes($)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),w.const_get_relative(P,"Inline").$new(this,"quoted",t["$[]"](2),W(["type","id","attributes"],{type:e,id:a,attributes:s})).$convert())},y.$$arity=3),w.def(F,"$parse_quoted_text_attributes",b=function(t){var e,r,n=H,i=H,$=H,a=H,s=H,o=H;return K(t["$include?"](w.const_get_relative(P,"ATTR_REF_HEAD")))&&(t=this.$sub_attributes(t)),K(t["$include?"](","))&&(t=t.$slice(0,t.$index(","))),K((t=t.$strip())["$empty?"]())?W([],{}):K(K(e=t["$start_with?"](".","#"))?w.const_get_relative(P,"Compliance").$shorthand_property_syntax():e)?(n=t.$split("#",2),K(E(n.$size(),1))?(r=n["$[]"](1).$split("."),e=w.to_ary(r),i=null==e[0]?H:e[0],$=G.call(e,1)):(i=H,$=[]),a=K(n["$[]"](0)["$empty?"]())?[]:n["$[]"](0).$split("."),K(E(a.$size(),1))&&a.$shift(),K(E($.$size(),0))&&a.$concat($),s=W([],{}),K(i)&&(o=["id",i],V(s,"[]=",w.to_a(o)),o[A(o.length,1)]),K(a["$empty?"]())||(o=["role",k(a," ")],V(s,"[]=",w.to_a(o)),o[A(o.length,1)]),s):W(["role"],{role:t})},b.$$arity=1),w.def(F,"$parse_attributes",O=function(t,e,r){var n,i=this,$=H,a=H;return null==i.document&&(i.document=H),null==e&&(e=["role"]),null==r&&(r=W([],{})),K(t)?K(t["$empty?"]())?W([],{}):(K(K(n=r["$[]"]("sub_input"))?t["$include?"](w.const_get_relative(P,"ATTR_REF_HEAD")):n)&&(t=i.document.$sub_attributes(t)),K(r["$[]"]("unescape_input"))&&(t=i.$unescape_bracketed_text(t)),$=K(r.$fetch("sub_result",!0))?i:H,K(a=r["$[]"]("into"))?w.const_get_relative(P,"AttributeList").$new(t,$).$parse_into(a,e):w.const_get_relative(P,"AttributeList").$new(t,$).$parse(e)):H},O.$$arity=-2),w.def(F,"$unescape_bracketed_text",S=function(t){return K(t["$empty?"]())||K((t=t.$strip().$tr(w.const_get_relative(P,"LF")," "))["$include?"](w.const_get_relative(P,"R_SB")))&&(t=t.$gsub(w.const_get_relative(P,"ESC_R_SB"),w.const_get_relative(P,"R_SB"))),t},S.$$arity=1),w.def(F,"$normalize_string",R=function(t,e){var r;return null==e&&(e=!1),K(t["$empty?"]())||(t=t.$strip().$tr(w.const_get_relative(P,"LF")," "),K(K(r=e)?t["$include?"](w.const_get_relative(P,"R_SB")):r)&&(t=t.$gsub(w.const_get_relative(P,"ESC_R_SB"),w.const_get_relative(P,"R_SB")))),t},R.$$arity=-2),w.def(F,"$unescape_brackets",T=function(t){return K(t["$empty?"]())||K(t["$include?"](w.const_get_relative(P,"RS")))&&(t=t.$gsub(w.const_get_relative(P,"ESC_R_SB"),w.const_get_relative(P,"R_SB"))),t},T.$$arity=1),w.def(F,"$split_simple_csv",M=function(t){var r,e,n=H,i=H,$=H;return K(t["$empty?"]())?n=[]:K(t["$include?"]('"'))?(n=[],$=!(i=[]),V(t,"each_char",[],((r=function(t){r.$$s;var e=H;return null==t&&(t=H),","["$==="](e=t)?K($)?i["$<<"](t):(n["$<<"](i.$join().$strip()),i=[]):'"'["$==="](e)?$=$["$!"]():i["$<<"](t)}).$$s=this,r.$$arity=1,r)),n["$<<"](i.$join().$strip())):n=V(t.$split(","),"map",[],((e=function(t){return e.$$s,null==t&&(t=H),t.$strip()}).$$s=this,e.$$arity=1,e)),n},M.$$arity=1),w.def(F,"$resolve_subs",C=function(t,l,c,e){var _,u=H,d=H,r=H,n=H;return null==l&&(l="block"),null==c&&(c=H),null==e&&(e=H),K(t["$nil_or_empty?"]())?[]:(u=H,K(t["$include?"](" "))&&(t=t.$delete(" ")),d=w.const_get_relative(P,"SubModifierSniffRx")["$match?"](t),V(t.$split(","),"each",[],((_=function(t){_.$$s;var e,r,n=H,i=H,$=H,a=H,s=H,o=H;return null==t&&(t=H),n=H,K(d)&&((i=t.$chr())["$=="]("+")?(n="append",t=t["$[]"](Z(1,-1,!1))):i["$=="]("-")?(n="remove",t=t["$[]"](Z(1,-1,!1))):K(t["$end_with?"]("+"))&&(n="prepend",t=t.$chop())),t=t.$to_sym(),K((e=l["$=="]("inline"))?K(r=t["$=="]("verbatim"))?r:t["$=="]("v"):l["$=="]("inline"))?$=w.const_get_relative(P,"BASIC_SUBS"):K(w.const_get_relative(P,"SUB_GROUPS")["$key?"](t))?$=w.const_get_relative(P,"SUB_GROUPS")["$[]"](t):K(K(e=(r=l["$=="]("inline"))?t.$length()["$=="](1):l["$=="]("inline"))?w.const_get_relative(P,"SUB_HINTS")["$key?"](t):e)?(a=w.const_get_relative(P,"SUB_HINTS")["$[]"](t),$=K(s=w.const_get_relative(P,"SUB_GROUPS")["$[]"](a))?s:[a]):$=[t],K(n)?(u=K(e=u)?e:K(c)?c.$dup():[],"append"["$==="](o=n)?u=x(u,$):"prepend"["$==="](o)?u=x($,u):"remove"["$==="](o)?u=A(u,$):H):u=x(u=K(e=u)?e:[],$)}).$$s=this,_.$$arity=1,_)),K(u)?(r=u["$&"](w.const_get_relative(P,"SUB_OPTIONS")["$[]"](l)),K(A(u,r)["$empty?"]())||(n=A(u,r),this.$warn("asciidoctor: WARNING: invalid substitution type"+(K(E(n.$size(),1))?"s":"")+(K(e)?" for ":H)+e+": "+k(n,", "))),r):[])},C.$$arity=-2),w.def(F,"$resolve_block_subs",I=function(t,e,r){return this.$resolve_subs(t,"block",e,r)},I.$$arity=3),w.def(F,"$resolve_pass_subs",q=function(t){return this.$resolve_subs(t,"inline",H,"passthrough macro")},q.$$arity=1),w.def(F,"$highlight_source",N=function(t,e,l){var r,i,n,c,$=this,a=H,s=H,_=H,u=H,d=H,o=H,f=H,h=H,p=H,g=H,v=H,m=H,y=H,b=H;return null==$.document&&($.document=H),null==$.passthroughs&&($.passthroughs=H),null==l&&(l=H),a=l=K(r=l)?r:$.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](a)?K(K(r=s=w.const_get_qualified("::","CodeRay","skip_raise")?"constant":H)?r:$.document.$attributes()["$[]"]("coderay-unavailable"))||(K(w.const_get_relative(P,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?$.document.$set_attr("coderay-unavailable"):s=!0):"pygments"["$==="](a)?K(K(r=s=w.const_get_qualified("::","Pygments","skip_raise")?"constant":H)?r:$.document.$attributes()["$[]"]("pygments-unavailable"))||(K(w.const_get_relative(P,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?$.document.$set_attr("pygments-unavailable"):s=!0):s=!1,K(s)?(_=0,u=!1,K(e)?(d=W([],{}),o=-1,f=K($["$attr?"]("line-comment"))?new RegExp("(?:"+w.const_get_qualified("::","Regexp").$escape($.$attr("line-comment"))+" )?"+w.const_get_relative(P,"CalloutExtractRxt")):w.const_get_relative(P,"CalloutExtractRx"),t=k(V(t.$split(w.const_get_relative(P,"LF"),-1),"map",[],((i=function(t){var n,e=i.$$s||this;return null==t&&(t=H),_=x(_,1),V(t,"gsub",[f],((n=function(){n.$$s;var t,e=H,r=H;return null==J["~"]&&(J["~"]=H),(e=J["~"])["$[]"](1)["$=="](w.const_get_relative(P,"RS"))?e["$[]"](0).$sub(w.const_get_relative(P,"RS"),""):((K(t=d["$[]"](_))?t:(r=[_,[]],V(d,"[]=",w.to_a(r)),r[A(r.length,1)]))["$<<"](e["$[]"](3)),o=_,H)}).$$s=e,n.$$arity=0,n))}).$$s=$,i.$$arity=1,i)),w.const_get_relative(P,"LF")),u=o["$=="](_),K(d["$empty?"]())&&(d=H)):d=H,p=h=H,"coderay"["$==="](a=l)?(K(h=K($["$attr?"]("linenums",H,!1))?(K(r=$.document.$attributes()["$[]"]("coderay-linenums-mode"))?r:"table").$to_sym():H)&&K($["$attr?"]("highlight",H,!1))&&(p=$.$resolve_highlight_lines($.$attr("highlight",H,!1))),g=w.const_get_qualified(w.const_get_qualified("::","CodeRay"),"Duo")["$[]"]($.$attr("language","text",!1).$to_sym(),"html",W(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(K(r=$.document.$attributes()["$[]"]("coderay-css"))?r:"class").$to_sym(),line_numbers:h,line_number_anchors:!1,highlight_lines:p,bold_every:!1})).$highlight(t)):"pygments"["$==="](a)&&(v=K(r=w.const_get_qualified(w.const_get_qualified("::","Pygments"),"Lexer").$find_by_alias($.$attr("language","text",!1)))?r:w.const_get_qualified(w.const_get_qualified("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),m=W(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),v.$name()["$=="]("PHP")&&(y=["startinline",$["$option?"]("mixed")["$!"]()],V(m,"[]=",w.to_a(y)),y[A(y.length,1)]),(K(r=$.document.$attributes()["$[]"]("pygments-css"))?r:"class")["$=="]("class")||(y=["noclasses",!0],V(m,"[]=",w.to_a(y)),y[A(y.length,1)],y=["style",K(r=$.document.$attributes()["$[]"]("pygments-style"))?r:w.const_get_qualified(w.const_get_relative(P,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],V(m,"[]=",w.to_a(y)),y[A(y.length,1)]),K($["$attr?"]("highlight",H,!1))&&(K((p=$.$resolve_highlight_lines($.$attr("highlight",H,!1)))["$empty?"]())||(y=["hl_lines",k(p," ")],V(m,"[]=",w.to_a(y)),y[A(y.length,1)])),K(K(r=$["$attr?"]("linenums",H,!1))?(y=["linenos",K(n=$.document.$attributes()["$[]"]("pygments-linenums-mode"))?n:"table"],V(m,"[]=",w.to_a(y)),y[A(y.length,1)])["$=="]("table"):r)?(h="table",g=v.$highlight(t,W(["options"],{options:m})).$sub(w.const_get_relative(P,"PygmentsWrapperDivRx"),"\\1").$gsub(w.const_get_relative(P,"PygmentsWrapperPreRx"),"\\1")):K(w.const_get_relative(P,"PygmentsWrapperPreRx")["$=~"](g=v.$highlight(t,W(["options"],{options:m}))))&&(g=(r=J["~"])===H?H:r["$[]"](1))),K($.passthroughs["$empty?"]())||(g=g.$gsub(w.const_get_relative(P,"HighlightedPassSlotRx"),w.const_get_relative(P,"PASS_START")+"\\1"+w.const_get_relative(P,"PASS_END"))),K(K(r=e)?d:r)?(_=0,b=h["$!="]("table"),k(V(g.$split(w.const_get_relative(P,"LF"),-1),"map",[],((c=function(t){var e,r,n,i=c.$$s||this,$=H,a=H,s=H,o=H;if(null==i.document&&(i.document=H),null==t&&(t=H),K(b));else{if(!K(t["$include?"]('<td class="code">')))return t;b=!0}return _=x(_,1),K($=d.$delete(_))?(a=H,K(K(e=K(r=u)?d["$empty?"]():r)?h["$=="]("table"):e)&&(K((e=l["$=="]("coderay"))?s=t.$index("</pre>"):l["$=="]("coderay"))?(e=[t.$slice(0,s),t.$slice(s,t.$length())],t=e[0],a=e[1]):K((e=l["$=="]("pygments"))?s=t["$start_with?"]("</td>"):l["$=="]("pygments"))&&(t=(e=["",t])[0],a=e[1])),$.$size()["$=="](1)?""+t+w.const_get_relative(P,"Inline").$new(i,"callout",$["$[]"](0),W(["id"],{id:i.document.$callouts().$read_next_id()})).$convert()+a:(o=k(V($,"map",[],((n=function(t){var e=n.$$s||this;return null==e.document&&(e.document=H),null==t&&(t=H),w.const_get_relative(P,"Inline").$new(e,"callout",t,W(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()}).$$s=i,n.$$arity=1,n))," "),""+t+o+a)):t}).$$s=$,c.$$arity=1,c)),w.const_get_relative(P,"LF"))):g):$.$sub_source(t,e)},N.$$arity=-3),w.def(F,"$resolve_highlight_lines",z=function(t){var s,o=H;return o=[],V((K(t["$include?"](" "))?t.$delete(" "):t).$split(w.const_get_relative(P,"DataDelimiterRx")),"map",[],((s=function(t){s.$$s;var e,r,n=H,i=H,$=H,a=H;return null==t&&(t=H),n=!1,K(t["$start_with?"]("!"))&&(t=t["$[]"](Z(1,-1,!1)),n=!0),K(t["$include?"]("-"))?(r=t.$split("-",2),e=w.to_ary(r),i=null==e[0]?H:e[0],$=null==e[1]?H:e[1],a=w.Range.$new(i.$to_i(),$.$to_i(),!1).$to_a(),K(n)?o=A(o,a):o.$concat(a)):K(n)?o.$delete(t.$to_i()):o["$<<"](t.$to_i())}).$$s=this,s.$$arity=1,s)),o.$sort().$uniq()},z.$$arity=1),w.def(F,"$sub_source",D=function(t,e){return K(e)?this.$sub_callouts(this.$sub_specialchars(t)):this.$sub_specialchars(t)},D.$$arity=2),void w.def(F,"$lock_in_subs",B=function(){var t,e,r,n,i=this,$=H,a=H,s=H,o=H,l=H;if(null==i.default_subs&&(i.default_subs=H),null==i.content_model&&(i.content_model=H),null==i.context&&(i.context=H),null==i.subs&&(i.subs=H),null==i.attributes&&(i.attributes=H),null==i.style&&(i.style=H),null==i.document&&(i.document=H),K($=i.default_subs));else if(a=i.content_model,"simple"["$==="](a))$=w.const_get_relative(P,"NORMAL_SUBS");else if("verbatim"["$==="](a))$=K(K(t=i.context["$=="]("listing"))?t:(e=i.context["$=="]("literal"))?i["$option?"]("listparagraph")["$!"]():i.context["$=="]("literal"))?w.const_get_relative(P,"VERBATIM_SUBS"):i.context["$=="]("verse")?w.const_get_relative(P,"NORMAL_SUBS"):w.const_get_relative(P,"BASIC_SUBS");else{if(!"raw"["$==="](a))return i.subs;$=i.context["$=="]("stem")?w.const_get_relative(P,"BASIC_SUBS"):w.const_get_relative(P,"NONE_SUBS")}return i.subs=K(s=i.attributes["$[]"]("subs"))?i.$resolve_block_subs(s,$,i.context):$.$dup(),K(K(t=K(e=K(r=K(n=i.context["$=="]("listing")?i.style["$=="]("source"):i.context["$=="]("listing"))?i.attributes["$key?"]("language"):n)?i.document["$basebackend?"]("html"):r)?w.const_get_relative(P,"SUB_HIGHLIGHT")["$include?"](i.document.$attributes()["$[]"]("source-highlighter")):e)?o=i.subs.$index("specialcharacters"):t)&&(l=[o,"highlight"],V(i.subs,"[]=",w.to_a(l)),l[A(l.length,1)]),i.subs},B.$$arity=0)},Opal.modules["asciidoctor/abstract_node"]=function(F){function P(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function L(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function j(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}F.top;var t,e,r,n=[],U=F.nil,i=(F.breaker,F.slice,F.module),H=F.klass,G=F.truthy,Y=F.hash2,W=F.send,X=F.range;return F.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$converter","$raise","$attributes","$nil?","$[]=","$-","$delete","$update","$nil_or_empty?","$split","$include?","$empty?","$*","$apply_reftext_subs","$attr?","$extname","$image_uri","$attr","$<","$safe","$uriish?","$uri_encode_spaces","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$encode64","$binread","$require_library","$!","$open","$content_type","$read","$base_dir","$new","$root?","$join","$system_path","$web_path","$===","$!=","$normalize_lines_from_string","$open_uri","$fetch","$read_asset","$gsub"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z=n=H(t,null,"AbstractNode",n),D=z.$$proto,B=[z].concat(r);D.document=D.attributes=D.parent=D.path_resolver=U,z.$include(F.const_get_relative(B,"Substitutors")),z.$attr_reader("parent"),z.$attr_reader("document"),z.$attr_reader("context"),z.$attr_reader("node_name"),z.$attr_accessor("id"),z.$attr_reader("attributes"),F.def(z,"$initialize",i=function(t,e,r){var n,i=this;return null==r&&(r=Y([],{})),e["$=="]("document")?(n=[i,U],i.document=n[0],i.parent=n[1]):G(t)?(n=[t.$document(),t],i.document=n[0],i.parent=n[1]):i.document=i.parent=U,i.node_name=(i.context=e).$to_s(),i.attributes=G(r["$key?"]("attributes"))?r["$[]"]("attributes").$dup():Y([],{}),i.passthroughs=Y([],{})},i.$$arity=-3),F.def(z,"$parent=",$=function(t){var e;return e=[t,t.$document()],this.parent=e[0],this.document=e[1],U},$.$$arity=1),F.def(z,"$converter",a=function(){return this.document.$converter()},a.$$arity=0),F.def(z,"$block?",s=function(){return this.$raise(F.const_get_qualified("::","NotImplementedError"))},s.$$arity=0),F.def(z,"$inline?",o=function(){return this.$raise(F.const_get_qualified("::","NotImplementedError"))},o.$$arity=0),F.def(z,"$attr",l=function(t,e,r){var n,i,$=this;return null==e&&(e=U),null==r&&(r=!0),t=t.$to_s(),G(n=$.attributes["$[]"](t))?n:G(G(i=r)?$.parent:i)&&G(i=$.document.$attributes()["$[]"](t))?i:e},l.$$arity=-2),F.def(z,"$attr?",c=function(t,e,r){var n,i,$,a=this;return null==e&&(e=U),null==r&&(r=!0),t=t.$to_s(),G(e["$nil?"]())?G(n=a.attributes["$key?"](t))?n:G(i=G($=r)?a.parent:$)?a.document.$attributes()["$key?"](t):i:e["$=="](G(n=a.attributes["$[]"](t))?n:G(G(i=r)?a.parent:i)?a.document.$attributes()["$[]"](t):U)},c.$$arity=-2),F.def(z,"$set_attr",_=function(t,e,r){var n=U;return null==e&&(e=""),null==r&&(r=!0),!G(r["$=="](!1)?this.attributes["$key?"](t):r["$=="](!1))&&(n=[t,e],W(this.attributes,"[]=",F.to_a(n)),n[P(n.length,1)],!0)},_.$$arity=-2),F.def(z,"$remove_attr",u=function(t){return this.attributes.$delete(t)},u.$$arity=1),F.def(z,"$option?",d=function(t){return this.attributes["$key?"](t+"-option")},d.$$arity=1),F.def(z,"$set_option",f=function(t){var e=U;return e=G(this.attributes["$key?"]("options"))?["options",this.attributes["$[]"]("options")+","+t]:["options",t],W(this.attributes,"[]=",F.to_a(e)),e[P(e.length,1)],e=[t+"-option",""],W(this.attributes,"[]=",F.to_a(e)),e[P(e.length,1)]},f.$$arity=1),F.def(z,"$update_attributes",h=function(t){return this.attributes.$update(t),U},h.$$arity=1),F.def(z,"$role",p=function(){var t;return G(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role")},p.$$arity=0),F.def(z,"$roles",g=function(){var t,e=U;return G((e=G(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:e.$split()},g.$$arity=0),F.def(z,"$role?",v=function(t){var e;return null==t&&(t=U),G(t)?t["$=="](G(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role")):G(e=this.attributes["$key?"]("role"))?e:this.document.$attributes()["$key?"]("role")},v.$$arity=-1),F.def(z,"$has_role?",m=function(t){var e,r=U;return!G((r=G(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())&&(" "+r+" ")["$include?"](" "+t+" ")},m.$$arity=1),F.def(z,"$add_role",y=function(t){var e=U,r=U;return G((e=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?(r=["role",t],W(this.attributes,"[]=",F.to_a(r)),r[P(r.length,1)],!0):!G((" "+e+" ")["$include?"](" "+t+" "))&&(r=["role",e+" "+t],W(this.attributes,"[]=",F.to_a(r)),r[P(r.length,1)],!0)},y.$$arity=1),F.def(z,"$remove_role",b=function(t){var e=U,r=U;return!G((e=this.attributes["$[]"]("role"))["$nil_or_empty?"]())&&!!G((e=e.$split()).$delete(t))&&(G(e["$empty?"]())?this.attributes.$delete("role"):(r=["role",L(e," ")],W(this.attributes,"[]=",F.to_a(r)),r[P(r.length,1)]),!0)},b.$$arity=1),F.def(z,"$reftext",x=function(){var t=U;return G(t=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(t):U},x.$$arity=0),F.def(z,"$reftext?",k=function(){return this.attributes["$key?"]("reftext")},k.$$arity=0),F.def(z,"$icon_uri",w=function(t){var e=U;return G(this["$attr?"]("icon"))?G(F.const_get_qualified("::","File").$extname(e=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())?e+"."+this.document.$attr("icontype","png"):e:this.$image_uri(t+"."+this.document.$attr("icontype","png"),"iconsdir")},w.$$arity=1),F.def(z,"$image_uri",E=function(t,e){var r,n,i,$,a=U,s=U;return null==e&&(e="imagesdir"),G(G(r=j((a=this.document).$safe(),F.const_get_qualified(F.const_get_relative(B,"SafeMode"),"SECURE")))?a["$attr?"]("data-uri"):r)?G(G(r=G(n=F.const_get_relative(B,"Helpers")["$uriish?"](t))?t=this.$uri_encode_spaces(t):n)?r:G(n=G(i=G($=e)?s=a.$attr(e):$)?F.const_get_relative(B,"Helpers")["$uriish?"](s):i)?t=this.$normalize_web_path(t,s,!1):n)?G(a["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(t,a["$attr?"]("cache-uri")):t:this.$generate_data_uri(t,e):this.$normalize_web_path(t,G(e)?a.$attr(e):U)},E.$$arity=-2),F.def(z,"$media_uri",A=function(t,e){var r=this;return null==e&&(e="imagesdir"),r.$normalize_web_path(t,G(e)?r.document.$attr(e):U)},A.$$arity=-2),F.def(z,"$generate_data_uri",O=function(t,e){var r=U,n=U,i=U;return null==e&&(e=U),r=F.const_get_qualified("::","File").$extname(t),n=r["$=="](".svg")?"image/svg+xml":"image/"+r["$[]"](X(1,-1,!1)),i=G(e)?this.$normalize_system_path(t,this.document.$attr(e),U,Y(["target_name"],{target_name:"image"})):this.$normalize_system_path(t),G(F.const_get_qualified("::","File")["$readable?"](i))?"data:"+n+";base64,"+F.const_get_qualified("::","Base64").$encode64(F.const_get_qualified("::","IO").$binread(i)).$delete(F.const_get_relative(B,"LF")):(this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+i),"data:"+n+";base64,")},O.$$arity=-2),F.def(z,"$generate_data_uri_from_uri",S=function(e,t){var r,n=this,i=U,$=U;null==t&&(t=!1),G(t)?F.const_get_relative(B,"Helpers").$require_library("open-uri/cached","open-uri-cached"):G(F.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&F.const_get_qualified("::","OpenURI");try{return i=U,$=W(n,"open",[e,"rb"],((r=function(t){return r.$$s,null==t&&(t=U),i=t.$content_type(),t.$read()}).$$s=n,r.$$arity=1,r)),"data:"+i+";base64,"+F.const_get_qualified("::","Base64").$encode64($).$delete(F.const_get_relative(B,"LF"))}catch(t){if(!F.rescue(t,[F.const_get_relative(B,"StandardError")]))throw t;try{return n.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+e),e}finally{F.pop_exception()}}},S.$$arity=-2),F.def(z,"$normalize_asset_path",R=function(t,e,r){return null==e&&(e="path"),null==r&&(r=!0),this.$normalize_system_path(t,this.document.$base_dir(),U,Y(["target_name","recover"],{target_name:e,recover:r}))},R.$$arity=-2),F.def(z,"$normalize_system_path",T=function(t,e,r,n){var i,$=U,a=U;return null==e&&(e=U),null==r&&(r=U),null==n&&(n=Y([],{})),$=this.path_resolver=G(i=this.path_resolver)?i:F.const_get_relative(B,"PathResolver").$new(),G(j((a=this.document).$safe(),F.const_get_qualified(F.const_get_relative(B,"SafeMode"),"SAFE")))?G(e)?G($["$root?"](e))||(e=F.const_get_qualified("::","File").$join(a.$base_dir(),e)):e=a.$base_dir():(G(e)||(e=a.$base_dir()),G(r)||(r=a.$base_dir())),$.$system_path(t,e,r,n)},T.$$arity=-2),F.def(z,"$normalize_web_path",M=function(t,e,r){var n;return null==e&&(e=U),null==r&&(r=!0),G(G(n=r)?F.const_get_relative(B,"Helpers")["$uriish?"](t):n)?this.$uri_encode_spaces(t):(this.path_resolver=G(n=this.path_resolver)?n:F.const_get_relative(B,"PathResolver").$new()).$web_path(t,e)},M.$$arity=-2),F.def(z,"$read_asset",C=function(t,e){var r;return null==e&&(e=Y([],{})),G(F.const_get_qualified("::","Hash")["$==="](e))||(e=Y(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),G(F.const_get_qualified("::","File")["$readable?"](t))?G(e["$[]"]("normalize"))?L(F.const_get_relative(B,"Helpers").$normalize_lines_from_string(F.const_get_qualified("::","IO").$read(t)),F.const_get_relative(B,"LF")):F.const_get_qualified("::","IO").$read(t):G(e["$[]"]("warn_on_failure"))?this.$warn("asciidoctor: WARNING: "+(G(r=this.$attr("docfile"))?r:"<stdin>")+": "+(G(r=e["$[]"]("label"))?r:"file")+" does not exist or cannot be read: "+t):U},C.$$arity=-2),F.def(z,"$read_contents",I=function(e,r){var n,t,i,$,a=this,s=U,o=U,l=U;if(null==r&&(r=Y([],{})),s=a.document,G(G(n=F.const_get_relative(B,"Helpers")["$uriish?"](e))?n:G(t=G(i=o=r["$[]"]("start"))?F.const_get_relative(B,"Helpers")["$uriish?"](o):i)?e=(a.path_resolver=G(i=a.path_resolver)?i:F.const_get_relative(B,"PathResolver").$new()).$web_path(e,o):t))if(G(s["$attr?"]("allow-uri-read"))){G(s["$attr?"]("cache-uri"))&&F.const_get_relative(B,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{l=W(F.const_get_qualified("::","OpenURI"),"open_uri",[e],(($=function(t){return $.$$s,null==t&&(t=U),t.$read()}).$$s=a,$.$$arity=1,$)),G(r["$[]"]("normalize"))&&(l=L(F.const_get_relative(B,"Helpers").$normalize_lines_from_string(l),F.const_get_relative(B,"LF")))}catch(t){if(!F.rescue(t,[F.const_get_relative(B,"StandardError")]))throw t;try{G(r.$fetch("warn_on_failure",!0))&&a.$warn("asciidoctor: WARNING: could not retrieve contents of "+(G(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e),l=U}finally{F.pop_exception()}}}else G(r.$fetch("warn_on_failure",!0))&&a.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(G(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),l=U;else e=a.$normalize_system_path(e,r["$[]"]("start"),U,Y(["target_name"],{target_name:G(n=r["$[]"]("label"))?n:"asset"})),l=a.$read_asset(e,Y(["normalize","warn_on_failure","label"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0),label:r["$[]"]("label")}));return l},I.$$arity=-2),F.def(z,"$uri_encode_spaces",q=function(t){return G(t["$include?"](" "))?t.$gsub(" ","%20"):t},q.$$arity=1),F.def(z,"$is_uri?",N=function(t){return F.const_get_relative(B,"Helpers")["$uriish?"](t)},N.$$arity=1)}((r=[e].concat(t))[0],0,r)},Opal.modules["asciidoctor/abstract_block"]=function(q){function N(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function z(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}q.top;var t,e,r,n=[],D=q.nil,i=(q.breaker,q.slice,q.module),B=q.klass,F=q.send,P=q.truthy,L=q.hash2;return q.add_stubs(["$attr_accessor","$attr_reader","$attr_writer","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$apply_title_subs","$[]","$title","$sub_specialchars","$match?","$sub_replacements","$reftext","$!","$empty?","$===","$sprintf","$sub_quotes","$compat_mode","$attributes","$chomp","$<<","$select","$context","$>","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$blocks","$parent","$+","$find_index","$next_adjacent_block","$delete","$increment_and_store_counter","$index=","$-","$numbered","$sectname","$counter","$number=","$number","$caption=","$enumerate_section","$reindex_sections"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var l,i,$,a,s,o,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M=n=B(t,e,"AbstractBlock",n),C=M.$$proto,I=[M].concat(r);C.document=C.attributes=C.blocks=C.source_location=C.subs=C.title=C.title_converted=C.converted_title=C.context=C.caption=C.number=C.next_section_index=C.style=C.id=C.header=C.next_section_number=D,M.$attr_accessor("content_model"),M.$attr_reader("subs"),M.$attr_reader("blocks"),M.$attr_accessor("level"),M.$attr_accessor("style"),M.$attr_writer("caption"),M.$attr_accessor("number"),M.$attr_accessor("source_location"),q.def(M,"$initialize",l=function(t,e,r){var n,i=this,$=l.$$p,a=D,s=D,o=D;for(null==r&&(r=L([],{})),$&&(l.$$p=null),s=0,o=arguments.length,a=new Array(o);s<o;s++)a[s]=arguments[s];return F(i,q.find_super_dispatcher(i,"initialize",l,!1),a,$),i.content_model="compound",i.blocks=[],i.subs=[],i.id=i.title=i.title_converted=i.caption=i.number=i.style=i.default_subs=i.source_location=D,e["$=="]("document")?i.level=0:P(P(n=t)?e["$!="]("section"):n)?i.level=t.$level():i.level=D,i.next_section_index=0,i.next_section_number=1},l.$$arity=-3),q.def(M,"$block?",i=function(){return!0},i.$$arity=0),q.def(M,"$inline?",$=function(){return!1},$.$$arity=0),q.def(M,"$context=",a=function(t){return this.context=t,this.node_name=t.$to_s()},a.$$arity=1),q.def(M,"$convert",s=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},s.$$arity=0),q.alias(M,"render","convert"),q.def(M,"$content",o=function(){var e,t,r;return t=F(this.blocks,"map",[],((e=function(t){return e.$$s,null==t&&(t=D),t.$convert()}).$$s=this,e.$$arity=1,e)),r=q.const_get_relative(I,"LF"),"number"==typeof t&&"number"==typeof r?t*r:t["$*"](r)},o.$$arity=0),q.def(M,"$file",c=function(){return P(this.source_location)?this.source_location.$file():D},c.$$arity=0),q.def(M,"$lineno",_=function(){return P(this.source_location)?this.source_location.$lineno():D},_.$$arity=0),q.def(M,"$sub?",u=function(t){return this.subs["$include?"](t)},u.$$arity=1),q.def(M,"$title?",d=function(){return!!P(this.title)},d.$$arity=0),q.def(M,"$title",f=function(){var t,e;return P(this.title_converted)?this.converted_title:this.converted_title=P(t=P(e=this.title_converted=!0)?this.title:e)?this.$apply_title_subs(this.title):t},f.$$arity=0),q.def(M,"$title=",h=function(t){var e;return e=[t,D],this.title=e[0],this.title_converted=e[1],e},h.$$arity=1),q.def(M,"$caption",p=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},p.$$arity=0),q.def(M,"$captioned_title",g=function(){return""+this.caption+this.$title()},g.$$arity=0),q.def(M,"$alt",v=function(){var t=D;return P(t=this.attributes["$[]"]("alt"))?t["$=="](this.attributes["$[]"]("default-alt"))?this.$sub_specialchars(t):(t=this.$sub_specialchars(t),P(q.const_get_relative(I,"ReplaceableTextRx")["$match?"](t))?this.$sub_replacements(t):t):D},v.$$arity=0),q.def(M,"$xreftext",m=function(t){var e,r,n=this,i=D,$=D,a=D,s=D;return null==t&&(t=D),P(P(e=i=n.$reftext())?i["$empty?"]()["$!"]():e)?i:P(P(e=P(r=t)?n.title:r)?n.caption:e)?"full"["$==="]($=t)?(a=n.$sprintf(n.$sub_quotes(P(n.document.$compat_mode())?"``%s''":'"`%s`"'),n.$title()),P(P(e=n.number)?s=n.document.$attributes()["$[]"](n.context["$=="]("image")?"figure-caption":n.context+"-caption"):e)?s+" "+n.number+", "+a:n.caption.$chomp(". ")+", "+a):"short"["$==="]($)?P(P(e=n.number)?s=n.document.$attributes()["$[]"](n.context["$=="]("image")?"figure-caption":n.context+"-caption"):e)?s+" "+n.number:n.caption.$chomp(". "):n.$title():n.$title()},m.$$arity=-1),q.def(M,"$blocks?",y=function(){return this.blocks["$empty?"]()["$!"]()},y.$$arity=0),q.def(M,"$<<",b=function(t){return this.blocks["$<<"](t),this},b.$$arity=1),q.alias(M,"append","<<"),q.def(M,"$sections",x=function(){var e;return F(this.blocks,"select",[],((e=function(t){return e.$$s,null==t&&(t=D),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},x.$$arity=0),q.def(M,"$sections?",k=function(){var t,e;return t=this.next_section_index,e=0,"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)},k.$$arity=0),q.def(M,"$find_by",w=function(e){var t,r,n,i,$,a,s=this,o=w.$$p,l=o||D,c=D,_=D,u=D,d=D,f=D,h=D;if(null==e&&(e=L([],{})),o&&(w.$$p=null),c=[],P(P(t=P(r=P(n=P(i=_=(u=e["$[]"]("context"))["$!"]())?i:u["$=="](s.context))?P(i=(d=e["$[]"]("style"))["$!"]())?i:d["$=="](s.style):n)?P(n=(f=e["$[]"]("role"))["$!"]())?n:s["$has_role?"](f):r)?P(r=(h=e["$[]"]("id"))["$!"]())?r:h["$=="](s.id):t)){if(P(h))return l!==D?P(q.yield1(l,s))?[s]:c:[s];l!==D?P(q.yield1(l,s))&&c["$<<"](s):c["$<<"](s)}return P(P(t=(r=s.context["$=="]("document"))?P(n=_)?n:u["$=="]("section"):s.context["$=="]("document"))?s["$header?"]():t)&&c.$concat(F(s.header,"find_by",[e],l.$to_proc())),u["$=="]("document")||(s.context["$=="]("dlist")?P(P(t=_)?t:u["$!="]("section"))&&F(s.blocks.$flatten(),"each",[],(($=function(t){return $.$$s,null==t&&(t=D),P(t)?c.$concat(F(t,"find_by",[e],l.$to_proc())):D}).$$s=s,$.$$arity=1,$)):P(F(s.blocks,"each",[],((a=function(t){return a.$$s,null==t&&(t=D),P(u["$=="]("section")?t.$context()["$!="]("section"):u["$=="]("section"))?D:c.$concat(F(t,"find_by",[e],l.$to_proc()))}).$$s=s,a.$$arity=1,a)))),c},w.$$arity=-1),q.alias(M,"query","find_by"),q.def(M,"$next_adjacent_block",E=function(){var t=D,e=D;return this.context["$=="]("document")?D:P(t=(e=this.$parent()).$blocks()["$[]"](N(e.$blocks().$find_index(this),1)))?t:e.$next_adjacent_block()},E.$$arity=0),q.def(M,"$remove_sub",A=function(t){return this.subs.$delete(t),D},A.$$arity=1),q.def(M,"$assign_caption",O=function(t,e){var r,n,i=this,$=D;return null==t&&(t=D),null==e&&(e=D),P(P(r=P(n=i.caption)?n:i.title["$!"]())?r:i.caption=P(n=t)?n:i.document.$attributes()["$[]"]("caption"))||P($=i.document.$attributes()["$[]"]((e=P(r=e)?r:i.context)+"-caption"))&&(i.caption=$+" "+(i.number=i.document.$increment_and_store_counter(e+"-number",i))+". "),D},O.$$arity=-1),q.def(M,"$enumerate_section",S=function(t){var e=D,r=D,n=D;return this.next_section_index=N((e=[this.next_section_index],F(t,"index=",q.to_a(e)),e[z(e.length,1)]),1),P(t.$numbered())&&((r=t.$sectname())["$=="]("appendix")?(e=[this.document.$counter("appendix-number","A")],F(t,"number=",q.to_a(e)),e[z(e.length,1)],e=P(n=this.document.$attributes()["$[]"]("appendix-caption"))?[n+" "+t.$number()+": "]:[t.$number()+". "],F(t,"caption=",q.to_a(e)),e[z(e.length,1)]):r["$=="]("chapter")?(e=[this.document.$counter("chapter-number",1)],F(t,"number=",q.to_a(e)),e[z(e.length,1)]):this.next_section_number=N((e=[this.next_section_number],F(t,"number=",q.to_a(e)),e[z(e.length,1)]),1)),D},S.$$arity=1),q.def(M,"$list_marker_keyword",R=function(t){var e;return null==t&&(t=D),q.const_get_relative(I,"ORDERED_LIST_KEYWORDS")["$[]"](P(e=t)?e:this.style)},R.$$arity=-1),q.def(M,"$reindex_sections",T=function(){var r;return this.next_section_index=0,this.next_section_number=1,F(this.blocks,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=D),t.$context()["$=="]("section")?(e.$enumerate_section(t),t.$reindex_sections()):D}).$$s=this,r.$$arity=1,r))},T.$$arity=0)}((r=[e].concat(t))[0],q.const_get_relative(r,"AbstractNode"),r)},Opal.modules["asciidoctor/attribute_list"]=function(m){function y(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function b(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}m.top;var t,e,r,n=[],x=m.nil,i=(m.breaker,m.slice,m.module),k=m.klass,w=m.hash2,E=m.truthy,A=m.send;return m.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$each","$split","$empty?","$strip","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p=n=k(t,null,"AttributeList",n),g=p.$$proto,v=[p].concat(r);g.attributes=g.scanner=g.delimiter=g.block=g.delimiter_skip_pattern=g.delimiter_boundary_pattern=x,m.const_set(v[0],"BACKSLASH","\\"),m.const_set(v[0],"BoundaryRxs",w(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/})),m.const_set(v[0],"EscapedQuotes",w(['"',"'"],{'"':'\\"',"'":"\\'"})),m.const_set(v[0],"NameRx",new RegExp(m.const_get_relative(v,"CG_WORD")+"["+m.const_get_relative(v,"CC_WORD")+"\\-.]*")),m.const_set(v[0],"BlankRx",/[ \t]+/),m.const_set(v[0],"SkipRxs",w(["blank",","],{blank:m.const_get_relative(v,"BlankRx"),",":/[ \t]*(,|$)/})),m.def(p,"$initialize",i=function(t,e,r){return null==e&&(e=x),null==r&&(r=","),this.scanner=m.const_get_qualified("::","StringScanner").$new(t),this.block=e,this.delimiter=r,this.delimiter_skip_pattern=m.const_get_relative(v,"SkipRxs")["$[]"](r),this.delimiter_boundary_pattern=m.const_get_relative(v,"BoundaryRxs")["$[]"](r),this.attributes=x},i.$$arity=-2),m.def(p,"$parse_into",$=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},$.$$arity=-2),m.def(p,"$parse",a=function(t){var e=x;if(null==t&&(t=[]),E(this.attributes))return this.attributes;for(this.attributes=w([],{}),e=0;E(this.$parse_attribute(e,t))&&!E(this.scanner["$eos?"]());)this.$skip_delimiter(),e=y(e,1);return this.attributes},a.$$arity=-1),m.def(p,"$rekey",s=function(t){return m.const_get_relative(v,"AttributeList").$rekey(this.attributes,t)},s.$$arity=1),m.defs(p,"$rekey",o=function($,t){var a;return A(t,"each_with_index",[],((a=function(t,e){a.$$s;var r=x,n=x,i=x;return null==t&&(t=x),null==e&&(e=x),E(t)?(r=y(e,1),E(n=$["$[]"](r))?(i=[t,n],A($,"[]=",m.to_a(i)),i[b(i.length,1)]):x):x}).$$s=this,a.$$arity=2,a)),$},o.$$arity=2),m.def(p,"$parse_attribute",l=function(t,e){var r,n,i,$,a=this,s=x,o=x,l=x,c=x,_=x,u=x,d=x,f=x,h=x,p=x;if(null==t&&(t=0),null==e&&(e=[]),s=!1,a.$skip_blank(),(o=a.scanner.$peek(1))["$=="]('"'))l=a.$parse_attribute_value(a.scanner.$get_byte()),c=x;else if(o["$=="]("'"))l=a.$parse_attribute_value(a.scanner.$get_byte()),c=x,s=!0;else{if(l=a.$scan_name(),_=0,u=x,E(a.scanner["$eos?"]())){if(!E(l))return!1}else _=E(r=a.$skip_blank())?r:0,u=a.scanner.$get_byte();if(E(E(r=u["$!"]())?r:u["$=="](a.delimiter)))c=x;else if(E(E(r=u["$!="]("="))?r:l["$!"]()))l=""+l+($=_,"number"==typeof(i=" ")&&"number"==typeof $?i*$:i["$*"]($))+u+a.$scan_to_delimiter(),c=x;else if(a.$skip_blank(),E(a.scanner.$peek(1)))if((u=a.scanner.$get_byte())["$=="]('"'))c=a.$parse_attribute_value(u);else if(u["$=="]("'"))c=a.$parse_attribute_value(u),s=!0;else if(u["$=="](a.delimiter))c=x;else if((c=""+u+a.$scan_to_delimiter())["$=="]("None"))return!0}return E(c)?"options"["$==="](d=l)||"opts"["$==="](d)?(E(c["$include?"](","))?(E(c["$include?"](" "))&&(c=c.$delete(" ")),A(c.$split(","),"each",[],((n=function(t){var e=n.$$s||this,r=x;return null==e.attributes&&(e.attributes=x),null==t&&(t=x),E(t["$empty?"]())?x:(r=[t+"-option",""],A(e.attributes,"[]=",m.to_a(r)),r[b(r.length,1)])}).$$s=a,n.$$arity=1,n))):(f=[(c=c.$strip())+"-option",""],A(a.attributes,"[]=",m.to_a(f)),f[b(f.length,1)]),f=["options",c]):f=E(E(r=s)?a.block:r)?"title"["$==="](d=l)||"reftext"["$==="](d)?[l,c]:[l,a.block.$apply_subs(c)]:[l,c]:(h=E(E(r=s)?a.block:r)?a.block.$apply_subs(l):l,E(p=e["$[]"](t))&&(f=[p,h],A(a.attributes,"[]=",m.to_a(f)),f[b(f.length,1)]),f=[y(t,1),h]),A(a.attributes,"[]=",m.to_a(f)),f[b(f.length,1)],!0},l.$$arity=-1),m.def(p,"$parse_attribute_value",c=function(t){var e=x;return this.scanner.$peek(1)["$=="](t)?(this.scanner.$get_byte(),""):E(e=this.$scan_to_quote(t))?(this.scanner.$get_byte(),E(e["$include?"](m.const_get_relative(v,"BACKSLASH")))?e.$gsub(m.const_get_relative(v,"EscapedQuotes")["$[]"](t),t):e):""+t+this.$scan_to_delimiter()},c.$$arity=1),m.def(p,"$skip_blank",_=function(){return this.scanner.$skip(m.const_get_relative(v,"BlankRx"))},_.$$arity=0),m.def(p,"$skip_delimiter",u=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},u.$$arity=0),m.def(p,"$scan_name",d=function(){return this.scanner.$scan(m.const_get_relative(v,"NameRx"))},d.$$arity=0),m.def(p,"$scan_to_delimiter",f=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},f.$$arity=0),m.def(p,"$scan_to_quote",h=function(t){return this.scanner.$scan(m.const_get_relative(v,"BoundaryRxs")["$[]"](t))},h.$$arity=1)}((r=[e].concat(t))[0],0,r)},Opal.modules["asciidoctor/block"]=function(f){function h(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function _(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}f.top;var t,e,r,n=[],p=f.nil,i=(f.breaker,f.slice,f.module),l=f.klass,g=f.send,v=f.hash2,m=f.truthy;return f.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var u,c,i,$,a=n=l(t,e,"Block",n),s=a.$$proto,d=[a].concat(r),o=p;s.attributes=s.content_model=s.lines=s.subs=s.blocks=s.context=s.style=p,o=["simple"],g(f.const_set(d[0],"DEFAULT_CONTENT_MODEL",v(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",f.to_a(o)),h(o.length,1),f.alias(a,"blockname","context"),a.$attr_accessor("lines"),f.def(a,"$initialize",u=function(t,e,r){var n,i=this,$=u.$$p,a=p,s=p,o=p,l=p,c=p,_=p;for(null==r&&(r=v([],{})),$&&(u.$$p=null),c=0,_=arguments.length,l=new Array(_);c<_;c++)l[c]=arguments[c];return g(i,f.find_super_dispatcher(i,"initialize",u,!1),l,$),i.content_model=m(n=r["$[]"]("content_model"))?n:f.const_get_relative(d,"DEFAULT_CONTENT_MODEL")["$[]"](e),m(r["$key?"]("subs"))?m(a=r["$[]"]("subs"))?(a["$=="]("default")?i.default_subs=r["$[]"]("default_subs"):m(f.const_get_qualified("::","Array")["$==="](a))?(i.default_subs=a.$dup(),i.attributes.$delete("subs")):(i.default_subs=p,s=["subs",""+a],g(i.attributes,"[]=",f.to_a(s)),s[h(s.length,1)]),i.$lock_in_subs()):(i.default_subs=[],i.attributes.$delete("subs")):i.default_subs=p,m((o=r["$[]"]("source"))["$nil_or_empty?"]())?i.lines=[]:m(f.const_get_qualified("::","String")["$==="](o))?i.lines=f.const_get_relative(d,"Helpers").$normalize_lines_from_string(o):i.lines=o.$dup()},u.$$arity=-3),f.def(a,"$content",c=function(){var r,n=this,i=c.$$p,$=p,a=p,s=p,o=p,l=p,t=p,e=p;for(i&&(c.$$p=null),t=0,e=arguments.length,l=new Array(e);t<e;t++)l[t]=arguments[t];return function(){if($=n.content_model,"compound"["$==="]($))return g(n,f.find_super_dispatcher(n,"content",c,!1),l,i);if("simple"["$==="]($))return n.$apply_subs(_(n.lines,f.const_get_relative(d,"LF")),n.subs);if("verbatim"["$==="]($)||"raw"["$==="]($)){if(a=n.$apply_subs(n.lines,n.subs),m((t=a.$size(),e=2,"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e))))return a["$[]"](0);for(;m(m(r=s=a["$[]"](0))?s.$rstrip()["$empty?"]():r);)a.$shift();for(;m(m(r=o=a["$[]"](-1))?o.$rstrip()["$empty?"]():r);)a.$pop();return _(a,f.const_get_relative(d,"LF"))}return n.content_model["$=="]("empty")||n.$warn("Unknown content model '"+n.content_model+"' for block: "+n.$to_s()),p;var t,e}()},c.$$arity=0),f.def(a,"$source",i=function(){return _(this.lines,f.const_get_relative(d,"LF"))},i.$$arity=0),f.def(a,"$to_s",$=function(){var t=this,e=p;return e=t.content_model["$=="]("compound")?"blocks: "+t.blocks.$size():"lines: "+t.lines.$size(),"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", content_model: "+t.content_model.$inspect()+", style: "+t.style.$inspect()+", "+e+"}>"},$.$$arity=0)}((r=[e].concat(t))[0],f.const_get_relative(r,"AbstractBlock"),r)},Opal.modules["asciidoctor/callouts"]=function(h){function p(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function g(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}h.top;var t,e,r,n=[],v=h.nil,i=(h.breaker,h.slice,h.module),m=h.klass,y=h.hash2,b=h.truthy,x=h.send;return h.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d=n=m(t,null,"Callouts",n),f=d.$$proto;[d].concat(r),f.co_index=f.lists=f.list_index=v,h.def(d,"$initialize",i=function(){return this.lists=[],this.list_index=0,this.$next_list()},i.$$arity=0),h.def(d,"$register",$=function(t){var e=v;return this.$current_list()["$<<"](y(["ordinal","id"],{ordinal:t.$to_i(),id:e=this.$generate_next_callout_id()})),this.co_index=p(this.co_index,1),e},$.$$arity=1),h.def(d,"$read_next_id",a=function(){var t,e,r=v,n=v;return r=v,n=this.$current_list(),b((t=this.co_index,e=n.$size(),"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)))&&(r=n["$[]"](g(this.co_index,1))["$[]"]("id")),this.co_index=p(this.co_index,1),r},a.$$arity=0),h.def(d,"$callout_ids",s=function(e){var r;return x(this.$current_list(),"map",[],(r=function(t){return r.$$s,null==t&&(t=v),t["$[]"]("ordinal")["$=="](e)?t["$[]"]("id")+" ":v},r.$$s=this,r.$$arity=1,r)).$join().$chop()},s.$$arity=1),h.def(d,"$current_list",o=function(){return this.lists["$[]"](g(this.list_index,1))},o.$$arity=0),h.def(d,"$next_list",l=function(){var t,e;return this.list_index=p(this.list_index,1),b((t=this.lists.$size(),e=this.list_index,"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)))&&this.lists["$<<"]([]),this.co_index=1,v},l.$$arity=0),h.def(d,"$rewind",c=function(){return this.list_index=1,this.co_index=1,v},c.$$arity=0),h.def(d,"$generate_next_callout_id",_=function(){return this.$generate_callout_id(this.list_index,this.co_index)},_.$$arity=0),h.def(d,"$generate_callout_id",u=function(t,e){return"CO"+t+"-"+e},u.$$arity=2)}((r=[e].concat(t))[0],0,r)},Opal.modules["asciidoctor/converter/base"]=function(l){l.top;var t,e,r,n,i,$,a=[],c=l.nil,s=(l.breaker,l.slice,l.module),_=l.klass,u=l.hash2,d=l.truthy;return l.add_stubs(["$include","$node_name","$empty?","$send","$content"]),(i=s((t=a)[0],"Asciidoctor")).$$proto,$=[i].concat(t),e=$[0],r=$,(n=s(e,"Converter")).$$proto,[n].concat(r),function(t,e,r){function n(){}var i=n=_(t,null,"Base",n),$=(i.$$proto,[i].concat(r));i.$include(l.const_get_relative($,"Converter"))}(l.const_get_relative($,"Converter"),0,$),void function(t,e,r){function n(){}var i,$,a,s,o=n=_(t,null,"BuiltIn",n);o.$$proto,[o].concat(r),l.def(o,"$initialize",i=function(t,e){return null==e&&(e=u([],{})),c},i.$$arity=-2),l.def(o,"$convert",$=function(t,e,r){var n;return null==e&&(e=c),null==r&&(r=u([],{})),e=d(n=e)?n:t.$node_name(),d(r["$empty?"]())?this.$send(e,t):this.$send(e,t,r)},$.$$arity=-2),l.alias(o,"handles?","respond_to?"),l.def(o,"$content",a=function(t){return t.$content()},a.$$arity=1),l.alias(o,"pass","content"),l.def(o,"$skip",s=function(t){return c},s.$$arity=1)}(l.const_get_relative($,"Converter"),0,$)},Opal.modules["asciidoctor/converter/factory"]=function(y){y.top;var t,e,r,n,i,$,a,s=[],b=y.nil,o=(y.breaker,y.slice,y.module),x=y.klass,k=y.truthy,w=y.hash2,E=y.send;return y.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$key?"]),($=o((t=s)[0],"Asciidoctor")).$$proto,a=[$].concat(t),e=a[0],r=a,(n=o(e,"Converter")).$$proto,void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g=n=x(t,null,"Factory",n),v=g.$$proto,m=[g].concat(r);v.converters=v.star_converter=b,g.__default__=b,l=y.get_singleton_class(g),c=m,l.$$proto,[l].concat(c),y.def(l,"$default",_=function(t){var e,r=this;return null==r.__default__&&(r.__default__=b),null==t&&(t=!0),k(t)?r.__default__=k(e=r.__default__)?e:function(){try{return k(y.const_get_qualified("::","ThreadSafe","skip_raise")?"constant":b)||r.$require("thread_safe".$to_s()),r.$new(y.const_get_qualified(y.const_get_qualified("::","ThreadSafe"),"Cache").$new())}catch(t){if(!y.rescue(t,[y.const_get_qualified("::","LoadError")]))throw t;try{return r.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),r.$new()}finally{y.pop_exception()}}}():k(e=r.__default__)?e:r.$new()},_.$$arity=-1),y.def(l,"$register",u=function(t,e){return null==e&&(e=["*"]),this.$default().$register(t,e)},u.$$arity=-2),y.def(l,"$resolve",d=function(t){return this.$default().$resolve(t)},d.$$arity=1),y.def(l,"$create",f=function(t,e){return null==e&&(e=w([],{})),this.$default().$create(t,e)},f.$$arity=-2),y.def(l,"$converters",h=function(){return this.$default().$converters()},h.$$arity=0),y.def(l,"$unregister_all",p=function(){return this.$default().$unregister_all()},p.$$arity=0),g.$attr_reader("converters"),y.def(g,"$initialize",i=function(t){var e;return null==t&&(t=b),this.converters=k(e=t)?e:w([],{}),this.star_converter=b},i.$$arity=-1),y.def(g,"$register",$=function($,t){var a;return null==t&&(t=["*"]),E(t,"each",[],((a=function(t){var e,r,n=a.$$s||this,i=b;return null==n.converters&&(n.converters=b),null==t&&(t=b),i=[t,$],E(n.converters,"[]=",y.to_a(i)),r=1,"number"==typeof(e=i.length)&&"number"==typeof r||e["$-"](r),t["$=="]("*")?n.star_converter=$:b}).$$s=this,a.$$arity=1,a)),b},$.$$arity=-2),y.def(g,"$resolve",a=function(t){var e,r;return k(e=this.converters)?k(r=this.converters["$[]"](t))?r:this.star_converter:e},a.$$arity=1),y.def(g,"$unregister_all",s=function(){return this.converters.$clear(),this.star_converter=b},s.$$arity=0),y.def(g,"$create",o=function(t,e){var r,n,i,$,a,s,o,l,c,_,u,d,f=this,h=b,p=b,g=b,v=b;return null==e&&(e=w([],{})),k(h=f.$resolve(t))?k(y.const_get_qualified("::","Class")["$==="](h))?h.$new(t,e):h:(p="html5"["$==="](g=t)?(k((n=y.const_get_qualified("::","Asciidoctor","skip_raise"))&&(r=y.const_get_qualified(n,"Converter","skip_raise"))&&y.const_get_qualified(r,"Html5Converter","skip_raise")?"constant":b)||f.$require("asciidoctor/converter/html5".$to_s()),y.const_get_relative(m,"Html5Converter").$new(t,e)):"docbook5"["$==="](g)?(k(($=y.const_get_qualified("::","Asciidoctor","skip_raise"))&&(i=y.const_get_qualified($,"Converter","skip_raise"))&&y.const_get_qualified(i,"DocBook5Converter","skip_raise")?"constant":b)||f.$require("asciidoctor/converter/docbook5".$to_s()),y.const_get_relative(m,"DocBook5Converter").$new(t,e)):"docbook45"["$==="](g)?(k((s=y.const_get_qualified("::","Asciidoctor","skip_raise"))&&(a=y.const_get_qualified(s,"Converter","skip_raise"))&&y.const_get_qualified(a,"DocBook45Converter","skip_raise")?"constant":b)||f.$require("asciidoctor/converter/docbook45".$to_s()),y.const_get_relative(m,"DocBook45Converter").$new(t,e)):"manpage"["$==="](g)?(k((l=y.const_get_qualified("::","Asciidoctor","skip_raise"))&&(o=y.const_get_qualified(l,"Converter","skip_raise"))&&y.const_get_qualified(o,"ManPageConverter","skip_raise")?"constant":b)||f.$require("asciidoctor/converter/manpage".$to_s()),y.const_get_relative(m,"ManPageConverter").$new(t,e)):b,k(e["$key?"]("template_dirs"))?(k((_=y.const_get_qualified("::","Asciidoctor","skip_raise"))&&(c=y.const_get_qualified(_,"Converter","skip_raise"))&&y.const_get_qualified(c,"TemplateConverter","skip_raise")?"constant":b)||f.$require("asciidoctor/converter/template".$to_s()),k((d=y.const_get_qualified("::","Asciidoctor","skip_raise"))&&(u=y.const_get_qualified(d,"Converter","skip_raise"))&&y.const_get_qualified(u,"CompositeConverter","skip_raise")?"constant":b)||f.$require("asciidoctor/converter/composite".$to_s()),v=y.const_get_relative(m,"TemplateConverter").$new(t,e["$[]"]("template_dirs"),e),y.const_get_relative(m,"CompositeConverter").$new(t,v,p)):p)},o.$$arity=-2)}((i=[n].concat(r))[0],0,i)},Opal.modules["asciidoctor/converter"]=function(c){function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var t,e,n,i,$,a,s,o,l,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z=c.top,D=[],B=c.nil,F=(c.breaker,c.slice,c.module),P=c.send,L=c.truthy,j=c.range,U=c.hash2;return c.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$require"]),(q=F((t=D)[0],"Asciidoctor")).$$proto,N=[q].concat(t),e=N[0],n=N,(x=F(e,"Converter")).$$proto,k=[x].concat(n),a=k[0],s=k,(l=F(a,"Config")).$$proto,_=[l].concat(s),c.def(l,"$register_for",o=function(t){var e,r,n,i,$,a=B,s=arguments.length,o=s-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<s;l++)n[l-0]=arguments[l];return c.const_get_relative(_,"Factory").$register(this,n),i=c.get_singleton_class(this),$=_,i.$$proto,[i].concat($),a=i,n["$=="](["*"])?P(a,"send",["define_method","converts?"],((e=function(t){return e.$$s,null==t&&(t=B),!0}).$$s=this,e.$$arity=1,e)):P(a,"send",["define_method","converts?"],((r=function(t){return r.$$s,null==t&&(t=B),n["$include?"](t)}).$$s=this,r.$$arity=1,r)),B},o.$$arity=-1),u=k[0],d=k,(y=F(u,"BackendInfo")).$$proto,b=[y].concat(d),c.def(y,"$backend_info",f=function(){var t;return null==this.backend_info&&(this.backend_info=B),this.backend_info=L(t=this.backend_info)?t:this.$setup_backend_info()},f.$$arity=0),c.def(y,"$setup_backend_info",h=function(){var t=B,e=B,r=B,n=B;return null==this.backend&&(this.backend=B),L(this.backend)||this.$raise(c.const_get_qualified("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class()),t=this.backend.$sub(c.const_get_relative(b,"TrailingDigitsRx"),""),L(e=c.const_get_relative(b,"DEFAULT_EXTENSIONS")["$[]"](t))?r=e["$[]"](j(1,-1,!1)):(e=".html",n=r=t="html"),U(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:t,outfilesuffix:e,filetype:r,htmlsyntax:n})},h.$$arity=0),c.def(y,"$filetype",p=function(t){var e=B;return null==t&&(t=B),L(t)?(e=["filetype",t],P(this.$backend_info(),"[]=",c.to_a(e)),e[r(e.length,1)]):this.$backend_info()["$[]"]("filetype")},p.$$arity=-1),c.def(y,"$basebackend",g=function(t){var e=B;return null==t&&(t=B),L(t)?(e=["basebackend",t],P(this.$backend_info(),"[]=",c.to_a(e)),e[r(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},g.$$arity=-1),c.def(y,"$outfilesuffix",v=function(t){var e=B;return null==t&&(t=B),L(t)?(e=["outfilesuffix",t],P(this.$backend_info(),"[]=",c.to_a(e)),e[r(e.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},v.$$arity=-1),c.def(y,"$htmlsyntax",m=function(t){var e=B;return null==t&&(t=B),L(t)?(e=["htmlsyntax",t],P(this.$backend_info(),"[]=",c.to_a(e)),e[r(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},m.$$arity=-1),function(t,e){t.$$proto;var r,n=[t].concat(e);c.def(t,"$included",r=function(t){return t.$extend(c.const_get_relative(n,"Config"))},r.$$arity=1)}(c.get_singleton_class(x),k),x.$include(c.const_get_relative(k,"Config")),x.$include(c.const_get_relative(k,"BackendInfo")),c.def(x,"$initialize",i=function(t,e){return null==e&&(e=U([],{})),this.backend=t,this.$setup_backend_info()},i.$$arity=-2),c.def(x,"$convert",$=function(t,e,r){return null==e&&(e=B),null==r&&(r=U([],{})),this.$raise(c.const_get_qualified("::","NotImplementedError"))},$.$$arity=-2),c.alias(x,"convert_with_options","convert"),w=N[0],E=N,(O=F(w,"Writer")).$$proto,S=[O].concat(E),c.def(O,"$write",A=function(t,e){return L(e["$respond_to?"]("write"))?(e.$write(t.$chomp()),e.$write(c.const_get_relative(S,"LF"))):c.const_get_qualified("::","IO").$write(e,t),B},A.$$arity=2),R=N[0],T=N,(C=F(R,"VoidWriter")).$$proto,I=[C].concat(T),C.$include(c.const_get_relative(I,"Writer")),c.def(C,"$write",M=function(t,e){return B},M.$$arity=2),z.$require("asciidoctor/converter/base"),z.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/document"]=function(J){function Z(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function Q(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function tt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}J.top;var t,e,r,n=[],et=J.nil,i=(J.breaker,J.slice,J.module),rt=J.klass,nt=J.truthy,it=J.send,$t=J.hash2,at=J.range,st=J.gvars;return J.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$inject","$catalog","$==","$callouts","$dup","$attributes","$safe","$compat_mode","$sourcemap","$converter","$extensions","$each","$start_with?","$end_with?","$chop","$downcase","$===","$value_for_name","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$update_doctype_attributes","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$Integer","$now","$index","$slice","$strftime","$year","$join","$create","$to_proc","$activate","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$nil_or_empty?","$nextval","$value","$save_to","$chr","$ord","$source","$source_lines","$sectname=","$title=","$title","$first_section","$merge","$find","$context","$enumerate_section","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$rewind","$name","$negate","$limit_bytesize","$apply_attribute_value_subs","$delete?","$=~","$apply_subs","$resolve_pass_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$raise","$backend","$default","$doctype","$content_model","$warn","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$map","$split","$resolve_docinfo_subs","$&","$normalize_system_path","$read_asset","$docinfo_processors?","$compact","$*","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var T,i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,M,C,I,q,N,z,D,B,F,P,L,j,U,H,G,Y,W,X=n=rt(t,e,"Document",n),K=X.$$proto,V=[X].concat(r);K.attributes=K.safe=K.reader=K.base_dir=K.parsed=K.parent_document=K.extensions=K.options=K.counters=K.catalog=K.header=K.blocks=K.attributes_modified=K.id=K.callouts=K.header_attributes=K.max_attribute_value_size=K.attribute_overrides=K.backend=K.doctype=K.converter=K.outfilesuffix=K.docinfo_processor_extensions=K.document=et,J.const_set(V[0],"Footnote",J.const_get_qualified("::","Struct").$new("index","id","text")),function(t,e,r){function n(){}var i,$,a=n=rt(t,null,"AttributeEntry",n);a.$$proto,[a].concat(r),a.$attr_reader("name","value","negate"),J.def(a,"$initialize",i=function(t,e,r){return null==r&&(r=et),this.name=t,this.value=e,this.negate=nt(r["$nil?"]())?e["$nil?"]():r},i.$$arity=-3),J.def(a,"$save_to",$=function(t){var e,r=et;return(nt(e=t["$[]"]("attribute_entries"))?e:(r=["attribute_entries",[]],it(t,"[]=",J.to_a(r)),r[Z(r.length,1)]))["$<<"](this),this},$.$$arity=1)}(V[0],0,V),function(t,e,r){function n(){}var i,$,a,s,o=n=rt(t,null,"Title",n),l=o.$$proto,c=[o].concat(r);l.sanitized=l.subtitle=l.combined=et,o.$attr_reader("main"),J.alias(o,"title","main"),o.$attr_reader("subtitle"),o.$attr_reader("combined"),J.def(o,"$initialize",i=function(t,e){var r,n,i=et;return null==e&&(e=$t([],{})),nt(nt(r=this.sanitized=e["$[]"]("sanitize"))?t["$include?"]("<"):r)&&(t=t.$gsub(J.const_get_relative(c,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),nt(nt(r=(i=nt(n=e["$[]"]("separator"))?n:":")["$empty?"]())?r:t["$include?"](i+=" ")["$!"]())?(this.main=t,this.subtitle=et):(n=t.$rpartition(i),r=J.to_ary(n),this.main=null==r[0]?et:r[0],null==r[1]||r[1],this.subtitle=null==r[2]?et:r[2]),this.combined=t},i.$$arity=-2),J.def(o,"$sanitized?",$=function(){return this.sanitized},$.$$arity=0),J.def(o,"$subtitle?",a=function(){return!!nt(this.subtitle)},a.$$arity=0),J.def(o,"$to_s",s=function(){return this.combined},s.$$arity=0)}(V[0],0,V),X.$attr_reader("safe"),X.$attr_reader("compat_mode"),X.$attr_reader("backend"),X.$attr_reader("doctype"),X.$attr_accessor("sourcemap"),X.$attr_reader("catalog"),J.alias(X,"references","catalog"),X.$attr_reader("counters"),X.$attr_reader("callouts"),X.$attr_reader("header"),X.$attr_reader("base_dir"),X.$attr_reader("options"),X.$attr_reader("outfilesuffix"),X.$attr_reader("parent_document"),X.$attr_reader("reader"),X.$attr_reader("converter"),X.$attr_reader("extensions"),J.def(X,"$initialize",T=function(t,e){var r,$,n,i,a,s,o,l=this,c=T.$$p,_=et,u=et,d=et,f=et,h=et,p=et,g=et,v=et,m=et,y=et,b=et,x=et,k=et,w=et,E=et,A=et,O=et,S=et,R=et;if(null==t&&(t=et),null==e&&(e=$t([],{})),c&&(T.$$p=null),it(l,J.find_super_dispatcher(l,"initialize",T,!1),[l,"document"],null),nt(_=e.$delete("parent")))l.parent_document=_,nt(r=e["$[]"]("base_dir"))||(u=["base_dir",_.$base_dir()],it(e,"[]=",J.to_a(u)),u[Z(u.length,1)]),l.catalog=it(_.$catalog(),"inject",[$t([],{})],(($=function(t,e){var r,n,i;return $.$$s,null==e&&(e=et),e=J.to_ary(e),r=J.slice.call(e,0,e.length),null==(n=r.splice(0,1)[0])&&(n=et),null==(i=r.splice(0,1)[0])&&(i=et),null==t&&(t=et),u=[n,n["$=="]("footnotes")?[]:i],it(t,"[]=",J.to_a(u)),u[Z(u.length,1)],t}).$$s=l,$.$$arity=2,$.$$has_top_level_mlhs_arg=!0,$)),l.callouts=_.$callouts(),l.attribute_overrides=d=_.$attributes().$dup(),f=d.$delete("doctype"),d.$delete("compat-mode"),d.$delete("toc"),d.$delete("toc-placement"),d.$delete("toc-position"),l.safe=_.$safe(),nt(l.compat_mode=_.$compat_mode())&&(u=["compat-mode",""],it(l.attributes,"[]=",J.to_a(u)),u[Z(u.length,1)]),l.sourcemap=_.$sourcemap(),l.converter=_.$converter(),h=!1,l.extensions=_.$extensions();else{if(l.parent_document=et,l.catalog=$t(["ids","refs","footnotes","links","images","indexterms","includes"],{ids:$t([],{}),refs:$t([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:J.const_get_qualified("::","Set").$new()}),l.callouts=J.const_get_relative(V,"Callouts").$new(),d=$t([],{}),it(nt(r=e["$[]"]("attributes"))?r:$t([],{}),"each",[],((n=function(t,e){return n.$$s,null==t&&(t=et),null==e&&(e=et),nt(t["$start_with?"]("!"))?(t=t["$[]"](at(1,-1,!1)),e=et):nt(t["$end_with?"]("!"))&&(t=t.$chop(),e=et),u=[t.$downcase(),e],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]}).$$s=l,n.$$arity=2,n)),l.attribute_overrides=d,nt((p=e["$[]"]("safe"))["$!"]()))l.safe=J.const_get_qualified(J.const_get_relative(V,"SafeMode"),"SECURE");else if(nt(J.const_get_qualified("::","Integer")["$==="](p)))l.safe=p;else try{l.safe=J.const_get_relative(V,"SafeMode").$value_for_name(p.$to_s())}catch(t){if(!J.rescue(t,[J.const_get_relative(V,"StandardError")]))throw t;try{l.safe=J.const_get_qualified(J.const_get_relative(V,"SafeMode"),"SECURE")}finally{J.pop_exception()}}l.compat_mode=d["$key?"]("compat-mode"),l.sourcemap=e["$[]"]("sourcemap"),l.converter=et,h=(i=J.const_get_qualified("::","Asciidoctor","skip_raise"))&&(r=J.const_get_qualified(i,"Extensions","skip_raise"))?"constant":et,l.extensions=et}return l.parsed=!1,l.header=et,l.counters=$t([],{}),l.attributes_modified=J.const_get_qualified("::","Set").$new(),l.docinfo_processor_extensions=$t([],{}),g=nt(a=e["$[]"]("header_footer"))?a:(u=["header_footer",!1],it(e,"[]=",J.to_a(u)),u[Z(u.length,1)]),(l.options=e).$freeze(),v=l.attributes,u=["sectids",""],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["toc-placement","auto"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],nt(g)?(u=["copycss",""],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["embedded",et]):(u=["notitle",""],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["embedded",""]),it(d,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["stylesheet",""],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["webfonts",""],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["prewrap",""],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["attribute-undefined",J.const_get_relative(V,"Compliance").$attribute_undefined()],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["attribute-missing",J.const_get_relative(V,"Compliance").$attribute_missing()],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["iconfont-remote",""],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["caution-caption","Caution"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["important-caption","Important"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["note-caption","Note"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["tip-caption","Tip"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["warning-caption","Warning"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["example-caption","Example"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["figure-caption","Figure"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["table-caption","Table"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["toc-title","Table of Contents"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["manname-title","NAME"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["section-refsig","Section"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["chapter-refsig","Chapter"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["appendix-caption",(u=["appendix-refsig","Appendix"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)])],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["untitled-label","Untitled"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["version-label","Version"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["last-update-label","Last updated"],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["asciidoctor",""],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["asciidoctor-version",J.const_get_relative(V,"VERSION")],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["safe-mode-name",m=J.const_get_relative(V,"SafeMode").$name_for_value(l.safe)],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["safe-mode-"+m,""],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["safe-mode-level",l.safe],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)],nt(a=d["$[]"]("max-include-depth"))||(u=["max-include-depth",64],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=d["$[]"]("allow-uri-read"))||(u=["allow-uri-read",et],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),u=["user-home",J.const_get_relative(V,"USER_HOME")],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)],nt(d["$key?"]("numbered"))&&(u=["sectnums",d.$delete("numbered")],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(y=e["$[]"]("base_dir"))?l.base_dir=(u=["docdir",J.const_get_qualified("::","File").$expand_path(y)],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]):nt(d["$[]"]("docdir"))?l.base_dir=d["$[]"]("docdir"):l.base_dir=(u=["docdir",J.const_get_qualified("::","Dir").$pwd()],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(b=e["$[]"]("backend"))&&(u=["backend",""+b],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(x=e["$[]"]("doctype"))&&(u=["doctype",""+x],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(Q(l.safe,J.const_get_qualified(J.const_get_relative(V,"SafeMode"),"SERVER")))&&(nt(a=d["$[]"]("copycss"))||(u=["copycss",et],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=d["$[]"]("source-highlighter"))||(u=["source-highlighter",et],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=d["$[]"]("backend"))||(u=["backend",J.const_get_relative(V,"DEFAULT_BACKEND")],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(nt(a=_["$!"]())?d["$key?"]("docfile"):a)&&(u=["docfile",d["$[]"]("docfile")["$[]"](J.Range.$new(tt(d["$[]"]("docdir").$length(),1),-1,!1))],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),u=["docdir",""],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)],u=["user-home","."],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)],nt(Q(l.safe,J.const_get_qualified(J.const_get_relative(V,"SafeMode"),"SECURE")))&&(nt(d["$key?"]("max-attribute-value-size"))||(u=["max-attribute-value-size",4096],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(d.$fetch("linkcss","")["$nil?"]())||(u=["linkcss",""],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=d["$[]"]("icons"))||(u=["icons",et],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]))),l.max_attribute_value_size=nt(k=nt(a=d["$[]"]("max-attribute-value-size"))?a:(u=["max-attribute-value-size",et],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)]))?k.$to_i().$abs():et,it(d,"delete_if",[],((s=function(t,e){s.$$s;var r,n=et;return null==t&&(t=et),null==e&&(e=et),n=!1,nt(e["$nil?"]())?v.$delete(t):(nt(nt(r=J.const_get_qualified("::","String")["$==="](e))?e["$end_with?"]("@"):r)&&(e=e.$chop(),n=!0),u=[t,e],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),n}).$$s=l,s.$$arity=2,s)),nt(_)?(l.backend=v["$[]"]("backend"),(l.doctype=(u=["doctype",f],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]))["$=="](J.const_get_relative(V,"DEFAULT_DOCTYPE"))||l.$update_doctype_attributes(J.const_get_relative(V,"DEFAULT_DOCTYPE")),l.reader=J.const_get_relative(V,"Reader").$new(t,e["$[]"]("cursor")),J.const_get_relative(V,"Parser").$parse(l.reader,l),l.$restore_attributes(),l.parsed=!0):(l.backend=et,(nt(a=v["$[]"]("backend"))?a:(u=["backend",J.const_get_relative(V,"DEFAULT_BACKEND")],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]))["$=="]("manpage")?l.doctype=(u=["doctype",(u=["doctype","manpage"],it(d,"[]=",J.to_a(u)),u[Z(u.length,1)])],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]):l.doctype=nt(a=v["$[]"]("doctype"))?a:(u=["doctype",J.const_get_relative(V,"DEFAULT_DOCTYPE")],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),l.$update_backend_attributes(v["$[]"]("backend"),!0),w=nt(J.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?J.const_get_qualified("::","Time").$at(l.$Integer(J.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():J.const_get_qualified("::","Time").$now(),nt(E=v["$[]"]("localdate"))?A=nt(a=v["$[]"]("localyear"))?a:(u=["localyear",E.$index("-")["$=="](4)?E.$slice(0,4):et],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]):(u=["localdate",w.$strftime("%Y-%m-%d")],it(v,"[]=",J.to_a(u)),E=u[Z(u.length,1)],A=nt(a=v["$[]"]("localyear"))?a:(u=["localyear",w.$year().$to_s()],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)])),O=nt(a=v["$[]"]("localtime"))?a:(u=["localtime",function(){try{return w.$strftime("%H:%M:%S %Z")}catch(t){if(!J.rescue(t,[J.const_get_relative(V,"StandardError")]))throw t;try{return w.$strftime("%H:%M:%S %z")}finally{J.pop_exception()}}}()],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=v["$[]"]("localdatetime"))||(u=["localdatetime",E+" "+O],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=v["$[]"]("docdate"))||(u=["docdate",E],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=v["$[]"]("docyear"))||(u=["docyear",A],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=v["$[]"]("doctime"))||(u=["doctime",O],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=v["$[]"]("docdatetime"))||(u=["docdatetime",E+" "+O],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=v["$[]"]("stylesdir"))||(u=["stylesdir","."],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(a=v["$[]"]("iconsdir"))||(u=["iconsdir",J.const_get_qualified("::","File").$join(v.$fetch("imagesdir","./images"),"icons")],it(v,"[]=",J.to_a(u)),u[Z(u.length,1)]),nt(h)&&(nt(S=e["$[]"]("extension_registry"))?nt(nt(a=J.const_get_qualified(J.const_get_relative(V,"Extensions"),"Registry")["$==="](S))?a:nt(o=J.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?J.const_get_qualified(J.const_get_qualified(J.const_get_qualified("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](S):o)||(S=J.const_get_qualified(J.const_get_relative(V,"Extensions"),"Registry").$new()):S=nt(J.const_get_qualified("::","Proc")["$==="](R=e["$[]"]("extensions")))?it(J.const_get_relative(V,"Extensions"),"create",[],R.$to_proc()):J.const_get_qualified(J.const_get_relative(V,"Extensions"),"Registry").$new(),l.extensions=S.$activate(l)),l.reader=J.const_get_relative(V,"PreprocessorReader").$new(l,t,J.const_get_qualified(J.const_get_relative(V,"Reader"),"Cursor").$new(v["$[]"]("docfile"),l.base_dir),$t(["normalize"],{normalize:!0})))},T.$$arity=-1),J.def(X,"$parse",i=function(t){var e,n,i,r=this,$=et,a=et;return null==t&&(t=et),nt(r.parsed)?r:($=r,nt(t)&&(r.reader=J.const_get_relative(V,"PreprocessorReader").$new($,t,J.const_get_qualified(J.const_get_relative(V,"Reader"),"Cursor").$new(r.attributes["$[]"]("docfile"),r.base_dir),$t(["normalize"],{normalize:!0}))),nt(nt(e=a=nt(r.parent_document)?et:r.extensions)?a["$preprocessors?"]():e)&&it(a.$preprocessors(),"each",[],((n=function(t){var e,r=n.$$s||this;return null==r.reader&&(r.reader=et),null==t&&(t=et),r.reader=nt(e=t.$process_method()["$[]"]($,r.reader))?e:r.reader}).$$s=r,n.$$arity=1,n)),J.const_get_relative(V,"Parser").$parse(r.reader,$,$t(["header_only"],{header_only:r.options["$[]"]("parse_header_only")})),r.$restore_attributes(),nt(nt(e=a)?a["$tree_processors?"]():e)&&it(a.$tree_processors(),"each",[],((i=function(t){i.$$s;var e,r,n=et;return null==t&&(t=et),nt(nt(e=nt(r=n=t.$process_method()["$[]"]($))?J.const_get_relative(V,"Document")["$==="](n):r)?n["$!="]($):e)?$=n:et}).$$s=r,i.$$arity=1,i)),r.parsed=!0,$)},i.$$arity=-1),J.def(X,"$counter",$=function(t,e){var r,n=this,i=et,$=et,a=et;return null==e&&(e=et),nt(n.parent_document)?n.parent_document.$counter(t,e):(a=nt(nt(r=i=($=n.attributes["$[]"](t))["$nil_or_empty?"]()["$!"]())?n.counters["$key?"](t):r)?[t,(a=[t,n.$nextval($)],it(n.counters,"[]=",J.to_a(a)),a[Z(a.length,1)])]:nt(e)?[t,(a=[t,e["$=="](e.$to_i().$to_s())?e.$to_i():e],it(n.counters,"[]=",J.to_a(a)),a[Z(a.length,1)])]:[t,(a=[t,n.$nextval(nt(i)?$:0)],it(n.counters,"[]=",J.to_a(a)),a[Z(a.length,1)])],it(n.attributes,"[]=",J.to_a(a)),a[Z(a.length,1)])},$.$$arity=-2),J.def(X,"$increment_and_store_counter",a=function(t,e){return J.const_get_relative(V,"AttributeEntry").$new(t,this.$counter(t)).$save_to(e.$attributes()).$value()},a.$$arity=2),J.alias(X,"counter_increment","increment_and_store_counter"),J.def(X,"$nextval",s=function(t){var e=et;return nt(J.const_get_qualified("::","Integer")["$==="](t))?tt(t,1):(e=t.$to_i(),nt(e.$to_s()["$!="](t.$to_s()))?tt(t["$[]"](0).$ord(),1).$chr():tt(e,1))},s.$$arity=1),J.def(X,"$register",o=function(t,e){var r,n,i=this,$=et,a=et,s=et,o=et,l=et,c=et,_=et;return"ids"["$==="]($=t)?(n=e,r=J.to_ary(n),a=null==r[0]?et:r[0],s=null==r[1]?et:r[1],o=i.catalog["$[]"]("ids"),nt(r=o["$[]"](a))?r:(l=[a,nt(n=s)?n:tt(tt("[",a),"]")],it(o,"[]=",J.to_a(l)),l[Z(l.length,1)])):"refs"["$==="]($)?(n=e,r=J.to_ary(n),a=null==r[0]?et:r[0],c=null==r[1]?et:r[1],s=null==r[2]?et:r[2],nt((_=i.catalog["$[]"]("refs"))["$key?"](a))?et:(l=[a,nt(r=s)?r:tt(tt("[",a),"]")],it(i.catalog["$[]"]("ids"),"[]=",J.to_a(l)),l[Z(l.length,1)],l=[a,c],it(_,"[]=",J.to_a(l)),l[Z(l.length,1)])):"footnotes"["$==="]($)||"indexterms"["$==="]($)?i.catalog["$[]"](t)["$<<"](e):nt(i.options["$[]"]("catalog_assets"))?i.catalog["$[]"](t)["$<<"](e):et},o.$$arity=2),J.def(X,"$footnotes?",l=function(){return!nt(this.catalog["$[]"]("footnotes")["$empty?"]())},l.$$arity=0),J.def(X,"$footnotes",c=function(){return this.catalog["$[]"]("footnotes")},c.$$arity=0),J.def(X,"$nested?",_=function(){return!!nt(this.parent_document)},_.$$arity=0),J.def(X,"$embedded?",u=function(){return this.attributes["$key?"]("embedded")},u.$$arity=0),J.def(X,"$extensions?",d=function(){return!!nt(this.extensions)},d.$$arity=0),J.def(X,"$source",f=function(){return nt(this.reader)?this.reader.$source():et},f.$$arity=0),J.def(X,"$source_lines",h=function(){return nt(this.reader)?this.reader.$source_lines():et},h.$$arity=0),J.def(X,"$basebackend?",p=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},p.$$arity=1),J.def(X,"$title",g=function(){return this.attributes["$[]"]("title")},g.$$arity=0),J.def(X,"$title=",v=function(t){var e=et,r=et;return nt(e=this.header)||(r=["header"],it(e=this.header=J.const_get_relative(V,"Section").$new(this,0,!1),"sectname=",J.to_a(r)),r[Z(r.length,1)]),r=[t],it(e,"title=",J.to_a(r)),r[Z(r.length,1)]},v.$$arity=1),J.def(X,"$doctitle",m=function(t){var e,r=this,n=et,i=et,$=et;if(null==t&&(t=$t([],{})),nt((n=r.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))n=r.$title();else if(nt(i=r.$first_section()))n=i.$title();else if(!nt(nt(e=t["$[]"]("use_fallback"))?n=r.attributes["$[]"]("untitled-label"):e))return et;return nt($=t["$[]"]("partition"))?J.const_get_relative(V,"Title").$new(n,t.$merge($t(["separator"],{separator:$["$=="](!0)?r.attributes["$[]"]("title-separator"):$}))):nt(nt(e=t["$[]"]("sanitize"))?n["$include?"]("<"):e)?n.$gsub(J.const_get_relative(V,"XmlSanitizeRx"),"").$squeeze(" ").$strip():n},m.$$arity=-1),J.alias(X,"name","doctitle"),J.def(X,"$author",y=function(){return this.attributes["$[]"]("author")},y.$$arity=0),J.def(X,"$revdate",b=function(){return this.attributes["$[]"]("revdate")},b.$$arity=0),J.def(X,"$notitle",x=function(){var t;return nt(t=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):t},x.$$arity=0),J.def(X,"$noheader",k=function(){return this.attributes["$key?"]("noheader")},k.$$arity=0),J.def(X,"$nofooter",w=function(){return this.attributes["$key?"]("nofooter")},w.$$arity=0),J.def(X,"$first_section",E=function(){var t,e;return nt(t=this.header)?t:it(this.blocks,"find",[],((e=function(t){return e.$$s,null==t&&(t=et),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},E.$$arity=0),J.def(X,"$has_header?",A=function(){return!!nt(this.header)},A.$$arity=0),J.alias(X,"header?","has_header?"),J.def(X,"$<<",O=function(t){var e=O.$$p,r=et,n=et,i=et;for(e&&(O.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return t.$context()["$=="]("section")&&this.$enumerate_section(t),it(this,J.find_super_dispatcher(this,"<<",O,!1),r,e)},O.$$arity=1),J.def(X,"$finalize_header",S=function(t,e){var r=et;return null==e&&(e=!0),this.$clear_playback_attributes(t),this.$save_attributes(),nt(e)||(r=["invalid-header",!0],it(t,"[]=",J.to_a(r)),r[Z(r.length,1)]),t},S.$$arity=-2),J.def(X,"$save_attributes",R=function(){var t,e,n,r=this,i=et,$=et,a=et,s=et,o=et,l=et,c=et,_=et,u=et,d=et;return(i=r.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(nt(nt(t=r["$attribute_locked?"]("toc"))?t:r.attributes_modified["$include?"]("toc"))||($=["toc",""],it(i,"[]=",J.to_a($)),$[Z($.length,1)]),nt(nt(t=r["$attribute_locked?"]("sectnums"))?t:r.attributes_modified["$include?"]("sectnums"))||($=["sectnums",""],it(i,"[]=",J.to_a($)),$[Z($.length,1)])),nt(nt(t=i["$key?"]("doctitle"))?t:(a=r.$doctitle())["$!"]())||($=["doctitle",a],it(i,"[]=",J.to_a($)),$[Z($.length,1)]),nt(r.id)||(r.id=i["$[]"]("css-signature")),s=nt(o=nt(i.$delete("toc2"))?"left":i["$[]"]("toc"))?nt(nt(t=l=i.$fetch("toc-placement","macro"))?l["$!="]("auto"):t)?l:i["$[]"]("toc-position"):et,nt(nt(t=o)?nt(e=o["$empty?"]()["$!"]())?e:s["$nil_or_empty?"]()["$!"]():t)&&(c="left",_="toc2",u=nt(s["$nil_or_empty?"]()["$!"]())?s:nt(o["$empty?"]()["$!"]())?o:c,$=["toc",""],it(i,"[]=",J.to_a($)),$[Z($.length,1)],$=["toc-placement","auto"],it(i,"[]=",J.to_a($)),$[Z($.length,1)],"left"["$==="](d=u)||"<"["$==="](d)||"&lt;"["$==="](d)?($=["toc-position","left"],it(i,"[]=",J.to_a($)),$[Z($.length,1)]):"right"["$==="](d)||">"["$==="](d)||"&gt;"["$==="](d)?($=["toc-position","right"],it(i,"[]=",J.to_a($)),$[Z($.length,1)]):"top"["$==="](d)||"^"["$==="](d)?($=["toc-position","top"],it(i,"[]=",J.to_a($)),$[Z($.length,1)]):"bottom"["$==="](d)||"v"["$==="](d)?($=["toc-position","bottom"],it(i,"[]=",J.to_a($)),$[Z($.length,1)]):("preamble"["$==="](d)||"macro"["$==="](d)?($=["toc-position","content"],it(i,"[]=",J.to_a($)),$[Z($.length,1)],$=["toc-placement",u],it(i,"[]=",J.to_a($)),$[Z($.length,1)]):i.$delete("toc-position"),_=et),nt(_)&&(nt(t=i["$[]"]("toc-class"))||($=["toc-class",_],it(i,"[]=",J.to_a($)),$[Z($.length,1)]))),nt(r.compat_mode=i["$key?"]("compat-mode"))&&nt(i["$key?"]("language"))&&($=["source-language",i["$[]"]("language")],it(i,"[]=",J.to_a($)),$[Z($.length,1)]),r.outfilesuffix=i["$[]"]("outfilesuffix"),r.header_attributes=i.$dup(),nt(r.parent_document)?et:it(J.const_get_relative(V,"FLEXIBLE_ATTRIBUTES"),"each",[],((n=function(t){var e,r=n.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=et),null==t&&(t=et),nt(nt(e=r.attribute_overrides["$key?"](t))?r.attribute_overrides["$[]"](t):e)?r.attribute_overrides.$delete(t):et}).$$s=r,n.$$arity=1,n))},R.$$arity=0),J.def(X,"$restore_attributes",M=function(){return nt(this.parent_document)||this.callouts.$rewind(),this.attributes=this.header_attributes},M.$$arity=0),J.def(X,"$clear_playback_attributes",C=function(t){return t.$delete("attribute_entries")},C.$$arity=1),J.def(X,"$playback_attributes",I=function(t){var i;return nt(t["$key?"]("attribute_entries"))?it(t["$[]"]("attribute_entries"),"each",[],((i=function(t){var e=i.$$s||this,r=et,n=et;return null==e.attributes&&(e.attributes=et),null==t&&(t=et),r=t.$name(),nt(t.$negate())?(e.attributes.$delete(r),r["$=="]("compat-mode")?e.compat_mode=!1:et):(n=[r,t.$value()],it(e.attributes,"[]=",J.to_a(n)),n[Z(n.length,1)],r["$=="]("compat-mode")?e.compat_mode=!0:et)}).$$s=this,i.$$arity=1,i)):et},I.$$arity=1),J.def(X,"$set_attribute",q=function(t,e){var r=this,n=et,i=et,$=et;return null==e&&(e=""),!nt(r["$attribute_locked?"](t))&&(n=nt(r.max_attribute_value_size)?r.$apply_attribute_value_subs(e).$limit_bytesize(r.max_attribute_value_size):r.$apply_attribute_value_subs(e),"backend"["$==="](i=t)?r.$update_backend_attributes(n,r.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](i)?r.$update_doctype_attributes(n):($=[t,n],it(r.attributes,"[]=",J.to_a($)),$[Z($.length,1)]),r.attributes_modified["$<<"](t),n)},q.$$arity=-2),J.def(X,"$delete_attribute",N=function(t){return!nt(this["$attribute_locked?"](t))&&(this.attributes.$delete(t),this.attributes_modified["$<<"](t),!0)},N.$$arity=1),J.def(X,"$attribute_locked?",z=function(t){return this.attribute_overrides["$key?"](t)},z.$$arity=1),J.def(X,"$apply_attribute_value_subs",D=function(t){var e;return nt(J.const_get_relative(V,"AttributeEntryPassMacroRx")["$=~"](t))?nt((e=st["~"])===et?et:e["$[]"](1))?this.$apply_subs((e=st["~"])===et?et:e["$[]"](2),this.$resolve_pass_subs((e=st["~"])===et?et:e["$[]"](1))):(e=st["~"])===et?et:e["$[]"](2):this.$apply_header_subs(t)},D.$$arity=1),J.def(X,"$update_backend_attributes",B=function(t,e){var r,n,i=this,$=et,a=et,s=et,o=et,l=et,c=et,_=et,u=et,d=et,f=et,h=et;return null==e&&(e=et),nt(nt(r=e)?r:nt(n=t)?t["$!="](i.backend):n)?(r=[i.backend,($=i.attributes)["$[]"]("basebackend"),i.doctype],a=r[0],s=r[1],o=r[2],nt(t["$start_with?"]("xhtml"))?(l=["htmlsyntax","xml"],it($,"[]=",J.to_a(l)),l[Z(l.length,1)],t=t["$[]"](at(1,-1,!1))):nt(t["$start_with?"]("html"))&&($["$[]"]("htmlsyntax")["$=="]("xml")||(l=["htmlsyntax","html"],it($,"[]=",J.to_a(l)),l[Z(l.length,1)])),nt(c=J.const_get_relative(V,"BACKEND_ALIASES")["$[]"](t))&&(t=c),nt(o)?(nt(a)&&($.$delete("backend-"+a),$.$delete("backend-"+a+"-doctype-"+o)),l=["backend-"+t+"-doctype-"+o,""],it($,"[]=",J.to_a(l)),l[Z(l.length,1)],l=["doctype-"+o,""],it($,"[]=",J.to_a(l)),l[Z(l.length,1)]):nt(a)&&$.$delete("backend-"+a),l=["backend-"+t,""],it($,"[]=",J.to_a(l)),l[Z(l.length,1)],i.backend=(l=["backend",t],it($,"[]=",J.to_a(l)),l[Z(l.length,1)]),nt(J.const_get_qualified(J.const_get_relative(V,"Converter"),"BackendInfo")["$==="](i.converter=i.$create_converter()))?(_=i.converter.$basebackend(),nt(i["$attribute_locked?"]("outfilesuffix"))||(l=["outfilesuffix",i.converter.$outfilesuffix()],it($,"[]=",J.to_a(l)),l[Z(l.length,1)]),u=i.converter.$filetype()):nt(i.converter)?(_=t.$sub(J.const_get_relative(V,"TrailingDigitsRx"),""),nt(d=J.const_get_relative(V,"DEFAULT_EXTENSIONS")["$[]"](_))?u=d["$[]"](at(1,-1,!1)):(d=(r=[".html","html","html"])[0],_=r[1],u=r[2]),nt(i["$attribute_locked?"]("outfilesuffix"))||(l=["outfilesuffix",d],it($,"[]=",J.to_a(l)),l[Z(l.length,1)])):i.$raise(J.const_get_qualified("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+t+"'. Processing aborted."),nt(f=$["$[]"]("filetype"))&&$.$delete("filetype-"+f),l=["filetype",u],it($,"[]=",J.to_a(l)),l[Z(l.length,1)],l=["filetype-"+u,""],it($,"[]=",J.to_a(l)),l[Z(l.length,1)],nt(h=J.const_get_relative(V,"DEFAULT_PAGE_WIDTHS")["$[]"](_))?(l=["pagewidth",h],it($,"[]=",J.to_a(l)),l[Z(l.length,1)]):$.$delete("pagewidth"),nt(_["$!="](s))&&(nt(o)?(nt(s)&&($.$delete("basebackend-"+s),$.$delete("basebackend-"+s+"-doctype-"+o)),l=["basebackend-"+_+"-doctype-"+o,""],it($,"[]=",J.to_a(l)),l[Z(l.length,1)]):nt(s)&&$.$delete("basebackend-"+s),l=["basebackend-"+_,""],it($,"[]=",J.to_a(l)),l[Z(l.length,1)],l=["basebackend",_],it($,"[]=",J.to_a(l)),l[Z(l.length,1)]),t):et},B.$$arity=-2),J.def(X,"$update_doctype_attributes",F=function(t){var e,r=et,n=et,i=et,$=et,a=et;return nt(nt(e=t)?t["$!="](this.doctype):e)?(e=[this.backend,(r=this.attributes)["$[]"]("basebackend"),this.doctype],n=e[0],i=e[1],$=e[2],nt($)?(r.$delete("doctype-"+$),nt(n)&&(r.$delete("backend-"+n+"-doctype-"+$),a=["backend-"+n+"-doctype-"+t,""],it(r,"[]=",J.to_a(a)),a[Z(a.length,1)]),nt(i)&&(r.$delete("basebackend-"+i+"-doctype-"+$),a=["basebackend-"+i+"-doctype-"+t,""],it(r,"[]=",J.to_a(a)),a[Z(a.length,1)])):(nt(n)&&(a=["backend-"+n+"-doctype-"+t,""],it(r,"[]=",J.to_a(a)),a[Z(a.length,1)]),nt(i)&&(a=["basebackend-"+i+"-doctype-"+t,""],it(r,"[]=",J.to_a(a)),a[Z(a.length,1)])),a=["doctype-"+t,""],it(r,"[]=",J.to_a(a)),a[Z(a.length,1)],this.doctype=(a=["doctype",t],it(r,"[]=",J.to_a(a)),a[Z(a.length,1)])):et},F.$$arity=1),J.def(X,"$create_converter",P=function(){var t=this,e=et,r=et,n=et,i=et,$=et;return e=$t([],{}),r=["htmlsyntax",t.attributes["$[]"]("htmlsyntax")],it(e,"[]=",J.to_a(r)),r[Z(r.length,1)],n=nt(i=t.options["$[]"]("template_dir"))?(r=["template_dirs",[i]],it(e,"[]=",J.to_a(r)),r[Z(r.length,1)]):nt(n=t.options["$[]"]("template_dirs"))?(r=["template_dirs",n],it(e,"[]=",J.to_a(r)),r[Z(r.length,1)]):et,nt(n)&&(r=["template_cache",t.options.$fetch("template_cache",!0)],it(e,"[]=",J.to_a(r)),r[Z(r.length,1)],r=["template_engine",t.options["$[]"]("template_engine")],it(e,"[]=",J.to_a(r)),r[Z(r.length,1)],r=["template_engine_options",t.options["$[]"]("template_engine_options")],it(e,"[]=",J.to_a(r)),r[Z(r.length,1)],r=["eruby",t.options["$[]"]("eruby")],it(e,"[]=",J.to_a(r)),r[Z(r.length,1)],r=["safe",t.safe],it(e,"[]=",J.to_a(r)),r[Z(r.length,1)]),(nt($=t.options["$[]"]("converter"))?J.const_get_qualified(J.const_get_relative(V,"Converter"),"Factory").$new(J.const_get_qualified("::","Hash")["$[]"](t.$backend(),$)):J.const_get_qualified(J.const_get_relative(V,"Converter"),"Factory").$default(!1)).$create(t.$backend(),e)},P.$$arity=0),J.def(X,"$convert",L=function(t){var e,r,n=this,i=et,$=et,a=et,s=et,o=et;return null==t&&(t=$t([],{})),nt(n.parsed)||n.$parse(),nt(nt(e=Q(n.safe,J.const_get_qualified(J.const_get_relative(V,"SafeMode"),"SERVER")))?e:t["$empty?"]())||(nt((i=["outfile",t["$[]"]("outfile")],it(n.attributes,"[]=",J.to_a(i)),i[Z(i.length,1)]))||n.attributes.$delete("outfile"),nt((i=["outdir",t["$[]"]("outdir")],it(n.attributes,"[]=",J.to_a(i)),i[Z(i.length,1)]))||n.attributes.$delete("outdir")),n.$doctype()["$=="]("inline")?nt($=n.blocks["$[]"](0))&&(nt(nt(e=$.$content_model()["$=="]("compound"))?e:$.$content_model()["$=="]("empty"))?n.$warn("asciidoctor: WARNING: no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):a=$.$content()):(s=nt(nt(t["$key?"]("header_footer"))?t["$[]"]("header_footer"):n.options["$[]"]("header_footer"))?"document":"embedded",a=n.converter.$convert(n,s)),nt(n.parent_document)||nt(nt(e=o=n.extensions)?o["$postprocessors?"]():e)&&it(o.$postprocessors(),"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=et),a=t.$process_method()["$[]"](e,a)}).$$s=n,r.$$arity=1,r)),a},L.$$arity=-1),J.alias(X,"render","convert"),J.def(X,"$write",j=function(t,e){return nt(J.const_get_relative(V,"Writer")["$==="](this.converter))?this.converter.$write(t,e):(nt(e["$respond_to?"]("write"))?nt(t["$nil_or_empty?"]())||(e.$write(t.$chomp()),e.$write(J.const_get_relative(V,"LF"))):J.const_get_qualified("::","IO").$write(e,t),et)},j.$$arity=2),J.def(X,"$content",U=function(){var t=U.$$p,e=et,r=et,n=et;for(t&&(U.$$p=null),r=0,n=arguments.length,e=new Array(n);r<n;r++)e[r]=arguments[r];return this.attributes.$delete("title"),it(this,J.find_super_dispatcher(this,"content",U,!1),e,t)},U.$$arity=0),J.def(X,"$docinfo",H=function(t,e){var r,n,i,$,a,s=this,o=et,l=et,c=et,_=et,u=et,d=et,f=et,h=et,p=et;return null==t&&(t="head"),null==e&&(e=et),nt(Q(s.$safe(),J.const_get_qualified(J.const_get_relative(V,"SafeMode"),"SECURE")))?"":(o=[],t["$=="]("head")||(l="-"+t),nt(e)||(e=s.outfilesuffix),c=nt((c=s.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?nt(s.attributes["$key?"]("docinfo2"))?["private","shared"]:nt(s.attributes["$key?"]("docinfo1"))?["shared"]:nt(c)?["private"]:et:it(c.$split(","),"map",[],((r=function(t){return r.$$s,null==t&&(t=et),t.$strip()}).$$s=s,r.$$arity=1,r)),nt(c)&&(n=["docinfo"+l+e,s.attributes["$[]"]("docinfodir"),s.$resolve_docinfo_subs()],_=n[0],u=n[1],d=n[2],nt(c["$&"](["shared","shared-"+t])["$empty?"]())||(f=s.$normalize_system_path(_,u),nt(h=s.$read_asset(f,$t(["normalize"],{normalize:!0})))&&o["$<<"](s.$apply_subs(h,d))),nt(nt(n=s.attributes["$[]"]("docname")["$nil_or_empty?"]())?n:c["$&"](["private","private-"+t])["$empty?"]())||(f=s.$normalize_system_path(s.attributes["$[]"]("docname")+"-"+_,u),nt(p=s.$read_asset(f,$t(["normalize"],{normalize:!0})))&&o["$<<"](s.$apply_subs(p,d)))),nt(nt(n=s.extensions)?s["$docinfo_processors?"](t):n)&&(o=tt(o,it(s.docinfo_processor_extensions["$[]"](t),"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=et),t.$process_method()["$[]"](e)},i.$$s=s,i.$$arity=1,i)).$compact())),$=o,a=J.const_get_relative(V,"LF"),"number"==typeof $&&"number"==typeof a?$*a:$["$*"](a))},H.$$arity=-1),J.def(X,"$resolve_docinfo_subs",G=function(){return nt(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",et,"docinfo"):["attributes"]},G.$$arity=0),J.def(X,"$docinfo_processors?",Y=function(t){var e,r=et;return null==t&&(t="head"),nt(this.docinfo_processor_extensions["$key?"](t))?this.docinfo_processor_extensions["$[]"](t)["$!="](!1):nt(nt(e=this.extensions)?this.document.$extensions()["$docinfo_processors?"](t):e)?(r=[t,this.document.$extensions().$docinfo_processors(t)],it(this.docinfo_processor_extensions,"[]=",J.to_a(r)),r[Z(r.length,1)])["$!"]()["$!"]():(r=[t,!1],it(this.docinfo_processor_extensions,"[]=",J.to_a(r)),r[Z(r.length,1)])},Y.$$arity=-1),J.def(X,"$to_s",W=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(nt(t.header["$!="](et))?t.header.$title():et).$inspect()+", blocks: "+t.blocks.$size()+"}>"},W.$$arity=0)}((r=[e].concat(t))[0],J.const_get_relative(r,"AbstractBlock"),r)},Opal.modules["asciidoctor/inline"]=function(f){f.top;var t,e,r,n=[],h=f.nil,i=(f.breaker,f.slice,f.module),p=f.klass,g=f.send,v=f.truthy,m=f.hash2;return f.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var a,i,$,s,o,l,c,_,u=n=p(t,e,"Inline",n),d=u.$$proto;[u].concat(r),d.text=d.type=h,u.$attr_reader("text"),u.$attr_reader("type"),u.$attr_accessor("target"),f.def(u,"$initialize",a=function(t,e,r,n){var i=a.$$p,$=h;return null==r&&(r=h),null==n&&(n=m([],{})),i&&(a.$$p=null),g(this,f.find_super_dispatcher(this,"initialize",a,!1),[t,e],null),this.node_name="inline_"+e,this.text=r,this.id=n["$[]"]("id"),this.type=n["$[]"]("type"),this.target=n["$[]"]("target"),v(($=n["$[]"]("attributes"))["$nil_or_empty?"]())?h:this.$update_attributes($)},a.$$arity=-3),f.def(u,"$block?",i=function(){return!1},i.$$arity=0),f.def(u,"$inline?",$=function(){return!0},$.$$arity=0),f.def(u,"$convert",s=function(){return this.$converter().$convert(this)},s.$$arity=0),f.alias(u,"render","convert"),f.def(u,"$alt",o=function(){return this.$attr("alt")},o.$$arity=0),f.def(u,"$reftext?",l=function(){var t,e;return v(t=this.text)?v(e=this.type["$=="]("ref"))?e:this.type["$=="]("bibref"):t},l.$$arity=0),f.def(u,"$reftext",c=function(){var t=h;return v(t=this.text)?this.$apply_reftext_subs(t):h},c.$$arity=0),f.def(u,"$xreftext",_=function(t){return null==t&&(t=h),this.$reftext()},_.$$arity=-1)}((r=[e].concat(t))[0],f.const_get_relative(r,"AbstractNode"),r)},Opal.modules["asciidoctor/list"]=function(h){h.top;var t,e,r,n=[],p=h.nil,i=(h.breaker,h.slice,h.module),g=h.klass,v=h.send,m=h.truthy;return h.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$dup","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,function(t,e,r){function n(){}var a,i,$,s,o=n=g(t,e,"List",n),l=o.$$proto;[o].concat(r),l.context=l.document=l.style=p,h.alias(o,"items","blocks"),h.alias(o,"content","blocks"),h.alias(o,"items?","blocks?"),h.def(o,"$initialize",a=function(t,e){var r=a.$$p,n=p,i=p,$=p;for(r&&(a.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return v(this,h.find_super_dispatcher(this,"initialize",a,!1),n,r)},a.$$arity=2),h.def(o,"$outline?",i=function(){var t;return m(t=this.context["$=="]("ulist"))?t:this.context["$=="]("olist")},i.$$arity=0),h.def(o,"$convert",$=function(){var t=$.$$p,e=p,r=p,n=p,i=p;for(t&&($.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return this.context["$=="]("colist")?(e=v(this,h.find_super_dispatcher(this,"convert",$,!1),r,t),this.document.$callouts().$next_list(),e):v(this,h.find_super_dispatcher(this,"convert",$,!1),r,t)},$.$$arity=0),h.alias(o,"render","convert"),h.def(o,"$to_s",s=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},s.$$arity=0)}((r=[e].concat(t))[0],h.const_get_relative(r,"AbstractBlock"),r),void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u=n=g(t,e,"ListItem",n),d=u.$$proto,f=[u].concat(r);d.text=d.subs=d.blocks=p,h.alias(u,"list","parent"),u.$attr_accessor("marker"),h.def(u,"$initialize",i=function(t,e){var r=i.$$p;return null==e&&(e=p),r&&(i.$$p=null),v(this,h.find_super_dispatcher(this,"initialize",i,!1),[t,"list_item"],null),this.text=e,this.level=t.$level(),this.subs=h.const_get_relative(f,"NORMAL_SUBS").$dup()},i.$$arity=-2),h.def(u,"$text?",$=function(){return this.text["$nil_or_empty?"]()["$!"]()},$.$$arity=0),h.def(u,"$text",a=function(){return this.$apply_subs(this.text,this.subs)},a.$$arity=0),h.def(u,"$text=",s=function(t){return this.text=t},s.$$arity=1),h.def(u,"$simple?",o=function(){var t,e,r=p;return m(t=this.blocks["$empty?"]())?t:m(e=this.blocks.$size()["$=="](1)?h.const_get_relative(f,"List")["$==="](r=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?r["$outline?"]():e},o.$$arity=0),h.def(u,"$compound?",l=function(){return this["$simple?"]()["$!"]()},l.$$arity=0),h.def(u,"$fold_first",c=function(t,e){var r,n,i,$,a,s=p,o=p;return null==t&&(t=!1),null==e&&(e=!1),m(m(r=m(n=s=this.blocks["$[]"](0))?h.const_get_relative(f,"Block")["$==="](s):n)?m(n=(i=s.$context()["$=="]("paragraph"))?t["$!"]():s.$context()["$=="]("paragraph"))?n:m(i=m($=m(a=e)?a:t["$!"]())?s.$context()["$=="]("literal"):$)?s["$option?"]("listparagraph"):i:r)&&(o=this.$blocks().$shift(),m(this.text["$nil_or_empty?"]())||o.$lines().$unshift(this.text),this.text=o.$source()),p},c.$$arity=-1),h.def(u,"$to_s",_=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(m(t=this.blocks)?t:[]).$size()+"}>"},_.$$arity=0)}(r[0],h.const_get_relative(r,"AbstractBlock"),r)},Opal.modules["asciidoctor/parser"]=function(pt){function gt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function vt(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function mt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function yt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function bt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}pt.top;var t,e,r,n=[],xt=pt.nil,i=(pt.breaker,pt.slice,pt.module),J=pt.klass,kt=pt.send,wt=pt.truthy,Et=pt.hash2,Z=pt.hash,At=pt.gvars,Ot=pt.range;return pt.add_stubs(["$new","$lambda","$start_with?","$match?","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_doctitle?","$attributes","$key?","$finalize_header","$nil_or_empty?","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$attribute_locked?","$set_attr","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$=~","$sub_attributes","$downcase","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$*","$read_lines_until","$match","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$sectname","$+","$to_i","$>","$line_info","$include?","$size","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$path","$lineno","$read_line","$===","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$lstrip","$keys","$chr","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$register","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$update","$process_method","$replace","$peek_line","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_item_list","$each","$catalog_inline_biblio_anchor","$instance_variable_get","$marker","$find","$next_description_list","$underline_style_section_titles","$is_section_title?","$atx_section_title?","$generate_id","$title","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$map!","$split","$pop","$build_block","$chop","$catalog_inline_anchors","$rekey","$index","$slice","$strip","$<","$next_table","$concat","$title?","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$gsub","$reader","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$delete_at","$casecmp","$sectname=","$special=","$numbered=","$special","$numbered","$update_attributes","$peek_lines","$setext_section_title?","$abs","$line_length","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$rstrip","$each_with_index","$map","$compact","$Array","$squeeze","$to_a","$process_attribute_entry","$skip_comment_lines","$advance","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$resolve_ordered_list_marker","$ord","$roman_numeral_to_int","$parse_colspecs","$create_columns","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$post_match","$close_cell","$cell_open?","$columns","$assign_column_widths","$has_header_option=","$partition_header_footer","$upto","$shorthand_property_syntax","$join","$each_char","$call","$sub!","$gsub!","$%","$begin"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L,j,U,H,G,Y,W,X,K,V=n=J(t,null,"Parser",n),ht=(V.$$proto,[V].concat(r));pt.const_set(ht[0],"BlockMatchData",pt.const_get_relative(ht,"Struct").$new("context","masq","tip","terminator")),pt.const_set(ht[0],"TabRx",/\t/),pt.const_set(ht[0],"TabIndentRx",/^\t+/),pt.const_set(ht[0],"StartOfBlockProc",kt(V,"lambda",[],((i=function(t){var e,r,n=i.$$s||this;return null==t&&(t=xt),wt(e=wt(r=t["$start_with?"]("["))?pt.const_get_relative(ht,"BlockAttributeLineRx")["$match?"](t):r)?e:n["$is_delimited_block?"](t)}).$$s=V,i.$$arity=1,i))),pt.const_set(ht[0],"StartOfListProc",kt(V,"lambda",[],(($=function(t){return $.$$s,null==t&&(t=xt),pt.const_get_relative(ht,"AnyListRx")["$match?"](t)}).$$s=V,$.$$arity=1,$))),pt.const_set(ht[0],"StartOfBlockOrListProc",kt(V,"lambda",[],((a=function(t){var e,r,n,i=a.$$s||this;return null==t&&(t=xt),wt(e=wt(r=i["$is_delimited_block?"](t))?r:wt(n=t["$start_with?"]("["))?pt.const_get_relative(ht,"BlockAttributeLineRx")["$match?"](t):n)?e:pt.const_get_relative(ht,"AnyListRx")["$match?"](t)}).$$s=V,a.$$arity=1,a))),pt.const_set(ht[0],"NoOp",xt),pt.const_set(ht[0],"TableCellHorzAlignments",Et(["<",">","^"],{"<":"left",">":"right","^":"center"})),pt.const_set(ht[0],"TableCellVertAlignments",Et(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),pt.const_set(ht[0],"TableCellStyles",Et(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),pt.def(V,"$initialize",s=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},s.$$arity=0),pt.defs(V,"$parse",o=function(t,e,r){var n,i,$=xt,a=xt;if(null==r&&(r=Et([],{})),$=this.$parse_document_header(t,e),wt(r["$[]"]("header_only")));else for(;wt(t["$has_more_lines?"]());)i=this.$next_section(t,e,$),n=pt.to_ary(i),a=null==n[0]?xt:n[0],$=null==n[1]?xt:n[1],wt(a)&&e["$<<"](a);return e},o.$$arity=-3),pt.defs(V,"$parse_document_header",l=function(t,e){var r,n,i=xt,$=xt,a=xt,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt,h=xt;return i=this.$parse_block_metadata_lines(t,e),wt(wt(r=$=this["$is_next_line_doctitle?"](t,i,e.$attributes()["$[]"]("leveloffset")))?i["$key?"]("title"):r)?e.$finalize_header(i,!1):(a=xt,wt((s=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(o=[a=s],kt(e,"title=",pt.to_a(o)),o[gt(o.length,1)]),l=xt,wt($)&&(wt(e.$sourcemap())&&(c=t.$cursor()),n=this.$parse_section_title(t,e),r=pt.to_ary(n),e["$id="](null==r[0]?xt:r[0]),null==r[1]||r[1],_=null==r[2]?xt:r[2],null==r[3]||r[3],u=null==r[4]?xt:r[4],wt(a)||(o=[a=_],kt(e,"title=",pt.to_a(o)),o[gt(o.length,1)]),wt(wt(r=u)?r:e["$attribute_locked?"]("compat-mode"))||e.$set_attr("compat-mode"),wt(d=i.$delete("separator"))&&(wt(e["$attribute_locked?"]("title-separator"))||e.$set_attr("title-separator",d)),wt(c)&&(o=[c],kt(e.$header(),"source_location=",pt.to_a(o)),o[gt(o.length,1)]),o=["doctitle",l=_],kt(e.$attributes(),"[]=",pt.to_a(o)),o[gt(o.length,1)],wt(e.$id())?(i.$delete(1),i.$delete("id")):(wt(f=i.$delete(1))&&(h=Z(1,f),this.$parse_style_attribute(h,t),wt(h["$key?"]("id"))&&(o=["id",h["$[]"]("id")],kt(i,"[]=",pt.to_a(o)),o[gt(o.length,1)])),o=[i.$delete("id")],kt(e,"id=",pt.to_a(o)),o[gt(o.length,1)]),this.$parse_header_metadata(t,e)),wt(wt(r=(s=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?r:s["$=="](l))||(o=[a=s],kt(e,"title=",pt.to_a(o)),o[gt(o.length,1)]),wt(a)&&(o=["doctitle",a],kt(e.$attributes(),"[]=",pt.to_a(o)),o[gt(o.length,1)]),e.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(t,e),e.$finalize_header(i))},l.$$arity=2),pt.defs(V,"$parse_manpage_header",c=function(t,e){var r,n=xt,i=xt,$=xt;return wt(pt.const_get_relative(ht,"ManpageTitleVolnumRx")["$=~"](e.$attributes()["$[]"]("doctitle")))?(n=["mantitle",e.$sub_attributes(((r=At["~"])===xt?xt:r["$[]"](1)).$downcase())],kt(e.$attributes(),"[]=",pt.to_a(n)),n[gt(n.length,1)],n=["manvolnum",(r=At["~"])===xt?xt:r["$[]"](2)]):(this.$warn("asciidoctor: ERROR: "+t.$prev_line_info()+": malformed manpage title"),n=["mantitle",e.$attributes()["$[]"]("doctitle")],kt(e.$attributes(),"[]=",pt.to_a(n)),n[gt(n.length,1)],n=["manvolnum","1"]),kt(e.$attributes(),"[]=",pt.to_a(n)),n[gt(n.length,1)],t.$skip_blank_lines(),wt(this["$is_next_line_section?"](t,Et([],{})))?this.$initialize_section(t,e,Et([],{})).$level()["$=="](1)?(i=vt(t.$read_lines_until(Et(["break_on_blank_lines"],{break_on_blank_lines:!0}))," "),wt($=pt.const_get_relative(ht,"ManpageNamePurposeRx").$match(i))?(n=["manname",e.$sub_attributes($["$[]"](1))],kt(e.$attributes(),"[]=",pt.to_a(n)),n[gt(n.length,1)],n=["manpurpose",$["$[]"](2)],kt(e.$attributes(),"[]=",pt.to_a(n)),n[gt(n.length,1)],e.$backend()["$=="]("manpage")?(n=["docname",e.$attributes()["$[]"]("manname")],kt(e.$attributes(),"[]=",pt.to_a(n)),n[gt(n.length,1)],n=["outfilesuffix","."+e.$attributes()["$[]"]("manvolnum")],kt(e.$attributes(),"[]=",pt.to_a(n)),n[gt(n.length,1)]):xt):this.$warn("asciidoctor: ERROR: "+t.$prev_line_info()+": malformed name section body")):this.$warn("asciidoctor: ERROR: "+t.$prev_line_info()+": name section title must be at level 1"):this.$warn("asciidoctor: ERROR: "+t.$prev_line_info()+": name section expected")},c.$$arity=2),pt.defs(V,"$next_section",_=function(t,e,r){var n,i,$,a=this,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt,h=xt,p=xt,g=xt,v=xt,m=xt,y=xt,b=xt,x=xt,k=xt;for(null==r&&(r=Et([],{})),s=o=l=!1,wt(wt(n=(i=e.$context()["$=="]("document"))?e.$blocks()["$empty?"]():e.$context()["$=="]("document"))?wt(i=wt($=c=e["$has_header?"]())?$:r.$delete("invalid-header"))?i:a["$is_next_line_section?"](t,r)["$!"]():n)?(_=(u=e).$doctype(),wt(wt(n=c)?n:(i=_["$=="]("book"))?r["$[]"](1)["$!="]("abstract"):_["$=="]("book"))&&(s=o=pt.const_get_relative(ht,"Block").$new(e,"preamble",Et(["content_model"],{content_model:"compound"})),wt((n=_["$=="]("book"))?e["$attr?"]("preface-title"):_["$=="]("book"))&&(d=[e.$attr("preface-title")],kt(s,"title=",pt.to_a(d)),d[gt(d.length,1)]),e["$<<"](s)),h=0,p=wt((f=e).$attributes()["$key?"]("fragment"))?xt:_["$=="]("book")?[0,1]:[1]):(_=(u=e.$document()).$doctype(),f=a.$initialize_section(t,e,r),r=wt(g=r["$[]"]("title"))?Et(["title"],{title:g}):Et([],{}),l=f.$sectname()["$=="]("part"),p=[mt(h=f.$level(),1)]),t.$skip_blank_lines();wt(t["$has_more_lines?"]());){if(a.$parse_block_metadata_lines(t,u,r),wt(v=a["$is_next_line_section?"](t,r))){if(wt(u["$attr?"]("leveloffset"))&&(v=mt(v,u.$attr("leveloffset").$to_i())),!wt(wt(i=yt(v,h))?i:($=v["$=="](0))?f.$context()["$=="]("document"):v["$=="](0))){wt((i=v["$=="](0))?_["$!="]("book"):v["$=="](0))&&a.$warn("asciidoctor: ERROR: "+t.$line_info()+": only book doctypes can contain level 0 sections");break}wt((i=v["$=="](0))?_["$!="]("book"):v["$=="](0))?a.$warn("asciidoctor: ERROR: "+t.$line_info()+": only book doctypes can contain level 0 sections"):wt(wt(i=p)?p["$include?"](v)["$!"]():i)&&a.$warn("asciidoctor: WARNING: "+t.$line_info()+": section title out of sequence: expected "+(wt(yt(p.$size(),1))?"levels":"level")+" "+vt(p," or ")+", got level "+v),$=a.$next_section(t,f,r),i=pt.to_ary($),m=null==i[0]?xt:i[0],r=null==i[1]?xt:i[1],f["$<<"](m)}else y=t.$line_info(),wt(b=a.$next_block(t,wt(i=o)?i:f,r,Et(["parse_metadata"],{parse_metadata:!1})))&&(wt(l)&&(wt(f["$blocks?"]()["$!"]())?wt(b.$style()["$!="]("partintro"))&&(b.$context()["$=="]("paragraph")?(d=["open"],kt(b,"context=",pt.to_a(d)),d[gt(d.length,1)],d=["partintro"],kt(b,"style=",pt.to_a(d)),d[gt(d.length,1)]):(o=pt.const_get_relative(ht,"Block").$new(f,"open",Et(["content_model"],{content_model:"compound"})),d=["partintro"],kt(o,"style=",pt.to_a(d)),d[gt(d.length,1)],d=[o],kt(b,"parent=",pt.to_a(d)),d[gt(d.length,1)],f["$<<"](o))):f.$blocks().$size()["$=="](1)&&(x=f.$blocks()["$[]"](0),wt(wt(i=o["$!"]())?x.$content_model()["$=="]("compound"):i)?a.$warn("asciidoctor: ERROR: "+y+": illegal block content outside of partintro block"):wt(x.$content_model()["$!="]("compound"))&&(o=pt.const_get_relative(ht,"Block").$new(f,"open",Et(["content_model"],{content_model:"compound"})),d=["partintro"],kt(o,"style=",pt.to_a(d)),d[gt(d.length,1)],f.$blocks().$shift(),x.$style()["$=="]("partintro")&&(d=["paragraph"],kt(x,"context=",pt.to_a(d)),d[gt(d.length,1)],d=[xt],kt(x,"style=",pt.to_a(d)),d[gt(d.length,1)]),d=[o],kt(x,"parent=",pt.to_a(d)),d[gt(d.length,1)],o["$<<"](x),d=[o],kt(b,"parent=",pt.to_a(d)),d[gt(d.length,1)],f["$<<"](o)))),(wt(i=o)?i:f)["$<<"](b),r=Et([],{}));if(!wt(i=t.$skip_blank_lines()))break}if(wt(l))wt(wt(n=f["$blocks?"]())?f.$blocks()["$[]"](-1).$context()["$=="]("section"):n)||a.$warn("asciidoctor: ERROR: "+t.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(wt(s))if(wt(s["$blocks?"]())){if(wt(wt(n=wt(i=pt.const_get_relative(ht,"Compliance").$unwrap_standalone_preamble())?u.$blocks().$size()["$=="](1):i)?_["$!="]("book"):n))for(u.$blocks().$shift();wt(k=s.$blocks().$shift());)d=[u],kt(k,"parent=",pt.to_a(d)),d[gt(d.length,1)],u["$<<"](k)}else u.$blocks().$shift();return[wt(f["$!="](e))?f:xt,r.$dup()]},_.$$arity=-3),pt.defs(V,"$next_block",u=function(t,e,n,r){try{var i,$,a,s,o,l,c,_,u,d,f=this,h=xt,p=xt,g=xt,v=xt,m=xt,y=xt,b=xt,x=xt,k=xt,w=xt,E=xt,A=xt,O=xt,S=xt,R=xt,T=xt,M=xt,C=xt,I=xt,q=xt,N=xt,z=xt,D=xt,B=xt,F=xt,P=xt,L=xt,j=xt,U=xt,H=xt,G=xt,Y=xt,W=xt,X=xt,K=xt,V=xt,J=xt,Z=xt,Q=xt,tt=xt,et=xt,rt=xt,nt=xt,it=xt,$t=xt,at=xt,st=xt,ot=xt,lt=xt,ct=xt,_t=xt,ut=xt,dt=xt,ft=xt;if(null==n&&(n=Et([],{})),null==r&&(r=Et([],{})),!wt(h=t.$skip_blank_lines()))return xt;if(wt(wt(i=p=r["$[]"]("text"))?yt(h,0):i)&&(r.$delete("text"),p=!1),g=e.$document(),wt(r.$fetch("parse_metadata",!0)))for(;wt(f.$parse_block_metadata_line(t,g,n,r));)t.$shift(),wt($=t.$skip_blank_lines())||pt.ret(xt);if(wt(v=g.$extensions())&&(i=[v["$blocks?"](),v["$block_macros?"]()],m=i[0],y=i[1]),wt(g.$sourcemap())&&(b=t.$cursor()),i=[t.$path(),t.$lineno(),t.$read_line(),pt.const_get_relative(ht,"ListItem")["$==="](e)],x=i[0],k=i[1],w=i[2],E=i[3],A=O=S=R=xt,T=wt(n["$[]"](1))?f.$parse_style_attribute(n,t):xt,wt(M=f["$is_delimited_block?"](w,!0))&&(O=S=M.$context(),R=M.$terminator(),wt(T["$!"]())?(C=["style",O.$to_s()],kt(n,"[]=",pt.to_a(C)),T=C[gt(C.length,1)]):wt(T["$!="](O.$to_s()))&&(wt(M.$masq()["$include?"](T))?O=T.$to_sym():wt(wt(i=M.$masq()["$include?"]("admonition"))?pt.const_get_relative(ht,"ADMONITION_STYLES")["$include?"](T):i)?O="admonition":wt(wt(i=m)?v["$registered_for_block?"](T,O):i)?O=T.$to_sym():(f.$warn("asciidoctor: WARNING: "+x+": line "+k+": invalid style for "+O+" block: "+T),T=O.$to_s()))),wt(M));else for(;wt(!0);){if(wt(wt($=wt(a=T)?pt.const_get_relative(ht,"Compliance").$strict_verbatim_paragraphs():a)?pt.const_get_relative(ht,"VERBATIM_STYLES")["$include?"](T):$)){O=T.$to_sym(),t.$unshift_line(w);break}if(wt(p))I=w["$start_with?"](" ",pt.const_get_relative(ht,"TAB"));else if(q=pt.const_get_relative(ht,"Compliance").$markdown_syntax(),wt(w["$start_with?"](" "))){if(I=($=[!0," "])[0],N=$[1],wt(wt($=wt(a=q)?kt(w.$lstrip(),"start_with?",pt.to_a(pt.const_get_relative(ht,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):a)?pt.const_get_relative(ht,"MarkdownThematicBreakRx")["$match?"](w):$)){A=pt.const_get_relative(ht,"Block").$new(e,"thematic_break",Et(["content_model"],{content_model:"empty"}));break}}else if(wt(w["$start_with?"](pt.const_get_relative(ht,"TAB"))))$=[!0,pt.const_get_relative(ht,"TAB")],I=$[0],N=$[1];else{if($=[!1,w.$chr()],I=$[0],N=$[1],z=wt(q)?pt.const_get_relative(ht,"HYBRID_LAYOUT_BREAK_CHARS"):pt.const_get_relative(ht,"LAYOUT_BREAK_CHARS"),wt(wt($=z["$key?"](N))?wt(q)?pt.const_get_relative(ht,"ExtLayoutBreakRx")["$match?"](w):(a=w["$=="](vt(N,D=w.$length())))?yt(D,2):w["$=="](vt(N,D=w.$length())):$)){A=pt.const_get_relative(ht,"Block").$new(e,z["$[]"](N),Et(["content_model"],{content_model:"empty"}));break}if(wt(wt($=w["$end_with?"]("]"))?w["$include?"]("::"):$)){if(wt(wt($=wt(a=N["$=="]("i"))?a:w["$start_with?"]("video:","audio:"))?B=pt.const_get_relative(ht,"BlockMediaMacroRx").$match(w):$)){if($=[B["$[]"](1).$to_sym(),B["$[]"](2)],F=$[0],P=$[1],A=pt.const_get_relative(ht,"Block").$new(e,F,Et(["content_model"],{content_model:"empty"})),j="video"["$==="](L=F)?["poster","width","height"]:"audio"["$==="](L)?[]:["alt","width","height"],A.$parse_attributes(B["$[]"](3),j,Et(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:n})),wt(n["$key?"]("style"))&&n.$delete("style"),wt(wt($=P["$include?"](pt.const_get_relative(ht,"ATTR_REF_HEAD")))?(P=A.$sub_attributes(P,Et(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():$))return g.$attributes().$fetch("attribute-missing",pt.const_get_relative(ht,"Compliance").$attribute_missing())["$=="]("skip")?pt.const_get_relative(ht,"Block").$new(e,"paragraph",Et(["content_model","source"],{content_model:"simple",source:[w]})):(n.$clear(),xt);F["$=="]("image")&&(A.$document().$register("images",P),wt($=n["$[]"]("alt"))||(C=["alt",wt(a=T)?a:(C=["default-alt",pt.const_get_relative(ht,"Helpers").$basename(P,!0).$tr("_-"," ")],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)])],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),wt((U=n.$delete("scaledwidth"))["$nil_or_empty?"]())||(C=["scaledwidth",wt(pt.const_get_relative(ht,"TrailingDigitsRx")["$match?"](U))?U+"%":U],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),C=[n.$delete("title")],kt(A,"title=",pt.to_a(C)),C[gt(C.length,1)],A.$assign_caption(n.$delete("caption"),"figure")),C=["target",P],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)];break}if(wt(wt($=(a=N["$=="]("t"))?w["$start_with?"]("toc:"):N["$=="]("t"))?B=pt.const_get_relative(ht,"BlockTocMacroRx").$match(w):$)){(A=pt.const_get_relative(ht,"Block").$new(e,"toc",Et(["content_model"],{content_model:"empty"}))).$parse_attributes(B["$[]"](1),[],Et(["sub_result","into"],{sub_result:!1,into:n}));break}if(wt(wt($=wt(a=y)?B=pt.const_get_relative(ht,"CustomBlockMacroRx").$match(w):a)?H=v["$registered_for_block_macro?"](B["$[]"](1)):$)){if(P=B["$[]"](2),G=B["$[]"](3),H.$config()["$[]"]("content_model")["$=="]("attributes")?wt(G["$empty?"]())||g.$parse_attributes(G,wt($=H.$config()["$[]"]("pos_attrs"))?$:[],Et(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:n})):(C=["text",G],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),wt(Y=H.$config()["$[]"]("default_attrs"))&&kt(n,"update",[Y],((s=function(t,e){return s.$$s,null==t&&(t=xt),null==e&&(e=xt),e}).$$s=f,s.$$arity=2,s)),wt(A=H.$process_method()["$[]"](e,P,n))){n.$replace(A.$attributes());break}return n.$clear(),xt}}}if(wt(wt($=wt(a=wt(o=I["$!"]())?pt.const_get_relative(ht,"CALLOUT_LIST_HEADS")["$include?"](N=wt(l=N)?l:w.$chr()):o)?pt.const_get_relative(ht,"CalloutListSniffRx")["$match?"](w):a)?B=pt.const_get_relative(ht,"CalloutListRx").$match(w):$)){for(A=pt.const_get_relative(ht,"List").$new(e,"colist"),C=["style","arabic"],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)],t.$unshift_line(w),W=1;wt(wt(a=B)?a:wt(o=t["$has_more_lines?"]())?B=pt.const_get_relative(ht,"CalloutListRx").$match(t.$peek_line()):o);)X=t.$lineno(),B["$[]"](1)["$=="](W.$to_s())||f.$warn("asciidoctor: WARNING: "+t.$path()+": line "+X+": callout list item index: expected "+W+" got "+B["$[]"](1)),wt(K=f.$next_list_item(t,A,B))&&(A["$<<"](K),wt((V=g.$callouts().$callout_ids(A.$items().$size()))["$empty?"]())?f.$warn("asciidoctor: WARNING: "+t.$path()+": line "+X+": no callouts refer to list item "+A.$items().$size()):(C=["coids",V],kt(K.$attributes(),"[]=",pt.to_a(C)),C[gt(C.length,1)])),W=mt(W,1),B=xt;g.$callouts().$next_list();break}if(wt(pt.const_get_relative(ht,"UnorderedListRx")["$match?"](w))){t.$unshift_line(w),A=f.$next_item_list(t,"ulist",e),(wt($=T)?$:wt(a=pt.const_get_relative(ht,"Section")["$==="](e))?e.$sectname():a)["$=="]("bibliography")&&(wt(T)||(C=["style","bibliography"],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),kt(A.$items(),"each",[],((c=function(t){var e=c.$$s||this;return null==t&&(t=xt),e.$catalog_inline_biblio_anchor(t.$instance_variable_get("@text"),t,g)}).$$s=f,c.$$arity=1,c)));break}if(wt(B=pt.const_get_relative(ht,"OrderedListRx").$match(w))){t.$unshift_line(w),A=f.$next_item_list(t,"olist",e),wt(T)||(J=A.$items()["$[]"](0).$marker(),C=wt(J["$start_with?"]("."))?["style",(wt($=pt.const_get_relative(ht,"ORDERED_LIST_STYLES")["$[]"](gt(J.$length(),1)))?$:"arabic").$to_s()]:["style",(wt($=kt(pt.const_get_relative(ht,"ORDERED_LIST_STYLES"),"find",[],(_=function(t){return _.$$s,null==t&&(t=xt),pt.const_get_relative(ht,"OrderedListMarkerRxMap")["$[]"](t)["$match?"](J)},_.$$s=f,_.$$arity=1,_)))?$:"arabic").$to_s()],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]);break}if(wt(B=pt.const_get_relative(ht,"DescriptionListRx").$match(w))){t.$unshift_line(w),A=f.$next_description_list(t,B,e);break}if(wt(wt($=wt(a=T["$=="]("float"))?a:T["$=="]("discrete"))?wt(pt.const_get_relative(ht,"Compliance").$underline_style_section_titles())?f["$is_section_title?"](w,t.$peek_line()):wt(a=I["$!"]())?f["$atx_section_title?"](w):a:$)){t.$unshift_line(w),a=f.$parse_section_title(t,g),$=pt.to_ary(a),Z=null==$[0]?xt:$[0],Q=null==$[1]?xt:$[1],tt=null==$[2]?xt:$[2],et=null==$[3]?xt:$[3],null==$[4]||$[4],wt(Q)&&(C=["reftext",Q],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),A=pt.const_get_relative(ht,"Block").$new(e,"floating_title",Et(["content_model"],{content_model:"empty"})),C=[tt],kt(A,"title=",pt.to_a(C)),C[gt(C.length,1)],n.$delete("title"),C=[wt($=wt(a=Z)?a:n["$[]"]("id"))?$:wt(g.$attributes()["$key?"]("sectids"))?pt.const_get_relative(ht,"Section").$generate_id(A.$title(),g):xt],kt(A,"id=",pt.to_a(C)),C[gt(C.length,1)],C=[et],kt(A,"level=",pt.to_a(C)),C[gt(C.length,1)];break}if(wt(wt($=T)?T["$!="]("normal"):$)){if(wt(pt.const_get_relative(ht,"PARAGRAPH_STYLES")["$include?"](T))){O=T.$to_sym(),S="paragraph",t.$unshift_line(w);break}if(wt(pt.const_get_relative(ht,"ADMONITION_STYLES")["$include?"](T))){O="admonition",S="paragraph",t.$unshift_line(w);break}if(wt(wt($=m)?v["$registered_for_block?"](T,"paragraph"):$)){O=T.$to_sym(),S="paragraph",t.$unshift_line(w);break}f.$warn("asciidoctor: WARNING: "+x+": line "+k+": invalid style for paragraph: "+T),T=xt}if(rt=($=h["$=="](0))?E:h["$=="](0),t.$unshift_line(w),wt(wt($=I)?T["$!"]():$))nt=f.$read_paragraph_lines(t,rt,Et(["skip_line_comments"],{skip_line_comments:p})),f["$adjust_indentation!"](nt),A=pt.const_get_relative(ht,"Block").$new(e,"literal",Et(["content_model","source","attributes"],{content_model:"verbatim",source:nt,attributes:n})),wt(E)&&A.$set_option("listparagraph");else{if(nt=f.$read_paragraph_lines(t,rt,Et(["skip_line_comments"],{skip_line_comments:!0})),wt(p))wt(wt($=I)?T["$=="]("normal"):$)&&f["$adjust_indentation!"](nt),A=pt.const_get_relative(ht,"Block").$new(e,"paragraph",Et(["content_model","source","attributes"],{content_model:"simple",source:nt,attributes:n}));else if(wt(wt($=wt(a=pt.const_get_relative(ht,"ADMONITION_STYLE_HEADS")["$include?"](N))?w["$include?"](":"):a)?pt.const_get_relative(ht,"AdmonitionParagraphRx")["$=~"](w):$))C=[0,($=At["~"])===xt?xt:$.$post_match()],kt(nt,"[]=",pt.to_a(C)),C[gt(C.length,1)],C=["name",it=(C=["style",($=At["~"])===xt?xt:$["$[]"](1)],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]).$downcase()],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)],C=["textlabel",wt($=n.$delete("caption"))?$:g.$attributes()["$[]"](it+"-caption")],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)],A=pt.const_get_relative(ht,"Block").$new(e,"admonition",Et(["content_model","source","attributes"],{content_model:"simple",source:nt,attributes:n}));else if(wt(wt($=wt(a=q)?N["$=="](">"):a)?w["$start_with?"]("> "):$)){if(kt(nt,"map!",[],((u=function(t){return u.$$s,null==t&&(t=xt),t["$=="](">")?t["$[]"](Ot(1,-1,!1)):wt(t["$start_with?"]("> "))?t["$[]"](Ot(2,-1,!1)):t}).$$s=f,u.$$arity=1,u)),wt(nt["$[]"](-1)["$start_with?"]("-- ")))for(a=nt.$pop()["$[]"](Ot(3,-1,!1)).$split(", ",2),$=pt.to_ary(a),$t=null==$[0]?xt:$[0],at=null==$[1]?xt:$[1],wt($t)&&(C=["attribution",$t],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),wt(at)&&(C=["citetitle",at],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]);wt(nt["$[]"](-1)["$empty?"]());)nt.$pop();C=["style","quote"],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)],A=f.$build_block("quote","compound",!1,e,pt.const_get_relative(ht,"Reader").$new(nt),n)}else if(wt(wt($=wt(a=(o=N["$=="]('"'))?yt(nt.$size(),1):N["$=="]('"'))?nt["$[]"](-1)["$start_with?"]("-- "):a)?nt["$[]"](-2)["$end_with?"]('"'):$)){for(C=[0,w["$[]"](Ot(1,-1,!1))],kt(nt,"[]=",pt.to_a(C)),C[gt(C.length,1)],a=nt.$pop()["$[]"](Ot(3,-1,!1)).$split(", ",2),$=pt.to_ary(a),$t=null==$[0]?xt:$[0],at=null==$[1]?xt:$[1],wt($t)&&(C=["attribution",$t],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),wt(at)&&(C=["citetitle",at],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]);wt(nt["$[]"](-1)["$empty?"]());)nt.$pop();C=[-1,nt["$[]"](-1).$chop()],kt(nt,"[]=",pt.to_a(C)),C[gt(C.length,1)],C=["style","quote"],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)],A=pt.const_get_relative(ht,"Block").$new(e,"quote",Et(["content_model","source","attributes"],{content_model:"simple",source:nt,attributes:n}))}else wt(wt($=I)?T["$=="]("normal"):$)&&f["$adjust_indentation!"](nt),A=pt.const_get_relative(ht,"Block").$new(e,"paragraph",Et(["content_model","source","attributes"],{content_model:"simple",source:nt,attributes:n}));f.$catalog_inline_anchors(vt(nt,pt.const_get_relative(ht,"LF")),A,g)}break}if(wt(A));else if(wt(wt(i=O["$=="]("abstract"))?i:O["$=="]("partintro"))&&(O="open"),"admonition"["$==="](L=O))C=["name",it=T.$downcase()],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)],C=["textlabel",wt(i=n.$delete("caption"))?i:g.$attributes()["$[]"](it+"-caption")],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)],A=f.$build_block(O,"compound",R,e,t,n);else{if("comment"["$==="](L))return f.$build_block(O,"skip",R,e,t,n),n.$clear(),xt;if("example"["$==="](L))A=f.$build_block(O,"compound",R,e,t,n);else if("listing"["$==="](L)||"literal"["$==="](L))A=f.$build_block(O,"verbatim",R,e,t,n);else if("source"["$==="](L))pt.const_get_relative(ht,"AttributeList").$rekey(n,[xt,"language","linenums"]),wt(n["$key?"]("language"))||wt(g.$attributes()["$key?"]("source-language"))&&(C=["language",wt(i=g.$attributes()["$[]"]("source-language"))?i:"text"],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),wt(n["$key?"]("linenums"))||wt(wt(i=n["$key?"]("linenums-option"))?i:g.$attributes()["$key?"]("source-linenums-option"))&&(C=["linenums",""],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),wt(n["$key?"]("indent"))||wt(g.$attributes()["$key?"]("source-indent"))&&(C=["indent",g.$attributes()["$[]"]("source-indent")],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),A=f.$build_block("listing","verbatim",R,e,t,n);else if("fenced_code"["$==="](L))C=["style","source"],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)],(D=w.$length())["$=="](3)?st=xt:wt(ot=(st=w.$slice(3,D)).$index(","))?wt(yt(ot,0))?(st=st.$slice(0,ot).$strip(),wt(bt(ot,gt(D,4)))&&(C=["linenums",""],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)])):(st=xt,wt(yt(D,4))&&(C=["linenums",""],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)])):st=st.$lstrip(),wt(st["$nil_or_empty?"]())?wt(g.$attributes()["$key?"]("source-language"))&&(C=["language",wt(i=g.$attributes()["$[]"]("source-language"))?i:"text"],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]):(C=["language",st],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),wt(n["$key?"]("linenums"))||wt(wt(i=n["$key?"]("linenums-option"))?i:g.$attributes()["$key?"]("source-linenums-option"))&&(C=["linenums",""],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),wt(n["$key?"]("indent"))||wt(g.$attributes()["$key?"]("source-indent"))&&(C=["indent",g.$attributes()["$[]"]("source-indent")],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),R=R.$slice(0,3),A=f.$build_block("listing","verbatim",R,e,t,n);else if("pass"["$==="](L))A=f.$build_block(O,"raw",R,e,t,n);else if("stem"["$==="](L)||"latexmath"["$==="](L)||"asciimath"["$==="](L))O["$=="]("stem")&&(C=["style",wt(lt=n["$[]"](2))?wt(lt["$include?"]("tex"))?"latexmath":"asciimath":wt((ct=g.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":ct],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),A=f.$build_block("stem","raw",R,e,t,n);else if("open"["$==="](L)||"sidebar"["$==="](L))A=f.$build_block(O,"compound",R,e,t,n);else if("table"["$==="](L))_t=pt.const_get_relative(ht,"Reader").$new(t.$read_lines_until(Et(["terminator","skip_line_comments"],{terminator:R,skip_line_comments:!0})),t.$cursor()),wt(R["$start_with?"]("|","!"))||wt(i=n["$[]"]("format"))||(C=["format",wt(R["$start_with?"](","))?"csv":"dsv"],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),A=f.$next_table(_t,e,n);else if("quote"["$==="](L)||"verse"["$==="](L))pt.const_get_relative(ht,"AttributeList").$rekey(n,[xt,"attribution","citetitle"]),A=f.$build_block(O,O["$=="]("verse")?"verbatim":"compound",R,e,t,n);else if(wt(wt(i=m)?H=v["$registered_for_block?"](O,S):i)){if(wt((ut=H.$config()["$[]"]("content_model"))["$!="]("skip"))&&(wt((dt=wt(i=H.$config()["$[]"]("pos_attrs"))?i:[])["$empty?"]()["$!"]())&&pt.const_get_relative(ht,"AttributeList").$rekey(n,[xt].$concat(dt)),wt(Y=H.$config()["$[]"]("default_attrs"))&&kt(Y,"each",[],((d=function(t,e){var r;return d.$$s,null==t&&(t=xt),null==e&&(e=xt),wt(r=n["$[]"](t))?r:(C=[t,e],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)])}).$$s=f,d.$$arity=2,d)),C=["cloaked-context",S],kt(n,"[]=",pt.to_a(C)),C[gt(C.length,1)]),A=f.$build_block(O,ut,R,e,t,n,Et(["extension"],{extension:H})),!wt(A))return n.$clear(),xt}else f.$raise("Unsupported block type "+O+" at "+t.$line_info())}return wt(b)&&(C=[b],kt(A,"source_location=",pt.to_a(C)),C[gt(C.length,1)]),wt(n["$key?"]("title"))&&(C=[n.$delete("title")],kt(A,"title=",pt.to_a(C)),C[gt(C.length,1)]),C=[n["$[]"]("style")],kt(A,"style=",pt.to_a(C)),C[gt(C.length,1)],wt(ft=wt(i=A.$id())?i:(C=[n["$[]"]("id")],kt(A,"id=",pt.to_a(C)),C[gt(C.length,1)]))&&(wt(g.$register("refs",[ft,A,wt(i=n["$[]"]("reftext"))?i:wt(A["$title?"]())?A.$title():xt]))||f.$warn("asciidoctor: WARNING: "+x+": line "+k+": id assigned to block already in use: "+ft)),wt(n["$empty?"]())||A.$attributes().$update(n),A.$lock_in_subs(),wt(A["$sub?"]("callouts"))&&(wt(f.$catalog_callouts(A.$source(),g))||A.$remove_sub("callouts")),A}catch(t){if(t===pt.returner)return t.$v;throw t}},u.$$arity=-3),pt.defs(V,"$read_paragraph_lines",d=function(t,e,r){var n=xt,i=xt;return null==r&&(r=Et([],{})),n=["break_on_blank_lines",!0],kt(r,"[]=",pt.to_a(n)),n[gt(n.length,1)],n=["break_on_list_continuation",!0],kt(r,"[]=",pt.to_a(n)),n[gt(n.length,1)],n=["preserve_last_line",!0],kt(r,"[]=",pt.to_a(n)),n[gt(n.length,1)],i=wt(e)?wt(pt.const_get_relative(ht,"Compliance").$block_terminates_paragraph())?pt.const_get_relative(ht,"StartOfBlockOrListProc"):pt.const_get_relative(ht,"StartOfListProc"):wt(pt.const_get_relative(ht,"Compliance").$block_terminates_paragraph())?pt.const_get_relative(ht,"StartOfBlockProc"):pt.const_get_relative(ht,"NoOp"),kt(t,"read_lines_until",[r],i.$to_proc())},d.$$arity=-3),pt.defs(V,"$is_delimited_block?",f=function(t,e){var r,n,i,$,a=xt,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt;if(null==e&&(e=!1),!wt(wt(r=yt(a=t.$length(),1))?pt.const_get_relative(ht,"DELIMITED_BLOCK_HEADS")["$include?"](t.$slice(0,2)):r))return xt;if(a["$=="](2))s=t,o=2;else{if(wt(($=4,"number"==typeof(i=a)&&"number"==typeof $?i<=$:i["$<="]($)))?(s=t,o=a):(s=t.$slice(0,4),o=4),l=!1,wt(pt.const_get_relative(ht,"Compliance").$markdown_syntax())&&(c=o["$=="](4)?s.$chop():s)["$=="]("```")){if(wt((r=o["$=="](4))?s["$end_with?"]("`"):o["$=="](4)))return xt;s=c,o=3,l=!0}if(wt((r=o["$=="](3))?l["$!"]():o["$=="](3)))return xt}return wt(pt.const_get_relative(ht,"DELIMITED_BLOCKS")["$key?"](s))?wt(wt(r=bt(o,4))?r:o["$=="](a))?!wt(e)||(n=pt.const_get_relative(ht,"DELIMITED_BLOCKS")["$[]"](s),r=pt.to_ary(n),_=null==r[0]?xt:r[0],u=null==r[1]?xt:r[1],pt.const_get_relative(ht,"BlockMatchData").$new(_,u,s,s)):(""+s+vt(s["$[]"](Ot(-1,-1,!1)),gt(a,o)))["$=="](t)?!wt(e)||(n=pt.const_get_relative(ht,"DELIMITED_BLOCKS")["$[]"](s),r=pt.to_ary(n),_=null==r[0]?xt:r[0],u=null==r[1]?xt:r[1],pt.const_get_relative(ht,"BlockMatchData").$new(_,u,s,t)):xt:xt},f.$$arity=-2),pt.defs(V,"$build_block",h=function(t,e,r,n,i,$,a){var s,o,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt,h=xt,p=xt,g=xt;if(null==a&&(a=Et([],{})),l=e["$=="]("skip")?(s=[!0,"simple"])[0]:e["$=="]("raw")?(s=[!1,"simple"])[0]:(s=[!1,e])[0],c=s[1],wt(r["$nil?"]())?(c["$=="]("verbatim")?_=i.$read_lines_until(Et(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(e["$=="]("compound")&&(e="simple"),_=this.$read_paragraph_lines(i,!1,Et(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:l}))),u=xt):wt(c["$!="]("compound"))?(_=i.$read_lines_until(Et(["terminator","skip_processing"],{terminator:r,skip_processing:l})),u=xt):r["$=="](!1)?(_=xt,u=i):(_=xt,u=pt.const_get_relative(ht,"Reader").$new(i.$read_lines_until(Et(["terminator","skip_processing"],{terminator:r,skip_processing:l})),i.$cursor())),e["$=="]("verbatim"))wt(d=$["$[]"]("indent"))?this["$adjust_indentation!"](_,d,wt(s=$["$[]"]("tabsize"))?s:n.$document().$attributes()["$[]"]("tabsize")):wt(yt(f=(wt(s=$["$[]"]("tabsize"))?s:n.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))&&this["$adjust_indentation!"](_,xt,f);else if(e["$=="]("skip"))return xt;if(wt(h=a["$[]"]("extension"))){if($.$delete("style"),!wt(p=h.$process_method()["$[]"](n,wt(s=u)?s:pt.const_get_relative(ht,"Reader").$new(_),$.$dup())))return xt;$.$replace(p.$attributes()),wt((s=p.$content_model()["$=="]("compound"))?(_=p.$lines())["$nil_or_empty?"]()["$!"]():p.$content_model()["$=="]("compound"))&&(e="compound",u=pt.const_get_relative(ht,"Reader").$new(_))}else p=pt.const_get_relative(ht,"Block").$new(n,t,Et(["content_model","source","attributes"],{content_model:e,source:_,attributes:$}));return wt(wt(s=wt(o=$["$key?"]("title"))?p.$context()["$!="]("admonition"):o)?n.$document().$attributes()["$key?"](p.$context()+"-caption"):s)&&(g=[$.$delete("title")],kt(p,"title=",pt.to_a(g)),g[gt(g.length,1)],p.$assign_caption($.$delete("caption"))),e["$=="]("compound")&&this.$parse_blocks(u,p),p},h.$$arity=-7),pt.defs(V,"$parse_blocks",p=function(t,e){for(var r,n,i=xt;wt(wt(r=wt(n=i=this.$next_block(t,e))?e["$<<"](i):n)?r:t["$has_more_lines?"]()););},p.$$arity=2),pt.defs(V,"$next_item_list",g=function(t,e,r){var n,i=xt,$=xt,a=xt,s=xt,o=xt,l=xt,c=xt;for(i=pt.const_get_relative(ht,"List").$new(r,e),$=r.$context()["$=="](e)?[mt(r.$level(),1)]:[1],kt(i,"level=",pt.to_a($)),$[gt($.length,1)];wt(wt(n=t["$has_more_lines?"]())?a=pt.const_get_relative(ht,"ListRxMap")["$[]"](e).$match(t.$peek_line()):n);){if(s=this.$resolve_list_marker(e,a["$[]"](1)),wt(wt(n=i["$items?"]())?s["$!="](i.$items()["$[]"](0).$marker()):n))for(o=mt(i.$level(),1),l=r;l.$context()["$=="](e);){if(s["$=="](l.$items()["$[]"](0).$marker())){o=l.$level();break}l=l.$parent()}else o=i.$level();if(wt(wt(n=i["$items?"]()["$!"]())?n:o["$=="](i.$level())))c=this.$next_list_item(t,i,a);else{if(wt(bt(o,i.$level())))break;wt(yt(o,i.$level()))&&i.$items()["$[]"](-1)["$<<"](this.$next_block(t,i))}if(wt(c)&&i["$<<"](c),c=xt,!wt(n=t.$skip_blank_lines()))break}return i},g.$$arity=3),pt.defs(V,"$catalog_callouts",v=function(t,n){var i,$=xt;return $=!1,wt(t["$include?"]("<"))&&kt(t,"scan",[pt.const_get_relative(ht,"CalloutScanRx")],((i=function(){i.$$s;var t,e,r=xt;return t=[(e=At["~"])===xt?xt:e["$[]"](0),(e=At["~"])===xt?xt:e["$[]"](2)],r=t[1],wt(t[0]["$start_with?"]("\\"))||n.$callouts().$register(r),$=!0}).$$s=this,i.$$arity=0,i)),$},v.$$arity=2),pt.defs(V,"$catalog_inline_anchors",m=function(t,i,$){var e,a;return wt(wt(e=t["$include?"]("[["))?e:t["$include?"]("or:"))&&kt(t,"scan",[pt.const_get_relative(ht,"InlineAnchorScanRx")],((a=function(){var t,e=a.$$s||this,r=xt,n=xt;if(wt(r=(t=At["~"])===xt?xt:t["$[]"](1))){if(wt(n=(t=At["~"])===xt?xt:t["$[]"](2))&&wt(wt(t=n["$include?"](pt.const_get_relative(ht,"ATTR_REF_HEAD")))?(n=$.$sub_attributes(n))["$empty?"]():t))return xt}else if(r=(t=At["~"])===xt?xt:t["$[]"](3),wt(n=(t=At["~"])===xt?xt:t["$[]"](4))&&(wt(n["$include?"]("]"))&&(n=n.$gsub("\\]","]")),wt(wt(t=n["$include?"](pt.const_get_relative(ht,"ATTR_REF_HEAD")))?(n=$.$sub_attributes(n))["$empty?"]():t)))return xt;return wt($.$register("refs",[r,pt.const_get_relative(ht,"Inline").$new(i,"anchor",n,Et(["type","id"],{type:"ref",id:r})),n]))?xt:e.$warn("asciidoctor: WARNING: "+$.$reader().$path()+": id assigned to anchor already in use: "+r)}).$$s=this,a.$$arity=0,a)),xt},m.$$arity=3),pt.defs(V,"$catalog_inline_biblio_anchor",y=function(t,e,r){var n,i,$=xt,a=xt;return wt(pt.const_get_relative(ht,"InlineBiblioAnchorRx")["$=~"](t))&&(wt(r.$register("refs",[$=(n=At["~"])===xt?xt:n["$[]"](1),pt.const_get_relative(ht,"Inline").$new(e,"anchor",a="["+(wt(n=(i=At["~"])===xt?xt:i["$[]"](2))?n:$)+"]",Et(["type","id"],{type:"bibref",id:$})),a]))||this.$warn("asciidoctor: WARNING: "+r.$reader().$path()+": id assigned to bibliography anchor already in use: "+$)),xt},y.$$arity=3),pt.defs(V,"$next_description_list",b=function(t,e,r){var n,i,$=xt,a=xt,s=xt,o=xt,l=xt;for($=pt.const_get_relative(ht,"List").$new(r,"dlist"),a=xt,s=pt.const_get_relative(ht,"DescriptionListSiblingRx")["$[]"](e["$[]"](2));wt(wt(n=e)?n:wt(i=t["$has_more_lines?"]())?e=s.$match(t.$peek_line()):i);)i=this.$next_list_item(t,$,e,s),n=pt.to_ary(i),o=null==n[0]?xt:n[0],l=null==n[1]?xt:n[1],wt(wt(n=a)?a["$[]"](-1)["$!"]():n)?(a.$pop(),a["$[]"](0)["$<<"](o),a["$<<"](l)):$.$items()["$<<"](a=[[o],l]),e=xt;return $},b.$$arity=3),pt.defs(V,"$next_list_item",x=function(t,e,r,n){var i,$,a,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt,h=xt,p=xt,g=xt,v=xt,m=xt,y=xt,b=xt;if(null==n&&(n=xt),(s=e.$context())["$=="]("dlist")?(o=pt.const_get_relative(ht,"ListItem").$new(e,r["$[]"](1)),l=pt.const_get_relative(ht,"ListItem").$new(e,r["$[]"](3)),c=r["$[]"](3)["$nil_or_empty?"]()["$!"]()):(_=r["$[]"](2),u=!1,wt((i=s["$=="]("ulist"))?_["$start_with?"]("["):s["$=="]("ulist"))&&(wt(_["$start_with?"]("[ ] "))?(d=!(u=!0),_=_["$[]"](Ot(3,-1,!1)).$lstrip()):wt(_["$start_with?"]("[x] ","[*] "))&&(d=u=!0,_=_["$[]"](Ot(3,-1,!1)).$lstrip())),l=pt.const_get_relative(ht,"ListItem").$new(e,_),wt(u)&&(f=["checklist-option",""],kt(e.$attributes(),"[]=",pt.to_a(f)),f[gt(f.length,1)],f=["checkbox",""],kt(l.$attributes(),"[]=",pt.to_a(f)),f[gt(f.length,1)],wt(d)&&(f=["checked",""],kt(l.$attributes(),"[]=",pt.to_a(f)),f[gt(f.length,1)])),n=wt(i=n)?i:this.$resolve_list_marker(s,r["$[]"](1),e.$items().$size(),!0,t),f=[n],kt(l,"marker=",pt.to_a(f)),f[gt(f.length,1)],c=!0),t.$shift(),h=pt.const_get_relative(ht,"Reader").$new(this.$read_lines_for_list_item(t,s,n,c),t.$cursor()),wt(h["$has_more_lines?"]())){for(p=h.$skip_line_comments(),wt(g=h.$peek_line())?(wt(p["$empty?"]())||h.$unshift_lines(p),wt(v=g["$empty?"]())?m=!1:(m=!0,s["$=="]("dlist")||(c=!1))):m=v=!1,y=Et(["text"],{text:c["$!"]()});wt(wt($=wt(a=b=this.$next_block(h,l,Et([],{}),y))?l["$<<"](b):a)?$:h["$has_more_lines?"]()););l.$fold_first(v,m)}return s["$=="]("dlist")?wt(wt(i=l["$text?"]())?i:l["$blocks?"]())?[o,l]:[o,xt]:l},x.$$arity=-4),pt.defs(V,"$read_lines_for_list_item",k=function(t,r,n,e){var i,$,a,s,o,l,c,_,u=xt,d=xt,f=xt,h=xt,p=xt,g=xt,v=xt,m=xt,y=xt;for(null==n&&(n=xt),null==e&&(e=!0),u=[],f=!(d="inactive"),h=xt;wt(t["$has_more_lines?"]())&&(p=t.$read_line(),!wt(this["$is_sibling_list_item?"](p,r,n)));)if((g=wt(u["$empty?"]())?xt:u["$[]"](-1))["$=="](pt.const_get_relative(ht,"LIST_CONTINUATION"))&&(d["$=="]("inactive")&&(d="active",e=!0,wt(f)||(v=[-1,""],kt(u,"[]=",pt.to_a(v)),v[gt(v.length,1)])),p["$=="](pt.const_get_relative(ht,"LIST_CONTINUATION"))))wt(d["$!="]("frozen"))&&(d="frozen",u["$<<"](p)),p=xt;else{if(wt(m=this["$is_delimited_block?"](p,!0))){if(!d["$=="]("active"))break;u["$<<"](p),u.$concat(t.$read_lines_until(Et(["terminator","read_last_line"],{terminator:m.$terminator(),read_last_line:!0}))),d="inactive"}else{if(wt(wt($=(a=r["$=="]("dlist"))?d["$!="]("active"):r["$=="]("dlist"))?pt.const_get_relative(ht,"BlockAttributeLineRx")["$match?"](p):$))break;if(wt(($=d["$=="]("active"))?p["$empty?"]()["$!"]():d["$=="]("active")))wt(pt.const_get_relative(ht,"LiteralParagraphRx")["$match?"](p))?(t.$unshift_line(p),u.$concat(kt(t,"read_lines_until",[Et(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((s=function(t){var e=s.$$s||this;return null==t&&(t=xt),r["$=="]("dlist")?e["$is_sibling_list_item?"](t,r,n):r["$=="]("dlist")}).$$s=this,s.$$arity=1,s))),d="inactive"):wt(wt($=wt(a=pt.const_get_relative(ht,"BlockTitleRx")["$match?"](p))?a:pt.const_get_relative(ht,"BlockAttributeLineRx")["$match?"](p))?$:pt.const_get_relative(ht,"AttributeEntryRx")["$match?"](p))?u["$<<"](p):(wt(y=kt(wt(f)?["dlist"]:pt.const_get_relative(ht,"NESTABLE_LIST_CONTEXTS"),"find",[],((o=function(t){return o.$$s,null==t&&(t=xt),pt.const_get_relative(ht,"ListRxMap")["$[]"](t)["$match?"](p)}).$$s=this,o.$$arity=1,o)))&&(f=!0,wt(($=y["$=="]("dlist"))?((a=At["~"])===xt?xt:a["$[]"](3))["$nil_or_empty?"]():y["$=="]("dlist"))&&(e=!1)),u["$<<"](p),d="inactive");else if(wt(wt($=g)?g["$empty?"]():$)){if(wt(p["$empty?"]())){if(!wt(p=wt($=t.$skip_blank_lines())?t.$read_line():$))break;if(wt(this["$is_sibling_list_item?"](p,r,n)))break}if(p["$=="](pt.const_get_relative(ht,"LIST_CONTINUATION")))h=u.$size(),u["$<<"](p);else if(wt(e)){if(wt(this["$is_sibling_list_item?"](p,r,n)))break;if(wt(y=kt(pt.const_get_relative(ht,"NESTABLE_LIST_CONTEXTS"),"find",[],((l=function(t){return l.$$s,null==t&&(t=xt),pt.const_get_relative(ht,"ListRxMap")["$[]"](t)["$=~"](p)}).$$s=this,l.$$arity=1,l))))u["$<<"](p),f=!0,wt(($=y["$=="]("dlist"))?((a=At["~"])===xt?xt:a["$[]"](3))["$nil_or_empty?"]():y["$=="]("dlist"))&&(e=!1);else{if(!wt(pt.const_get_relative(ht,"LiteralParagraphRx")["$match?"](p)))break;t.$unshift_line(p),u.$concat(kt(t,"read_lines_until",[Et(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((c=function(t){var e=c.$$s||this;return null==t&&(t=xt),r["$=="]("dlist")?e["$is_sibling_list_item?"](t,r,n):r["$=="]("dlist")}).$$s=this,c.$$arity=1,c)))}}else wt(f)||u.$pop(),u["$<<"](p),e=!0}else wt(p["$empty?"]()["$!"]())&&(e=!0),wt(y=kt(wt(f)?["dlist"]:pt.const_get_relative(ht,"NESTABLE_LIST_CONTEXTS"),"find",[],((_=function(t){return _.$$s,null==t&&(t=xt),pt.const_get_relative(ht,"ListRxMap")["$[]"](t)["$=~"](p)}).$$s=this,_.$$arity=1,_)))&&(f=!0,wt(($=y["$=="]("dlist"))?((a=At["~"])===xt?xt:a["$[]"](3))["$nil_or_empty?"]():y["$=="]("dlist"))&&(e=!1)),u["$<<"](p)}p=xt}for(wt(p)&&t.$unshift_line(p),wt(h)&&u.$delete_at(h);wt(wt($=u["$empty?"]()["$!"]())?u["$[]"](-1)["$empty?"]():$);)u.$pop();return wt(wt(i=u["$empty?"]()["$!"]())?u["$[]"](-1)["$=="](pt.const_get_relative(ht,"LIST_CONTINUATION")):i)&&u.$pop(),u},k.$$arity=-3),pt.defs(V,"$initialize_section",w=function(t,e,r){var n,i,$=this,a=xt,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt,h=xt,p=xt,g=xt,v=xt,m=xt,y=xt;return null==r&&(r=Et([],{})),a=e.$document(),wt(a.$sourcemap())&&(s=t.$cursor()),i=$.$parse_section_title(t,a),n=pt.to_ary(i),o=null==n[0]?xt:n[0],l=null==n[1]?xt:n[1],c=null==n[2]?xt:n[2],_=null==n[3]?xt:n[3],u=null==n[4]?xt:n[4],wt(l)?(d=["reftext",l],kt(r,"[]=",pt.to_a(d)),d[gt(d.length,1)]):wt(r["$key?"]("reftext"))&&(l=r["$[]"]("reftext")),f=wt(r["$[]"](1))?$.$parse_style_attribute(r,t):xt,wt(f)?wt((n=f["$=="]("abstract"))?a.$doctype()["$=="]("book"):f["$=="]("abstract"))?(h=(n=["chapter",1])[0],_=n[1]):(h=(n=[f,!0])[0],p=n[1],_["$=="](0)&&(_=1),g=f["$=="]("appendix")):(v=a.$doctype(),"book"["$==="](v)?h=_["$=="](0)?"part":_["$=="](1)?"chapter":"section":"manpage"["$==="](v)&&c.$casecmp("synopsis")["$=="](0)?(h=(n=["synopsis",!0])[0],p=n[1]):h="section"),m=pt.const_get_relative(ht,"Section").$new(e,_,!1),n=[o,c,h,s],m["$id="](n[0]),m["$title="](n[1]),m["$sectname="](n[2]),m["$source_location="](n[3]),wt(p)?(d=[!0],kt(m,"special=",pt.to_a(d)),d[gt(d.length,1)],wt(g)&&(d=[!0],kt(m,"numbered=",pt.to_a(d)),d[gt(d.length,1)])):wt(wt(n=yt(_,0))?a.$attributes()["$key?"]("sectnums"):n)&&(d=[!wt(m.$special())||((n=e.$context()["$=="]("section"))?e.$numbered():e.$context()["$=="]("section"))],kt(m,"numbered=",pt.to_a(d)),d[gt(d.length,1)]),wt(y=wt(n=m.$id())?n:(d=[wt(i=r["$[]"]("id"))?i:wt(a.$attributes()["$key?"]("sectids"))?pt.const_get_relative(ht,"Section").$generate_id(m.$title(),a):xt],kt(m,"id=",pt.to_a(d)),d[gt(d.length,1)]))&&(wt(a.$register("refs",[y,m,wt(n=l)?n:m.$title()]))||$.$warn("asciidoctor: WARNING: "+t.$path()+": line "+gt(t.$lineno(),wt(u)?1:2)+": id assigned to section already in use: "+y)),m.$update_attributes(r),t.$skip_blank_lines(),m},w.$$arity=-3),pt.defs(V,"$is_next_line_section?",E=function(t,e){var r,n,i=xt;return wt(wt(r=wt(n=i=e["$[]"](1))?i["$start_with?"]("discrete","float"):n)?pt.const_get_relative(ht,"DiscreteHeadingStyleRx")["$match?"](i):r)?xt:wt(t["$has_more_lines?"]())?wt(pt.const_get_relative(ht,"Compliance").$underline_style_section_titles())?kt(this,"is_section_title?",pt.to_a(t.$peek_lines(2,wt(r=i)?i["$=="]("comment"):r))):this["$atx_section_title?"](t.$peek_line()):xt},E.$$arity=2),pt.defs(V,"$is_next_line_doctitle?",A=function(t,e,r){var n,i=xt;return wt(r)?wt(n=i=this["$is_next_line_section?"](t,e))?mt(i,r.$to_i())["$=="](0):n:this["$is_next_line_section?"](t,e)["$=="](0)},A.$$arity=3),pt.defs(V,"$is_section_title?",O=function(t,e){var r,n=this;return null==e&&(e=xt),wt(r=n["$atx_section_title?"](t))?r:wt(e["$nil_or_empty?"]())?xt:n["$setext_section_title?"](t,e)},O.$$arity=-2),pt.defs(V,"$atx_section_title?",S=function(t){var e;return wt(wt(pt.const_get_relative(ht,"Compliance").$markdown_syntax())?wt(e=t["$start_with?"]("=","#"))?pt.const_get_relative(ht,"ExtAtxSectionTitleRx")["$=~"](t):e:wt(e=t["$start_with?"]("="))?pt.const_get_relative(ht,"AtxSectionTitleRx")["$=~"](t):e)?gt(((e=At["~"])===xt?xt:e["$[]"](1)).$length(),1):xt},S.$$arity=1),pt.defs(V,"$setext_section_title?",R=function(t,e){var r,n,i,$=xt,a=xt,s=xt;return wt(wt(r=wt(n=wt(i=$=pt.const_get_relative(ht,"SETEXT_SECTION_LEVELS")["$[]"](a=e.$chr()))?vt(a,s=e.$length())["$=="](e):i)?pt.const_get_relative(ht,"SetextSectionTitleRx")["$match?"](t):n)?bt(gt(this.$line_length(t),s).$abs(),2):r)?$:xt},R.$$arity=2),pt.defs(V,"$parse_section_title",T=function(t,e){var r,n,i,$,a,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt,h=xt;return s=o=xt,l=t.$read_line(),wt(wt(pt.const_get_relative(ht,"Compliance").$markdown_syntax())?wt(r=l["$start_with?"]("=","#"))?pt.const_get_relative(ht,"ExtAtxSectionTitleRx")["$=~"](l):r:wt(r=l["$start_with?"]("="))?pt.const_get_relative(ht,"AtxSectionTitleRx")["$=~"](l):r)?(r=[gt(((n=At["~"])===xt?xt:n["$[]"](1)).$length(),1),(n=At["~"])===xt?xt:n["$[]"](2),!0],c=r[0],_=r[1],u=r[2],wt(wt(r=wt(n=_["$end_with?"]("]]"))?pt.const_get_relative(ht,"InlineSectionAnchorRx")["$=~"](_):n)?((n=At["~"])===xt?xt:n["$[]"](1))["$!"]():r)&&(r=[_.$slice(0,gt(_.$length(),((n=At["~"])===xt?xt:n["$[]"](0)).$length())),(n=At["~"])===xt?xt:n["$[]"](2),(n=At["~"])===xt?xt:n["$[]"](3)],_=r[0],s=r[1],o=r[2])):wt(wt(r=wt(n=wt(i=wt($=wt(a=pt.const_get_relative(ht,"Compliance").$underline_style_section_titles())?d=t.$peek_line(!0):a)?c=pt.const_get_relative(ht,"SETEXT_SECTION_LEVELS")["$[]"](f=d.$chr()):$)?vt(f,h=d.$length())["$=="](d):i)?_=wt(i=pt.const_get_relative(ht,"SetextSectionTitleRx")["$=~"](l))?($=At["~"])===xt?xt:$["$[]"](1):i:n)?bt(gt(this.$line_length(l),h).$abs(),2):r)?(u=!1,wt(wt(r=wt(n=_["$end_with?"]("]]"))?pt.const_get_relative(ht,"InlineSectionAnchorRx")["$=~"](_):n)?((n=At["~"])===xt?xt:n["$[]"](1))["$!"]():r)&&(r=[_.$slice(0,gt(_.$length(),((n=At["~"])===xt?xt:n["$[]"](0)).$length())),(n=At["~"])===xt?xt:n["$[]"](2),(n=At["~"])===xt?xt:n["$[]"](3)],_=r[0],s=r[1],o=r[2]),t.$shift()):this.$raise("Unrecognized section at "+t.$prev_line_info()),wt(e["$attr?"]("leveloffset"))&&(c=mt(c,e.$attr("leveloffset").$to_i())),[s,o,_,c,u]},T.$$arity=2),wt(pt.const_get_relative(ht,"FORCE_UNICODE_LINE_LENGTH"))?pt.defs(V,"$line_length",M=function(t){return t.$scan(pt.const_get_relative(ht,"UnicodeCharScanRx")).$size()},M.$$arity=1):pt.defs(V,"$line_length",C=function(t){return t.$length()},C.$$arity=1),pt.defs(V,"$parse_header_metadata",I=function(t,n){var e,i,r,$,a=this,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt,h=xt,p=xt,g=xt,v=xt,m=xt,y=xt,b=xt,x=xt;if(null==n&&(n=xt),a.$process_attribute_entries(t,n),e=[Et([],{}),xt,xt],s=e[0],o=e[1],l=e[2],wt(wt(e=t["$has_more_lines?"]())?t["$next_line_empty?"]()["$!"]():e)&&(wt((c=a.$process_authors(t.$read_line()))["$empty?"]())||(wt(n)&&(kt(c,"each",[],((i=function(t,e){i.$$s;var r=xt;return null==t&&(t=xt),null==e&&(e=xt),wt(n.$attributes()["$key?"](t))?xt:(r=[t,wt(pt.const_get_qualified("::","String")["$==="](e))?n.$apply_header_subs(e):e],kt(n.$attributes(),"[]=",pt.to_a(r)),r[gt(r.length,1)])}).$$s=a,i.$$arity=2,i)),o=n.$attributes()["$[]"]("author"),l=n.$attributes()["$[]"]("authors")),s=c),a.$process_attribute_entries(t,n),_=Et([],{}),wt(wt(e=t["$has_more_lines?"]())?t["$next_line_empty?"]()["$!"]():e)&&(u=t.$read_line(),wt(d=pt.const_get_relative(ht,"RevisionInfoLineRx").$match(u))?(wt(d["$[]"](1))&&(f=["revnumber",d["$[]"](1).$rstrip()],kt(_,"[]=",pt.to_a(f)),f[gt(f.length,1)]),wt((h=d["$[]"](2).$strip())["$empty?"]())||(f=wt(wt(e=d["$[]"](1)["$!"]())?h["$start_with?"]("v"):e)?["revnumber",h["$[]"](Ot(1,-1,!1))]:["revdate",h],kt(_,"[]=",pt.to_a(f)),f[gt(f.length,1)]),wt(d["$[]"](3))&&(f=["revremark",d["$[]"](3).$rstrip()],kt(_,"[]=",pt.to_a(f)),f[gt(f.length,1)])):t.$unshift_line(u)),wt(_["$empty?"]())||(wt(n)&&kt(_,"each",[],((r=function(t,e){return r.$$s,null==t&&(t=xt),null==e&&(e=xt),wt(n.$attributes()["$key?"](t))?xt:(f=[t,n.$apply_header_subs(e)],kt(n.$attributes(),"[]=",pt.to_a(f)),f[gt(f.length,1)])}).$$s=a,r.$$arity=2,r)),s.$update(_)),a.$process_attribute_entries(t,n),t.$skip_blank_lines()),wt(n)){if(wt(wt(e=n.$attributes()["$key?"]("author"))?(p=n.$attributes()["$[]"]("author"))["$!="](o):e))c=a.$process_authors(p,!0,!1);else if(wt(wt(e=n.$attributes()["$key?"]("authors"))?(p=n.$attributes()["$[]"]("authors"))["$!="](l):e))c=a.$process_authors(p,!0);else{for(g=(e=[[],1,"author_1",!1,!1])[0],v=e[1],m=e[2],y=e[3],b=e[4];wt(n.$attributes()["$key?"](m));)(x=n.$attributes()["$[]"](m))["$=="](c["$[]"](m))?(g["$<<"](xt),b=!0):(g["$<<"](x),y=!0),m="author_"+(v=mt(v,1));wt(y)?(wt(b)&&kt(g,"each_with_index",[],(($=function(t,e){var r,n=$.$$s||this,i=xt;return null==t&&(t=xt),null==e&&(e=xt),wt(t)?xt:(f=[e,vt(kt([c["$[]"]("firstname_"+(i=mt(e,1))),c["$[]"]("middlename_"+i),c["$[]"]("lastname_"+i)].$compact(),"map",[],(r=function(t){return r.$$s,null==t&&(t=xt),t.$tr(" ","_")},r.$$s=n,r.$$arity=1,r))," ")],kt(g,"[]=",pt.to_a(f)),f[gt(f.length,1)])}).$$s=a,$.$$arity=2,$)),c=a.$process_authors(g,!0,!1)):c=Et([],{})}wt(c["$empty?"]())||(n.$attributes().$update(c),wt(wt(e=n.$attributes()["$key?"]("email")["$!"]())?n.$attributes()["$key?"]("email_1"):e)&&(f=["email",n.$attributes()["$[]"]("email_1")],kt(n.$attributes(),"[]=",pt.to_a(f)),f[gt(f.length,1)]))}return s},I.$$arity=-2),pt.defs(V,"$process_authors",q=function(t,h,e){var r,p,n=this,g=xt,v=xt,i=xt;return null==h&&(h=!1),null==e&&(e=!0),g=Et([],{}),v=["author","authorinitials","firstname","middlename","lastname","email"],i=wt(e)?kt(t.$split(";"),"map",[],((r=function(t){return r.$$s,null==t&&(t=xt),t.$strip()}).$$s=n,r.$$arity=1,r)):n.$Array(t),kt(i,"each_with_index",[],((p=function(t,r){var n,i,e,$,a=p.$$s||this,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt;return null==t&&(t=xt),null==r&&(r=xt),wt(t["$empty?"]())?xt:(s=Et([],{}),r["$=="](0)?kt(v,"each",[],((n=function(t){n.$$s;var e=xt;return null==t&&(t=xt),e=[t.$to_sym(),t],kt(s,"[]=",pt.to_a(e)),e[gt(e.length,1)]}).$$s=a,n.$$arity=1,n)):kt(v,"each",[],((i=function(t){i.$$s;var e=xt;return null==t&&(t=xt),e=[t.$to_sym(),t+"_"+mt(r,1)],kt(s,"[]=",pt.to_a(e)),e[gt(e.length,1)]}).$$s=a,i.$$arity=1,i)),o=xt,wt(h)?(wt(t["$include?"]("<"))&&(l=[s["$[]"]("author"),t.$tr("_"," ")],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)],t=t.$gsub(pt.const_get_relative(ht,"XmlSanitizeRx"),"")),(o=t.$split(xt,3)).$size()["$=="](3)&&o["$<<"](o.$pop().$squeeze(" "))):wt(c=pt.const_get_relative(ht,"AuthorInfoLineRx").$match(t))&&(o=c.$to_a()).$shift(),wt(o)?(l=[s["$[]"]("firstname"),u=o["$[]"](0).$tr("_"," ")],kt(g,"[]=",pt.to_a(l)),_=l[gt(l.length,1)],l=[s["$[]"]("authorinitials"),u.$chr()],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)],wt(o["$[]"](1))&&(wt(o["$[]"](2))?(l=[s["$[]"]("middlename"),d=o["$[]"](1).$tr("_"," ")],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)],l=[s["$[]"]("lastname"),f=o["$[]"](2).$tr("_"," ")],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)],_=mt(mt(mt(mt(u," "),d)," "),f),l=[s["$[]"]("authorinitials"),""+u.$chr()+d.$chr()+f.$chr()]):(l=[s["$[]"]("lastname"),f=o["$[]"](1).$tr("_"," ")],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)],_=mt(mt(u," "),f),l=[s["$[]"]("authorinitials"),""+u.$chr()+f.$chr()]),kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)]),wt(e=g["$[]"](s["$[]"]("author")))||(l=[s["$[]"]("author"),_],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)]),wt(wt(e=h)?e:o["$[]"](3)["$!"]())||(l=[s["$[]"]("email"),o["$[]"](3)],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)])):(l=[s["$[]"]("author"),(l=[s["$[]"]("firstname"),u=t.$squeeze(" ").$strip()],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)])],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)],l=[s["$[]"]("authorinitials"),u.$chr()],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)]),l=["authorcount",mt(r,1)],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)],r["$=="](1)&&kt(v,"each",[],(($=function(t){return $.$$s,null==t&&(t=xt),wt(g["$key?"](t))?(l=[t+"_1",g["$[]"](t)],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)]):xt}).$$s=a,$.$$arity=1,$)),l=r["$=="](0)?["authors",g["$[]"](s["$[]"]("author"))]:["authors",g["$[]"]("authors")+", "+g["$[]"](s["$[]"]("author"))],kt(g,"[]=",pt.to_a(l)),l[gt(l.length,1)])}).$$s=n,p.$$arity=2,p)),g},q.$$arity=-2),pt.defs(V,"$parse_block_metadata_lines",N=function(t,e,r,n){for(null==r&&(r=Et([],{})),null==n&&(n=Et([],{}));wt(this.$parse_block_metadata_line(t,e,r,n))&&(t.$shift(),wt(t.$skip_blank_lines())););return r},N.$$arity=-3),pt.defs(V,"$parse_block_metadata_line",z=function(t,e,r,n){var i,$,a=xt,s=xt,o=xt,l=xt,c=xt;return null==At["~"]&&(At["~"]=xt),null==n&&(n=Et([],{})),wt(wt(i=a=t.$peek_line())?wt(n["$[]"]("text"))?a["$start_with?"]("[","/"):s=a["$start_with?"]("[",".","/",":"):i)?wt(a["$start_with?"]("["))?wt(a["$start_with?"]("[["))?wt(wt(i=a["$end_with?"]("]]"))?pt.const_get_relative(ht,"BlockAnchorRx")["$=~"](a):i)?(o=["id",(i=At["~"])===xt?xt:i["$[]"](1)],kt(r,"[]=",pt.to_a(o)),o[gt(o.length,1)],wt(l=(i=At["~"])===xt?xt:i["$[]"](2))&&(o=["reftext",wt(l["$include?"](pt.const_get_relative(ht,"ATTR_REF_HEAD")))?e.$sub_attributes(l):l],kt(r,"[]=",pt.to_a(o)),o[gt(o.length,1)]),!0):xt:wt(wt(i=a["$end_with?"]("]"))?pt.const_get_relative(ht,"BlockAttributeListRx")["$=~"](a):i)?(e.$parse_attributes((i=At["~"])===xt?xt:i["$[]"](1),[],Et(["sub_input","into"],{sub_input:!0,into:r})),!0):xt:wt(wt(i=s)?a["$start_with?"]("."):i)?wt(pt.const_get_relative(ht,"BlockTitleRx")["$=~"](a))?(o=["title",(i=At["~"])===xt?xt:i["$[]"](1)],kt(r,"[]=",pt.to_a(o)),o[gt(o.length,1)],!0):xt:wt(wt(i=s["$!"]())?i:a["$start_with?"]("/"))?wt(a["$start_with?"]("//"))?!!a["$=="]("//")||(wt(wt(i=s)?vt("/",c=a.$length())["$=="](a):i)?c["$=="](3)?xt:(t.$read_lines_until(Et(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:a,skip_processing:!0})),!0):!wt(a["$start_with?"]("///"))||xt):xt:wt(wt(i=wt($=s)?a["$start_with?"](":"):$)?pt.const_get_relative(ht,"AttributeEntryRx")["$=~"](a):i)?(this.$process_attribute_entry(t,e,r,At["~"]),!0):xt:xt},z.$$arity=-4),pt.defs(V,"$process_attribute_entries",D=function(t,e,r){for(null==r&&(r=xt),t.$skip_comment_lines();wt(this.$process_attribute_entry(t,e,r));)t.$shift(),t.$skip_comment_lines()},D.$$arity=-3),pt.defs(V,"$process_attribute_entry",B=function(t,e,r,n){var i,$,a=xt,s=xt,o=xt,l=xt;if(null==r&&(r=xt),null==n&&(n=xt),wt(n=wt(i=n)?i:wt(t["$has_more_lines?"]())?pt.const_get_relative(ht,"AttributeEntryRx").$match(t.$peek_line()):xt)){if(wt((a=n["$[]"](2))["$nil_or_empty?"]()))a="";else if(wt(a["$end_with?"](pt.const_get_relative(ht,"LINE_CONTINUATION"),pt.const_get_relative(ht,"LINE_CONTINUATION_LEGACY"))))for(i=[a.$slice(-2,2),a.$slice(0,gt(a.$length(),2)).$rstrip()],s=i[0],a=i[1];wt(wt($=t.$advance())?(o=t.$peek_line().$lstrip())["$empty?"]()["$!"]():$)&&(wt(l=o["$end_with?"](s))&&(o=o.$slice(0,gt(o.$length(),2)).$rstrip()),a=""+a+(wt(a["$end_with?"](pt.const_get_relative(ht,"HARD_LINE_BREAK")))?pt.const_get_relative(ht,"LF"):" ")+o,wt(l)););return this.$store_attribute(n["$[]"](1),a,e,r),!0}return xt},B.$$arity=-3),pt.defs(V,"$store_attribute",F=function(t,e,r,n){var i,$=xt;return null==r&&(r=xt),null==n&&(n=xt),wt(t["$end_with?"]("!"))?(i=[t.$chop(),xt],t=i[0],e=i[1]):wt(t["$start_with?"]("!"))&&(i=[t.$slice(1,t.$length()),xt],t=i[0],e=i[1]),(t=this.$sanitize_attribute_name(t))["$=="]("numbered")&&(t="sectnums"),wt(r)?wt(e)?(t["$=="]("leveloffset")&&(wt(e["$start_with?"]("+"))?e=mt(r.$attr("leveloffset",0).$to_i(),(wt(i=e["$[]"](Ot(1,-1,!1)))?i:0).$to_i()).$to_s():wt(e["$start_with?"]("-"))&&(e=gt(r.$attr("leveloffset",0).$to_i(),(wt(i=e["$[]"](Ot(1,-1,!1)))?i:0).$to_i()).$to_s())),wt($=r.$set_attribute(t,e))&&(e=$,wt(n)&&pt.const_get_qualified(pt.const_get_relative(ht,"Document"),"AttributeEntry").$new(t,e).$save_to(n))):wt(wt(i=r.$delete_attribute(t))?n:i)&&pt.const_get_qualified(pt.const_get_relative(ht,"Document"),"AttributeEntry").$new(t,e).$save_to(n):wt(n)&&pt.const_get_qualified(pt.const_get_relative(ht,"Document"),"AttributeEntry").$new(t,e).$save_to(n),[t,e]},F.$$arity=-3),pt.defs(V,"$resolve_list_marker",P=function(t,e,r,n,i){return null==r&&(r=0),null==n&&(n=!1),null==i&&(i=xt),t["$=="]("olist")?wt(e["$start_with?"]("."))?e:this.$resolve_ordered_list_marker(e,r,n,i):t["$=="]("colist")?"<1>":e},P.$$arity=-3),pt.defs(V,"$resolve_ordered_list_marker",L=function(e,t,r,n){var i,$,a=xt,s=xt,o=xt;return null==t&&(t=0),null==r&&(r=!1),null==n&&(n=xt),a=s=xt,o=kt(pt.const_get_relative(ht,"ORDERED_LIST_STYLES"),"find",[],((i=function(t){return i.$$s,null==t&&(t=xt),pt.const_get_relative(ht,"OrderedListMarkerRxMap")["$[]"](t)["$match?"](e)}).$$s=this,i.$$arity=1,i)),"arabic"["$==="](o)?(wt(r)&&(a=mt(t,1),s=e.$to_i()),e="1."):"loweralpha"["$==="](o)?(wt(r)&&(a=mt("a"["$[]"](0).$ord(),t).$chr(),s=e.$chop()),e="a."):"upperalpha"["$==="](o)?(wt(r)&&(a=mt("A"["$[]"](0).$ord(),t).$chr(),s=e.$chop()),e="A."):"lowerroman"["$==="](o)?(wt(r)&&(a=mt(t,1),s=this.$roman_numeral_to_int(e.$chop())),e="i)"):"upperroman"["$==="](o)&&(wt(r)&&(a=mt(t,1),s=this.$roman_numeral_to_int(e.$chop())),e="I)"),wt(wt($=r)?a["$!="](s):$)&&this.$warn("asciidoctor: WARNING: "+n.$line_info()+": list item index: expected "+a+", got "+s),e},L.$$arity=-2),pt.defs(V,"$is_sibling_list_item?",j=function(t,e,r){var n=xt,i=xt,$=xt;return wt(pt.const_get_qualified("::","Regexp")["$==="](r))?(n=r,i=!1):(n=pt.const_get_relative(ht,"ListRxMap")["$[]"](e),i=r),!!wt($=n.$match(t))&&(!wt(i)||i["$=="](this.$resolve_list_marker(e,$["$[]"](1))))},j.$$arity=3),pt.defs(V,"$next_table",U=function(t,e,r){var n,i,$,a,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt,h=xt,p=xt,g=xt,v=xt,m=xt,y=xt,b=xt,x=xt;for(s=pt.const_get_relative(ht,"Table").$new(e,r),wt(r["$key?"]("title"))&&(o=[r.$delete("title")],kt(s,"title=",pt.to_a(o)),o[gt(o.length,1)],s.$assign_caption(r.$delete("caption"))),wt(wt(n=r["$key?"]("cols"))?(l=this.$parse_colspecs(r["$[]"]("cols")))["$empty?"]()["$!"]():n)&&(s.$create_columns(l),c=!0),_=wt(n=t.$skip_blank_lines())?n:0,u=pt.const_get_qualified(pt.const_get_relative(ht,"Table"),"ParserContext").$new(t,s,r),n=[u.$format(),-1,xt],d=n[0],f=n[1],h=n[2],wt(wt(n=wt(i=yt(_,0))?i:r["$key?"]("header-option"))?n:r["$key?"]("noheader-option"))||(p=!0),n=!1;n||wt(g=t.$read_line());){for(n=!1,wt(wt(i=yt(f=mt(f,1),0))?g["$empty?"]():i)?(g=xt,wt(h)&&(h=mt(h,1))):d["$=="]("psv")&&(wt(u["$starts_with_delimiter?"](g))?(g=g.$slice(1,g.$length()),u.$close_open_cell(),wt(h)&&(h=xt)):($=this.$parse_cellspec(g,"start",u.$delimiter()),i=pt.to_ary($),v=null==i[0]?xt:i[0],g=null==i[1]?xt:i[1],wt(v)?(u.$close_open_cell(v),wt(h)&&(h=xt)):wt(wt(i=h)?h["$=="](f):i)&&(p=(i=[!1,xt])[0],h=i[1]))),wt((i=f["$=="](0))?p:f["$=="](0))&&(wt(wt(i=t["$has_more_lines?"]())?t.$peek_line()["$empty?"]():i)?h=1:p=!1),i=!1;i||wt(!0);){if(i=!1,!wt(wt($=g)?m=u.$match_delimiter(g):$)){o=[""+u.$buffer()+g+pt.const_get_relative(ht,"LF")],kt(u,"buffer=",pt.to_a(o)),o[gt(o.length,1)],"csv"["$==="](y=d)?(o=[u.$buffer().$rstrip()+" "],kt(u,"buffer=",pt.to_a(o)),o[gt(o.length,1)],wt(u["$buffer_has_unclosed_quotes?"]())?(wt(wt($=h)?f["$=="](0):$)&&(p=($=[!1,xt])[0],h=$[1]),u.$keep_cell_open()):u.$close_cell(!0)):"dsv"["$==="](y)?u.$close_cell(!0):u.$keep_cell_open();break}if("csv"["$==="](y=d)){if(wt(u["$buffer_has_unclosed_quotes?"](m.$pre_match()))){if(wt((g=u.$skip_past_delimiter(m))["$empty?"]()))break;i=!0}o=[""+u.$buffer()+m.$pre_match()],kt(u,"buffer=",pt.to_a(o)),o[gt(o.length,1)]}else if("dsv"["$==="](y)){if(wt(m.$pre_match()["$end_with?"]("\\"))){if(wt((g=u.$skip_past_escaped_delimiter(m))["$empty?"]())){o=[""+u.$buffer()+pt.const_get_relative(ht,"LF")],kt(u,"buffer=",pt.to_a(o)),o[gt(o.length,1)],u.$keep_cell_open();break}i=!0}o=[""+u.$buffer()+m.$pre_match()],kt(u,"buffer=",pt.to_a(o)),o[gt(o.length,1)]}else{if(wt(m.$pre_match()["$end_with?"]("\\"))){if(wt((g=u.$skip_past_escaped_delimiter(m))["$empty?"]())){o=[""+u.$buffer()+pt.const_get_relative(ht,"LF")],kt(u,"buffer=",pt.to_a(o)),o[gt(o.length,1)],u.$keep_cell_open();break}i=!0}a=this.$parse_cellspec(m.$pre_match()),$=pt.to_ary(a),v=null==$[0]?xt:$[0],b=null==$[1]?xt:$[1],u.$push_cellspec(v),o=[""+u.$buffer()+b],kt(u,"buffer=",pt.to_a(o)),o[gt(o.length,1)]}wt((g=m.$post_match())["$empty?"]())&&(g=xt),u.$close_cell()}if(wt(u["$cell_open?"]()))wt(t["$has_more_lines?"]())||u.$close_cell(!0);else if(!wt(i=t.$skip_blank_lines()))break}return wt(wt(n=(x=s.$attributes(),wt(i=x["$[]"]("colcount"))?i:(o=["colcount",s.$columns().$size()],kt(x,"[]=",pt.to_a(o)),o[gt(o.length,1)]))["$=="](0))?n:c)||s.$assign_column_widths(),wt(p)&&(o=[!0],kt(s,"has_header_option=",pt.to_a(o)),o[gt(o.length,1)],o=["header-option",""],kt(r,"[]=",pt.to_a(o)),o[gt(o.length,1)],o=["options",wt(r["$key?"]("options"))?r["$[]"]("options")+",header":"header"],kt(r,"[]=",pt.to_a(o)),o[gt(o.length,1)]),s.$partition_header_footer(r),s},U.$$arity=3),pt.defs(V,"$parse_colspecs",H=function(t){var e,c,_=xt;return wt(t["$include?"](" "))&&(t=t.$delete(" ")),t["$=="](t.$to_i().$to_s())?kt(pt.const_get_qualified("::","Array"),"new",[t.$to_i()],((e=function(){return e.$$s,Et(["width"],{width:1})}).$$s=this,e.$$arity=0,e)):(_=[],kt(t.$split(",",-1),"each",[],((c=function(t){var e,r,n,i=c.$$s||this,$=xt,a=xt,s=xt,o=xt,l=xt;return null==t&&(t=xt),wt(t["$empty?"]())?_["$<<"](Et(["width"],{width:1})):wt($=pt.const_get_relative(ht,"ColumnSpecRx").$match(t))?(a=Et([],{}),wt($["$[]"](2))&&(r=$["$[]"](2).$split("."),e=pt.to_ary(r),s=null==e[0]?xt:e[0],o=null==e[1]?xt:e[1],wt(wt(e=s["$nil_or_empty?"]()["$!"]())?pt.const_get_relative(ht,"TableCellHorzAlignments")["$key?"](s):e)&&(l=["halign",pt.const_get_relative(ht,"TableCellHorzAlignments")["$[]"](s)],kt(a,"[]=",pt.to_a(l)),l[gt(l.length,1)]),wt(wt(e=o["$nil_or_empty?"]()["$!"]())?pt.const_get_relative(ht,"TableCellVertAlignments")["$key?"](o):e)&&(l=["valign",pt.const_get_relative(ht,"TableCellVertAlignments")["$[]"](o)],kt(a,"[]=",pt.to_a(l)),l[gt(l.length,1)])),l=["width",wt($["$[]"](3))?$["$[]"](3).$to_i():1],kt(a,"[]=",pt.to_a(l)),l[gt(l.length,1)],wt(wt(e=$["$[]"](4))?pt.const_get_relative(ht,"TableCellStyles")["$key?"]($["$[]"](4)):e)&&(l=["style",pt.const_get_relative(ht,"TableCellStyles")["$[]"]($["$[]"](4))],kt(a,"[]=",pt.to_a(l)),l[gt(l.length,1)]),wt($["$[]"](1))?kt(1,"upto",[$["$[]"](1).$to_i()],((n=function(){return n.$$s,_["$<<"](a.$dup())}).$$s=i,n.$$arity=0,n)):_["$<<"](a)):xt}).$$s=this,c.$$arity=1,c)),_)},H.$$arity=1),pt.defs(V,"$parse_cellspec",G=function(t,e,r){var n,i,$=xt,a=xt,s=xt,o=xt,l=xt,c=xt,_=xt;if(null==e&&(e="end"),null==r&&(r=xt),$=(n=[xt,""])[0],a=n[1],e["$=="]("start")){if(!wt(t["$include?"](r)))return[xt,t];if(i=t.$split(r,2),n=pt.to_ary(i),s=null==n[0]?xt:n[0],a=null==n[1]?xt:n[1],!wt($=pt.const_get_relative(ht,"CellSpecStartRx").$match(s)))return[xt,t];if(wt($["$[]"](0)["$empty?"]()))return[Et([],{}),a]}else{if(!wt($=pt.const_get_relative(ht,"CellSpecEndRx").$match(t)))return[Et([],{}),t];if(wt($["$[]"](0).$lstrip()["$empty?"]()))return[Et([],{}),t.$rstrip()];a=$.$pre_match()}return o=Et([],{}),wt($["$[]"](1))&&(i=$["$[]"](1).$split("."),n=pt.to_ary(i),l=null==n[0]?xt:n[0],c=null==n[1]?xt:n[1],l=wt(l["$nil_or_empty?"]())?1:l.$to_i(),c=wt(c["$nil_or_empty?"]())?1:c.$to_i(),$["$[]"](2)["$=="]("+")?(l["$=="](1)||(_=["colspan",l],kt(o,"[]=",pt.to_a(_)),_[gt(_.length,1)]),c["$=="](1)||(_=["rowspan",c],kt(o,"[]=",pt.to_a(_)),_[gt(_.length,1)])):$["$[]"](2)["$=="]("*")&&(l["$=="](1)||(_=["repeatcol",l],kt(o,"[]=",pt.to_a(_)),_[gt(_.length,1)]))),wt($["$[]"](3))&&(i=$["$[]"](3).$split("."),n=pt.to_ary(i),l=null==n[0]?xt:n[0],c=null==n[1]?xt:n[1],wt(wt(n=l["$nil_or_empty?"]()["$!"]())?pt.const_get_relative(ht,"TableCellHorzAlignments")["$key?"](l):n)&&(_=["halign",pt.const_get_relative(ht,"TableCellHorzAlignments")["$[]"](l)],kt(o,"[]=",pt.to_a(_)),_[gt(_.length,1)]),wt(wt(n=c["$nil_or_empty?"]()["$!"]())?pt.const_get_relative(ht,"TableCellVertAlignments")["$key?"](c):n)&&(_=["valign",pt.const_get_relative(ht,"TableCellVertAlignments")["$[]"](c)],kt(o,"[]=",pt.to_a(_)),_[gt(_.length,1)])),wt(wt(n=$["$[]"](4))?pt.const_get_relative(ht,"TableCellStyles")["$key?"]($["$[]"](4)):n)&&(_=["style",pt.const_get_relative(ht,"TableCellStyles")["$[]"]($["$[]"](4))],kt(o,"[]=",pt.to_a(_)),_[gt(_.length,1)]),[o,a]},G.$$arity=-2),pt.defs(V,"$parse_style_attribute",Y=function(e,i){var t,r,$,a,n,s=xt,o=xt,l=xt,c=xt,_=xt,u=xt,d=xt,f=xt,h=xt;return null==i&&(i=xt),wt(wt(t=wt(r=s=e["$[]"](1))?s["$include?"](" ")["$!"]():r)?pt.const_get_relative(ht,"Compliance").$shorthand_property_syntax():t)?(t=["style",[],Et([],{})],o=t[0],l=t[1],c=t[2],_=kt(this,"lambda",[],(($=function(){var t,e=$.$$s||this,r=xt,n=xt;return wt(l["$empty?"]())?o["$=="]("style")?xt:e.$warn("asciidoctor: WARNING:"+(wt(i)?" "+i.$prev_line_info()+":":xt)+" invalid empty "+o+" detected in style attribute"):("role"["$==="](r=o)||"option"["$==="](r)?(wt(t=c["$[]"](o))?t:(n=[o,[]],kt(c,"[]=",pt.to_a(n)),n[gt(n.length,1)]))["$<<"](l.$join()):("id"["$==="](r)&&wt(c["$key?"]("id"))&&e.$warn("asciidoctor: WARNING:"+(wt(i)?" "+i.$prev_line_info()+":":xt)+" multiple ids detected in style attribute"),n=[o,l.$join()],kt(c,"[]=",pt.to_a(n)),n[gt(n.length,1)]),l=[])}).$$s=this,$.$$arity=0,$)),kt(s,"each_char",[],((a=function(t){a.$$s;var e,r,n=xt;return null==t&&(t=xt),wt(wt(e=wt(r=t["$=="]("."))?r:t["$=="]("#"))?e:t["$=="]("%"))?(_.$call(),"."["$==="](n=t)?o="role":"#"["$==="](n)?o="id":"%"["$==="](n)?o="option":xt):l["$<<"](t)}).$$s=this,a.$$arity=1,a)),o["$=="]("style")?(u=["style",s],kt(e,"[]=",pt.to_a(u)),u[gt(u.length,1)]):(_.$call(),wt(c["$key?"]("style"))&&(u=["style",c["$[]"]("style")],kt(e,"[]=",pt.to_a(u)),d=u[gt(u.length,1)]),wt(c["$key?"]("id"))&&(u=["id",c["$[]"]("id")],kt(e,"[]=",pt.to_a(u)),u[gt(u.length,1)]),wt(c["$key?"]("role"))&&(u=["role",vt(c["$[]"]("role")," ")],kt(e,"[]=",pt.to_a(u)),u[gt(u.length,1)]),wt(c["$key?"]("option"))&&(kt(f=c["$[]"]("option"),"each",[],((n=function(t){return n.$$s,null==t&&(t=xt),u=[t+"-option",""],kt(e,"[]=",pt.to_a(u)),u[gt(u.length,1)]}).$$s=this,n.$$arity=1,n)),u=wt(h=e["$[]"]("options"))?["options",vt(mt(f,h.$split(",")),",")]:["options",vt(f,",")],kt(e,"[]=",pt.to_a(u)),u[gt(u.length,1)]),d)):(u=["style",s],kt(e,"[]=",pt.to_a(u)),u[gt(u.length,1)])},Y.$$arity=-2),pt.defs(V,"$adjust_indentation!",W=function(t,e,$){var r,a,i,n,s,o,l=this,c=xt,_=xt,u=xt;return null==e&&(e=0),null==$&&($=0),wt(t["$empty?"]())||(wt(wt(r=yt($=$.$to_i(),0))?t.$join()["$include?"](pt.const_get_relative(ht,"TAB")):r)&&(c=vt(" ",$),kt(t,"map!",[],((a=function(t){var e,r,n=a.$$s||this,i=xt;return null==t&&(t=xt),wt(t["$empty?"]())?t:(wt(t["$start_with?"](pt.const_get_relative(ht,"TAB")))&&(t=kt(t,"sub",[pt.const_get_relative(ht,"TabIndentRx")],((e=function(){var t;return e.$$s,vt(c,((t=At["~"])===xt?xt:t["$[]"](0)).$length())}).$$s=n,e.$$arity=0,e))),wt(t["$include?"](pt.const_get_relative(ht,"TAB")))?(i=0,t=kt(t,"gsub",[pt.const_get_relative(ht,"TabRx")],((r=function(){r.$$s;var t=xt,e=xt;return null==At["~"]&&(At["~"]=xt),(t=mt(At["~"].$begin(0),i))["$%"]($)["$=="](0)?(i=mt(i,gt($,1)),c):((e=gt($,t["$%"]($)))["$=="](1)||(i=mt(i,gt(e,1))),vt(" ",e))}).$$s=n,r.$$arity=0,r))):t)}).$$s=l,a.$$arity=1,a))),wt(wt(r=e)?yt(e=e.$to_i(),-1):r)&&(_=xt,function(){var n=pt.new_brk();try{kt(t,"each",[],((i=function(t){i.$$s;var e,r=xt;return null==t&&(t=xt),wt(t["$empty?"]())?xt:(r=gt(t.$length(),t.$lstrip().$length()))["$=="](0)?(_=xt,void pt.brk(xt,n)):wt(wt(e=_)?yt(r,_):e)?xt:_=r}).$$s=l,i.$$brk=n,i.$$arity=1,i))}catch(t){if(t===n)return t.$v;throw t}}(),e["$=="](0)?wt(_)&&kt(t,"map!",[],((n=function(t){return n.$$s,null==t&&(t=xt),wt(t["$empty?"]())?t:t["$[]"](pt.Range.$new(_,-1,!1))}).$$s=l,n.$$arity=1,n)):(u=vt(" ",e),wt(_)?kt(t,"map!",[],((s=function(t){return s.$$s,null==t&&(t=xt),wt(t["$empty?"]())?t:mt(u,t["$[]"](pt.Range.$new(_,-1,!1)))}).$$s=l,s.$$arity=1,s)):kt(t,"map!",[],((o=function(t){return o.$$s,null==t&&(t=xt),wt(t["$empty?"]())?t:mt(u,t)}).$$s=l,o.$$arity=1,o))))),xt},W.$$arity=-2),pt.defs(V,"$sanitize_attribute_name",X=function(t){return t.$gsub(pt.const_get_relative(ht,"InvalidAttributeNameCharsRx"),"").$downcase()},X.$$arity=1),pt.defs(V,"$roman_numeral_to_int",K=function(n){var i,$=xt,a=xt;return n=n.$downcase(),$=Et(["i","v","x"],{i:1,v:5,x:10}),a=0,kt(pt.Range.$new(0,gt(n.$length(),1),!1),"each",[],((i=function(t){i.$$s;var e,r=xt;return null==t&&(t=xt),r=$["$[]"](n["$[]"](pt.Range.$new(t,t,!1))),a=wt(wt(e=bt(mt(t,1),n.$length()))?yt($["$[]"](n["$[]"](pt.Range.$new(mt(t,1),mt(t,1),!1))),r):e)?gt(a,r):mt(a,r)}).$$s=this,i.$$arity=1,i)),a},K.$$arity=1)}((r=[e].concat(t))[0],0,r)},Opal.modules["asciidoctor/path_resolver"]=function(y){function b(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function x(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}y.top;var t,e,r,n=[],k=y.nil,i=(y.breaker,y.slice,y.module),w=y.klass,E=y.truthy,A=y.hash2,O=y.range,S=y.send;return y.add_stubs(["$attr_accessor","$root?","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixify","$web_root?","$unc?","$slice","$index","$split","$shift","$delete","$[]=","$-","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$size","$pop","$fetch","$warn","$<<","$end_with?","$uri_prefix","$gsub"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g=n=w(t,null,"PathResolver",n),v=g.$$proto,m=[g].concat(r);v.file_separator=v._partition_path_web=v._partition_path_sys=v.working_dir=k,y.const_set(m[0],"DOT","."),y.const_set(m[0],"DOT_DOT",".."),y.const_set(m[0],"DOT_SLASH","./"),y.const_set(m[0],"SLASH","/"),y.const_set(m[0],"BACKSLASH","\\"),y.const_set(m[0],"DOUBLE_SLASH","//"),y.const_set(m[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),g.$attr_accessor("file_separator"),g.$attr_accessor("working_dir"),y.def(g,"$initialize",i=function(t,e){var r,n=this;return null==t&&(t=k),null==e&&(e=k),n.file_separator=E(t)?t:E(r=y.const_get_qualified(y.const_get_qualified("::","File"),"ALT_SEPARATOR"))?r:y.const_get_qualified(y.const_get_qualified("::","File"),"SEPARATOR"),E(e)?n.working_dir=E(n["$root?"](e))?e:y.const_get_qualified("::","File").$expand_path(e):n.working_dir=y.const_get_qualified("::","File").$expand_path(y.const_get_qualified("::","Dir").$pwd()),r=[A([],{}),A([],{})],n._partition_path_sys=r[0],n._partition_path_web=r[1],r},i.$$arity=-1),y.def(g,"$absolute_path?",$=function(t){var e;return E(e=t["$start_with?"](y.const_get_relative(m,"SLASH")))?e:this.file_separator["$=="](y.const_get_relative(m,"BACKSLASH"))?y.const_get_relative(m,"WindowsRootRx")["$match?"](t):this.file_separator["$=="](y.const_get_relative(m,"BACKSLASH"))},$.$$arity=1),E(y.const_get_relative(m,"RUBY_ENGINE")["$=="]("opal")?y.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):y.const_get_relative(m,"RUBY_ENGINE")["$=="]("opal"))?y.def(g,"$root?",a=function(t){var e;return E(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://")},a.$$arity=1):y.alias(g,"root?","absolute_path?"),y.def(g,"$unc?",s=function(t){return t["$start_with?"](y.const_get_relative(m,"DOUBLE_SLASH"))},s.$$arity=1),y.def(g,"$web_root?",o=function(t){return t["$start_with?"](y.const_get_relative(m,"SLASH"))},o.$$arity=1),y.def(g,"$descends_from?",l=function(t,e){return e["$=="](t)?0:!!E(t["$start_with?"](b(e,"/")))&&b(e.$length(),1)},l.$$arity=2),y.def(g,"$posixify",c=function(t){return E(t["$nil_or_empty?"]())?"":E(t["$include?"](y.const_get_relative(m,"BACKSLASH")))?t.$tr(y.const_get_relative(m,"BACKSLASH"),y.const_get_relative(m,"SLASH")):t},c.$$arity=1),y.alias(g,"posixfy","posixify"),y.def(g,"$expand_path",_=function(t){var e,r,n=k,i=k;return r=this.$partition_path(t),e=y.to_ary(r),n=null==e[0]?k:e[0],i=null==e[1]?k:e[1],null==e[2]||e[2],this.$join_path(n,i)},_.$$arity=1),y.def(g,"$partition_path",u=function(t,e){var r,n,i=this,$=k,a=k,s=k,o=k,l=k,c=k;return null==e&&(e=k),E($=(a=E(e)?i._partition_path_web:i._partition_path_sys)["$[]"](t))?$:(s=i.$posixify(t),o=E(e)?E(i["$web_root?"](s))?y.const_get_relative(m,"SLASH"):E(s["$start_with?"](y.const_get_relative(m,"DOT_SLASH")))?y.const_get_relative(m,"DOT_SLASH"):k:E(i["$root?"](s))?E(i["$unc?"](s))?y.const_get_relative(m,"DOUBLE_SLASH"):E(s["$start_with?"](y.const_get_relative(m,"SLASH")))?y.const_get_relative(m,"SLASH"):s.$slice(0,b(s.$index(y.const_get_relative(m,"SLASH")),1)):E(s["$start_with?"](y.const_get_relative(m,"DOT_SLASH")))?y.const_get_relative(m,"DOT_SLASH"):k,l=s.$split(y.const_get_relative(m,"SLASH")),o["$=="](y.const_get_relative(m,"DOUBLE_SLASH"))?l=l["$[]"](O(2,-1,!1)):E(o)&&l.$shift(),l.$delete(y.const_get_relative(m,"DOT")),c=[t,[l,o,s]],S(a,"[]=",y.to_a(c)),c[(r=c.length,n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))])},u.$$arity=-2),y.def(g,"$join_path",d=function(t,e){return null==e&&(e=k),E(e)?""+e+x(t,y.const_get_relative(m,"SLASH")):x(t,y.const_get_relative(m,"SLASH"))},d.$$arity=-2),y.def(g,"$system_path",f=function(a,t,s,o){var e,r,l,n=this,i=k,$=k,c=k,_=k,u=k,d=k,f=k,h=k,p=k;if(null==t&&(t=k),null==s&&(s=k),null==o&&(o=A([],{})),E(s)&&(E(n["$root?"](s))||n.$raise(y.const_get_qualified("::","SecurityError"),"Jail is not an absolute path: "+s),s=n.$posixify(s)),E(a["$nil_or_empty?"]())?i=[]:(r=n.$partition_path(a),e=y.to_ary(r),i=null==e[0]?k:e[0],$=null==e[1]?k:e[1],null==e[2]||e[2]),E(i["$empty?"]())){if(E(t["$nil_or_empty?"]()))return E(s)?s:n.working_dir;if(!E(n["$root?"](t)))return n.$system_path(t,s,s,o);if(!E(s))return n.$expand_path(t)}return E(E(e=$)?$["$!="](y.const_get_relative(m,"DOT_SLASH")):e)&&(c=n.$join_path(i,$),E(E(e=s["$!"]())?e:c["$start_with?"](s)))?c:(t=E(t["$nil_or_empty?"]())?E(s)?s:n.working_dir:E(n["$root?"](t))?n.$posixify(t):n.$system_path(t,s,s,o),s["$=="](t)?(r=n.$partition_path(s),e=y.to_ary(r),_=null==e[0]?k:e[0],u=null==e[1]?k:e[1],null==e[2]||e[2],d=_.$dup()):E(s)?(E(t["$start_with?"](s))||n.$raise(y.const_get_qualified("::","SecurityError"),(E(e=o["$[]"]("target_name"))?e:"Start path")+" "+t+" is outside of jail: "+s+" (disallowed in safe mode)"),r=n.$partition_path(t),e=y.to_ary(r),d=null==e[0]?k:e[0],f=null==e[1]?k:e[1],null==e[2]||e[2],r=n.$partition_path(s),e=y.to_ary(r),_=null==e[0]?k:e[0],u=null==e[1]?k:e[1],null==e[2]||e[2]):(r=n.$partition_path(t),e=y.to_ary(r),d=null==e[0]?k:e[0],f=null==e[1]?k:e[1],null==e[2]||e[2],u=f),h=d.$dup(),p=!1,S(i,"each",[],((l=function(t){var e,r,n,i=l.$$s||this,$=k;return null==t&&(t=k),t["$=="](y.const_get_relative(m,"DOT_DOT"))?E(s)?E((r=h.$size(),n=_.$size(),"number"==typeof r&&"number"==typeof n?n<r:r["$>"](n)))?h.$pop():E(($=E(e=$)?e:o.$fetch("recover",!0))["$!"]())?i.$raise(y.const_get_qualified("::","SecurityError"),(E(e=o["$[]"]("target_name"))?e:"path")+" "+a+" refers to location outside jail: "+s+" (disallowed in safe mode)"):E(p["$!"]())?(i.$warn("asciidoctor: WARNING: "+(E(e=o["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail, auto-recovering"),p=!0):k:h.$pop():h["$<<"](t)}).$$s=n,l.$$arity=1,l)),n.$join_path(h,u))},f.$$arity=-2),y.def(g,"$web_path",h=function(t,e){var r,n,i,$=k,a=k,s=k,o=k,l=k;return null==e&&(e=k),t=this.$posixify(t),e=this.$posixify(e),$=k,E(E(r=e["$nil_or_empty?"]())?r:this["$web_root?"](t))||(t=E(e["$end_with?"](y.const_get_relative(m,"SLASH")))?""+e+t:""+e+y.const_get_relative(m,"SLASH")+t,E($=y.const_get_relative(m,"Helpers").$uri_prefix(t))&&(t=t["$[]"](y.Range.$new($.$length(),-1,!1)))),n=this.$partition_path(t,!0),r=y.to_ary(n),a=null==r[0]?k:r[0],s=null==r[1]?k:r[1],null==r[2]||r[2],o=[],S(a,"each",[],((i=function(t){var e;return i.$$s,null==t&&(t=k),t["$=="](y.const_get_relative(m,"DOT_DOT"))?E(o["$empty?"]())?E(E(e=s)?s["$!="](y.const_get_relative(m,"DOT_SLASH")):e)?k:o["$<<"](t):o["$[]"](-1)["$=="](y.const_get_relative(m,"DOT_DOT"))?o["$<<"](t):o.$pop():o["$<<"](t)}).$$s=this,i.$$arity=1,i)),E((l=this.$join_path(o,s))["$include?"](" "))&&(l=l.$gsub(" ","%20")),E($)?""+$+l:l},h.$$arity=-2),y.def(g,"$relative_path",p=function(t,e){var r;return E(E(r=this["$root?"](t))?t["$start_with?"](e):r)?t.$slice(b(e.$length(),1),t.$length()):t},p.$$arity=2)}((r=[e].concat(t))[0],0,r)},Opal.modules["asciidoctor/reader"]=function(D){function B(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function F(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function P(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function L(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function j(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}D.top;var t,e,r,n=[],U=D.nil,i=(D.breaker,D.slice,D.module),H=D.klass,G=D.truthy,Y=D.hash2,W=D.range,X=D.send,K=D.gvars,V=D.hash;return D.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$empty?","$nil_or_empty?","$peek_line","$>","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$*","$read_lines","$unshift","$start_with?","$length","$push","$read_lines_until","$size","$clear","$[]=","$new","$line_info","$to_i","$fetch","$attributes","$<","$catalog","$key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$strip","$pop_include","$downcase","$warn","$none?","$any?","$all?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$resolve_include_path","$each","$map","$/","$concat","$to_a","$uniq","$sort","$slice","$open","$each_line","$infinite?","$push_include","$delete","$value?","$rindex","$force_encoding","$chomp","$delete_at","$nil?","$keys","$read","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$base_dir","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q=n=H(t,null,"Reader",n),N=q.$$proto,z=[q].concat(r);N.file=N.dir=N.lines=N.process_lines=N.look_ahead=N.unescape_next_line=N.lineno=N.path=N.source_lines=U,function(t,e,r){function n(){}var i,$,a=n=H(t,null,"Cursor",n);a.$$proto,[a].concat(r),a.$attr_accessor("file"),a.$attr_accessor("dir"),a.$attr_accessor("path"),a.$attr_accessor("lineno"),D.def(a,"$initialize",i=function(t,e,r,n){return null==e&&(e=U),null==r&&(r=U),null==n&&(n=U),this.file=t,this.dir=e,this.path=r,this.lineno=n},i.$$arity=-2),D.def(a,"$line_info",$=function(){return this.$path()+": line "+this.$lineno()},$.$$arity=0),D.alias(a,"to_s","line_info")}(z[0],0,z),q.$attr_reader("file"),q.$attr_reader("dir"),q.$attr_reader("path"),q.$attr_reader("lineno"),q.$attr_reader("source_lines"),q.$attr_accessor("process_lines"),D.def(q,"$initialize",i=function(t,e,r){var n,i,$=this;return null==t&&(t=U),null==e&&(e=U),null==r&&(r=Y([],{})),G(e["$!"]())?($.file=$.dir=U,$.path="<stdin>",$.lineno=1):G(D.const_get_qualified("::","String")["$==="](e))?($.file=e,i=D.const_get_qualified("::","File").$split($.file),n=D.to_ary(i),$.dir=null==n[0]?U:n[0],$.path=null==n[1]?U:n[1],$.lineno=1):($.file=e.$file(),$.dir=e.$dir(),$.path=G(n=e.$path())?n:"<stdin>",G($.file)&&(G($.dir)||($.dir=D.const_get_qualified("::","File").$dirname($.file),$.dir["$=="](".")&&($.dir=U)),G(e.$path())||($.path=D.const_get_qualified("::","File").$basename($.file))),$.lineno=G(n=e.$lineno())?n:1),$.lines=G(t)?$.$prepare_lines(t,r):[],$.source_lines=$.lines.$dup(),$.look_ahead=0,$.process_lines=!0,$.unescape_next_line=!1},i.$$arity=-1),D.def(q,"$prepare_lines",$=function(t,e){return null==e&&(e=Y([],{})),G(D.const_get_qualified("::","String")["$==="](t))?G(e["$[]"]("normalize"))?D.const_get_relative(z,"Helpers").$normalize_lines_from_string(t):t.$split(D.const_get_relative(z,"LF"),-1):G(e["$[]"]("normalize"))?D.const_get_relative(z,"Helpers").$normalize_lines_array(t):t.$dup()},$.$$arity=-2),D.def(q,"$process_line",a=function(t){return G(this.process_lines)&&(this.look_ahead=B(this.look_ahead,1)),t},a.$$arity=1),D.def(q,"$has_more_lines?",s=function(){return!G(this.lines["$empty?"]())||(this.look_ahead=0,!1)},s.$$arity=0),D.def(q,"$empty?",o=function(){return!!G(this.lines["$empty?"]())&&!(this.look_ahead=0)},o.$$arity=0),D.alias(q,"eof?","empty?"),D.def(q,"$next_line_empty?",l=function(){return this.$peek_line()["$nil_or_empty?"]()},l.$$arity=0),D.def(q,"$peek_line",c=function(t){var e,r=U;return null==t&&(t=!1),G(G(e=t)?e:F(this.look_ahead,0))?G(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](W(1,-1,!1)):this.lines["$[]"](0):G(this.lines["$empty?"]())?(this.look_ahead=0,U):G(r=this.$process_line(this.lines["$[]"](0)))?r:this.$peek_line()},c.$$arity=-1),D.def(q,"$peek_lines",_=function(t,n){var i,e=this,r=U,$=U;return null==n&&(n=!1),r=e.look_ahead,$=[],function(){var r=D.new_brk();try{X(t,"times",[],((i=function(){var t=i.$$s||this,e=U;if(null==t.lineno&&(t.lineno=U),G(e=G(n)?t.$shift():t.$read_line()))return $["$<<"](e);G(n)&&(t.lineno=P(t.lineno,1)),D.brk(U,r)}).$$s=e,i.$$brk=r,i.$$arity=0,i))}catch(t){if(t===r)return t.$v;throw t}}(),G($["$empty?"]())||(e.$unshift_all($),G(n)&&(e.look_ahead=r)),$},_.$$arity=-2),D.def(q,"$read_line",u=function(){var t;return G(G(t=F(this.look_ahead,0))?t:this["$has_more_lines?"]())?this.$shift():U},u.$$arity=0),D.def(q,"$read_lines",d=function(){var t=U;for(t=[];G(this["$has_more_lines?"]());)t["$<<"](this.$shift());return t},d.$$arity=0),D.alias(q,"readlines","read_lines"),D.def(q,"$read",f=function(){return L(this.$read_lines(),D.const_get_relative(z,"LF"))},f.$$arity=0),D.def(q,"$advance",h=function(){return!!G(this.$shift())},h.$$arity=0),D.def(q,"$unshift_line",p=function(t){return this.$unshift(t),U},p.$$arity=1),D.alias(q,"restore_line","unshift_line"),D.def(q,"$unshift_lines",g=function(t){return this.$unshift_all(t),U},g.$$arity=1),D.alias(q,"restore_lines","unshift_lines"),D.def(q,"$replace_next_line",v=function(t){return this.$shift(),this.$unshift(t),!0},v.$$arity=1),D.alias(q,"replace_line","replace_next_line"),D.def(q,"$skip_blank_lines",m=function(){var t=U,e=U;if(G(this["$empty?"]()))return U;for(t=0;G(e=this.$peek_line());){if(!G(e["$empty?"]()))return t;this.$shift(),t=B(t,1)}},m.$$arity=0),D.def(q,"$skip_comment_lines",y=function(){var t,e=U,r=U,n=U;if(G(this["$empty?"]()))return[];for(e=[];G(G(t=r=this.$peek_line())?r["$empty?"]()["$!"]():t)&&G(r["$start_with?"]("//"));)if(G(r["$start_with?"]("///"))){if(!G(G(t=F(n=r.$length(),3))?r["$=="](L("/",n)):t))break;e["$<<"](this.$shift()),X(e,"push",D.to_a(this.$read_lines_until(Y(["terminator","read_last_line","skip_processing"],{terminator:r,read_last_line:!0,skip_processing:!0}))))}else e["$<<"](this.$shift());return e},y.$$arity=0),D.def(q,"$skip_line_comments",b=function(){var t,e=U,r=U;if(G(this["$empty?"]()))return[];for(e=[];G(G(t=r=this.$peek_line())?r["$empty?"]()["$!"]():t)&&G(r["$start_with?"]("//"));)e["$<<"](this.$shift());return e},b.$$arity=0),D.def(q,"$terminate",x=function(){return this.lineno=B(this.lineno,this.lines.$size()),this.lines.$clear(),this.look_ahead=0,U},x.$$arity=0),D.def(q,"$read_lines_until",k=function(t){var e,r,n,i,$=k.$$p,a=$||U,s=U,o=U,l=U,c=U,_=U,u=U,d=U,f=U,h=U,p=U,g=U;for(null==t&&(t=Y([],{})),$&&(k.$$p=null),s=[],G(t["$[]"]("skip_first_line"))&&this.$shift(),G(G(e=this.process_lines)?t["$[]"]("skip_processing"):e)?(this.process_lines=!1,o=!0):o=!1,G(l=t["$[]"]("terminator"))?_=c=!1:(c=t["$[]"]("break_on_blank_lines"),_=t["$[]"]("break_on_list_continuation")),u=t["$[]"]("skip_line_comments"),h=f=d=!1;G(G(r=h["$!"]())?p=this.$read_line():r);)h=function(){for(;G(!0);)return!(!G(G(n=l)?p["$=="](l):n)&&!G(G(n=c)?p["$empty?"]():n)&&(G(G(n=G(i=_)?d:i)?p["$=="](D.const_get_relative(z,"LIST_CONTINUATION")):n)?(g=["preserve_last_line",!0],X(t,"[]=",D.to_a(g)),g[P(g.length,1)],0):!G((n=a!==U)?D.yield1(a,p):a!==U)));return U}(),G(h)?(G(t["$[]"]("read_last_line"))&&(s["$<<"](p),d=!0),G(t["$[]"]("preserve_last_line"))&&(this.$unshift(p),f=!0)):G(G(r=G(n=u)?p["$start_with?"]("//"):n)?p["$start_with?"]("///")["$!"]():r)||(s["$<<"](p),d=!0);return G(o)&&(this.process_lines=!0,G(G(e=f)?l["$!"]():e)&&(this.look_ahead=P(this.look_ahead,1))),s},k.$$arity=-1),D.def(q,"$shift",w=function(){return this.lineno=B(this.lineno,1),this.look_ahead["$=="](0)||(this.look_ahead=P(this.look_ahead,1)),this.lines.$shift()},w.$$arity=0),D.def(q,"$unshift",E=function(t){return this.lineno=P(this.lineno,1),this.look_ahead=B(this.look_ahead,1),this.lines.$unshift(t)},E.$$arity=1),D.def(q,"$unshift_all",A=function(t){return this.lineno=P(this.lineno,t.$size()),this.look_ahead=B(this.look_ahead,t.$size()),X(this.lines,"unshift",D.to_a(t))},A.$$arity=1),D.def(q,"$cursor",O=function(){return D.const_get_relative(z,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},O.$$arity=0),D.def(q,"$line_info",S=function(){return this.path+": line "+this.lineno},S.$$arity=0),D.alias(q,"next_line_info","line_info"),D.def(q,"$prev_line_info",R=function(){return this.path+": line "+P(this.lineno,1)},R.$$arity=0),D.def(q,"$lines",T=function(){return this.lines.$dup()},T.$$arity=0),D.def(q,"$string",M=function(){return L(this.lines,D.const_get_relative(z,"LF"))},M.$$arity=0),D.def(q,"$source",C=function(){return L(this.source_lines,D.const_get_relative(z,"LF"))},C.$$arity=0),D.def(q,"$to_s",I=function(){return this.$line_info()},I.$$arity=0)}((r=[e].concat(t))[0],0,r),void function(t,e,r){function n(){}var o,d,i,$,a,s,l,c,_,u,f,h,p,g,v,m,y,b,x=n=H(t,e,"PreprocessorReader",n),k=x.$$proto,z=[x].concat(r);k.document=k.lineno=k.process_lines=k.look_ahead=k.skipping=k.include_stack=k.conditional_stack=k.path=k.include_processor_extensions=k.maxdepth=k.dir=k.path_resolver=k.lines=k.file=k.includes=k.unescape_next_line=U,x.$attr_reader("include_stack"),x.$attr_reader("includes"),D.def(x,"$initialize",o=function(t,e,r,n){var i,$,a=o.$$p,s=U;return null==e&&(e=U),null==r&&(r=U),null==n&&(n=Y([],{})),a&&(o.$$p=null),this.document=t,X(this,D.find_super_dispatcher(this,"initialize",o,!1),[e,r,n],null),s=t.$attributes().$fetch("max-include-depth",64).$to_i(),G(($=0,"number"==typeof(i=s)&&"number"==typeof $?i<$:i["$<"]($)))&&(s=0),this.maxdepth=Y(["abs","rel"],{abs:s,rel:s}),this.include_stack=[],this.includes=t.$catalog()["$[]"]("includes"),this.skipping=!1,this.conditional_stack=[],this.include_processor_extensions=U},o.$$arity=-2),D.def(x,"$prepare_lines",d=function(t,e){var r,n,i=d.$$p,$=U,a=U,s=U,o=U,l=U,c=U,_=U,u=U;for(null==e&&(e=Y([],{})),i&&(d.$$p=null),_=0,u=arguments.length,c=new Array(u);_<u;_++)c[_]=arguments[_];if($=X(this,D.find_super_dispatcher(this,"prepare_lines",d,!1),c,i),G(G(r=this.document)?this.document.$attributes()["$key?"]("skip-front-matter"):r)&&G(a=this["$skip_front_matter!"]($))&&(s=["front-matter",L(a,D.const_get_relative(z,"LF"))],X(this.document.$attributes(),"[]=",D.to_a(s)),s[P(s.length,1)]),G(e.$fetch("condense",!0))){for(;G(G(n=o=$["$[]"](0))?o["$empty?"]():n);)G(n=$.$shift())&&(this.lineno=B(this.lineno,1));for(;G(G(n=l=$["$[]"](-1))?l["$empty?"]():n);)$.$pop()}return G(e["$[]"]("indent"))&&D.const_get_relative(z,"Parser")["$adjust_indentation!"]($,e["$[]"]("indent"),this.document.$attr("tabsize")),$},d.$$arity=-2),D.def(x,"$process_line",i=function(t){var e,r,n=this;return G(n.process_lines)?G(t["$empty?"]())?(n.look_ahead=B(n.look_ahead,1),t):G(G(e=G(r=t["$end_with?"]("]"))?t["$start_with?"]("[")["$!"]():r)?t["$include?"]("::"):e)?G(G(e=t["$include?"]("if"))?D.const_get_relative(z,"ConditionalDirectiveRx")["$=~"](t):e)?((e=K["~"])===U?U:e["$[]"](1))["$=="]("\\")?(n.unescape_next_line=!0,n.look_ahead=B(n.look_ahead,1),t["$[]"](W(1,-1,!1))):G(n.$preprocess_conditional_directive((e=K["~"])===U?U:e["$[]"](2),(e=K["~"])===U?U:e["$[]"](3),(e=K["~"])===U?U:e["$[]"](4),(e=K["~"])===U?U:e["$[]"](5)))?(n.$shift(),U):(n.look_ahead=B(n.look_ahead,1),t):G(n.skipping)?(n.$shift(),U):G(G(e=t["$start_with?"]("inc","\\inc"))?D.const_get_relative(z,"IncludeDirectiveRx")["$=~"](t):e)?((e=K["~"])===U?U:e["$[]"](1))["$=="]("\\")?(n.unescape_next_line=!0,n.look_ahead=B(n.look_ahead,1),t["$[]"](W(1,-1,!1))):G(n.$preprocess_include_directive((e=K["~"])===U?U:e["$[]"](2),((e=K["~"])===U?U:e["$[]"](3)).$strip()))?U:(n.look_ahead=B(n.look_ahead,1),t):(n.look_ahead=B(n.look_ahead,1),t):G(n.skipping)?(n.$shift(),U):(n.look_ahead=B(n.look_ahead,1),t):t},i.$$arity=1),D.def(x,"$has_more_lines?",$=function(){return!!G(this.$peek_line())},$.$$arity=0),D.def(x,"$empty?",a=function(){return!G(this.$peek_line())},a.$$arity=0),D.alias(x,"eof?","empty?"),D.def(x,"$peek_line",s=function(t){var e=s.$$p,r=U,n=U,i=U,$=U;for(null==t&&(t=!1),e&&(s.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return G(r=X(this,D.find_super_dispatcher(this,"peek_line",s,!1),n,e))?r:G(this.include_stack["$empty?"]())?U:(this.$pop_include(),this.$peek_line(t))},s.$$arity=-1),D.def(x,"$preprocess_conditional_directive",l=function(t,e,r,n){var i,$,a,s,o,l,c,_=this,u=U,d=U,f=U,h=U,p=U,g=U,v=U;if(G(u=e["$empty?"]())||(e=e.$downcase()),G(G(i=G($=u)?G(a=t["$=="]("ifdef"))?a:t["$=="]("ifndef"):$)?i:G($=n)?t["$=="]("endif"):$))return!1;if(t["$=="]("endif"))return G(_.conditional_stack["$empty?"]())?_.$warn("asciidoctor: ERROR: "+_.$line_info()+": unmatched macro: endif::"+e+"[]"):G(G(i=u)?i:e["$=="]((d=_.conditional_stack["$[]"](-1))["$[]"]("target")))?(_.conditional_stack.$pop(),_.skipping=!G(_.conditional_stack["$empty?"]())&&_.conditional_stack["$[]"](-1)["$[]"]("skipping")):_.$warn("asciidoctor: ERROR: "+_.$line_info()+": mismatched macro: endif::"+e+"[], expected endif::"+d["$[]"]("target")+"[]"),!0;if(G(_.skipping))f=!1;else if("ifdef"["$==="](h=t))f=","["$==="](h=r)?X(e.$split(",",-1),"none?",[],((s=function(t){var e=s.$$s||this;return null==e.document&&(e.document=U),null==t&&(t=U),e.document.$attributes()["$key?"](t)}).$$s=_,s.$$arity=1,s)):"+"["$==="](h)?X(e.$split("+",-1),"any?",[],((o=function(t){var e=o.$$s||this;return null==e.document&&(e.document=U),null==t&&(t=U),e.document.$attributes()["$key?"](t)["$!"]()}).$$s=_,o.$$arity=1,o)):_.document.$attributes()["$key?"](e)["$!"]();else if("ifndef"["$==="](h))f=","["$==="](h=r)?X(e.$split(",",-1),"any?",[],((l=function(t){var e=l.$$s||this;return null==e.document&&(e.document=U),null==t&&(t=U),e.document.$attributes()["$key?"](t)}).$$s=_,l.$$arity=1,l)):"+"["$==="](h)?X(e.$split("+",-1),"all?",[],((c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=U),null==t&&(t=U),e.document.$attributes()["$key?"](t)}).$$s=_,c.$$arity=1,c)):_.document.$attributes()["$key?"](e);else if("ifeval"["$==="](h)){if(!G(G(i=u)?D.const_get_relative(z,"EvalExpressionRx")["$=~"](n.$strip()):i))return!1;i=[($=K["~"])===U?U:$["$[]"](1),($=K["~"])===U?U:$["$[]"](2),($=K["~"])===U?U:$["$[]"](3)],p=i[0],g=i[1],v=i[2],p=_.$resolve_expr_val(p),v=_.$resolve_expr_val(v),f=g["$=="]("!=")?p.$send("==",v):p.$send(g.$to_sym(),v)["$!"]()}return G(G(i=t["$=="]("ifeval"))?i:n["$!"]())?(G(f)&&(_.skipping=!0),_.conditional_stack["$<<"](Y(["target","skip","skipping"],{target:e,skip:f,skipping:_.skipping}))):G(G(i=_.skipping)?i:f)||(_.$replace_next_line(n.$rstrip()),_.$unshift(""),G(n["$start_with?"]("include::"))&&(_.look_ahead=P(_.look_ahead,1))),!0},l.$$arity=4),D.def(x,"$preprocess_include_directive",c=function(t,e){var r,n,i,l,$,a,s,o,c=this,_=U,u=U,d=U,f=U,h=U,p=U,g=U,v=U,m=U,y=U,b=U,x=U,k=U,w=U,E=U,A=U,O=U,S=U,R=U,T=U,M=U,C=U,I=U,q=U,N=U;if(G(G(r=(_=t)["$include?"](D.const_get_relative(z,"ATTR_REF_HEAD")))?(_=c.document.$sub_attributes(t,Y(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():r))return c.$shift(),c.document.$attributes().$fetch("attribute-missing",D.const_get_relative(z,"Compliance").$attribute_missing())["$=="]("skip")&&c.$unshift("Unresolved directive in "+c.path+" - include::"+t+"["+e+"]"),!0;if(G(G(r=c["$include_processors?"]())?u=X(c.include_processor_extensions,"find",[],((n=function(t){return n.$$s,null==t&&(t=U),t.$instance()["$handles?"](_)}).$$s=c,n.$$arity=1,n)):r))return c.$shift(),u.$process_method()["$[]"](c.document,c,_,D.const_get_relative(z,"AttributeList").$new(e).$parse()),!0;if(G(j(c.document.$safe(),D.const_get_qualified(D.const_get_relative(z,"SafeMode"),"SECURE"))))return c.$replace_next_line("link:"+_+"[]");if(G(F(d=c.maxdepth["$[]"]("abs"),0))){if(G(j(c.include_stack.$size(),d)))return c.$warn("asciidoctor: ERROR: "+c.$line_info()+": maximum include depth of "+c.maxdepth["$[]"]("rel")+" exceeded"),U;if(f=G(e["$empty?"]())?Y([],{}):D.const_get_relative(z,"AttributeList").$new(e).$parse(),i=c.$resolve_include_path(_,e,f),r=D.to_ary(i),h=null==r[0]?U:r[0],p=null==r[1]?U:r[1],g=null==r[2]?U:r[2],!G(p))return h;if(v=m=U,G(f["$empty?"]())||(G(f["$key?"]("lines"))?(v=[],X(f["$[]"]("lines").$split(D.const_get_relative(z,"DataDelimiterRx")),"each",[],((l=function(t){var e,r,n,i,$,a=l.$$s||this,s=U,o=U;return null==t&&(t=U),G(t["$include?"](".."))?(r=X(t.$split("..",2),"map",[],((n=function(t){return n.$$s,null==t&&(t=U),t.$to_i()}).$$s=a,n.$$arity=1,n)),e=D.to_ary(r),s=null==e[0]?U:e[0],(o=null==e[1]?U:e[1])["$=="](-1)?(v["$<<"](s),v["$<<"](($=0,"number"==typeof(i=1)&&"number"==typeof $?i/$:i["$/"]($)))):v.$concat(D.const_get_qualified("::","Range").$new(s,o).$to_a())):v["$<<"](t.$to_i())}).$$s=c,l.$$arity=1,l)),v=G(v["$empty?"]())?U:v.$sort().$uniq()):G(f["$key?"]("tag"))?G((y=f["$[]"]("tag"))["$empty?"]())||(G(y["$start_with?"]("!"))?y["$=="]("!")||(m=V(y.$slice(1,y.$length()),!1)):m=V(y,!0)):G(f["$key?"]("tags"))&&(m=Y([],{}),X(f["$[]"]("tags").$split(D.const_get_relative(z,"DataDelimiterRx")),"each",[],(($=function(t){$.$$s;var e=U;return null==t&&(t=U),G(t["$empty?"]())?U:G(t["$start_with?"]("!"))?t["$=="]("!")?U:(e=[t.$slice(1,t.$length()),!1],X(m,"[]=",D.to_a(e)),e[P(e.length,1)]):(e=[t,!0],X(m,"[]=",D.to_a(e)),e[P(e.length,1)])}).$$s=c,$.$$arity=1,$)),G(m["$empty?"]())&&(m=U))),G(v)){b=(r=[[],U,0])[0],x=r[1],k=r[2];try{!function(){var e=D.new_brk();try{X(c,"open",[h,"r"],((a=function(t){var i,e=a.$$s||this;return null==t&&(t=U),function(){var n=D.new_brk();try{return X(t,"each_line",[],((i=function(t){i.$$s;var e,r=U;return null==t&&(t=U),k=B(k,1),r=v["$[]"](0),G(G(e=D.const_get_qualified("::","Float")["$==="](r))?r["$infinite?"]():e)?(x=G(e=x)?e:k,b["$<<"](t)):(k["$=="](r)&&(x=G(e=x)?e:k,b["$<<"](t),v.$shift()),G(v["$empty?"]())?void D.brk(U,n):U)}).$$s=e,i.$$brk=n,i.$$arity=1,i))}catch(t){if(t===n)return t.$v;throw t}}()}).$$s=c,a.$$brk=e,a.$$arity=1,a))}catch(t){if(t===e)return t.$v;throw t}}()}catch(t){if(!D.rescue(t,[D.const_get_relative(z,"StandardError")]))throw t;try{return c.$warn("asciidoctor: WARNING: "+c.$line_info()+": include "+p+" not readable: "+h),c.$replace_next_line("Unresolved directive in "+c.path+" - include::"+_+"["+e+"]")}finally{D.pop_exception()}}c.$shift(),G(x)&&c.$push_include(b,h,g,x,f)}else if(G(m)){r=[[],U,0,[],D.const_get_qualified("::","Set").$new(),U],b=r[0],x=r[1],k=r[2],w=r[3],E=r[4],A=r[5],G(m["$key?"]("**"))?G(m["$key?"]("*"))?(O=S=m.$delete("**"),R=m.$delete("*")):O=S=R=m.$delete("**"):(O=S=m["$value?"](!0)["$!"](),R=m.$delete("*")),G(G(r=T=h.$rindex("."))?M=D.const_get_relative(z,"CIRCUMFIX_COMMENTS")["$[]"](h.$slice(T,h.$length())):r)&&(C=P((I="[] "+M["$[]"]("suffix")).$length(),2));try{X(c,"open",[h,"r"],((s=function(t){var c,e=s.$$s||this;return null==t&&(t=U),X(t,"each_line",[],((c=function(t){var e,r,n,i,$,a=c.$$s||this,s=U,o=U,l=U;return null==t&&(t=U),k=B(k,1),G(D.const_get_relative(z,"FORCE_ENCODING"))&&t.$force_encoding(D.const_get_qualified(D.const_get_qualified("::","Encoding"),"UTF_8")),G(G(e=G(r=(s=t.$chomp())["$end_with?"]("[]"))?r:G(n=G(i=I)?s["$end_with?"](I):i)?s=s.$slice(0,P(s.$length(),C)):n)?D.const_get_relative(z,"TagDirectiveRx")["$=~"](s):e)?G((e=K["~"])===U?U:e["$[]"](1))?(o=(e=K["~"])===U?U:e["$[]"](2))["$=="](A)?(w.$pop(),r=G(w["$empty?"]())?[U,S]:w["$[]"](-1),e=D.to_ary(r),A=null==e[0]?U:e[0],O=null==e[1]?U:e[1],r):G(m["$key?"](o))?G(l=X(w,"rindex",[],(($=function(t,e){return $.$$s,null==t&&(t=U),null==e&&(e=U),t["$=="](o)}).$$s=a,$.$$arity=2,$)))?(l["$=="](0)?w.$shift():w.$delete_at(l),a.$warn("asciidoctor: WARNING: "+_+": line "+k+": mismatched end tag in include: expected "+A+", found "+o)):a.$warn("asciidoctor: WARNING: "+_+": line "+k+": unexpected end tag in include: "+o):U:G(m["$key?"](o=(e=K["~"])===U?U:e["$[]"](2)))?(E["$<<"](o),w["$<<"]([A=o,O=m["$[]"](o)])):G(R["$nil?"]()["$!"]())?(O=!G(G(e=A)?O["$!"]():e)&&R,w["$<<"]([A=o,O])):U:G(O)?(x=G(e=x)?e:k,b["$<<"](t)):U}).$$s=e,c.$$arity=1,c))}).$$s=c,s.$$arity=1,s))}catch(t){if(!D.rescue(t,[D.const_get_relative(z,"StandardError")]))throw t;try{return c.$warn("asciidoctor: WARNING: "+c.$line_info()+": include "+p+" not readable: "+h),c.$replace_next_line("Unresolved directive in "+c.path+" - include::"+_+"["+e+"]")}finally{D.pop_exception()}}G((q=P(m.$keys().$to_a(),E.$to_a()))["$empty?"]())||c.$warn("asciidoctor: WARNING: "+c.$line_info()+": tag"+(G(F(q.$size(),1))?"s":U)+" '"+L(q,",")+"' not found in include "+p+": "+h),c.$shift(),G(x)&&c.$push_include(b,h,g,x,f)}else try{N=p["$=="]("file")?D.const_get_qualified("::","IO").$read(h):X(c,"open",[h,"r"],((o=function(t){return o.$$s,null==t&&(t=U),t.$read()}).$$s=c,o.$$arity=1,o)),c.$shift(),c.$push_include(N,h,g,1,f)}catch(t){if(!D.rescue(t,[D.const_get_relative(z,"StandardError")]))throw t;try{return c.$warn("asciidoctor: WARNING: "+c.$line_info()+": include "+p+" not readable: "+h),c.$replace_next_line("Unresolved directive in "+c.path+" - include::"+_+"["+e+"]")}finally{D.pop_exception()}}return!0}return!1},c.$$arity=2),D.def(x,"$resolve_include_path",_=function(t,e,r){var n,i,$=this,a=U,s=U;return G(D.const_get_relative(z,"Helpers")["$uriish?"](t))?G($.document.$attributes()["$key?"]("allow-uri-read"))?(G($.document.$attributes()["$key?"]("cache-uri"))?G((n=D.const_get_qualified("::","OpenURI","skip_raise"))&&D.const_get_qualified(n,"Cache","skip_raise")?"constant":U)||D.const_get_relative(z,"Helpers").$require_library("open-uri/cached","open-uri-cached"):G(D.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&D.const_get_qualified("::","OpenURI"),[t,"uri",t]):$.$replace_next_line("link:"+t+"["+e+"]"):(a=$.document.$normalize_system_path(t,$.dir,U,Y(["target_name"],{target_name:"include file"})),G(D.const_get_qualified("::","File")["$file?"](a))?(s=($.path_resolver=G(i=$.path_resolver)?i:D.const_get_relative(z,"PathResolver").$new()).$relative_path(a,$.document.$base_dir()),[a,"file",s]):($.$warn("asciidoctor: WARNING: "+$.$line_info()+": include file not found: "+a),$.$replace_next_line("Unresolved directive in "+$.path+" - include::"+t+"["+e+"]")))},_.$$arity=3),D.def(x,"$push_include",u=function(t,e,r,n,i){var $,a,s=this,o=U,l=U;return null==e&&(e=U),null==r&&(r=U),null==n&&(n=1),null==i&&(i=Y([],{})),s.include_stack["$<<"]([s.lines,s.file,s.dir,s.path,s.lineno,s.maxdepth,s.process_lines]),G(e)?(s.file=e,s.dir=D.const_get_relative(z,"File").$dirname(e),s.process_lines=D.const_get_relative(z,"ASCIIDOC_EXTENSIONS")["$[]"](D.const_get_qualified("::","File").$extname(e))):(s.file=U,s.dir=".",s.process_lines=!0),G(r)?s.includes["$<<"](D.const_get_relative(z,"Helpers").$rootname(s.path=r)):s.path="<stdin>",s.lineno=n,G(i["$key?"]("depth"))&&(o=i["$[]"]("depth").$to_i(),G((a=0,"number"==typeof($=o)&&"number"==typeof a?$<=a:$["$<="](a)))&&(o=1),s.maxdepth=Y(["abs","rel"],{abs:B(P(s.include_stack.$size(),1),o),rel:o})),G((s.lines=s.$prepare_lines(t,Y(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:i["$[]"]("indent")})))["$empty?"]())?s.$pop_include():(G(i["$key?"]("leveloffset"))&&(s.lines.$unshift(""),s.lines.$unshift(":leveloffset: "+i["$[]"]("leveloffset")),s.lines["$<<"](""),G(l=s.document.$attr("leveloffset"))?s.lines["$<<"](":leveloffset: "+l):s.lines["$<<"](":leveloffset!:"),s.lineno=P(s.lineno,2)),s.look_ahead=0),s},u.$$arity=-2),D.def(x,"$pop_include",f=function(){var t,e,r=this;return G(F(r.include_stack.$size(),0))&&(e=r.include_stack.$pop(),t=D.to_ary(e),r.lines=null==t[0]?U:t[0],r.file=null==t[1]?U:t[1],r.dir=null==t[2]?U:t[2],r.path=null==t[3]?U:t[3],r.lineno=null==t[4]?U:t[4],r.maxdepth=null==t[5]?U:t[5],r.process_lines=null==t[6]?U:t[6],r.look_ahead=0),U},f.$$arity=0),D.def(x,"$include_depth",h=function(){return this.include_stack.$size()},h.$$arity=0),D.def(x,"$exceeded_max_depth?",p=function(){var t,e=U;return!!G(G(t=F(e=this.maxdepth["$[]"]("abs"),0))?j(this.include_stack.$size(),e):t)&&this.maxdepth["$[]"]("rel")},p.$$arity=0),D.def(x,"$shift",g=function(){var t=g.$$p,e=U,r=U,n=U;for(t&&(g.$$p=null),r=0,n=arguments.length,e=new Array(n);r<n;r++)e[r]=arguments[r];return G(this.unescape_next_line)?(this.unescape_next_line=!1,X(this,D.find_super_dispatcher(this,"shift",g,!1),e,t)["$[]"](W(1,-1,!1))):X(this,D.find_super_dispatcher(this,"shift",g,!1),e,t)},g.$$arity=0),D.def(x,"$skip_front_matter!",v=function(t,e){var r,n=U,i=U;if(null==e&&(e=!0),n=U,t["$[]"](0)["$=="]("---")){for(i=t.$dup(),n=[],t.$shift(),G(e)&&(this.lineno=B(this.lineno,1));G(G(r=t["$empty?"]()["$!"]())?t["$[]"](0)["$!="]("---"):r);)n["$<<"](t.$shift()),G(e)&&(this.lineno=B(this.lineno,1));G(t["$empty?"]())?(X(t,"unshift",D.to_a(i)),G(e)&&(this.lineno=0),n=U):(t.$shift(),G(e)&&(this.lineno=B(this.lineno,1)))}return n},v.$$arity=-2),D.def(x,"$resolve_expr_val",m=function(t){var e,r,n=U;return G(G(e=G(r=t["$start_with?"]('"'))?t["$end_with?"]('"'):r)?e:G(r=t["$start_with?"]("'"))?t["$end_with?"]("'"):r)?(n=!0,t=t["$[]"](W(1,-1,!0))):n=!1,G(t["$include?"](D.const_get_relative(z,"ATTR_REF_HEAD")))&&(t=this.document.$sub_attributes(t,Y(["attribute_missing"],{attribute_missing:"drop"}))),G(n)?t:G(t["$empty?"]())?U:!!t["$=="]("true")||!t["$=="]("false")&&(G(t.$rstrip()["$empty?"]())?" ":G(t["$include?"]("."))?t.$to_f():t.$to_i())},m.$$arity=1),D.def(x,"$include_processors?",y=function(){var t;return G(this.include_processor_extensions["$nil?"]())?G(G(t=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():t)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},y.$$arity=0),D.def(x,"$to_s",b=function(){var e;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+L(X(this.include_stack,"map",[],((e=function(t){return e.$$s,null==t&&(t=U),t.$to_s()}).$$s=this,e.$$arity=1,e)),", ")+"]}>"},b.$$arity=0)}(r[0],D.const_get_relative(r,"Reader"),r)},Opal.modules["asciidoctor/section"]=function(f){function h(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function p(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}f.top;var t,e,r,n=[],g=f.nil,i=(f.breaker,f.slice,f.module),v=f.klass,m=f.send,y=f.truthy,b=f.hash2;return f.add_stubs(["$attr_accessor","$attr_reader","$+","$level","$>","$==","$context","$special","$generate_id","$title","$sectnum","$reftext","$!","$empty?","$===","$sprintf","$sub_quotes","$compat_mode","$[]","$attributes","$enumerate_section","$class","$object_id","$inspect","$size","$gsub","$downcase","$tr_s","$end_with?","$chop","$start_with?","$slice","$length","$key?","$catalog","$unique_id_start_index"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var s,i,$,a,o,l,c,_=n=v(t,e,"Section",n),u=_.$$proto,d=[_].concat(r);u.level=u.document=u.parent=u.number=u.numbered=u.sectname=u.title=u.blocks=g,_.$attr_accessor("index"),_.$attr_accessor("sectname"),_.$attr_accessor("special"),_.$attr_accessor("numbered"),_.$attr_reader("caption"),f.def(_,"$initialize",s=function(t,e,r,n){var i,$,a=s.$$p;return null==t&&(t=g),null==e&&(e=g),null==r&&(r=!0),null==n&&(n=b([],{})),a&&(s.$$p=null),m(this,f.find_super_dispatcher(this,"initialize",s,!1),[t,"section",n],null),this.level=y(e)?e:y(t)?h(t.$level(),1):1,this.numbered=y(i=r)?p(this.level,0):i,this.special=y(i=y($=t)?t.$context()["$=="]("section"):$)?t.$special():i,this.index=0,this.number=1},s.$$arity=-1),f.alias(_,"name","title"),f.def(_,"$generate_id",i=function(){return f.const_get_relative(d,"Section").$generate_id(this.$title(),this.document)},i.$$arity=0),f.def(_,"$sectnum",$=function(t,e){var r,n,i;return null==t&&(t="."),null==e&&(e=g),e=y(r=e)?r:e["$=="](!1)?"":t,y(y(r=y(n=y(i=this.level)?p(this.level,1):i)?this.parent:n)?this.parent.$context()["$=="]("section"):r)?""+this.parent.$sectnum(t)+this.number+e:""+this.number+e},$.$$arity=-1),f.def(_,"$xreftext",a=function(t){var e,r=this,n=g,i=g,$=g,a=g,s=g;return null==t&&(t=g),y(y(e=n=r.$reftext())?n["$empty?"]()["$!"]():e)?n:y(t)?y(r.numbered)?"full"["$==="](i=t)?(a=y(y(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$sprintf(r.$sub_quotes(y(r.document.$compat_mode())?"``%s''":'"`%s`"'),r.$title()),y(s=r.document.$attributes()["$[]"]($+"-refsig"))?s+" "+r.$sectnum(".",",")+" "+a:r.$sectnum(".",",")+" "+a):"short"["$==="](i)?y(s=r.document.$attributes()["$[]"](r.sectname+"-refsig"))?s+" "+r.$sectnum(".",""):r.$sectnum(".",""):y(y(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title():y(y(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title():r.$title()},a.$$arity=-1),f.def(_,"$<<",o=function(t){var e=o.$$p,r=g,n=g,i=g;for(e&&(o.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return t.$context()["$=="]("section")&&this.$enumerate_section(t),m(this,f.find_super_dispatcher(this,"<<",o,!1),r,e)},o.$$arity=1),f.def(_,"$to_s",l=function(){var t=this,e=l.$$p,r=g,n=g,i=g,$=g;for(e&&(l.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return y(t.title)?(r=y(t.numbered)?t.$sectnum()+" "+t.title:t.title,"#<"+t.$class()+"@"+t.$object_id()+" {level: "+t.level+", title: "+r.$inspect()+", blocks: "+t.blocks.$size()+"}>"):m(t,f.find_super_dispatcher(t,"to_s",l,!1),n,e)},l.$$arity=0),f.defs(_,"$generate_id",c=function(t,e){var r,n=g,i=g,$=g,a=g,s=g,o=g,l=g;if(n=e.$attributes(),i=y(r=n["$[]"]("idseparator"))?r:"_",$=y(r=n["$[]"]("idprefix"))?r:"_",a=""+$+t.$downcase().$gsub(f.const_get_relative(d,"InvalidSectionIdCharsRx"),i),y(i["$empty?"]()));else if(a=a.$tr_s(i,i),y(a["$end_with?"](i))&&(a=a.$chop()),y($["$empty?"]()))for(;y(a["$start_with?"](i));)a=a.$slice(1,a.$length());if(y(e.$catalog()["$[]"]("ids")["$key?"](a))){for(r=[e.$catalog()["$[]"]("ids"),f.const_get_relative(d,"Compliance").$unique_id_start_index()],s=r[0],o=r[1];y(s["$key?"](l=""+a+i+o));)o=h(o,1);return l}return a},c.$$arity=2)}((r=[e].concat(t))[0],f.const_get_relative(r,"AbstractBlock"),r)},Opal.modules["asciidoctor/stylesheets"]=function(b){b.top;var t,e,r,n=[],x=b.nil,i=(b.breaker,b.slice,b.module),k=b.klass,w=b.truthy,E=b.hash2,A=b.send;return b.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$sub","$css","$[]=","$-","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v=n=k(t,null,"Stylesheets",n),m=v.$$proto,y=[v].concat(r);m.primary_stylesheet_data=m.coderay_stylesheet_data=m.pygments_stylesheet_data=x,b.const_set(y[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),b.const_set(y[0],"DEFAULT_PYGMENTS_STYLE","default"),b.const_set(y[0],"STYLESHEETS_DATA_PATH",b.const_get_qualified("::","File").$join(b.const_get_relative(y,"DATA_PATH"),"stylesheets")),v.__instance__=v.$new(),b.defs(v,"$instance",i=function(){return null==this.__instance__&&(this.__instance__=x),this.__instance__},i.$$arity=0),b.def(v,"$primary_stylesheet_name",$=function(){return b.const_get_relative(y,"DEFAULT_STYLESHEET_NAME")},$.$$arity=0),b.def(v,"$primary_stylesheet_data",a=function(){var t,e=b.const_get_relative([],"File");return t=b.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===e.$basename(__dirname)&&"dist"===e.$basename(e.$dirname(__dirname))?e.$join(e.$dirname(__dirname),"css"):e.$join(__dirname,"css"):b.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===e.$basename(__DIR__)&&"dist"===e.$basename(e.$dirname(__DIR__))?e.$join(e.$dirname(__DIR__),"css"):e.$join(__DIR__,"css"):"css",!1!==($a=v.primary_stylesheet_data)&&$a!==x&&null!=$a?$a:v.primary_stylesheet_data=b.const_get_relative([],"IO").$read(e.$join(t,"asciidoctor.css")).$chomp()},a.$$arity=0),b.def(v,"$embed_primary_stylesheet",s=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},s.$$arity=0),b.def(v,"$write_primary_stylesheet",o=function(t){return null==t&&(t="."),b.const_get_qualified("::","IO").$write(b.const_get_qualified("::","File").$join(t,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},o.$$arity=-1),b.def(v,"$coderay_stylesheet_name",l=function(){return"coderay-asciidoctor.css"},l.$$arity=0),b.def(v,"$coderay_stylesheet_data",c=function(){var t;return this.coderay_stylesheet_data=w(t=this.coderay_stylesheet_data)?t:b.const_get_qualified("::","IO").$read(b.const_get_qualified("::","File").$join(b.const_get_relative(y,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},c.$$arity=0),b.def(v,"$embed_coderay_stylesheet",_=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},_.$$arity=0),b.def(v,"$write_coderay_stylesheet",u=function(t){return null==t&&(t="."),b.const_get_qualified("::","IO").$write(b.const_get_qualified("::","File").$join(t,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},u.$$arity=-1),b.def(v,"$pygments_stylesheet_name",d=function(t){var e;return null==t&&(t=x),"pygments-"+(w(e=t)?e:b.const_get_relative(y,"DEFAULT_PYGMENTS_STYLE"))+".css"},d.$$arity=-1),b.def(v,"$pygments_stylesheet_data",f=function(t){var e,r,n,i,$=x;return null==t&&(t=x),w(this.$load_pygments())?w(e=(this.pygments_stylesheet_data=w(r=this.pygments_stylesheet_data)?r:E([],{}))["$[]"](w(r=t)?r:b.const_get_relative(y,"DEFAULT_PYGMENTS_STYLE")))?e:($=[w(r=t)?r:b.const_get_relative(y,"DEFAULT_PYGMENTS_STYLE"),b.const_get_qualified("::","Pygments").$css(".listingblock .pygments",E(["classprefix","style"],{classprefix:"tok-",style:w(r=t)?r:b.const_get_relative(y,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],A(this.pygments_stylesheet_data=w(r=this.pygments_stylesheet_data)?r:E([],{}),"[]=",b.to_a($)),$[(n=$.length,i=1,"number"==typeof n&&"number"==typeof i?n-i:n["$-"](i))]):"/* Pygments styles disabled. Pygments is not available. */"},f.$$arity=-1),b.def(v,"$embed_pygments_stylesheet",h=function(t){return null==t&&(t=x),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},h.$$arity=-1),b.def(v,"$write_pygments_stylesheet",p=function(t,e){return null==t&&(t="."),null==e&&(e=x),b.const_get_qualified("::","IO").$write(b.const_get_qualified("::","File").$join(t,this.$pygments_stylesheet_name(e)),this.$pygments_stylesheet_data(e))},p.$$arity=-1),b.def(v,"$load_pygments",g=function(){return!!w(b.const_get_qualified("::","Pygments","skip_raise")?"constant":x)||b.const_get_relative(y,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},g.$$arity=0)}((r=[e].concat(t))[0],0,r)},Opal.modules["asciidoctor/table"]=function(A){function O(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function p(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function S(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function u(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function d(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function R(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}A.top;var t,e,r,n=[],T=A.nil,i=(A.breaker,A.slice,A.module),M=A.klass,C=A.send,I=A.truthy,q=A.hash2,N=A.range;return A.add_stubs(["$attr_accessor","$attr_reader","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$shift","$style=","$head=","$pop","$foot=","$update_attributes","$parent","$header_row?","$table","$delete","$!","$rstrip","$start_with?","$slice","$length","$strip","$split","$include?","$readlines","$unshift","$nil?","$apply_subs","$convert","$map","$text","$to_s","$to_set","$cursor","$nested?","$document","$warn","$prev_line_info","$nil_or_empty?","$escape","$columns","$match","$pre_match","$post_match","$chop","$buffer","$end_with?","$gsub","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$line_info","$squeeze","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$!=","$close_row","$rows","$effective_column_visits"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,function(t,e,r){function n(){}var l,i,$,a,s,o=n=M(t,e,"Table",n),c=o.$$proto,_=[o].concat(r);c.attributes=c.document=c.has_header_option=c.rows=c.columns=T,function(t,e,r){function n(){}var i,$,a=n=M(t,null,"Rows",n),s=a.$$proto;[a].concat(r),s.head=s.foot=s.body=T,a.$attr_accessor("head","foot","body"),A.def(a,"$initialize",i=function(t,e,r){return null==t&&(t=[]),null==e&&(e=[]),null==r&&(r=[]),this.head=t,this.foot=e,this.body=r},i.$$arity=-1),A.alias(a,"[]","send"),A.def(a,"$by_section",$=function(){return[["head",this.head],["foot",this.foot],["body",this.body]]},$.$$arity=0)}(_[0],0,_),o.$attr_accessor("columns"),o.$attr_accessor("rows"),o.$attr_accessor("has_header_option"),o.$attr_reader("caption"),A.def(o,"$initialize",l=function(t,e){var r,n,i=this,$=l.$$p,a=T,s=T,o=T;return $&&(l.$$p=null),C(i,A.find_super_dispatcher(i,"initialize",l,!1),[t,"table"],null),i.rows=A.const_get_relative(_,"Rows").$new(),i.columns=[],i.has_header_option=e["$key?"]("header-option"),I(a=e["$[]"]("width"))?I(I(r=O(s=a.$to_i(),100))?r:p(s,1))&&(I((r=s["$=="](0))?I(n=a["$=="]("0"))?n:a["$=="]("0%"):s["$=="](0))||(s=100)):s=100,o=["tablepcwidth",s],C(i.attributes,"[]=",A.to_a(o)),o[S(o.length,1)],I(i.document.$attributes()["$key?"]("pagewidth"))&&(I(r=i.attributes["$[]"]("tableabswidth"))||(o=["tableabswidth",u(d(i.attributes["$[]"]("tablepcwidth").$to_f(),100),i.document.$attributes()["$[]"]("pagewidth")).$round()],C(i.attributes,"[]=",A.to_a(o)),o[S(o.length,1)])),I(e["$key?"]("rotate-option"))?(o=["orientation","landscape"],C(e,"[]=",A.to_a(o)),o[S(o.length,1)]):T},l.$$arity=2),A.def(o,"$header_row?",i=function(){var t;return I(t=this.has_header_option)?this.rows.$body()["$empty?"]():t},i.$$arity=0),A.def(o,"$create_columns",$=function(t){var r,n=T,i=T,e=T;return n=[],i=0,C(t,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=T),i=R(i,t["$[]"]("width")),n["$<<"](A.const_get_relative(_,"Column").$new(e,n.$size(),t))}).$$s=this,r.$$arity=1,r)),I((this.columns=n)["$empty?"]())||(e=["colcount",n.$size()],C(this.attributes,"[]=",A.to_a(e)),e[S(e.length,1)],this.$assign_column_widths(i["$=="](0)?T:i)),T},$.$$arity=1),A.def(o,"$assign_column_widths",a=function(e){var r,n,i=T,$=T,a=T;return null==e&&(e=T),i=10["$**"](4),$=a=0,I(e)?C(this.columns,"each",[],((r=function(t){return r.$$s,null==t&&(t=T),$=R($,a=t.$assign_width(T,e,i))}).$$s=this,r.$$arity=1,r)):((a=d(d(u(100,i),this.columns.$size()).$to_i(),i)).$to_i()["$=="](a)&&(a=a.$to_i()),C(this.columns,"each",[],((n=function(t){return n.$$s,null==t&&(t=T),$=R($,t.$assign_width(a))}).$$s=this,n.$$arity=1,n))),$["$=="](100)||this.columns["$[]"](-1).$assign_width(d(u(R(S(100,$),a),i).$round(),i)),T},a.$$arity=-1),A.def(o,"$partition_header_footer",s=function(t){var e,r,n=T,i=T,$=T;return n=["rowcount",this.rows.$body().$size()],C(this.attributes,"[]=",A.to_a(n)),n[S(n.length,1)],i=this.rows.$body().$size(),I(I(e=O(i,0))?this.has_header_option:e)&&($=this.rows.$body().$shift(),i=S(i,1),C($,"each",[],((r=function(t){return r.$$s,null==t&&(t=T),n=[T],C(t,"style=",A.to_a(n)),n[S(n.length,1)]}).$$s=this,r.$$arity=1,r)),n=[[$]],C(this.rows,"head=",A.to_a(n)),n[S(n.length,1)]),I(I(e=O(i,0))?t["$key?"]("footer-option"):e)&&(n=[[this.rows.$body().$pop()]],C(this.rows,"foot=",A.to_a(n)),n[S(n.length,1)]),T},s.$$arity=1)}((r=[e].concat(t))[0],A.const_get_relative(r,"AbstractBlock"),r),function(t,e,r){function n(){}var $,i,a=n=M(t,e,"Column",n),s=a.$$proto;[a].concat(r),s.attributes=T,a.$attr_accessor("style"),A.def(a,"$initialize",$=function(t,e,r){var n=$.$$p,i=T;return null==r&&(r=q([],{})),n&&($.$$p=null),C(this,A.find_super_dispatcher(this,"initialize",$,!1),[t,"column"],null),this.style=r["$[]"]("style"),i=["colnumber",R(e,1)],C(r,"[]=",A.to_a(i)),i[S(i.length,1)],I(r["$[]"]("width"))||(i=["width",1],C(r,"[]=",A.to_a(i)),i[S(i.length,1)]),I(r["$[]"]("halign"))||(i=["halign","left"],C(r,"[]=",A.to_a(i)),i[S(i.length,1)]),I(r["$[]"]("valign"))||(i=["valign","top"],C(r,"[]=",A.to_a(i)),i[S(i.length,1)]),this.$update_attributes(r)},$.$$arity=-3),A.alias(a,"table","parent"),A.def(a,"$assign_width",i=function(t,e,r){var n=T;return null==e&&(e=T),null==r&&(r=1e4),I(e)&&(t=d(u(u(d(this.attributes["$[]"]("width").$to_f(),e),100),r).$to_i(),r)).$to_i()["$=="](t)&&(t=t.$to_i()),n=["colpcwidth",t],C(this.attributes,"[]=",A.to_a(n)),n[S(n.length,1)],I(this.$parent().$attributes()["$key?"]("tableabswidth"))&&(n=["colabswidth",u(d(t,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],C(this.attributes,"[]=",A.to_a(n)),n[S(n.length,1)]),t},i.$$arity=-2)}(A.const_get_relative(r,"Table"),A.const_get_relative(r,"AbstractNode"),r),function(t,e,r){function n(){}var f,i,$,a,s,o=n=M(t,e,"Cell",n),l=o.$$proto,h=[o].concat(r);l.document=l.text=l.style=l.inner_document=l.colspan=l.rowspan=l.attributes=T,o.$attr_accessor("style"),o.$attr_accessor("colspan"),o.$attr_accessor("rowspan"),A.alias(o,"column","parent"),o.$attr_reader("inner_document"),A.def(o,"$initialize",f=function(t,e,r,n){var i,$=this,a=f.$$p,s=T,o=T,l=T,c=T,_=T,u=T,d=T;if(null==r&&(r=q([],{})),null==n&&(n=q([],{})),a&&(f.$$p=null),C($,A.find_super_dispatcher($,"initialize",f,!1),[t,"cell"],null),I(t)?(s=I(o=t.$table()["$header_row?"]())?T:t.$attributes()["$[]"]("style"),$.$update_attributes(t.$attributes())):o=s=T,I(r)){if($.colspan=r.$delete("colspan"),$.rowspan=r.$delete("rowspan"),I(I(i=o)?i:r["$key?"]("style")["$!"]())||(s=r["$[]"]("style")),I(n["$[]"]("strip_text")))if(I(I(i=s["$=="]("literal"))?i:s["$=="]("verse")))for(e=e.$rstrip();I(e["$start_with?"](A.const_get_relative(h,"LF")));)e=e.$slice(1,S(e.$length(),1));else e=e.$strip();$.$update_attributes(r)}else $.colspan=T,$.rowspan=T;return s["$=="]("asciidoc")&&(l=$.document.$attributes().$delete("doctitle"),c=e.$split(A.const_get_relative(h,"LF"),-1),I(c["$empty?"]())||I((_=c["$[]"](0))["$include?"]("::"))&&(u=A.const_get_relative(h,"PreprocessorReader").$new($.document,[_]).$readlines(),I((i=_["$=="](u["$[]"](0)))?p(u.$size(),2):_["$=="](u["$[]"](0)))||(c.$shift(),I(u["$empty?"]())||C(c,"unshift",A.to_a(u)))),$.inner_document=A.const_get_relative(h,"Document").$new(c,q(["header_footer","parent","cursor"],{header_footer:!1,parent:$.document,cursor:n["$[]"]("cursor")})),I(l["$nil?"]())||(d=["doctitle",l],C($.document.$attributes(),"[]=",A.to_a(d)),d[S(d.length,1)])),$.text=e,$.style=s},f.$$arity=-3),A.def(o,"$text",i=function(){var t=this;return t.$apply_subs(t.text,t.style["$=="]("literal")?A.const_get_relative(h,"BASIC_SUBS"):A.const_get_relative(h,"NORMAL_SUBS"))},i.$$arity=0),A.def(o,"$text=",$=function(t){return this.text=t},$.$$arity=1),A.def(o,"$content",a=function(){var n;return this.style["$=="]("asciidoc")?this.inner_document.$convert():C(this.$text().$split(A.const_get_relative(h,"BlankLineRx")),"map",[],((n=function(t){var e,r=n.$$s||this;return null==r.style&&(r.style=T),null==t&&(t=T),I(I(e=r.style["$!"]())?e:r.style["$=="]("header"))?t:A.const_get_relative(h,"Inline").$new(r.$parent(),"quoted",t,q(["type"],{type:r.style})).$convert()}).$$s=this,n.$$arity=1,n))},a.$$arity=0),A.def(o,"$to_s",s=function(){var t,e=s.$$p,r=T,n=T,i=T;for(e&&(s.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return C(this,A.find_super_dispatcher(this,"to_s",s,!1),r,e).$to_s()+" - [text: "+this.text+", colspan: "+(I(t=this.colspan)?t:1)+", rowspan: "+(I(t=this.rowspan)?t:1)+", attributes: "+this.attributes+"]"},s.$$arity=0)}(A.const_get_relative(r,"Table"),A.const_get_relative(r,"AbstractNode"),r),void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k=n=M(t,null,"ParserContext",n),w=k.$$proto,E=[k].concat(r);w.delimiter=w.delimiter_re=w.buffer=w.cellspecs=w.cell_open=w.format=w.last_cursor=w.table=w.current_row=w.colcount=w.column_visits=w.active_rowspans=w.linenum=T,A.const_set(E[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),A.const_set(E[0],"DELIMITERS",q(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),k.$attr_accessor("table"),k.$attr_accessor("format"),k.$attr_reader("colcount"),k.$attr_accessor("buffer"),k.$attr_reader("delimiter"),k.$attr_reader("delimiter_re"),A.def(k,"$initialize",i=function(t,e,r){var n,i,$=this,a=T,s=T;return null==r&&(r=q([],{})),$.reader=t,$.table=e,$.last_cursor=t.$cursor(),I(r["$key?"]("format"))?I(A.const_get_relative(E,"FORMATS")["$include?"](a=r["$[]"]("format")))?a["$=="]("tsv")?$.format="csv":I((n=($.format=a)["$=="]("psv"))?e.$document()["$nested?"]():($.format=a)["$=="]("psv"))&&(a="!sv"):($.$warn("asciidoctor: ERROR: "+t.$prev_line_info()+": illegal table format: "+a),n=["psv",I(e.$document()["$nested?"]())?"!sv":"psv"],$.format=n[0],a=n[1]):(n=["psv",I(e.$document()["$nested?"]())?"!sv":"psv"],$.format=n[0],a=n[1]),I(r["$key?"]("separator"))?I((s=r["$[]"]("separator"))["$nil_or_empty?"]())?(i=A.const_get_relative(E,"DELIMITERS")["$[]"](a),n=A.to_ary(i),$.delimiter=null==n[0]?T:n[0],$.delimiter_re=null==n[1]?T:n[1]):s["$=="]("\\t")?(i=A.const_get_relative(E,"DELIMITERS")["$[]"]("tsv"),n=A.to_ary(i),$.delimiter=null==n[0]?T:n[0],$.delimiter_re=null==n[1]?T:n[1]):(n=[s,new RegExp(A.const_get_qualified("::","Regexp").$escape(s))],$.delimiter=n[0],$.delimiter_re=n[1]):(i=A.const_get_relative(E,"DELIMITERS")["$[]"](a),n=A.to_ary(i),$.delimiter=null==n[0]?T:n[0],$.delimiter_re=null==n[1]?T:n[1]),$.colcount=I(e.$columns()["$empty?"]())?-1:e.$columns().$size(),$.buffer="",$.cellspecs=[],$.cell_open=!1,$.active_rowspans=[0],$.column_visits=0,$.current_row=[],$.linenum=-1},i.$$arity=-3),A.def(k,"$starts_with_delimiter?",$=function(t){return t["$start_with?"](this.delimiter)},$.$$arity=1),A.def(k,"$match_delimiter",a=function(t){return this.delimiter_re.$match(t)},a.$$arity=1),A.def(k,"$skip_past_delimiter",s=function(t){return this.buffer=""+this.buffer+t.$pre_match()+this.delimiter,t.$post_match()},s.$$arity=1),A.def(k,"$skip_past_escaped_delimiter",o=function(t){return this.buffer=""+this.buffer+t.$pre_match().$chop()+this.delimiter,t.$post_match()},o.$$arity=1),A.def(k,"$buffer_has_unclosed_quotes?",l=function(t){var e,r,n=this,i=T,$=T;return null==t&&(t=T),!!I((i=I(t)?R(n.$buffer(),t).$strip():n.$buffer().$strip())["$start_with?"]('"'))&&(I(I(e=I(r=$=i["$end_with?"]('"'))?i["$end_with?"]('""'):r)?e:i["$start_with?"]('""'))?I(e=(i=i.$gsub('""',""))["$start_with?"]('"'))?i["$end_with?"]('"')["$!"]():e:$["$!"]())},l.$$arity=-1),A.def(k,"$take_cellspec",c=function(){return this.cellspecs.$shift()},c.$$arity=0),A.def(k,"$push_cellspec",_=function(t){var e;return null==t&&(t=q([],{})),this.cellspecs["$<<"](I(e=t)?e:q([],{})),T},_.$$arity=-1),A.def(k,"$keep_cell_open",u=function(){return this.cell_open=!0,T},u.$$arity=0),A.def(k,"$mark_cell_closed",d=function(){return this.cell_open=!1,T},d.$$arity=0),A.def(k,"$cell_open?",f=function(){return this.cell_open},f.$$arity=0),A.def(k,"$cell_closed?",h=function(){return this.cell_open["$!"]()},h.$$arity=0),A.def(k,"$close_open_cell",p=function(t){return null==t&&(t=q([],{})),this.$push_cellspec(t),I(this["$cell_open?"]())&&this.$close_cell(!0),this.$advance(),T},p.$$arity=-1),A.def(k,"$close_cell",g=function(c){try{var t,_,e=this,u=T,d=T,f=T,h=T;return null==c&&(c=!1),e.format["$=="]("psv")?(u=!0,d=e.buffer,e.buffer="",I(f=e.$take_cellspec())?h=I(t=f.$delete("repeatcol"))?t:1:(e.$warn("asciidoctor: ERROR: "+e.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),f=q([],{}),h=1)):(u=!1,d=e.buffer.$strip(),e.buffer="",f=T,h=1,e.format["$=="]("csv")&&I(I(t=d["$empty?"]()["$!"]())?d["$include?"]('"'):t)&&(I(I(t=d["$start_with?"]('"'))?d["$end_with?"]('"'):t)&&(d=d["$[]"](N(1,-1,!0)).$strip()),d=d.$squeeze('"'))),C(1,"upto",[h],((_=function(t){var e,r,n,i,$=_.$$s||this,a=T,s=T,o=T,l=T;return null==$.colcount&&($.colcount=T),null==$.table&&($.table=T),null==$.current_row&&($.current_row=T),null==$.last_cursor&&($.last_cursor=T),null==$.reader&&($.reader=T),null==$.column_visits&&($.column_visits=T),null==$.linenum&&($.linenum=T),null==t&&(t=T),$.colcount["$=="](-1)?($.table.$columns()["$<<"](a=A.const_get_qualified(A.const_get_relative(E,"Table"),"Column").$new($.table,S(R($.table.$columns().$size(),t),1))),I(I(e=I(r=f)?f["$key?"]("colspan"):r)?O(s=S(f["$[]"]("colspan").$to_i(),1),0):e)&&(o=$.table.$columns().$size(),C(s,"times",[],((n=function(t){var e=n.$$s||this;return null==e.table&&(e.table=T),null==t&&(t=T),e.table.$columns()["$<<"](A.const_get_qualified(A.const_get_relative(E,"Table"),"Column").$new(e.table,R(o,t)))}).$$s=$,n.$$arity=1,n)))):I(a=$.table.$columns()["$[]"]($.current_row.$size()))||($.$warn("asciidoctor: ERROR: "+$.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),A.ret(T)),l=A.const_get_qualified(A.const_get_relative(E,"Table"),"Cell").$new(a,d,f,q(["cursor","strip_text"],{cursor:$.last_cursor,strip_text:u})),$.last_cursor=$.reader.$cursor(),I(I(e=l.$rowspan()["$!"]())?e:l.$rowspan()["$=="](1))||$.$activate_rowspan(l.$rowspan(),I(e=l.$colspan())?e:1),$.column_visits=R($.column_visits,I(e=l.$colspan())?e:1),$.current_row["$<<"](l),I(I(e=$["$end_of_row?"]())?I(r=I(i=$.colcount["$!="](-1))?i:O($.linenum,0))?r:I(i=c)?t["$=="](h):i:e)?$.$close_row():T}).$$s=e,_.$$arity=1,_)),e.cell_open=!1,T}catch(t){if(t===A.returner)return t.$v;throw t}},g.$$arity=-1),A.def(k,"$close_row",v=function(){var t=this,e=T;return t.table.$rows().$body()["$<<"](t.current_row),t.colcount["$=="](-1)&&(t.colcount=t.column_visits),t.column_visits=0,t.current_row=[],t.active_rowspans.$shift(),I(t.active_rowspans["$[]"](0))||(e=[0,0],C(t.active_rowspans,"[]=",A.to_a(e)),e[S(e.length,1)]),T},v.$$arity=0),A.def(k,"$activate_rowspan",m=function(t,i){var $;return C(1..$upto(S(t,1)),"each",[],(($=function(t){var e,r=$.$$s||this,n=T;return null==r.active_rowspans&&(r.active_rowspans=T),null==t&&(t=T),n=[t,R(I(e=r.active_rowspans["$[]"](t))?e:0,i)],C(r.active_rowspans,"[]=",A.to_a(n)),n[S(n.length,1)]}).$$s=this,$.$$arity=1,$)),T},m.$$arity=2),A.def(k,"$end_of_row?",y=function(){var t;return I(t=this.colcount["$=="](-1))?t:this.$effective_column_visits()["$=="](this.colcount)},y.$$arity=0),A.def(k,"$effective_column_visits",b=function(){return R(this.column_visits,this.active_rowspans["$[]"](0))},b.$$arity=0),A.def(k,"$advance",x=function(){return this.linenum=R(this.linenum,1)},x.$$arity=0)}(A.const_get_relative(r,"Table"),0,r)},Opal.modules["asciidoctor/converter/composite"]=function(c){c.top;var t,e,r,n=[],_=c.nil,i=(c.breaker,c.slice,c.module),u=c.klass,d=c.send,f=c.truthy,h=c.hash2;return c.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$find_converter","$[]=","$-","$handles?","$raise"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,r=[e].concat(t),void function(t,e,r){function n(){}var i,$,a,s,o=n=u(t,e,"CompositeConverter",n),l=o.$$proto;[o].concat(r),l.converter_map=l.converters=_,o.$attr_reader("converters"),c.def(o,"$initialize",i=function(t,e){var r,n,i=arguments.length,$=i-1;$<0&&($=0),n=new Array($);for(var a=1;a<i;a++)n[a-1]=arguments[a];return this.backend=t,d(this.converters=n.$flatten().$compact(),"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=_),f(t["$respond_to?"]("composed"))?t.$composed(e):_}).$$s=this,r.$$arity=1,r)),this.converter_map=h([],{})},i.$$arity=-2),c.def(o,"$convert",$=function(t,e,r){var n;return null==e&&(e=_),null==r&&(r=h([],{})),e=f(n=e)?n:t.$node_name(),this.$converter_for(e).$convert(t,e,r)},$.$$arity=-2),c.alias(o,"convert_with_options","convert"),c.def(o,"$converter_for",a=function(t){var e,r,n,i=_;return f(e=this.converter_map["$[]"](t))?e:(i=[t,this.$find_converter(t)],d(this.converter_map,"[]=",c.to_a(i)),i[(r=i.length,n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))])},a.$$arity=1),c.def(o,"$find_converter",s=function(e){try{var r;return d(this.converters,"each",[],((r=function(t){if(r.$$s,null==t&&(t=_),!f(t["$handles?"](e)))return _;c.ret(t)}).$$s=this,r.$$arity=1,r)),this.$raise("Could not find a converter to handle transform: "+e)}catch(t){if(t===c.returner)return t.$v;throw t}},s.$$arity=1)}(c.const_get_relative(r,"Converter"),c.const_get_qualified(c.const_get_relative(r,"Converter"),"Base"),r)},Opal.modules["asciidoctor/converter/html5"]=function(J){function Z(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function Q(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function tt(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function et(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function rt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}J.top;var t,e,r,n=[],nt=J.nil,i=(J.breaker,J.slice,J.module),it=J.klass,$t=J.send,at=J.hash2,st=J.truthy,ot=J.range;return J.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$include?","$gsub","$extname","$doctitle","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$sectnum","$<","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$text?","$chomp","$read_svg_contents","$alt","$image_uri","$encode_quotes","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$by_section","$rows","$colspan","$rowspan","$role?","$unshift","$shift","$split","$nil_or_empty?","$type","$attributes","$catalog","$xreftext","$target","$join","$map","$chop","$read_contents","$sub","$match","$length"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,r=[e].concat(t),void function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,L,j,U,H,G,Y,W=n=it(t,e,"Html5Converter",n),X=W.$$proto,K=[W].concat(r),V=nt;X.xml_mode=X.void_element_slash=X.stylesheets=X.xrefstyle=nt,V=[["","",!1]],$t(J.const_set(K[0],"QUOTE_TAGS",at(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",J.to_a(V)),Y=1,"number"==typeof(G=V.length)&&"number"==typeof Y||G["$-"](Y),J.const_set(K[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m),J.const_set(K[0],"SvgStartTagRx",/^<svg[^>]*>/),J.const_set(K[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/),J.def(W,"$initialize",i=function(t,e){var r=this;return null==e&&(e=at([],{})),r.xml_mode=e["$[]"]("htmlsyntax")["$=="]("xml"),r.void_element_slash=st(r.xml_mode)?"/":nt,r.stylesheets=J.const_get_relative(K,"Stylesheets").$instance()},i.$$arity=-2),J.def(W,"$document",$=function(e){var t,r,n,i,$,a,s,o=this,l=nt,c=nt,_=nt,u=nt,d=nt,f=nt,h=nt,p=nt,g=nt,v=nt,m=nt,y=nt,b=nt,x=nt,k=nt,w=nt,E=nt,A=nt,O=nt,S=nt,R=nt,T=nt,M=nt,C=nt,I=nt;return l=o.void_element_slash,c="<br"+l+">",st((_=e.$attr("asset-uri-scheme","https"))["$empty?"]())||(_+=":"),u=_+"//cdnjs.cloudflare.com/ajax/libs",d=st((a=e.$safe(),s=J.const_get_qualified(J.const_get_relative(K,"SafeMode"),"SECURE"),t="number"==typeof a&&"number"==typeof s?s<=a:a["$>="](s)))?t:e["$attr?"]("linkcss"),f=["<!DOCTYPE html>"],h=st(e["$attr?"]("nolang"))?nt:' lang="'+e.$attr("lang","en")+'"',f["$<<"]("<html"+(st(o.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':nt)+h+">"),f["$<<"]('<head>\n<meta charset="'+e.$attr("encoding","UTF-8")+'"'+l+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+l+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+l+'>\n<meta name="generator" content="Asciidoctor '+e.$attr("asciidoctor-version")+'"'+l+">"),st(e["$attr?"]("app-name"))&&f["$<<"]('<meta name="application-name" content="'+e.$attr("app-name")+'"'+l+">"),st(e["$attr?"]("description"))&&f["$<<"]('<meta name="description" content="'+e.$attr("description")+'"'+l+">"),st(e["$attr?"]("keywords"))&&f["$<<"]('<meta name="keywords" content="'+e.$attr("keywords")+'"'+l+">"),st(e["$attr?"]("authors"))&&f["$<<"]('<meta name="author" content="'+(st((p=e.$attr("authors"))["$include?"]("<"))?p.$gsub(J.const_get_relative(K,"XmlSanitizeRx"),""):p)+'"'+l+">"),st(e["$attr?"]("copyright"))&&f["$<<"]('<meta name="copyright" content="'+e.$attr("copyright")+'"'+l+">"),st(e["$attr?"]("favicon"))&&(st((g=e.$attr("favicon"))["$empty?"]())?(g=(t=["favicon.ico","image/x-icon"])[0],v=t[1]):v=(m=J.const_get_qualified("::","File").$extname(g))["$=="](".ico")?"image/x-icon":"image/"+m["$[]"](ot(1,-1,!1)),f["$<<"]('<link rel="shortcut icon" type="'+v+'" href="'+g+'">')),f["$<<"]("<title>"+e.$doctitle(at(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),st(J.const_get_relative(K,"DEFAULT_STYLESHEET_KEYS")["$include?"](e.$attr("stylesheet")))?(st(y=e.$attr("webfonts"))&&f["$<<"]('<link rel="stylesheet" href="'+_+"//fonts.googleapis.com/css?family="+(st(y["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":y)+'"'+l+">"),st(d)?f["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(J.const_get_relative(K,"DEFAULT_STYLESHEET_NAME"),e.$attr("stylesdir",""),!1)+'"'+l+">"):f["$<<"](o.stylesheets.$embed_primary_stylesheet())):st(e["$attr?"]("stylesheet"))&&(st(d)?f["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(e.$attr("stylesheet"),e.$attr("stylesdir",""))+'"'+l+">"):f["$<<"]("<style>\n"+e.$read_asset(e.$normalize_system_path(e.$attr("stylesheet"),e.$attr("stylesdir","")),at(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),st(e["$attr?"]("icons","font"))&&(st(e["$attr?"]("iconfont-remote"))?f["$<<"]('<link rel="stylesheet" href="'+e.$attr("iconfont-cdn",u+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+l+">"):(b=e.$attr("iconfont-name","font-awesome")+".css",f["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(b,e.$attr("stylesdir",""),!1)+'"'+l+">"))),x=k=e.$attr("source-highlighter"),"coderay"["$==="](x)?e.$attr("coderay-css","class")["$=="]("class")&&(st(d)?f["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(o.stylesheets.$coderay_stylesheet_name(),e.$attr("stylesdir",""),!1)+'"'+l+">"):f["$<<"](o.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](x)&&e.$attr("pygments-css","class")["$=="]("class")&&(w=e.$attr("pygments-style"),st(d)?f["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(o.stylesheets.$pygments_stylesheet_name(w),e.$attr("stylesdir",""),!1)+'"'+l+">"):f["$<<"](o.stylesheets.$embed_pygments_stylesheet(w))),st((E=e.$docinfo())["$empty?"]())||f["$<<"](E),f["$<<"]("</head>"),A=[],st(e.$id())&&A["$<<"]('id="'+e.$id()+'"'),st(st(t=st(r=st(n=O=e["$sections?"]())?e["$attr?"]("toc-class"):n)?e["$attr?"]("toc"):r)?e["$attr?"]("toc-placement","auto"):t)?A["$<<"]('class="'+e.$doctype()+" "+e.$attr("toc-class")+" toc-"+e.$attr("toc-position","header")+'"'):A["$<<"]('class="'+e.$doctype()+'"'),st(e["$attr?"]("max-width"))&&A["$<<"]('style="max-width: '+e.$attr("max-width")+';"'),f["$<<"]("<body "+Z(A," ")+">"),st(e.$noheader())||(f["$<<"]('<div id="header">'),e.$doctype()["$=="]("manpage")?(f["$<<"]("<h1>"+e.$doctitle()+" Manual Page</h1>"),st(st(t=st(r=O)?e["$attr?"]("toc"):r)?e["$attr?"]("toc-placement","auto"):t)&&f["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+o.$outline(e)+"\n</div>"),f["$<<"]("<h2>"+e.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("manname")+" - "+e.$attr("manpurpose")+"</p>\n</div>")):(st(e["$has_header?"]())&&(st(e.$notitle())||f["$<<"]("<h1>"+e.$header().$title()+"</h1>"),S=[],st(e["$attr?"]("author"))&&(S["$<<"]('<span id="author" class="author">'+e.$attr("author")+"</span>"+c),st(e["$attr?"]("email"))&&S["$<<"]('<span id="email" class="email">'+e.$sub_macros(e.$attr("email"))+"</span>"+c),st(Q(R=e.$attr("authorcount").$to_i(),1))&&$t(J.Range.$new(2,R,!1),"each",[],((i=function(t){return i.$$s,null==t&&(t=nt),S["$<<"]('<span id="author'+t+'" class="author">'+e.$attr("author_"+t)+"</span>"+c),st(e["$attr?"]("email_"+t))?S["$<<"]('<span id="email'+t+'" class="email">'+e.$sub_macros(e.$attr("email_"+t))+"</span>"+c):nt}).$$s=o,i.$$arity=1,i))),st(e["$attr?"]("revnumber"))&&S["$<<"]('<span id="revnumber">'+(st(t=e.$attr("version-label"))?t:"").$downcase()+" "+e.$attr("revnumber")+(st(e["$attr?"]("revdate"))?",":"")+"</span>"),st(e["$attr?"]("revdate"))&&S["$<<"]('<span id="revdate">'+e.$attr("revdate")+"</span>"),st(e["$attr?"]("revremark"))&&S["$<<"](c+'<span id="revremark">'+e.$attr("revremark")+"</span>"),st(S["$empty?"]())||(f["$<<"]('<div class="details">'),f.$concat(S),f["$<<"]("</div>"))),st(st(t=st(r=O)?e["$attr?"]("toc"):r)?e["$attr?"]("toc-placement","auto"):t)&&f["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+o.$outline(e)+"\n</div>")),f["$<<"]("</div>")),f["$<<"]('<div id="content">\n'+e.$content()+"\n</div>"),st(st(t=e["$footnotes?"]())?e["$attr?"]("nofootnotes")["$!"]():t)&&(f["$<<"]('<div id="footnotes">\n<hr'+l+">"),$t(e.$footnotes(),"each",[],(($=function(t){return $.$$s,null==t&&(t=nt),f["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=o,$.$$arity=1,$)),f["$<<"]("</div>")),st(e.$nofooter())||(f["$<<"]('<div id="footer">'),f["$<<"]('<div id="footer-text">'),st(e["$attr?"]("revnumber"))&&f["$<<"](e.$attr("version-label")+" "+e.$attr("revnumber")+c),st(st(t=e["$attr?"]("last-update-label"))?e["$attr?"]("reproducible")["$!"]():t)&&f["$<<"](e.$attr("last-update-label")+" "+e.$attr("docdatetime")),f["$<<"]("</div>"),f["$<<"]("</div>")),st((E=e.$docinfo("footer"))["$empty?"]())||f["$<<"](E),"highlightjs"["$==="](x=k)||"highlight.js"["$==="](x)?(T=e.$attr("highlightjsdir",u+"/highlight.js/9.12.0"),f["$<<"]('<link rel="stylesheet" href="'+T+"/styles/"+e.$attr("highlightjs-theme","github")+'.min.css"'+l+">"),f["$<<"]('<script src="'+T+'/highlight.min.js"><\/script>\n<script>hljs.initHighlighting()<\/script>')):"prettify"["$==="](x)&&(M=e.$attr("prettifydir",u+"/prettify/r298"),f["$<<"]('<link rel="stylesheet" href="'+M+"/"+e.$attr("prettify-theme","prettify")+'.min.css"'+l+">"),f["$<<"]('<script src="'+M+'/prettify.min.js"><\/script>\n<script>prettyPrint()<\/script>')),st(e["$attr?"]("stem"))&&(C=e.$attr("eqnums","none"),st(C["$empty?"]())&&(C="AMS"),I=' equationNumbers: { autoNumber: "'+C+'" } ',f["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+J.const_get_relative(K,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+J.const_get_relative(K,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+J.const_get_relative(K,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+I+'}\n});\n<\/script>\n<script src="'+u+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),f["$<<"]("</body>"),f["$<<"]("</html>"),Z(f,J.const_get_relative(K,"LF"))},$.$$arity=1),J.def(W,"$embedded",a=function(t){var e,r,n,i,$=nt,a=nt,s=nt;return $=[],t.$doctype()["$=="]("manpage")?(st(t.$notitle())||(a=st(t.$id())?' id="'+t.$id()+'"':nt,$["$<<"]("<h1"+a+">"+t.$doctitle()+" Manual Page</h1>")),$["$<<"]("<h2>"+t.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>")):st(st(e=t["$has_header?"]())?t.$notitle()["$!"]():e)&&(a=st(t.$id())?' id="'+t.$id()+'"':nt,$["$<<"]("<h1"+a+">"+t.$header().$title()+"</h1>")),st(st(e=st(r=st(n=t["$sections?"]())?t["$attr?"]("toc"):n)?(s=t.$attr("toc-placement"))["$!="]("macro"):r)?s["$!="]("preamble"):e)&&$["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+this.$outline(t)+"\n</div>"),$["$<<"](t.$content()),st(st(e=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():e)&&($["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),$t(t.$footnotes(),"each",[],((i=function(t){return i.$$s,null==t&&(t=nt),$["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=this,i.$$arity=1,i)),$["$<<"]("</div>")),Z($,J.const_get_relative(K,"LF"))},a.$$arity=1),J.def(W,"$outline",s=function(t,e){var r,a,s=nt,o=nt,n=nt,l=nt;return null==e&&(e=at([],{})),st(t["$sections?"]())?(s=st(r=e["$[]"]("sectnumlevels"))?r:t.$document().$attr("sectnumlevels",3).$to_i(),o=st(r=e["$[]"]("toclevels"))?r:t.$document().$attr("toclevels",2).$to_i(),n=t.$sections(),l=['<ul class="sectlevel'+n["$[]"](0).$level()+'">'],$t(n,"each",[],((a=function(t){var e,r=a.$$s||this,n=nt,i=nt,$=nt;return null==t&&(t=nt),n=t.$level(),i=st(t.$caption())?t.$captioned_title():st(st(e=t.$numbered())?tt(n,s):e)?t.$sectnum()+" "+t.$title():t.$title(),st(st(e=et(n,o))?$=r.$outline(t,at(["toclevels","secnumlevels"],{toclevels:o,secnumlevels:s})):e)?(l["$<<"]('<li><a href="#'+t.$id()+'">'+i+"</a>"),l["$<<"]($),l["$<<"]("</li>")):l["$<<"]('<li><a href="#'+t.$id()+'">'+i+"</a></li>")}).$$s=this,a.$$arity=1,a)),l["$<<"]("</ul>"),Z(l,J.const_get_relative(K,"LF"))):nt},s.$$arity=-2),J.def(W,"$section",o=function(t){var e,r,n=nt,i=nt,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt,_=nt,u=nt,d=nt;return n=t.$level(),i="h"+rt(n,1),$=a=s=o=nt,st(t.$id())&&($=' id="'+(l=t.$id())+'"',st((c=t.$document())["$attr?"]("sectanchors"))&&(a='<a class="anchor" href="#'+l+'"></a>'),st(c["$attr?"]("sectlinks"))&&(s='<a class="link" href="#'+l+'">',o="</a>")),n["$=="](0)?"<h1"+$+' class="sect0">'+a+s+t.$title()+o+"</h1>\n"+t.$content():(_=st(u=t.$role())?' class="sect'+n+" "+u+'"':' class="sect'+n+'"',d=st(st(e=st(r=t.$numbered())?t.$caption()["$!"]():r)?tt(n,t.$document().$attr("sectnumlevels",3).$to_i()):e)?t.$sectnum()+" ":nt,"<div"+_+">\n<"+i+$+">"+a+s+d+t.$captioned_title()+o+"</"+i+">\n"+(n["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>")},o.$$arity=1),J.def(W,"$admonition",l=function(t){var e,r=nt,n=nt,i=nt,$=nt,a=nt;return r=st(t.$id())?' id="'+t.$id()+'"':nt,n=t.$attr("name"),i=st(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":nt,$=st(t.$document()["$attr?"]("icons"))?st(st(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+n+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(n)+'" alt="'+t.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>","<div"+r+' class="admonitionblock '+n+(st(e=a=t.$role())?" "+a:e)+'">\n<table>\n<tr>\n<td class="icon">\n'+$+'\n</td>\n<td class="content">\n'+i+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},l.$$arity=1),J.def(W,"$audio",c=function(t){var e,r=this,n=nt,i=nt,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt;return n=r.xml_mode,i=st(t.$id())?' id="'+t.$id()+'"':nt,$=["audioblock",t.$role()].$compact(),a=' class="'+Z($," ")+'"',s=st(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":nt,o=t.$attr("start",nt,!1),l=t.$attr("end",nt,!1),c=st(st(e=o)?e:l)?"#t="+o+(st(l)?",":nt)+l:nt,"<div"+i+a+">\n"+s+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+c+'"'+(st(t["$option?"]("autoplay"))?r.$append_boolean_attribute("autoplay",n):nt)+(st(t["$option?"]("nocontrols"))?nt:r.$append_boolean_attribute("controls",n))+(st(t["$option?"]("loop"))?r.$append_boolean_attribute("loop",n):nt)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},c.$$arity=1),J.def(W,"$colist",_=function(n){var t,i,e,$=nt,r=nt,a=nt,s=nt,o=nt,l=nt;return $=[],r=st(n.$id())?' id="'+n.$id()+'"':nt,a=["colist",n.$style(),n.$role()].$compact(),s=' class="'+Z(a," ")+'"',$["$<<"]("<div"+r+s+">"),st(n["$title?"]())&&$["$<<"]('<div class="title">'+n.$title()+"</div>"),st(n.$document()["$attr?"]("icons"))?($["$<<"]("<table>"),t=[n.$document()["$attr?"]("icons","font"),0],o=t[0],l=t[1],$t(n.$items(),"each",[],((i=function(t){var e=i.$$s||this,r=nt;return null==e.void_element_slash&&(e.void_element_slash=nt),null==t&&(t=nt),l=rt(l,1),r=st(o)?'<i class="conum" data-value="'+l+'"></i><b>'+l+"</b>":'<img src="'+n.$icon_uri("callouts/"+l)+'" alt="'+l+'"'+e.void_element_slash+">",$["$<<"]("<tr>\n<td>"+r+"</td>\n<td>"+t.$text()+(st(t["$blocks?"]())?rt(J.const_get_relative(K,"LF"),t.$content()):"")+"</td>\n</tr>")}).$$s=this,i.$$arity=1,i)),$["$<<"]("</table>")):($["$<<"]("<ol>"),$t(n.$items(),"each",[],((e=function(t){return e.$$s,null==t&&(t=nt),$["$<<"]("<li>\n<p>"+t.$text()+"</p>"+(st(t["$blocks?"]())?rt(J.const_get_relative(K,"LF"),t.$content()):"")+"\n</li>")}).$$s=this,e.$$arity=1,e)),$["$<<"]("</ol>")),$["$<<"]("</div>"),Z($,J.const_get_relative(K,"LF"))},_.$$arity=1),J.def(W,"$dlist",u=function(a){var i,t,s,$,o=nt,e=nt,r=nt,n=nt,l=nt,c=nt,_=nt,u=nt;return o=[],e=st(a.$id())?' id="'+a.$id()+'"':nt,r=(n=a.$style(),"qanda"["$==="](n)?["qlist","qanda",a.$role()]:"horizontal"["$==="](n)?["hdlist",a.$role()]:["dlist",a.$style(),a.$role()]).$compact(),l=' class="'+Z(r," ")+'"',o["$<<"]("<div"+e+l+">"),st(a["$title?"]())&&o["$<<"]('<div class="title">'+a.$title()+"</div>"),n=a.$style(),"qanda"["$==="](n)?(o["$<<"]("<ol>"),$t(a.$items(),"each",[],((i=function(t,e){var r,n=i.$$s||this;return null==t&&(t=nt),null==e&&(e=nt),o["$<<"]("<li>"),$t([].concat(J.to_a(t)),"each",[],((r=function(t){return r.$$s,null==t&&(t=nt),o["$<<"]("<p><em>"+t.$text()+"</em></p>")}).$$s=n,r.$$arity=1,r)),st(e)&&(st(e["$text?"]())&&o["$<<"]("<p>"+e.$text()+"</p>"),st(e["$blocks?"]())&&o["$<<"](e.$content())),o["$<<"]("</li>")}).$$s=this,i.$$arity=2,i)),o["$<<"]("</ol>")):"horizontal"["$==="](n)?(c=this.void_element_slash,o["$<<"]("<table>"),st(st(t=a["$attr?"]("labelwidth"))?t:a["$attr?"]("itemwidth"))&&(o["$<<"]("<colgroup>"),_=st(a["$attr?"]("labelwidth"))?' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"':nt,o["$<<"]("<col"+_+c+">"),_=st(a["$attr?"]("itemwidth"))?' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"':nt,o["$<<"]("<col"+_+c+">"),o["$<<"]("</colgroup>")),$t(a.$items(),"each",[],((s=function(t,e){var r,n=s.$$s||this,i=nt,$=nt;return null==t&&(t=nt),null==e&&(e=nt),o["$<<"]("<tr>"),o["$<<"]('<td class="hdlist1'+(st(a["$option?"]("strong"))?" strong":nt)+'">'),i=[].concat(J.to_a(t)),$=i["$[]"](-1),$t(i,"each",[],((r=function(t){return r.$$s,null==t&&(t=nt),o["$<<"](t.$text()),st(t["$!="]($))?o["$<<"]("<br"+c+">"):nt}).$$s=n,r.$$arity=1,r)),o["$<<"]("</td>"),o["$<<"]('<td class="hdlist2">'),st(e)&&(st(e["$text?"]())&&o["$<<"]("<p>"+e.$text()+"</p>"),st(e["$blocks?"]())&&o["$<<"](e.$content())),o["$<<"]("</td>"),o["$<<"]("</tr>")}).$$s=this,s.$$arity=2,s)),o["$<<"]("</table>")):(o["$<<"]("<dl>"),u=st(a.$style())?nt:' class="hdlist1"',$t(a.$items(),"each",[],(($=function(t,e){var r,n=$.$$s||this;return null==t&&(t=nt),null==e&&(e=nt),$t([].concat(J.to_a(t)),"each",[],((r=function(t){return r.$$s,null==t&&(t=nt),o["$<<"]("<dt"+u+">"+t.$text()+"</dt>")}).$$s=n,r.$$arity=1,r)),st(e)?(o["$<<"]("<dd>"),st(e["$text?"]())&&o["$<<"]("<p>"+e.$text()+"</p>"),st(e["$blocks?"]())&&o["$<<"](e.$content()),o["$<<"]("</dd>")):nt}).$$s=this,$.$$arity=2,$)),o["$<<"]("</dl>")),o["$<<"]("</div>"),Z(o,J.const_get_relative(K,"LF"))},u.$$arity=1),J.def(W,"$example",d=function(t){var e,r=nt,n=nt,i=nt;return r=st(t.$id())?' id="'+t.$id()+'"':nt,n=st(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":nt,"<div"+r+' class="exampleblock'+(st(e=i=t.$role())?" "+i:e)+'">\n'+n+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},d.$$arity=1),J.def(W,"$floating_title",f=function(t){var e=nt,r=nt,n=nt;return e="h"+rt(t.$level(),1),r=st(t.$id())?' id="'+t.$id()+'"':nt,n=[t.$style(),t.$role()].$compact(),"<"+e+r+' class="'+Z(n," ")+'">'+t.$title()+"</"+e+">"},f.$$arity=1),J.def(W,"$image",h=function(t){var e,r,n,i=this,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt,_=nt,u=nt,d=nt,f=nt,h=nt,p=nt,g=nt,v=nt,m=nt;return $=t.$attr("target"),a=st(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':nt,s=st(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':nt,st(st(e=st(r=st(n=t["$attr?"]("format","svg",!1))?n:$["$include?"](".svg"))?et(t.$document().$safe(),J.const_get_qualified(J.const_get_relative(K,"SafeMode"),"SECURE")):r)?st(r=o=t["$option?"]("inline"))?r:l=t["$option?"]("interactive"):e)&&(st(o)?c=st(e=i.$read_svg_contents(t,$))?e:'<span class="alt">'+t.$alt()+"</span>":st(l)&&(_=st(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+i.$encode_quotes(t.$alt())+'"'+a+s+i.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",c='<object type="image/svg+xml" data="'+t.$image_uri($)+'"'+a+s+">"+_+"</object>")),c=st(e=c)?e:'<img src="'+t.$image_uri($)+'" alt="'+i.$encode_quotes(t.$alt())+'"'+a+s+i.void_element_slash+">",st(t["$attr?"]("link"))&&(st(t["$attr?"]("window"))&&(u=' target="'+(d=t.$attr("window"))+'"'+(st(st(e=d["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':"")),c='<a class="image" href="'+t.$attr("link")+'"'+u+">"+c+"</a>"),f=st(t.$id())?' id="'+t.$id()+'"':nt,h=["imageblock",t.$role()].$compact(),p=' class="'+Z(h," ")+'"',g=[],st(t["$attr?"]("align"))&&g["$<<"]("text-align: "+t.$attr("align")),st(t["$attr?"]("float"))&&g["$<<"]("float: "+t.$attr("float")),v=st(g["$empty?"]())?nt:' style="'+Z(g,";")+'"',m=st(t["$title?"]())?'\n<div class="title">'+t.$captioned_title()+"</div>":nt,"<div"+f+p+v+'>\n<div class="content">\n'+c+"\n</div>"+m+"\n</div>"},h.$$arity=1),J.def(W,"$listing",p=function(t){var e,r=nt,n=nt,i=nt,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt,_=nt;return r=st(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),t.$style()["$=="]("source")?(i=st(n=t.$attr("language",nt,!1))?' data-lang="'+n+'"':nt,$=t.$document().$attr("source-highlighter"),"coderay"["$==="]($)?a=' class="CodeRay highlight'+(st(r)?" nowrap":nt)+'"':"pygments"["$==="]($)?a=' class="pygments highlight'+(st(r)?" nowrap":nt)+'"':"highlightjs"["$==="]($)||"highlight.js"["$==="]($)?(a=' class="highlightjs highlight'+(st(r)?" nowrap":nt)+'"',st(n)&&(i=' class="language-'+n+' hljs"'+i)):"prettify"["$==="]($)?(a=' class="prettyprint highlight'+(st(r)?" nowrap":nt)+(st(t["$attr?"]("linenums",nt,!1))?" linenums":nt)+'"',st(n)&&(i=' class="language-'+n+'"'+i)):"html-pipeline"["$==="]($)?(a=st(n)?' lang="'+n+'"':nt,i=nt):(a=' class="highlight'+(st(r)?" nowrap":nt)+'"',st(n)&&(i=' class="language-'+n+'"'+i)),s="<pre"+a+"><code"+i+">",o="</code></pre>"):(s="<pre"+(st(r)?' class="nowrap"':nt)+">",o="</pre>"),l=st(t.$id())?' id="'+t.$id()+'"':nt,c=st(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":nt,"<div"+l+' class="listingblock'+(st(e=_=t.$role())?" "+_:e)+'">\n'+c+'<div class="content">\n'+s+t.$content()+o+"\n</div>\n</div>"},p.$$arity=1),J.def(W,"$literal",g=function(t){var e,r=nt,n=nt,i=nt,$=nt;return r=st(t.$id())?' id="'+t.$id()+'"':nt,n=st(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":nt,i=st(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+r+' class="literalblock'+(st(e=$=t.$role())?" "+$:e)+'">\n'+n+'<div class="content">\n<pre'+(st(i)?' class="nowrap"':nt)+">"+t.$content()+"</pre>\n</div>\n</div>"},g.$$arity=1),J.def(W,"$stem",v=function(t){var e,r,n=nt,i=nt,$=nt,a=nt,s=nt,o=nt;return n=st(t.$id())?' id="'+t.$id()+'"':nt,i=st(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":nt,r=J.const_get_relative(K,"BLOCK_MATH_DELIMITERS")["$[]"](t.$style().$to_sym()),e=J.to_ary(r),$=null==e[0]?nt:e[0],a=null==e[1]?nt:e[1],st(st(e=(s=t.$content())["$start_with?"]($))?s["$end_with?"](a):e)||(s=""+$+s+a),"<div"+n+' class="stemblock'+(st(e=o=t.$role())?" "+o:e)+'">\n'+i+'<div class="content">\n'+s+"\n</div>\n</div>"},v.$$arity=1),J.def(W,"$olist",m=function(t){var e,r=this,n=nt,i=nt,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt;return n=[],i=st(t.$id())?' id="'+t.$id()+'"':nt,$=["olist",t.$style(),t.$role()].$compact(),a=' class="'+Z($," ")+'"',n["$<<"]("<div"+i+a+">"),st(t["$title?"]())&&n["$<<"]('<div class="title">'+t.$title()+"</div>"),s=st(o=t.$list_marker_keyword())?' type="'+o+'"':nt,l=st(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':nt,c=st(t["$option?"]("reversed"))?r.$append_boolean_attribute("reversed",r.xml_mode):nt,n["$<<"]('<ol class="'+t.$style()+'"'+s+l+c+">"),$t(t.$items(),"each",[],((e=function(t){return e.$$s,null==t&&(t=nt),n["$<<"]("<li>"),n["$<<"]("<p>"+t.$text()+"</p>"),st(t["$blocks?"]())&&n["$<<"](t.$content()),n["$<<"]("</li>")}).$$s=r,e.$$arity=1,e)),n["$<<"]("</ol>"),n["$<<"]("</div>"),Z(n,J.const_get_relative(K,"LF"))},m.$$arity=1),J.def(W,"$open",y=function(t){var e,r,n,i=nt,$=nt,a=nt,s=nt;return(i=t.$style())["$=="]("abstract")?st((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):($=st(t.$id())?' id="'+t.$id()+'"':nt,a=st(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":nt,"<div"+$+' class="quoteblock abstract'+(st(e=s=t.$role())?" "+s:e)+'">\n'+a+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):st((e=i["$=="]("partintro"))?st(r=st(n=Q(t.$level(),0))?n:t.$parent().$context()["$!="]("section"))?r:t.$document().$doctype()["$!="]("book"):i["$=="]("partintro"))?(this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),""):($=st(t.$id())?' id="'+t.$id()+'"':nt,a=st(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":nt,"<div"+$+' class="openblock'+(st(st(e=i)?i["$!="]("open"):e)?" "+i:"")+(st(e=s=t.$role())?" "+s:e)+'">\n'+a+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},y.$$arity=1),J.def(W,"$page_break",b=function(t){return'<div style="page-break-after: always;"></div>'},b.$$arity=1),J.def(W,"$paragraph",x=function(t){var e=nt,r=nt;return e=st(t.$role())?'class="paragraph '+t.$role()+'"':'class="paragraph"',r=st(t.$id())?'id="'+t.$id()+'" '+e:e,st(t["$title?"]())?"<div "+r+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div "+r+">\n<p>"+t.$content()+"</p>\n</div>"},x.$$arity=1),J.def(W,"$preamble",k=function(t){var e,r,n=nt,i=nt;return i=st(st(e=st(r=(n=t.$document())["$attr?"]("toc-placement","preamble"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?'\n<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+this.$outline(n)+"\n</div>":nt,'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+i+"\n</div>"},k.$$arity=1),J.def(W,"$quote",w=function(t){var e,r=this,n=nt,i=nt,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt,_=nt;return n=st(t.$id())?' id="'+t.$id()+'"':nt,i=["quoteblock",t.$role()].$compact(),$=' class="'+Z(i," ")+'"',a=st(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":nt,s=st(t["$attr?"]("attribution"))?t.$attr("attribution"):nt,o=st(t["$attr?"]("citetitle"))?t.$attr("citetitle"):nt,st(st(e=s)?e:o)?(l=st(o)?"<cite>"+o+"</cite>":nt,c=st(s)?"&#8212; "+s+(st(o)?"<br"+r.void_element_slash+">\n":nt):nt,_='\n<div class="attribution">\n'+c+l+"\n</div>"):_=nt,"<div"+n+$+">"+a+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+_+"\n</div>"},w.$$arity=1),J.def(W,"$thematic_break",E=function(t){return"<hr"+this.void_element_slash+">"},E.$$arity=1),J.def(W,"$sidebar",A=function(t){var e,r=nt,n=nt,i=nt;return r=st(t.$id())?' id="'+t.$id()+'"':nt,n=st(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":nt,"<div"+r+' class="sidebarblock'+(st(e=i=t.$role())?" "+i:e)+'">\n<div class="content">\n'+n+t.$content()+"\n</div>\n</div>"},A.$$arity=1),J.def(W,"$table",O=function(_){var t,e,r,n,u=nt,i=nt,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt,d=nt;return u=[],i=st(_.$id())?' id="'+_.$id()+'"':nt,$=["tableblock","frame-"+_.$attr("frame","all"),"grid-"+_.$attr("grid","all")],a=[],st(st(t=_["$option?"]("autowidth"))?_["$attr?"]("width",nt,!1)["$!"]():t)||(st(_["$attr?"]("tablepcwidth",100))?$["$<<"]("spread"):a["$<<"]("width: "+_.$attr("tablepcwidth")+"%;")),st(s=_.$role())&&$["$<<"](s),o=' class="'+Z($," ")+'"',st(_["$attr?"]("float"))&&a["$<<"]("float: "+_.$attr("float")+";"),l=st(a["$empty?"]())?nt:' style="'+Z(a," ")+'"',u["$<<"]("<table"+i+o+l+">"),st(_["$title?"]())&&u["$<<"]('<caption class="title">'+_.$captioned_title()+"</caption>"),st(Q(_.$attr("rowcount"),0))&&(c=this.void_element_slash,u["$<<"]("<colgroup>"),st(_["$option?"]("autowidth"))?(d="<col"+c+">",$t(_.$columns().$size(),"times",[],((e=function(){return e.$$s,u["$<<"](d)}).$$s=this,e.$$arity=0,e))):$t(_.$columns(),"each",[],((r=function(t){return r.$$s,null==t&&(t=nt),u["$<<"]('<col style="width: '+t.$attr("colpcwidth")+'%;"'+c+">")}).$$s=this,r.$$arity=1,r)),u["$<<"]("</colgroup>"),$t(_.$rows().$by_section(),"each",[],((n=function(c,t){var r,e=n.$$s||this;return null==c&&(c=nt),null==t&&(t=nt),st(t["$empty?"]())?nt:(u["$<<"]("<t"+c+">"),$t(t,"each",[],((r=function(t){var l,e=r.$$s||this;return null==t&&(t=nt),u["$<<"]("<tr>"),$t(t,"each",[],((l=function(t){l.$$s;var e,r=nt,n=nt,i=nt,$=nt,a=nt,s=nt,o=nt;return null==t&&(t=nt),c["$=="]("head")?r=t.$text():(n=t.$style(),r="asciidoc"["$==="](n)?"<div>"+t.$content()+"</div>":"verse"["$==="](n)?'<div class="verse">'+t.$text()+"</div>":"literal"["$==="](n)?'<div class="literal"><pre>'+t.$text()+"</pre></div>":st((r=t.$content())["$empty?"]())?"":'<p class="tableblock">'+Z(r,'</p>\n<p class="tableblock">')+"</p>"),i=st(st(e=c["$=="]("head"))?e:t.$style()["$=="]("header"))?"th":"td",$=' class="tableblock halign-'+t.$attr("halign")+" valign-"+t.$attr("valign")+'"',a=st(t.$colspan())?' colspan="'+t.$colspan()+'"':nt,s=st(t.$rowspan())?' rowspan="'+t.$rowspan()+'"':nt,o=st(_.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+_.$document().$attr("cellbgcolor")+';"':nt,u["$<<"]("<"+i+$+a+s+o+">"+r+"</"+i+">")}).$$s=e,l.$$arity=1,l)),u["$<<"]("</tr>")}).$$s=e,r.$$arity=1,r)),u["$<<"]("</t"+c+">"))}).$$s=this,n.$$arity=2,n))),u["$<<"]("</table>"),Z(u,J.const_get_relative(K,"LF"))},O.$$arity=1),J.def(W,"$toc",S=function(t){var e,r,n=nt,i=nt,$=nt,a=nt,s=nt,o=nt;return st(st(e=st(r=(n=t.$document())["$attr?"]("toc-placement","macro"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?(st(t.$id())?(i=' id="'+t.$id()+'"',$=' id="'+t.$id()+'title"'):(i=' id="toc"',$=' id="toctitle"'),a=st(t["$title?"]())?t.$title():n.$attr("toc-title"),s=st(t["$attr?"]("levels"))?t.$attr("levels").$to_i():nt,o=st(t["$role?"]())?t.$role():n.$attr("toc-class","toc"),"<div"+i+' class="'+o+'">\n<div'+$+' class="title">'+a+"</div>\n"+this.$outline(n,at(["toclevels"],{toclevels:s}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"},S.$$arity=1),J.def(W,"$ulist",R=function(t){var r,n=nt,e=nt,i=nt,$=nt,a=nt,s=nt,o=nt;return n=[],e=st(t.$id())?' id="'+t.$id()+'"':nt,i=["ulist",t.$style(),t.$role()].$compact(),a=$=nt,st(s=t["$option?"]("checklist"))?(i.$unshift(i.$shift(),"checklist"),o=' class="checklist"',st(t["$option?"]("interactive"))?st(this.xml_mode)?($='<input type="checkbox" data-item-complete="1" checked="checked"/> ',a='<input type="checkbox" data-item-complete="0"/> '):($='<input type="checkbox" data-item-complete="1" checked> ',a='<input type="checkbox" data-item-complete="0"> '):st(t.$document()["$attr?"]("icons","font"))?($='<i class="fa fa-check-square-o"></i> ',a='<i class="fa fa-square-o"></i> '):($="&#10003; ",a="&#10063; ")):o=st(t.$style())?' class="'+t.$style()+'"':nt,n["$<<"]("<div"+e+' class="'+Z(i," ")+'">'),st(t["$title?"]())&&n["$<<"]('<div class="title">'+t.$title()+"</div>"),n["$<<"]("<ul"+o+">"),$t(t.$items(),"each",[],((r=function(t){var e;return r.$$s,null==t&&(t=nt),n["$<<"]("<li>"),st(st(e=s)?t["$attr?"]("checkbox"):e)?n["$<<"]("<p>"+(st(t["$attr?"]("checked"))?$:a)+t.$text()+"</p>"):n["$<<"]("<p>"+t.$text()+"</p>"),st(t["$blocks?"]())&&n["$<<"](t.$content()),n["$<<"]("</li>")}).$$s=this,r.$$arity=1,r)),n["$<<"]("</ul>"),n["$<<"]("</div>"),Z(n,J.const_get_relative(K,"LF"))},R.$$arity=1),J.def(W,"$verse",T=function(t){var e,r=this,n=nt,i=nt,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt,_=nt;return n=st(t.$id())?' id="'+t.$id()+'"':nt,i=["verseblock",t.$role()].$compact(),$=' class="'+Z(i," ")+'"',a=st(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":nt,s=st(t["$attr?"]("attribution"))?t.$attr("attribution"):nt,o=st(t["$attr?"]("citetitle"))?t.$attr("citetitle"):nt,st(st(e=s)?e:o)?(l=st(o)?"<cite>"+o+"</cite>":nt,c=st(s)?"&#8212; "+s+(st(o)?"<br"+r.void_element_slash+">\n":nt):nt,_='\n<div class="attribution">\n'+c+l+"\n</div>"):_=nt,"<div"+n+$+">"+a+'\n<pre class="content">'+t.$content()+"</pre>"+_+"\n</div>"},T.$$arity=1),J.def(W,"$video",M=function(t){var e,r,n=this,i=nt,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt,_=nt,u=nt,d=nt,f=nt,h=nt,p=nt,g=nt,v=nt,m=nt,y=nt,b=nt,x=nt,k=nt,w=nt,E=nt,A=nt,O=nt,S=nt,R=nt,T=nt,M=nt,C=nt,I=nt,q=nt,N=nt;return i=n.xml_mode,$=st(t.$id())?' id="'+t.$id()+'"':nt,a=["videoblock",t.$role()].$compact(),s=' class="'+Z(a," ")+'"',o=st(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":nt,l=st(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':nt,c=st(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':nt,_=t.$attr("poster"),"vimeo"["$==="](_)?(st((u=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(u+=":"),d=st(t["$attr?"]("start",nt,!1))?"#at="+t.$attr("start"):nt,f="?",h=st(t["$option?"]("autoplay"))?f+"autoplay=1":nt,st(h)&&(f="&amp;"),p=st(t["$option?"]("loop"))?f+"loop=1":nt,"<div"+$+s+">"+o+'\n<div class="content">\n<iframe'+l+c+' src="'+u+"//player.vimeo.com/video/"+t.$attr("target")+d+h+p+'" frameborder="0"'+(st(t["$option?"]("nofullscreen"))?nt:n.$append_boolean_attribute("allowfullscreen",i))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](_)?(st((u=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(u+=":"),g=st(t["$option?"]("related"))?1:0,v=st(t["$attr?"]("start",nt,!1))?"&amp;start="+t.$attr("start"):nt,m=st(t["$attr?"]("end",nt,!1))?"&amp;end="+t.$attr("end"):nt,h=st(t["$option?"]("autoplay"))?"&amp;autoplay=1":nt,p=st(t["$option?"]("loop"))?"&amp;loop=1":nt,y=st(t["$option?"]("nocontrols"))?"&amp;controls=0":nt,st(t["$option?"]("nofullscreen"))?(b="&amp;fs=0",x=nt):(b=nt,x=n.$append_boolean_attribute("allowfullscreen",i)),k=st(t["$option?"]("modest"))?"&amp;modestbranding=1":nt,w=st(t["$attr?"]("theme",nt,!1))?"&amp;theme="+t.$attr("theme"):nt,E=st(t["$attr?"]("lang"))?"&amp;hl="+t.$attr("lang"):nt,r=t.$attr("target").$split("/",2),e=J.to_ary(r),A=null==e[0]?nt:e[0],O=null==e[1]?nt:e[1],st(O=st(e=O)?e:t.$attr("list",nt,!1))?S="&amp;list="+O:(r=A.$split(",",2),e=J.to_ary(r),A=null==e[0]?nt:e[0],R=null==e[1]?nt:e[1],S=st(R=st(e=R)?e:t.$attr("playlist",nt,!1))?"&amp;playlist="+R:st(p)?"&amp;playlist="+A:nt),"<div"+$+s+">"+o+'\n<div class="content">\n<iframe'+l+c+' src="'+u+"//www.youtube.com/embed/"+A+"?rel="+g+v+m+h+p+y+S+b+k+w+E+'" frameborder="0"'+x+"></iframe>\n</div>\n</div>"):(T=st((M=t.$attr("poster",nt,!1))["$nil_or_empty?"]())?nt:' poster="'+t.$media_uri(M)+'"',C=st((M=t.$attr("preload",nt,!1))["$nil_or_empty?"]())?nt:' preload="'+M+'"',I=t.$attr("start",nt,!1),q=t.$attr("end",nt,!1),N=st(st(e=I)?e:q)?"#t="+I+(st(q)?",":nt)+q:nt,"<div"+$+s+">"+o+'\n<div class="content">\n<video src="'+t.$media_uri(t.$attr("target"))+N+'"'+l+c+T+(st(t["$option?"]("autoplay"))?n.$append_boolean_attribute("autoplay",i):nt)+(st(t["$option?"]("nocontrols"))?nt:n.$append_boolean_attribute("controls",i))+(st(t["$option?"]("loop"))?n.$append_boolean_attribute("loop",i):nt)+C+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},M.$$arity=1),J.def(W,"$inline_anchor",C=function(t){var e,r,n=this,i=nt,$=nt,a=nt,s=nt,o=nt,l=nt,c=nt;return i=t.$type(),"xref"["$==="](i)?(st(st(e=$=t.$text())?e:$=t.$attributes()["$[]"]("path"))||($=st(J.const_get_relative(K,"AbstractNode")["$==="](a=t.$document().$catalog()["$[]"]("refs")["$[]"](s=t.$attributes()["$[]"]("refid"))))&&st(e=a.$xreftext(n.xrefstyle=st(r=n.xrefstyle)?r:t.$document().$attributes()["$[]"]("xrefstyle")))?e:"["+s+"]"),'<a href="'+t.$target()+'">'+$+"</a>"):"ref"["$==="](i)?'<a id="'+t.$id()+'"></a>':"link"["$==="](i)?(o=st(t.$id())?[' id="'+t.$id()+'"']:[],st(l=t.$role())&&o["$<<"](' class="'+l+'"'),st(t["$attr?"]("title",nt,!1))&&o["$<<"](' title="'+t.$attr("title")+'"'),st(t["$attr?"]("window",nt,!1))&&o["$<<"](' target="'+(c=t.$attr("window"))+'"'+(st(st(e=c["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':"")),'<a href="'+t.$target()+'"'+o.$join()+">"+t.$text()+"</a>"):"bibref"["$==="](i)?'<a id="'+t.$id()+'"></a>'+t.$text():n.$warn("asciidoctor: WARNING: unknown anchor type: "+t.$type().$inspect())},C.$$arity=1),J.def(W,"$inline_break",I=function(t){return t.$text()+"<br"+this.void_element_slash+">"},I.$$arity=1),J.def(W,"$inline_button",q=function(t){return'<b class="button">'+t.$text()+"</b>"},q.$$arity=1),J.def(W,"$inline_callout",N=function(t){return st(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":st(t.$document()["$attr?"]("icons"))?'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+this.void_element_slash+">":'<b class="conum">('+t.$text()+")</b>"},N.$$arity=1),J.def(W,"$inline_footnote",z=function(t){var e=nt;return st(e=t.$attr("index",nt,!1))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":'<sup class="footnote"'+(st(t.$id())?' id="_footnote_'+t.$id()+'"':nt)+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":nt},z.$$arity=1),J.def(W,"$inline_image",D=function(r){var t,n,e,i,$,a,s=this,o=nt,l=nt,c=nt,_=nt,u=nt,d=nt,f=nt,h=nt,p=nt,g=nt,v=nt,m=nt,y=nt;return st((t=(o=r.$type())["$=="]("icon"))?r.$document()["$attr?"]("icons","font"):(o=r.$type())["$=="]("icon"))?(l="fa fa-"+r.$target(),$t(at(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],((n=function(t,e){return n.$$s,null==t&&(t=nt),null==e&&(e=nt),st(r["$attr?"](t))?l=l+" "+e+r.$attr(t):nt}).$$s=s,n.$$arity=2,n)),c=st(r["$attr?"]("title"))?' title="'+r.$attr("title")+'"':nt,_='<i class="'+l+'"'+c+"></i>"):st((t=o["$=="]("icon"))?r.$document()["$attr?"]("icons")["$!"]():o["$=="]("icon"))?_="["+r.$alt()+"]":(u=r.$target(),d=$t(["width","height","title"],"map",[],(e=function(t){return e.$$s,null==t&&(t=nt),st(r["$attr?"](t))?" "+t+'="'+r.$attr(t)+'"':nt},e.$$s=s,e.$$arity=1,e)).$join(),st(st(t=st(i=st($=o["$!="]("icon"))?st(a=r["$attr?"]("format","svg",!1))?a:u["$include?"](".svg"):$)?et(r.$document().$safe(),J.const_get_qualified(J.const_get_relative(K,"SafeMode"),"SECURE")):i)?st(i=f=r["$option?"]("inline"))?i:h=r["$option?"]("interactive"):t)&&(st(f)?_=st(t=s.$read_svg_contents(r,u))?t:'<span class="alt">'+r.$alt()+"</span>":st(h)&&(p=st(r["$attr?"]("fallback"))?'<img src="'+r.$image_uri(r.$attr("fallback"))+'" alt="'+s.$encode_quotes(r.$alt())+'"'+d+s.void_element_slash+">":'<span class="alt">'+r.$alt()+"</span>",_='<object type="image/svg+xml" data="'+r.$image_uri(u)+'"'+d+">"+p+"</object>")),_=st(t=_)?t:'<img src="'+(o["$=="]("icon")?r.$icon_uri(u):r.$image_uri(u))+'" alt="'+s.$encode_quotes(r.$alt())+'"'+d+s.void_element_slash+">"),st(r["$attr?"]("link"))&&(st(r["$attr?"]("window"))&&(g=' target="'+(v=r.$attr("window"))+'"'+(st(st(t=v["$=="]("_blank"))?t:r["$option?"]("noopener"))?' rel="noopener"':"")),_='<a class="image" href="'+r.$attr("link")+'"'+g+">"+_+"</a>"),l=st(m=r.$role())?o+" "+m:o,y=st(r["$attr?"]("float"))?' style="float: '+r.$attr("float")+'"':nt,'<span class="'+l+'"'+y+">"+_+"</span>"},D.$$arity=1),J.def(W,"$inline_indexterm",B=function(t){return t.$type()["$=="]("visible")?t.$text():""},B.$$arity=1),J.def(W,"$inline_kbd",F=function(t){var e=nt;return(e=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+e["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+Z(e,"</kbd>+<kbd>")+"</kbd></span>"},F.$$arity=1),J.def(W,"$inline_menu",P=function(t){var e=nt,r=nt,n=nt,i=nt,$=nt;return e=st(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',r="</b>"+e+'<b class="submenu">',n=t.$attr("menu"),st((i=t.$attr("submenus"))["$empty?"]())?st($=t.$attr("menuitem",nt,!1))?'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="menuitem">'+$+"</b></span>":'<b class="menuref">'+n+"</b>":'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="submenu">'+Z(i,r)+"</b>"+e+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},P.$$arity=1),J.def(W,"$inline_quoted",L=function(t){var e,r,n=nt,i=nt,$=nt,a=nt;return r=J.const_get_relative(K,"QUOTE_TAGS")["$[]"](t.$type()),e=J.to_ary(r),n=null==e[0]?nt:e[0],i=null==e[1]?nt:e[1],$=null==e[2]?nt:e[2],a=st(t.$role())?st($)?n.$chop()+' class="'+t.$role()+'">'+t.$text()+i:'<span class="'+t.$role()+'">'+n+t.$text()+i+"</span>":""+n+t.$text()+i,st(t.$id())?'<a id="'+t.$id()+'"></a>'+a:a},L.$$arity=1),J.def(W,"$append_boolean_attribute",j=function(t,e){return st(e)?" "+t+'="'+t+'"':" "+t},j.$$arity=2),J.def(W,"$encode_quotes",U=function(t){return st(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},U.$$arity=1),J.def(W,"$read_svg_contents",H=function(e,t){var r,n=nt,i=nt,$=nt;return st(n=e.$read_contents(t,at(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(st(n["$start_with?"]("<svg"))||(n=n.$sub(J.const_get_relative(K,"SvgPreambleRx"),"")),i=$=nt,$t(["width","height"],"each",[],((r=function(t){return r.$$s,null==t&&(t=nt),st(e["$attr?"](t))?(st($)||($=(i=n.$match(J.const_get_relative(K,"SvgStartTagRx"))["$[]"](0)).$gsub(J.const_get_relative(K,"DimensionAttributeRx"),"")),$=$.$chop()+" "+t+'="'+e.$attr(t)+'px">'):nt}).$$s=this,r.$$arity=1,r)),st($)&&(n=""+$+n["$[]"](J.Range.$new(i.$length(),-1,!1)))),n},H.$$arity=2)}(J.const_get_relative(r,"Converter"),J.const_get_qualified(J.const_get_relative(r,"Converter"),"BuiltIn"),r)},Opal.modules["asciidoctor/extensions"]=function(L){function j(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function U(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function H(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function G(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}L.top;var t,e,r,n,o,i,$,a,s,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B,F,P,Y,W,X,K,V,J,Z,Q=[],tt=L.nil,et=(L.breaker,L.slice,L.module),rt=L.klass,nt=L.truthy,it=L.hash2,$t=L.send,at=L.hash;return L.add_stubs(["$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$doctype","$[]","$+","$level","$delete","$==","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$>","$key?","$attributes","$special","$context","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$===","$next_block","$dup","$<<","$has_more_lines?","$each","$define_method","$unshift","$shift","$send","$empty?","$size","$call","$option","$flatten","$respond_to?","$include?","$to_s","$split","$to_i","$compact","$inspect","$attr_accessor","$to_set","$!","$resolve_regexp","$match?","$method","$register","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$private","$join","$map","$capitalize","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$resolve_class","$<","$update_config","$push","$as_symbol","$name=","$pop","$-@","$next_auto_id","$generate_name","$class_for_name","$const_defined?"]),(J=et((t=Q)[0],"Asciidoctor")).$$proto,Z=[J].concat(t),a=Z[0],s=Z,(K=et(a,"Extensions")).$$proto,function(t,e,r){function n(){}var i,$,a,s,o,l,c,_,u,d=n=rt(t,null,"Processor",n),f=d.$$proto,h=[d].concat(r);f.config=tt,function(t,e){t.$$proto;var r,n,i,$=[t].concat(e);L.def(t,"$config",r=function(){var t;return null==this.config&&(this.config=tt),this.config=nt(t=this.config)?t:it([],{})},r.$$arity=0),L.def(t,"$option",n=function(t,e){var r=tt;return r=[t,e],$t(this.$config(),"[]=",L.to_a(r)),r[j(r.length,1)]},n.$$arity=2),L.def(t,"$use_dsl",i=function(){return nt(this.$name()["$nil_or_empty?"]())?nt((L.Module.$$nesting=$,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):tt:nt((L.Module.$$nesting=$,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):tt},i.$$arity=0),L.alias(t,"extend_dsl","use_dsl"),L.alias(t,"include_dsl","use_dsl")}(L.get_singleton_class(d),h),d.$attr_reader("config"),L.def(d,"$initialize",i=function(t){return null==t&&(t=it([],{})),this.config=this.$class().$config().$merge(t)},i.$$arity=-1),L.def(d,"$update_config",$=function(t){return this.config.$update(t)},$.$$arity=1),L.def(d,"$process",a=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$raise(L.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},a.$$arity=-1),L.def(d,"$create_section",s=function(t,e,r,n){var i,$,a=tt,s=tt,o=tt,l=tt,c=tt,_=tt,u=tt,d=tt,f=tt;return null==n&&(n=it([],{})),a=t.$document(),i=[a.$doctype(),nt($=n["$[]"]("level"))?$:U(t.$level(),1)],s=i[0],o=i[1],nt(l=r.$delete("style"))?nt((i=l["$=="]("abstract"))?s["$=="]("book"):l["$=="]("abstract"))?(c=(i=["chapter",1])[0],o=i[1]):(c=(i=[l,!0])[0],_=i[1],o["$=="](0)&&(o=1)):s["$=="]("book")?c=o["$=="](0)?"part":o["$=="](1)?"chapter":"section":nt((i=s["$=="]("manpage"))?e.$casecmp("synopsis")["$=="](0):s["$=="]("manpage"))?(c=(i=["synopsis",!0])[0],_=i[1]):c="section",u=L.const_get_relative(h,"Section").$new(t,o,!1),i=[e,c],u["$title="](i[0]),u["$sectname="](i[1]),nt(_)?(d=[!0],$t(u,"special=",L.to_a(d)),d[j(d.length,1)],nt(n.$fetch("numbered",l["$=="]("appendix")))&&(d=[!0],$t(u,"numbered=",L.to_a(d)),d[j(d.length,1)])):nt(n.$fetch("numbered",nt(i=H(o,0))?a.$attributes()["$key?"]("sectnums"):i))&&(d=[!nt(u.$special())||((i=t.$context()["$=="]("section"))?t.$numbered():t.$context()["$=="]("section"))],$t(u,"numbered=",L.to_a(d)),d[j(d.length,1)]),(f=r.$delete("id"))["$=="](!1)||(d=[(d=["id",nt(i=f)?i:nt(a.$attributes()["$key?"]("sectids"))?L.const_get_relative(h,"Section").$generate_id(u.$title(),a):tt],$t(r,"[]=",L.to_a(d)),d[j(d.length,1)])],$t(u,"id=",L.to_a(d)),d[j(d.length,1)]),u.$update_attributes(r),u},s.$$arity=-4),L.def(d,"$create_block",o=function(t,e,r,n,i){return null==i&&(i=it([],{})),L.const_get_relative(h,"Block").$new(t,e,it(["source","attributes"],{source:r,attributes:n}).$merge(i))},o.$$arity=-5),L.def(d,"$create_image_block",l=function(t,e,r){var n=tt,i=tt;return null==r&&(r=it([],{})),nt(n=e["$[]"]("target"))||this.$raise(L.const_get_qualified("::","ArgumentError"),"Unable to create an image block, target attribute is required"),nt(e["$[]"]("alt"))||(i=["alt",(i=["default-alt",L.const_get_relative(h,"Helpers").$basename(n,!0).$tr("_-"," ")],$t(e,"[]=",L.to_a(i)),i[j(i.length,1)])],$t(e,"[]=",L.to_a(i)),i[j(i.length,1)]),this.$create_block(t,"image",tt,e,r)},l.$$arity=-3),L.def(d,"$create_inline",c=function(t,e,r,n){return null==n&&(n=it([],{})),L.const_get_relative(h,"Inline").$new(t,e,r,n)},c.$$arity=-4),L.def(d,"$parse_content",_=function(t,e,r){var n,i,$=tt,a=tt;for(null==r&&(r=tt),$=nt(L.const_get_relative(h,"Reader")["$==="](e))?e:L.const_get_relative(h,"Reader").$new(e);nt(nt(n=nt(i=a=L.const_get_relative(h,"Parser").$next_block($,t,nt(r)?r.$dup():it([],{})))?t["$<<"](a):i)?n:$["$has_more_lines?"]()););return t},_.$$arity=-3),$t([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],((u=function(t,a,s){var o,e=u.$$s||this;return null==t&&(t=tt),null==a&&(a=tt),null==s&&(s=tt),$t(e,"define_method",[t],((o=function(t){var e,r=o.$$s||this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return e.$unshift(e.$shift(),s),$t(r,"send",[a].concat(L.to_a(e)))}).$$s=e,o.$$arity=-1,o))}).$$s=d,u.$$arity=3,u))}((V=[K].concat(s))[0],0,V),e=V[0],r=V,($=et(e,"ProcessorDsl")).$$proto,[$].concat(r),L.def($,"$option",n=function(t,e){var r=tt;return r=[t,e],$t(this.$config(),"[]=",L.to_a(r)),r[j(r.length,1)]},n.$$arity=2),L.def($,"$process",o=function(t){var e,r,n=o.$$p,i=n||tt;null==this.process_block&&(this.process_block=tt);var $=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<$;s++)r[s-0]=arguments[s];return n&&(o.$$p=null),i!==tt?(nt(r["$empty?"]())||this.$raise(L.const_get_qualified("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),this.process_block=i):nt(null!=(e=this.process_block)&&e!==tt?"instance-variable":tt)?$t(this.process_block,"call",L.to_a(r)):this.$raise(L.const_get_qualified("::","NotImplementedError"))},o.$$arity=-1),L.def($,"$process_block_given?",i=function(){var t;return null!=(t=this.process_block)&&t!==tt?"instance-variable":tt},i.$$arity=0),l=V[0],c=V,(p=et(l,"SyntaxDsl")).$$proto,g=[p].concat(c),p.$include(L.const_get_relative(g,"ProcessorDsl")),L.def(p,"$named",_=function(t){return nt(L.const_get_relative(g,"Processor")["$==="](this))?this.name=t:this.$option("name",t)},_.$$arity=1),L.alias(p,"match_name","named"),L.def(p,"$content_model",u=function(t){return this.$option("content_model",t)},u.$$arity=1),L.alias(p,"parse_content_as","content_model"),L.alias(p,"parses_content_as","content_model"),L.def(p,"$positional_attrs",d=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$option("pos_attrs",e.$flatten())},d.$$arity=-1),L.alias(p,"name_attributes","positional_attrs"),L.alias(p,"name_positional_attributes","positional_attrs"),L.def(p,"$default_attrs",f=function(t){return this.$option("default_attrs",t)},f.$$arity=1),L.def(p,"$resolves_attributes",h=function(t){var e,s,o,r,n=this,i=tt,l=tt,c=tt,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var _=0;_<$;_++)r[_-0]=arguments[_];return nt(H(r.$size(),1))||nt((r=r.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(r=[r]),(!0)["$==="](i=r)?(n.$option("pos_attrs",[]),n.$option("default_attrs",it([],{}))):L.const_get_qualified("::","Array")["$==="](i)?(e=[[],it([],{})],l=e[0],c=e[1],$t(r,"each",[],((s=function(t){s.$$s;var e,r,n=tt,i=tt,$=tt,a=tt;return null==t&&(t=tt),nt((t=t.$to_s())["$include?"]("="))?(r=t.$split("=",2),e=L.to_ary(r),n=null==e[0]?tt:e[0],i=null==e[1]?tt:e[1],nt(n["$include?"](":"))&&(r=n.$split(":",2),e=L.to_ary(r),$=null==e[0]?tt:e[0],n=null==e[1]?tt:e[1],$=$["$=="]("@")?l.$size():$.$to_i(),a=[$,n],$t(l,"[]=",L.to_a(a)),a[j(a.length,1)]),a=[n,i],$t(c,"[]=",L.to_a(a)),a[j(a.length,1)]):nt(t["$include?"](":"))?(r=t.$split(":",2),e=L.to_ary(r),$=null==e[0]?tt:e[0],n=null==e[1]?tt:e[1],$=$["$=="]("@")?l.$size():$.$to_i(),a=[$,n],$t(l,"[]=",L.to_a(a)),a[j(a.length,1)]):l["$<<"](t)}).$$s=n,s.$$arity=1,s)),n.$option("pos_attrs",l.$compact()),n.$option("default_attrs",c)):L.const_get_qualified("::","Hash")["$==="](i)?(e=[[],it([],{})],l=e[0],c=e[1],$t(r,"each",[],((o=function(t,e){o.$$s;var r,n,i=tt,$=tt,a=tt;return null==t&&(t=tt),null==e&&(e=tt),nt((i=t.$to_s())["$include?"](":"))&&(n=i.$split(":",2),r=L.to_ary(n),$=null==r[0]?tt:r[0],i=null==r[1]?tt:r[1],$=$["$=="]("@")?l.$size():$.$to_i(),a=[$,i],$t(l,"[]=",L.to_a(a)),a[j(a.length,1)]),nt(e)?(a=[i,e],$t(c,"[]=",L.to_a(a)),a[j(a.length,1)]):tt}).$$s=n,o.$$arity=2,o)),n.$option("pos_attrs",l.$compact()),n.$option("default_attrs",c)):n.$raise(L.const_get_qualified("::","ArgumentError"),"unsupported attributes specification for macro: "+r.$inspect())},h.$$arity=-1),L.alias(p,"resolve_attributes","resolves_attributes"),function(t,e,r){function n(){}var i,$=n=rt(t,e,"Preprocessor",n);$.$$proto,[$].concat(r),L.def($,"$process",i=function(t,e){return this.$raise(L.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},i.$$arity=2)}(V[0],L.const_get_relative(V,"Processor"),V),L.const_set(L.const_get_relative(V,"Preprocessor"),"DSL",L.const_get_relative(V,"ProcessorDsl")),function(t,e,r){function n(){}var i,$=n=rt(t,e,"TreeProcessor",n);$.$$proto,[$].concat(r),L.def($,"$process",i=function(t){return this.$raise(L.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},i.$$arity=1)}(V[0],L.const_get_relative(V,"Processor"),V),L.const_set(L.const_get_relative(V,"TreeProcessor"),"DSL",L.const_get_relative(V,"ProcessorDsl")),L.const_set(V[0],"Treeprocessor",L.const_get_relative(V,"TreeProcessor")),function(t,e,r){function n(){}var i,$=n=rt(t,e,"Postprocessor",n);$.$$proto,[$].concat(r),L.def($,"$process",i=function(t,e){return this.$raise(L.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},i.$$arity=2)}(V[0],L.const_get_relative(V,"Processor"),V),L.const_set(L.const_get_relative(V,"Postprocessor"),"DSL",L.const_get_relative(V,"ProcessorDsl")),function(t,e,r){function n(){}var i,$,a=n=rt(t,e,"IncludeProcessor",n);a.$$proto,[a].concat(r),L.def(a,"$process",i=function(t,e,r,n){return this.$raise(L.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},i.$$arity=4),L.def(a,"$handles?",$=function(t){return!0},$.$$arity=1)}(V[0],L.const_get_relative(V,"Processor"),V),v=V[0],m=V,(b=et(v,"IncludeProcessorDsl")).$$proto,x=[b].concat(m),b.$include(L.const_get_relative(x,"ProcessorDsl")),L.def(b,"$handles?",y=function(t){var e,r,n=y.$$p,i=n||tt;null==this.handles_block&&(this.handles_block=tt);var $=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<$;s++)r[s-0]=arguments[s];return n&&(y.$$p=null),i!==tt?(nt(r["$empty?"]())||this.$raise(L.const_get_qualified("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),this.handles_block=i):!nt(null!=(e=this.handles_block)&&e!==tt?"instance-variable":tt)||this.handles_block.$call(r["$[]"](0))},y.$$arity=-1),L.const_set(L.const_get_relative(V,"IncludeProcessor"),"DSL",L.const_get_relative(V,"IncludeProcessorDsl")),function(t,e,r){function n(){}var i,$,a=n=rt(t,e,"DocinfoProcessor",n),s=a.$$proto;[a].concat(r),s.config=tt,a.$attr_accessor("location"),L.def(a,"$initialize",i=function(t){var e,r=i.$$p,n=tt;return null==t&&(t=it([],{})),r&&(i.$$p=null),$t(this,L.find_super_dispatcher(this,"initialize",i,!1),[t],null),nt(e=this.config["$[]"]("location"))?e:(n=["location","head"],$t(this.config,"[]=",L.to_a(n)),n[j(n.length,1)])},i.$$arity=-1),L.def(a,"$process",$=function(t){return this.$raise(L.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},$.$$arity=1)}(V[0],L.const_get_relative(V,"Processor"),V),k=V[0],w=V,(A=et(k,"DocinfoProcessorDsl")).$$proto,O=[A].concat(w),A.$include(L.const_get_relative(O,"ProcessorDsl")),L.def(A,"$at_location",E=function(t){return this.$option("location",t)},E.$$arity=1),L.const_set(L.const_get_relative(V,"DocinfoProcessor"),"DSL",L.const_get_relative(V,"DocinfoProcessorDsl")),function(t,e,r){function n(){}var s,i,$=n=rt(t,e,"BlockProcessor",n),a=$.$$proto;[$].concat(r),a.config=tt,$.$attr_accessor("name"),L.def($,"$initialize",s=function(t,e){var r,n=this,i=s.$$p,$=tt,a=tt;return null==t&&(t=tt),null==e&&(e=it([],{})),i&&(s.$$p=null),$t(n,L.find_super_dispatcher(n,"initialize",s,!1),[e],null),n.name=nt(r=t)?r:n.config["$[]"]("name"),$=n.config["$[]"]("contexts"),L.const_get_qualified("::","NilClass")["$==="]($)?nt(r=n.config["$[]"]("contexts"))||(a=["contexts",["open","paragraph"].$to_set()],$t(n.config,"[]=",L.to_a(a)),a[j(a.length,1)]):(a=L.const_get_qualified("::","Symbol")["$==="]($)?["contexts",[n.config["$[]"]("contexts")].$to_set()]:["contexts",n.config["$[]"]("contexts").$to_set()],$t(n.config,"[]=",L.to_a(a)),a[j(a.length,1)]),nt(r=n.config["$[]"]("content_model"))?r:(a=["content_model","compound"],$t(n.config,"[]=",L.to_a(a)),a[j(a.length,1)])},s.$$arity=-1),L.def($,"$process",i=function(t,e,r){return this.$raise(L.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},i.$$arity=3)}(V[0],L.const_get_relative(V,"Processor"),V),S=V[0],R=V,(M=et(S,"BlockProcessorDsl")).$$proto,C=[M].concat(R),M.$include(L.const_get_relative(C,"SyntaxDsl")),L.def(M,"$contexts",T=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$option("contexts",e.$flatten().$to_set())},T.$$arity=-1),L.alias(M,"on_contexts","contexts"),L.alias(M,"on_context","contexts"),L.alias(M,"bound_to","contexts"),L.const_set(L.const_get_relative(V,"BlockProcessor"),"DSL",L.const_get_relative(V,"BlockProcessorDsl")),function(t,e,r){function n(){}var $,i,a=n=rt(t,e,"MacroProcessor",n),s=a.$$proto;[a].concat(r),s.config=tt,a.$attr_accessor("name"),L.def(a,"$initialize",$=function(t,e){var r,n=$.$$p,i=tt;return null==t&&(t=tt),null==e&&(e=it([],{})),n&&($.$$p=null),$t(this,L.find_super_dispatcher(this,"initialize",$,!1),[e],null),this.name=nt(r=t)?r:this.config["$[]"]("name"),nt(r=this.config["$[]"]("content_model"))?r:(i=["content_model","attributes"],$t(this.config,"[]=",L.to_a(i)),i[j(i.length,1)])},$.$$arity=-1),L.def(a,"$process",i=function(t,e,r){return this.$raise(L.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},i.$$arity=3)}(V[0],L.const_get_relative(V,"Processor"),V),I=V[0],q=V,(z=et(I,"MacroProcessorDsl")).$$proto,D=[z].concat(q),z.$include(L.const_get_relative(D,"SyntaxDsl")),L.def(z,"$resolves_attributes",N=function(t){var e,r=N.$$p,n=tt,i=tt,$=tt,a=arguments.length,s=a-0;s<0&&(s=0),e=new Array(s);for(var o=0;o<a;o++)e[o-0]=arguments[o];for(r&&(N.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return nt(e.$size()["$=="](1)?e["$[]"](0)["$!"]():e.$size()["$=="](1))?(this.$option("content_model","text"),tt):($t(this,L.find_super_dispatcher(this,"resolves_attributes",N,!1),n,r),this.$option("content_model","attributes"))},N.$$arity=-1),L.alias(z,"resolve_attributes","resolves_attributes"),function(t,e,r){function n(){}var i=n=rt(t,e,"BlockMacroProcessor",n);i.$$proto,[i].concat(r)}(V[0],L.const_get_relative(V,"MacroProcessor"),V),L.const_set(L.const_get_relative(V,"BlockMacroProcessor"),"DSL",L.const_get_relative(V,"MacroProcessorDsl")),function(t,e,r){function $(){}var n,i,a=$=rt(t,e,"InlineMacroProcessor",$),s=a.$$proto,o=[a].concat(r);s.config=s.name=tt,L.class_variable_set($,"@@rx_cache",it([],{})),L.def(a,"$regexp",n=function(){var t,e=tt;return nt(t=this.config["$[]"]("regexp"))?t:(e=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],$t(this.config,"[]=",L.to_a(e)),e[j(e.length,1)])},n.$$arity=0),L.def(a,"$resolve_regexp",i=function(t,e){var r,n,i=tt;return nt(L.const_get_relative(o,"MacroNameRx")["$match?"](t))||this.$raise(L.const_get_qualified("::","ArgumentError"),"invalid name for inline macro: "+t),nt(r=(null==(n=$.$$cvars["@@rx_cache"])?tt:n)["$[]"]([t,e]))?r:(i=[[t,e],new RegExp("\\\\?"+t+":"+(e["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],$t(null==(n=$.$$cvars["@@rx_cache"])?tt:n,"[]=",L.to_a(i)),i[j(i.length,1)])},i.$$arity=2)}(V[0],L.const_get_relative(V,"MacroProcessor"),V),B=V[0],F=V,(W=et(B,"InlineMacroProcessorDsl")).$$proto,X=[W].concat(F),W.$include(L.const_get_relative(X,"MacroProcessorDsl")),L.def(W,"$with_format",P=function(t){return this.$option("format",t)},P.$$arity=1),L.alias(W,"using_format","with_format"),L.def(W,"$matches",Y=function(t){return this.$option("regexp",t)},Y.$$arity=1),L.alias(W,"match","matches"),L.alias(W,"matching","matches"),L.const_set(L.const_get_relative(V,"InlineMacroProcessor"),"DSL",L.const_get_relative(V,"InlineMacroProcessorDsl")),function(t,e,r){function n(){}var i,$=n=rt(t,null,"Extension",n);$.$$proto,[$].concat(r),$.$attr_reader("kind"),$.$attr_reader("config"),$.$attr_reader("instance"),L.def($,"$initialize",i=function(t,e,r){return this.kind=t,this.instance=e,this.config=r},i.$$arity=3)}(V[0],0,V),function(t,e,r){function n(){}var $,i=n=rt(t,e,"ProcessorExtension",n);i.$$proto,[i].concat(r),i.$attr_reader("process_method"),L.def(i,"$initialize",$=function(t,e,r){var n,i=$.$$p;return null==r&&(r=tt),i&&($.$$p=null),$t(this,L.find_super_dispatcher(this,"initialize",$,!1),[t,e,e.$config()],null),this.process_method=nt(n=r)?n:e.$method("process")},$.$$arity=-3)}(V[0],L.const_get_relative(V,"Extension"),V),function(t,e,r){function n(){}var i,$=n=rt(t,null,"Group",n),a=($.$$proto,[$].concat(r));(function(t,e){t.$$proto;var r,n=[t].concat(e);L.def(t,"$register",r=function(t){return null==t&&(t=tt),L.const_get_relative(n,"Extensions").$register(t,this)},r.$$arity=-1)})(L.get_singleton_class($),a),L.def($,"$activate",i=function(t){return this.$raise(L.const_get_qualified("::","NotImplementedError"))},i.$$arity=1)}(V[0],0,V),function(t,e,r){function n(){}var i,$,s,a,o,l,c,_,u,d,f,h,p,g,v,m,y,b,x,k,w,E,A,O,S,R,T,M,C,I,q,N,z,D,B=n=rt(t,null,"Registry",n),F=B.$$proto,P=[B].concat(r);F.groups=F.preprocessor_extensions=F.tree_processor_extensions=F.postprocessor_extensions=F.include_processor_extensions=F.docinfo_processor_extensions=F.block_extensions=F.block_macro_extensions=F.inline_macro_extensions=tt,B.$attr_reader("document"),B.$attr_reader("groups"),L.def(B,"$initialize",i=function(t){var e=this;return null==t&&(t=it([],{})),e.groups=t,e.preprocessor_extensions=e.tree_processor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=tt,e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=tt,e.document=tt},i.$$arity=-1),L.def(B,"$activate",$=function(t){var n;return this.document=t,$t(U(L.const_get_relative(P,"Extensions").$groups().$values(),this.groups.$values()),"each",[],((n=function(t){var e=n.$$s||this,r=tt;return null==t&&(t=tt),r=t,L.const_get_qualified("::","Proc")["$==="](r)?(r=t.$arity(),(0)["$==="](r)||(-1)["$==="](r)?$t(e,"instance_exec",[],t.$to_proc()):1["$==="](r)?t.$call(e):tt):L.const_get_qualified("::","Class")["$==="](r)?t.$new().$activate(e):t.$activate(e)}).$$s=this,n.$$arity=1,n)),this},$.$$arity=1),L.def(B,"$preprocessor",s=function(t){var e,r=s.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(s.$$p=null),$t(this,"add_document_processor",["preprocessor",e],n.$to_proc())},s.$$arity=-1),L.def(B,"$preprocessors?",a=function(){return this.preprocessor_extensions["$!"]()["$!"]()},a.$$arity=0),L.def(B,"$preprocessors",o=function(){return this.preprocessor_extensions},o.$$arity=0),L.def(B,"$tree_processor",l=function(t){var e,r=l.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(l.$$p=null),$t(this,"add_document_processor",["tree_processor",e],n.$to_proc())},l.$$arity=-1),L.def(B,"$tree_processors?",c=function(){return this.tree_processor_extensions["$!"]()["$!"]()},c.$$arity=0),L.def(B,"$tree_processors",_=function(){return this.tree_processor_extensions},_.$$arity=0),L.alias(B,"treeprocessor","tree_processor"),L.alias(B,"treeprocessors?","tree_processors?"),L.alias(B,"treeprocessors","tree_processors"),L.def(B,"$postprocessor",u=function(t){var e,r=u.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(u.$$p=null),$t(this,"add_document_processor",["postprocessor",e],n.$to_proc())},u.$$arity=-1),L.def(B,"$postprocessors?",d=function(){return this.postprocessor_extensions["$!"]()["$!"]()},d.$$arity=0),L.def(B,"$postprocessors",f=function(){return this.postprocessor_extensions},f.$$arity=0),L.def(B,"$include_processor",h=function(t){var e,r=h.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(h.$$p=null),$t(this,"add_document_processor",["include_processor",e],n.$to_proc())},h.$$arity=-1),L.def(B,"$include_processors?",p=function(){return this.include_processor_extensions["$!"]()["$!"]()},p.$$arity=0),L.def(B,"$include_processors",g=function(){return this.include_processor_extensions},g.$$arity=0),L.def(B,"$docinfo_processor",v=function(t){var e,r=v.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(v.$$p=null),$t(this,"add_document_processor",["docinfo_processor",e],n.$to_proc())},v.$$arity=-1),L.def(B,"$docinfo_processors?",m=function(e){var r;return null==e&&(e=tt),!!nt(this.docinfo_processor_extensions)&&(!nt(e)||$t(this.docinfo_processor_extensions,"any?",[],((r=function(t){return r.$$s,null==t&&(t=tt),t.$config()["$[]"]("location")["$=="](e)}).$$s=this,r.$$arity=1,r)))},m.$$arity=-1),L.def(B,"$docinfo_processors",y=function(e){var r;return null==e&&(e=tt),nt(this.docinfo_processor_extensions)?nt(e)?$t(this.docinfo_processor_extensions,"select",[],((r=function(t){return r.$$s,null==t&&(t=tt),t.$config()["$[]"]("location")["$=="](e)}).$$s=this,r.$$arity=1,r)):this.docinfo_processor_extensions:tt},y.$$arity=-1),L.def(B,"$block",b=function(t){var e,r=b.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(b.$$p=null),$t(this,"add_syntax_processor",["block",e],n.$to_proc())},b.$$arity=-1),L.def(B,"$blocks?",x=function(){return this.block_extensions["$!"]()["$!"]()},x.$$arity=0),L.def(B,"$registered_for_block?",k=function(t,e){var r=tt;return!!nt(r=this.block_extensions["$[]"](t.$to_sym()))&&!!nt(r.$config()["$[]"]("contexts")["$include?"](e))&&r},k.$$arity=2),L.def(B,"$find_block_extension",w=function(t){return this.block_extensions["$[]"](t.$to_sym())},w.$$arity=1),L.def(B,"$block_macro",E=function(t){var e,r=E.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(E.$$p=null),$t(this,"add_syntax_processor",["block_macro",e],n.$to_proc())},E.$$arity=-1),L.def(B,"$block_macros?",A=function(){return this.block_macro_extensions["$!"]()["$!"]()},A.$$arity=0),L.def(B,"$registered_for_block_macro?",O=function(t){var e=tt;return!!nt(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},O.$$arity=1),L.def(B,"$find_block_macro_extension",S=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},S.$$arity=1),L.def(B,"$inline_macro",R=function(t){var e,r=R.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(R.$$p=null),$t(this,"add_syntax_processor",["inline_macro",e],n.$to_proc())},R.$$arity=-1),L.def(B,"$inline_macros?",T=function(){return this.inline_macro_extensions["$!"]()["$!"]()},T.$$arity=0),L.def(B,"$registered_for_inline_macro?",M=function(t){var e=tt;return!!nt(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},M.$$arity=1),L.def(B,"$find_inline_macro_extension",C=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},C.$$arity=1),L.def(B,"$inline_macros",I=function(){return this.inline_macro_extensions.$values()},I.$$arity=0),B.$private(),L.def(B,"$add_document_processor",q=function(t,e){var r,n,i,$=this,a=q.$$p,s=a||tt,o=tt,l=tt,c=tt,_=tt,u=tt,d=tt,f=tt,h=tt,p=tt,g=tt;return a&&(q.$$p=null),o=t.$to_s().$tr("_"," "),l=$t(o.$split(),"map",[],(r=function(t){return r.$$s,null==t&&(t=tt),t.$capitalize()},r.$$s=$,r.$$arity=1,r)).$join().$to_sym(),c=L.const_get_relative(P,"Extensions").$const_get(l),_=nt(L.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":tt)?L.const_get_qualified(L.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(l):tt,u=nt(n=$.$instance_variable_get(("@"+t+"_extensions").$to_sym()))?n:$.$instance_variable_set(("@"+t+"_extensions").$to_sym(),[]),(d=s!==tt?(f=$.$resolve_args(e,1),h=c.$new(f),nt(c.$constants().$grep("DSL"))&&h.$extend(c.$const_get("DSL")),$t(h,"instance_exec",[],s.$to_proc()),h.$freeze(),nt(h["$process_block_given?"]())||$.$raise(L.const_get_qualified("::","ArgumentError"),"No block specified to process "+o+" extension at "+s.$source_location()),L.const_get_relative(P,"ProcessorExtension").$new(t,h)):(i=$.$resolve_args(e,2),n=L.to_ary(i),h=null==n[0]?tt:n[0],f=null==n[1]?tt:n[1],nt(p=L.const_get_relative(P,"Extensions").$resolve_class(h))?(nt(nt(n=G(p,c))?n:nt(i=_)?G(p,_):i)||$.$raise(L.const_get_qualified("::","ArgumentError"),"Invalid type for "+o+" extension: "+h),(g=p.$new(f)).$freeze(),L.const_get_relative(P,"ProcessorExtension").$new(t,g)):nt(nt(n=c["$==="](h))?n:nt(i=_)?_["$==="](h):i)?(h.$update_config(f),h.$freeze(),L.const_get_relative(P,"ProcessorExtension").$new(t,h)):$.$raise(L.const_get_qualified("::","ArgumentError"),"Invalid arguments specified for registering "+o+" extension: "+e))).$config()["$[]"]("position")["$=="](">>")?u.$unshift(d):u["$<<"](d)},q.$$arity=2),L.def(B,"$add_syntax_processor",N=function(t,e){var r,n,i,$=this,a=N.$$p,s=a||tt,o=tt,l=tt,c=tt,_=tt,u=tt,d=tt,f=tt,h=tt,p=tt,g=tt,v=tt;return a&&(N.$$p=null),o=t.$to_s().$tr("_"," "),l=$t(o.$split(),"map",[],(r=function(t){return r.$$s,null==t&&(t=tt),t.$capitalize()},r.$$s=$,r.$$arity=1,r)).$push("Processor").$join().$to_sym(),c=L.const_get_relative(P,"Extensions").$const_get(l),_=nt(L.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":tt)?L.const_get_qualified(L.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(l):tt,u=nt(n=$.$instance_variable_get(("@"+t+"_extensions").$to_sym()))?n:$.$instance_variable_set(("@"+t+"_extensions").$to_sym(),it([],{})),s!==tt?(i=$.$resolve_args(e,2),n=L.to_ary(i),d=null==n[0]?tt:n[0],f=null==n[1]?tt:n[1],h=c.$new($.$as_symbol(d),f),nt(c.$constants().$grep("DSL"))&&h.$extend(c.$const_get("DSL")),s.$arity()["$=="](1)?L.yield1(s,h):$t(h,"instance_exec",[],s.$to_proc()),nt(d=$.$as_symbol(h.$name()))||$.$raise(L.const_get_qualified("::","ArgumentError"),"No name specified for "+o+" extension at "+s.$source_location()),nt(h["$process_block_given?"]())||$.$raise(L.const_get_qualified("::","NoMethodError"),"No block specified to process "+o+" extension at "+s.$source_location()),h.$freeze(),p=[d,L.const_get_relative(P,"ProcessorExtension").$new(t,h)],$t(u,"[]=",L.to_a(p)),p[j(p.length,1)]):(i=$.$resolve_args(e,3),n=L.to_ary(i),h=null==n[0]?tt:n[0],d=null==n[1]?tt:n[1],f=null==n[2]?tt:n[2],nt(g=L.const_get_relative(P,"Extensions").$resolve_class(h))?(nt(nt(n=G(g,c))?n:nt(i=_)?G(g,_):i)||$.$raise(L.const_get_qualified("::","ArgumentError"),"Class specified for "+o+" extension does not inherit from "+c+": "+h),v=g.$new($.$as_symbol(d),f),nt(d=$.$as_symbol(v.$name()))||$.$raise(L.const_get_qualified("::","ArgumentError"),"No name specified for "+o+" extension: "+h),v.$freeze(),p=[d,L.const_get_relative(P,"ProcessorExtension").$new(t,v)],$t(u,"[]=",L.to_a(p)),p[j(p.length,1)]):nt(nt(n=c["$==="](h))?n:nt(i=_)?_["$==="](h):i)?(h.$update_config(f),nt(d=nt(d)?(p=[$.$as_symbol(d)],$t(h,"name=",L.to_a(p)),p[j(p.length,1)]):$.$as_symbol(h.$name()))||$.$raise(L.const_get_qualified("::","ArgumentError"),"No name specified for "+o+" extension: "+h),h.$freeze(),p=[d,L.const_get_relative(P,"ProcessorExtension").$new(t,h)],$t(u,"[]=",L.to_a(p)),p[j(p.length,1)]):$.$raise(L.const_get_qualified("::","ArgumentError"),"Invalid arguments specified for registering "+o+" extension: "+e))},N.$$arity=2),L.def(B,"$resolve_args",z=function(t,e){var r=tt,n=tt;return r=nt(L.const_get_qualified("::","Hash")["$==="](t["$[]"](-1)))?t.$pop():it([],{}),e["$=="](1)?r:(nt(H(n=j(j(e,1),t.$size()),0))?t=U(t,L.const_get_qualified("::","Array").$new(n)):nt(G(n,0))&&t.$pop(n["$-@"]()),t["$<<"](r),t)},z.$$arity=2),L.def(B,"$as_symbol",D=function(t){return nt(t)?t.$to_sym():tt},D.$$arity=1)}(V[0],0,V),void function(t,e){t.$$proto;var r,n,i,$,d,a,s,o,l,c=[t].concat(e);L.def(t,"$generate_name",r=function(){return"extgrp"+this.$next_auto_id()},r.$$arity=0),L.def(t,"$next_auto_id",n=function(){var t;return null==this.auto_id&&(this.auto_id=tt),this.auto_id=nt(t=this.auto_id)?t:-1,this.auto_id=U(this.auto_id,1)},n.$$arity=0),L.def(t,"$groups",i=function(){var t;return null==this.groups&&(this.groups=tt),this.groups=nt(t=this.groups)?t:it([],{})},i.$$arity=0),L.def(t,"$create",$=function(t){var e,r=$.$$p,n=r||tt;return null==t&&(t=tt),r&&($.$$p=null),n!==tt?L.const_get_relative(c,"Registry").$new(at(nt(e=t)?e:this.$generate_name(),n)):L.const_get_relative(c,"Registry").$new()},$.$$arity=-1),L.alias(t,"build_registry","create"),L.def(t,"$register",d=function(t){var e,r,n=d.$$p,i=n||tt,$=tt,a=tt,s=tt,o=tt,l=tt,c=arguments.length,_=c-0;_<0&&(_=0),r=new Array(_);for(var u=0;u<c;u++)r[u-0]=arguments[u];return n&&(d.$$p=null),$=r.$size(),i!==tt?a=i:nt(s=r.$pop())?a=nt(e=this.$resolve_class(s))?e:s:this.$raise(L.const_get_qualified("::","ArgumentError"),"Extension group to register not specified"),o=nt(e=r.$pop())?e:this.$generate_name(),nt(r["$empty?"]())||this.$raise(L.const_get_qualified("::","ArgumentError"),"Wrong number of arguments ("+$+" for 1..2)"),l=[o.$to_sym(),a],$t(this.$groups(),"[]=",L.to_a(l)),l[j(l.length,1)]},d.$$arity=-1),L.def(t,"$unregister_all",a=function(){return this.groups=it([],{}),tt},a.$$arity=0),L.def(t,"$unregister",s=function(t){var r,e,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return $t(e,"each",[],((r=function(t){var e=r.$$s||this;return null==e.groups&&(e.groups=tt),null==t&&(t=tt),e.groups.$delete(t.$to_sym())}).$$s=this,r.$$arity=1,r)),tt},s.$$arity=-1),L.def(t,"$resolve_class",o=function(t){var e=this,r=tt;return r=t,L.const_get_qualified("::","Class")["$==="](r)?t:L.const_get_qualified("::","String")["$==="](r)?e.$class_for_name(t):tt},o.$$arity=1),L.def(t,"$class_for_name",l=function(i){var $,a=tt;return a=L.const_get_qualified("::","Object"),$t(i.$split("::"),"each",[],(($=function(t){var e,r,n=$.$$s||this;return null==t&&(t=tt),nt(nt(e=t["$empty?"]())?e:nt(r=a["$const_defined?"](t))?L.const_get_qualified("::","Module")["$==="](a=a.$const_get(t)):r)?tt:n.$raise(L.const_get_qualified("::","NameError"),"Could not resolve class for name: "+i)}).$$s=this,$.$$arity=1,$)),nt(L.const_get_qualified("::","Class")["$==="](a))||this.$raise(L.const_get_qualified("::","NameError"),"Could not resolve class for name: "+i),a},l.$$arity=1)}(L.get_singleton_class(K),V)},Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(d){d.top;var t,e,r,n=[],f=d.nil,i=(d.breaker,d.slice,d.module),s=d.klass,h=d.truthy;return d.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),(e=i((t=n)[0],"Asciidoctor")).$$proto,void function(t,e,r){function n(){}var i,$=n=s(t,e,"PreprocessorReader",n),a=$.$$proto,u=[$].concat(r);a.path_resolver=a.document=a.include_stack=a.dir=f,d.def($,"$resolve_include_path",i=function(t,e,r){var n,i=this,$=f,a=f,s=f,o=f,l=f,c=f,_=f;if($=(i.path_resolver=h(n=i.path_resolver)?n:d.const_get_relative(u,"PathResolver").$new("\\")).$posixify(t),(n=["file",i.document.$base_dir()])[0],a=n[1],h($["$start_with?"]("file://")))s=o=$;else if(h(d.const_get_relative(u,"Helpers")["$uriish?"]($))){if(!h(h(n=i.path_resolver["$descends_from?"]($,a))?n:i.document.$attributes()["$key?"]("allow-uri-read")))return i.$replace_next_line("link:"+t+"["+e+"]");s=o=$}else if(h(i.path_resolver["$absolute_path?"]($)))s=o="file://"+(h($["$start_with?"]("/"))?"":"/")+$;else if((l=h(c=i.include_stack["$empty?"]())?a:i.dir)["$=="]("."))s=o=$;else if(h(h(n=l["$start_with?"]("file://"))?n:d.const_get_relative(u,"Helpers")["$uriish?"](l)["$!"]()))s=l+"/"+$,o=h(c)?$:h(h(n=a["$=="]("."))?n:(_=i.path_resolver["$descends_from?"](s,a))["$!"]())?s:s.$slice(_,s.$length());else if(h(c))s=l+"/"+(o=$);else{if(!h(h(n=_=i.path_resolver["$descends_from?"](l,a))?n:i.document.$attributes()["$key?"]("allow-uri-read")))return i.$replace_next_line("link:"+t+"["+e+"]");s=l+"/"+$,o=h(_)?s.$slice(_,s.$length()):$}return[s,"file",o]},i.$$arity=3)}((r=[e].concat(t))[0],d.const_get_relative(r,"Reader"),r)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top,r=t.nil;t.breaker,t.slice;return t.add_stubs(["$require","$=="]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions"),t.const_get_relative([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?e.$require("asciidoctor/js/opal_ext/browser/reader"):r},function(D){function B(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function F(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function A(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var t=D.top,e=[],P=D.nil,L=(D.breaker,D.slice,D.truthy),r=D.gvars,O=D.module,j=D.hash2,U=D.send,S=D.hash;null==r[":"]&&(r[":"]=P),D.add_stubs(["$==","$>=","$require","$unshift","$dirname","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$pwd","$!","$!=","$default_external","$to_set","$map","$keys","$slice","$merge","$inject","$*","$to_a","$dup","$insert","$start","$===","$split","$gsub","$respond_to?","$raise","$ancestors","$class","$path","$utc","$at","$Integer","$mtime","$readlines","$basename","$extname","$index","$strftime","$year","$rewind","$lines","$each_line","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load","$delete","$key?","$attributes","$outfilesuffix","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$attr","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$read_asset","$file?","$write_coderay_stylesheet","$write_pygments_stylesheet"]),L(D.const_get_relative(e,"RUBY_ENGINE","skip_raise")?"constant":P)||D.const_set(e[0],"RUBY_ENGINE","unknown"),D.const_set(e[0],"RUBY_ENGINE_OPAL",D.const_get_relative(e,"RUBY_ENGINE")["$=="]("opal")),D.const_set(e[0],"RUBY_ENGINE_JRUBY",D.const_get_relative(e,"RUBY_ENGINE")["$=="]("jruby")),D.const_set(e[0],"RUBY_MIN_VERSION_1_9",B(D.const_get_relative(e,"RUBY_VERSION"),"1.9")),D.const_set(e[0],"RUBY_MIN_VERSION_2",B(D.const_get_relative(e,"RUBY_VERSION"),"2")),t.$require("set"),D.const_get_relative(e,"RUBY_ENGINE")["$=="]("opal")&&t.$require("asciidoctor/js"),r[":"].$unshift(D.const_get_relative(e,"File").$dirname("asciidoctor")),function(t,e){var r,n,s,i,$,a,o,l,c,_,u,d,f,h,p,g,v,m,y,b=O(t,"Asciidoctor"),x=(b.$$proto,[b].concat(e)),k=P,w=P,E=P;D.const_set(x[0],"RUBY_ENGINE",D.const_get_qualified("::","RUBY_ENGINE")),i=x[0],$=x,(_=O(i,"SafeMode")).$$proto,u=[_].concat($),d=P,D.const_set(u[0],"UNSAFE",0),D.const_set(u[0],"SAFE",1),D.const_set(u[0],"SERVER",10),D.const_set(u[0],"SECURE",20),d=j([],{}),U((D.Module.$$nesting=u,_.$constants()),"each",[],((a=function(t){var e=a.$$s||this,r=P;return null==t&&(t=P),r=[e.$const_get(t),t.$to_s().$downcase()],U(d,"[]=",D.to_a(r)),r[F(r.length,1)]}).$$s=_,a.$$arity=1,a)),_.names_by_value=d,D.defs(_,"$value_for_name",o=function(t){return this.$const_get(t.$upcase())},o.$$arity=1),D.defs(_,"$name_for_value",l=function(t){return null==this.names_by_value&&(this.names_by_value=P),this.names_by_value["$[]"](t)},l.$$arity=1),D.defs(_,"$names",c=function(){return null==this.names_by_value&&(this.names_by_value=P),this.names_by_value.$values()},c.$$arity=0),p=x[0],g=x,(m=O(p,"Compliance")).$$proto,y=[m].concat(g),m.keys=D.const_get_qualified("::","Set").$new(),f=D.get_singleton_class(m),h=y,f.$$proto,[f].concat(h),f.$attr_reader("keys"),D.defs(m,"$define",v=function(t,e){return null==this.keys&&(this.keys=P),this.$instance_variable_set("@"+t,e),(r=D.get_singleton_class(this),n=y,r.$$proto,[r].concat(n),r).$send("attr_accessor",t),this.keys["$<<"](t),P;var r,n},v.$$arity=2),m.$define("block_terminates_paragraph",!0),m.$define("strict_verbatim_paragraphs",!0),m.$define("underline_style_section_titles",!0),m.$define("unwrap_standalone_preamble",!0),m.$define("attribute_missing","skip"),m.$define("attribute_undefined","drop-line"),m.$define("shorthand_property_syntax",!0),m.$define("unique_id_start_index",2),m.$define("markdown_syntax",!0),D.const_set(x[0],"ROOT_PATH",D.const_get_qualified("::","File").$dirname(D.const_get_qualified("::","File").$dirname(D.const_get_qualified("::","File").$expand_path("asciidoctor")))),D.const_set(x[0],"DATA_PATH",D.const_get_qualified("::","File").$join(D.const_get_relative(x,"ROOT_PATH"),"data"));try{D.const_set(x[0],"USER_HOME",D.const_get_qualified("::","Dir").$home())}catch(t){if(!D.rescue(t,[D.const_get_relative(x,"StandardError")]))throw t;try{D.const_set(x[0],"USER_HOME",L(r=D.const_get_qualified("::","ENV")["$[]"]("HOME"))?r:D.const_get_qualified("::","Dir").$pwd())}finally{D.pop_exception()}}D.const_set(x[0],"COERCE_ENCODING",L(r=D.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())?D.const_get_qualified("::","RUBY_MIN_VERSION_1_9"):r),D.const_set(x[0],"FORCE_ENCODING",L(r=D.const_get_relative(x,"COERCE_ENCODING"))?D.const_get_qualified("::","Encoding").$default_external()["$!="](D.const_get_qualified(D.const_get_qualified("::","Encoding"),"UTF_8")):r),D.const_set(x[0],"BOM_BYTES_UTF_8",[239,187,191]),D.const_set(x[0],"BOM_BYTES_UTF_16LE",[255,254]),D.const_set(x[0],"BOM_BYTES_UTF_16BE",[254,255]),D.const_set(x[0],"FORCE_UNICODE_LINE_LENGTH",D.const_get_qualified("::","RUBY_MIN_VERSION_1_9")["$!"]()),D.const_set(x[0],"LF",D.const_set(x[0],"EOL","\n")),D.const_set(x[0],"NULL","\0"),D.const_set(x[0],"TAB","\t"),D.const_set(x[0],"DEFAULT_DOCTYPE","article"),D.const_set(x[0],"DEFAULT_BACKEND","html5"),D.const_set(x[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),D.const_set(x[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),D.const_set(x[0],"BACKEND_ALIASES",j(["html","docbook"],{html:"html5",docbook:"docbook5"})),D.const_set(x[0],"DEFAULT_PAGE_WIDTHS",j(["docbook"],{docbook:425})),D.const_set(x[0],"DEFAULT_EXTENSIONS",j(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),D.const_set(x[0],"ASCIIDOC_EXTENSIONS",j([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),D.const_set(x[0],"SETEXT_SECTION_LEVELS",j(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),D.const_set(x[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),D.const_set(x[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set()),D.const_set(x[0],"CALLOUT_LIST_HEADS",["<","1","2","3","4","5","6","7","8","9","0"].$to_set()),D.const_set(x[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),D.const_set(x[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),D.const_set(x[0],"DELIMITED_BLOCKS",j(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",D.const_get_qualified("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",D.const_get_qualified("::","Set").$new()],",===":["table",D.const_get_qualified("::","Set").$new()],":===":["table",D.const_get_qualified("::","Set").$new()],"!===":["table",D.const_get_qualified("::","Set").$new()],"////":["comment",D.const_get_qualified("::","Set").$new()],"```":["fenced_code",D.const_get_qualified("::","Set").$new()]})),D.const_set(x[0],"DELIMITED_BLOCK_HEADS",U(D.const_get_relative(x,"DELIMITED_BLOCKS").$keys(),"map",[],(n=function(t){n.$$s;return null==t&&(t=P),t.$slice(0,2)},n.$$s=b,n.$$arity=1,n)).$to_set()),D.const_set(x[0],"LAYOUT_BREAK_CHARS",j(["'","<"],{"'":"thematic_break","<":"page_break"})),D.const_set(x[0],"MARKDOWN_THEMATIC_BREAK_CHARS",j(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),D.const_set(x[0],"HYBRID_LAYOUT_BREAK_CHARS",D.const_get_relative(x,"LAYOUT_BREAK_CHARS").$merge(D.const_get_relative(x,"MARKDOWN_THEMATIC_BREAK_CHARS"))),D.const_set(x[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),D.const_set(x[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),D.const_set(x[0],"ORDERED_LIST_KEYWORDS",j(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),D.const_set(x[0],"ATTR_REF_HEAD","{"),D.const_set(x[0],"LIST_CONTINUATION","+"),D.const_set(x[0],"HARD_LINE_BREAK"," +"),D.const_set(x[0],"LINE_CONTINUATION"," \\"),D.const_set(x[0],"LINE_CONTINUATION_LEGACY"," +"),D.const_set(x[0],"BLOCK_MATH_DELIMITERS",j(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),D.const_set(x[0],"INLINE_MATH_DELIMITERS",j(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),D.const_set(x[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),D.const_set(x[0],"CIRCUMFIX_COMMENTS",U(S(["/*","*/"],[".css"],["(*","*)"],[".ml",".mli",".nb"],["\x3c!--","--\x3e"],[".html",".xhtml",".xml",".xsl"],["<%--","--%>"],[".asp",".jsp"]),"inject",[j([],{})],((s=function(r,t){var e,n,i,$,a=s.$$s||this;return null==t&&(t=P),t=D.to_ary(t),e=D.slice.call(t,0,t.length),null==(n=e.splice(0,1)[0])&&(n=P),null==(i=e.splice(0,1)[0])&&(i=P),null==r&&(r=P),U(i,"each",[],(($=function(t){$.$$s;var e=P;return null==t&&(t=P),e=[t,j(["prefix","suffix"],{prefix:n["$[]"](0),suffix:n["$[]"](-1)})],U(r,"[]=",D.to_a(e)),e[F(e.length,1)]}).$$s=a,$.$$arity=1,$)),r}).$$s=b,s.$$arity=2,s.$$has_top_level_mlhs_arg=!0,s))),D.const_get_relative(x,"RUBY_ENGINE")["$=="]("opal"),D.const_set(x[0],"AuthorInfoLineRx",new RegExp("^("+D.const_get_relative(x,"CG_WORD")+"["+D.const_get_relative(x,"CC_WORD")+"\\-'.]*)(?: +("+D.const_get_relative(x,"CG_WORD")+"["+D.const_get_relative(x,"CC_WORD")+"\\-'.]*))?(?: +("+D.const_get_relative(x,"CG_WORD")+"["+D.const_get_relative(x,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),D.const_set(x[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/),D.const_set(x[0],"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/),D.const_set(x[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/),D.const_set(x[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/),D.const_set(x[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/),D.const_set(x[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]*)\]$/),D.const_set(x[0],"TagDirectiveRx",/\b(?:tag|(end))::(\S+)\[\]$/),D.const_set(x[0],"AttributeEntryRx",/^:(!?\w[^\n]*?):(?:[ \t]+([^\n]*))?$/),D.const_set(x[0],"InvalidAttributeNameCharsRx",/[^\w\-]/),D.const_get_relative(x,"RUBY_ENGINE")["$=="]("opal")&&D.const_set(x[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/),D.const_set(x[0],"AttributeReferenceRx",/(\\)?\{(\w+[-\w]*|(set|counter2?):[^\n]+?)(\\)?\}/),D.const_set(x[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+D.const_get_relative(x,"CC_ALPHA")+"_:]["+D.const_get_relative(x,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$")),D.const_set(x[0],"BlockAttributeListRx",new RegExp("^\\[(|["+D.const_get_relative(x,"CC_WORD")+".#%{,\"'].*)\\]$")),D.const_set(x[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+D.const_get_relative(x,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+D.const_get_relative(x,"CC_ALPHA")+"_:]["+D.const_get_relative(x,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$")),D.const_set(x[0],"BlockTitleRx",/^\.([^ \t.][^\n]*)$/),D.const_set(x[0],"AdmonitionParagraphRx",new RegExp("^("+A(D.const_get_relative(x,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+")),D.const_set(x[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/),D.const_set(x[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),D.const_set(x[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),D.const_set(x[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+D.const_get_relative(x,"CG_WORD")+"+.*)[^.].*?)$")),D.const_set(x[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+D.const_get_relative(x,"CC_ALPHA")+"_:]["+D.const_get_relative(x,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$")),D.const_set(x[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^"+D.const_get_relative(x,"CC_WORD")+"]+?")),D.const_set(x[0],"DiscreteHeadingStyleRx",/^(?:discrete|float)\b/),D.const_set(x[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::{2,4}|;;)(?:$|[ \t])|<?\d+>[ \t])/),D.const_set(x[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/),D.const_set(x[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/),D.const_set(x[0],"OrderedListMarkerRxMap",j(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),D.const_set(x[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:{2,4}|;;)(?:[ \t]+([^\n]*))?$/),D.const_set(x[0],"DescriptionListSiblingRx",j(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::)(?:[ \t]+(.*))?$/,":::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(:::)(?:[ \t]+(.*))?$/,"::::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::::)(?:[ \t]+(.*))?$/,";;":/^(?!\/\/)[ \t]*(.*)(;;)(?:[ \t]+(.*))?$/})),D.const_set(x[0],"CalloutListRx",/^<?(\d+)>[ \t]+([^\n]*)$/),D.const_set(x[0],"CalloutListSniffRx",/^<?\d+>/),D.const_set(x[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),D.const_set(x[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),D.const_set(x[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+D.const_get_relative(x,"CC_EOL")+")")),D.const_set(x[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+D.const_get_relative(x,"CC_EOL")+")")),D.const_set(x[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+D.const_get_relative(x,"CC_EOL")+")"),D.const_set(x[0],"ListRxMap",j(["ulist","olist","dlist","colist"],{ulist:D.const_get_relative(x,"UnorderedListRx"),olist:D.const_get_relative(x,"OrderedListRx"),dlist:D.const_get_relative(x,"DescriptionListRx"),colist:D.const_get_relative(x,"CalloutListRx")})),D.const_set(x[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),D.const_set(x[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),D.const_set(x[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),D.const_set(x[0],"CustomBlockMacroRx",new RegExp("^("+D.const_get_relative(x,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.*)\\]$")),D.const_set(x[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]*)\]$/),D.const_set(x[0],"BlockTocMacroRx",/^toc::\[([^\n]*)\]$/),D.const_set(x[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+D.const_get_relative(x,"CC_ALPHA")+"_:]["+D.const_get_relative(x,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+D.const_get_relative(x,"CC_ALPHA")+"_:]["+D.const_get_relative(x,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))")),D.const_set(x[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+D.const_get_relative(x,"CC_ALPHA")+"_:]["+D.const_get_relative(x,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+D.const_get_relative(x,"CC_ALPHA")+"_:]["+D.const_get_relative(x,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])")),D.const_set(x[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+D.const_get_relative(x,"CC_ALPHA")+"_:]["+D.const_get_relative(x,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]")),D.const_set(x[0],"EmailInlineRx",new RegExp("([\\\\>:/])?"+D.const_get_relative(x,"CG_WORD")+"["+D.const_get_relative(x,"CC_WORD")+".%+-]*@"+D.const_get_relative(x,"CG_ALNUM")+"["+D.const_get_relative(x,"CC_ALNUM")+".-]*\\."+D.const_get_relative(x,"CG_ALPHA")+"{2,4}\\b")),D.const_set(x[0],"InlineFootnoteMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])\\]","m")),D.const_set(x[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])\\]","m")),D.const_set(x[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+D.const_get_relative(x,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),D.const_set(x[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])\\]","m")),D.const_set(x[0],"LinkInlineRx",new RegExp("(^|link:|"+D.const_get_relative(x,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])\\])?","m")),D.const_set(x[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])\\]","m")),D.const_set(x[0],"MacroNameRx",new RegExp("^"+D.const_get_relative(x,"CG_WORD")+"+$")),D.const_set(x[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])\\]","m")),D.const_set(x[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+D.const_get_relative(x,"CG_WORD")+"|["+D.const_get_relative(x,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])?\\]","m")),D.const_set(x[0],"MenuInlineRx",new RegExp('\\\\?"(['+D.const_get_relative(x,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),D.const_set(x[0],"PassInlineRx",S(!1,["+","`",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)\\4)(?!"+D.const_get_relative(x,"CG_WORD")+")","m")],!0,["`",P,new RegExp("(^|[^`"+D.const_get_relative(x,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+D.const_get_relative(x,"CC_ALL")+"*?\\S)\\4)(?![`"+D.const_get_relative(x,"CC_WORD")+"])","m")])),D.const_set(x[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+D.const_get_relative(x,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])\\])","m")),D.const_set(x[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+D.const_get_relative(x,"CC_WORD")+"#/.:{]"+D.const_get_relative(x,"CC_ALL")+"*?)&gt;&gt;|xref:(["+D.const_get_relative(x,"CC_WORD")+"#/.:{]"+D.const_get_relative(x,"CC_ALL")+"*?)\\[(?:\\]|("+D.const_get_relative(x,"CC_ALL")+"*?[^\\\\])\\]))","m")),D.const_get_relative(x,"RUBY_ENGINE")["$=="]("opal")&&D.const_set(x[0],"HardLineBreakRx",/^(.*) \+$/m),D.const_set(x[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),D.const_set(x[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),D.const_set(x[0],"BlankLineRx",/\n{2,}/),D.const_set(x[0],"DataDelimiterRx",/[,;]/),D.const_set(x[0],"TrailingDigitsRx",/\d+$/),D.const_set(x[0],"EscapedSpaceRx",/\\([ \t\n])/),D.const_set(x[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),D.const_set(x[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),D.const_set(x[0],"SubModifierSniffRx",/[+-]/),D.const_get_relative(x,"RUBY_ENGINE")["$=="]("opal"),D.const_set(x[0],"UriSniffRx",new RegExp("^"+D.const_get_relative(x,"CG_ALPHA")+"["+D.const_get_relative(x,"CC_ALNUM")+".+-]+:/{0,2}")),D.const_set(x[0],"UriTerminatorRx",/[);:]$/),D.const_set(x[0],"XmlSanitizeRx",/<[^>]+>/),D.const_set(x[0],"INTRINSIC_ATTRIBUTES",j(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),k=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+D.const_get_relative(x,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)\\*(?!"+D.const_get_relative(x,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+D.const_get_relative(x,"CC_ALL")+'*?\\S)`"(?!'+D.const_get_relative(x,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)`'(?!"+D.const_get_relative(x,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+D.const_get_relative(x,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)`(?!["+D.const_get_relative(x,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+D.const_get_relative(x,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)_(?!"+D.const_get_relative(x,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+D.const_get_relative(x,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)#(?!"+D.const_get_relative(x,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]],w=k.$dup(),E=[2,["double","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)''(?!"+D.const_get_relative(x,"CG_WORD")+")","m")]],U(w,"[]=",D.to_a(E)),E[F(E.length,1)],E=[3,["single","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)'(?!"+D.const_get_relative(x,"CG_WORD")+")","m")]],U(w,"[]=",D.to_a(E)),E[F(E.length,1)],E=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+D.const_get_relative(x,"CC_ALL")+"+?)\\+\\+","m")]],U(w,"[]=",D.to_a(E)),E[F(E.length,1)],E=[5,["monospaced","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)\\+(?!"+D.const_get_relative(x,"CG_WORD")+")","m")]],U(w,"[]=",D.to_a(E)),E[F(E.length,1)],w.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+D.const_get_relative(x,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+D.const_get_relative(x,"CC_ALL")+"*?\\S)'(?!"+D.const_get_relative(x,"CG_WORD")+")","m")]),D.const_set(x[0],"QUOTE_SUBS",S(!1,k,!0,w)),w=k=P,D.const_set(x[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+D.const_get_relative(x,"CG_WORD")+")\\\\?--(?="+D.const_get_relative(x,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+D.const_get_relative(x,"CG_ALNUM")+")\\\\?'(?="+D.const_get_relative(x,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),function(t,e){t.$$proto;var r,n,i,$,z=[t].concat(e);D.def(t,"$load",r=function(t,e){var r,n,a,s,i,$=this,o=P,l=P,c=P,_=P,u=P,d=P,f=P,h=P,p=P,g=P,v=P,m=P,y=P;null==e&&(e=j([],{}));try{if(e=e.$dup(),L(o=e["$[]"]("timings"))&&o.$start("read"),L((l=e["$[]"]("attributes"))["$!"]())?l=j([],{}):L(L(r=D.const_get_qualified("::","Hash")["$==="](l))?r:L(n=D.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?D.const_get_qualified(D.const_get_qualified(D.const_get_qualified("::","Java"),"JavaUtil"),"Map")["$==="](l):n)?l=l.$dup():L(D.const_get_qualified("::","Array")["$==="](l))?(r=[j([],{}),l],l=r[0],c=r[1],U(c,"each",[],((a=function(t){a.$$s;var e,r,n=P,i=P,$=P;return null==t&&(t=P),r=t.$split("=",2),e=D.to_ary(r),n=null==e[0]?P:e[0],i=null==e[1]?P:e[1],$=[n,L(e=i)?e:""],U(l,"[]=",D.to_a($)),$[F($.length,1)]}).$$s=$,a.$$arity=1,a))):L(D.const_get_qualified("::","String")["$==="](l))?(r=[j([],{}),l.$gsub(D.const_get_relative(z,"SpaceDelimiterRx"),"\\1"+D.const_get_relative(z,"NULL")).$gsub(D.const_get_relative(z,"EscapedSpaceRx"),"\\1").$split(D.const_get_relative(z,"NULL"))],l=r[0],c=r[1],U(c,"each",[],((s=function(t){s.$$s;var e,r,n=P,i=P,$=P;return null==t&&(t=P),r=t.$split("=",2),e=D.to_ary(r),n=null==e[0]?P:e[0],i=null==e[1]?P:e[1],$=[n,L(e=i)?e:""],U(l,"[]=",D.to_a($)),$[F($.length,1)]}).$$s=$,s.$$arity=1,s))):L(L(r=l["$respond_to?"]("keys"))?l["$respond_to?"]("[]"):r)?l=D.const_get_qualified("::","Hash")["$[]"](U(l.$keys(),"map",[],((i=function(t){i.$$s;return null==t&&(t=P),[t,l["$[]"](t)]}).$$s=$,i.$$arity=1,i))):$.$raise(D.const_get_qualified("::","ArgumentError"),"illegal type for attributes option: "+A(l.$class().$ancestors()," < ")),_=P,L(D.const_get_qualified("::","File")["$==="](t)))u=D.const_get_qualified("::","File").$expand_path(t.$path()),d=L(D.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?D.const_get_qualified("::","Time").$at($.$Integer(D.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():t.$mtime(),_=t.$readlines(),f=["docfile",u],U(l,"[]=",D.to_a(f)),f[F(f.length,1)],f=["docdir",D.const_get_qualified("::","File").$dirname(u)],U(l,"[]=",D.to_a(f)),f[F(f.length,1)],f=["docname",D.const_get_relative(z,"Helpers").$basename(u,(f=["docfilesuffix",D.const_get_qualified("::","File").$extname(u)],U(l,"[]=",D.to_a(f)),f[F(f.length,1)]))],U(l,"[]=",D.to_a(f)),f[F(f.length,1)],L(h=l["$[]"]("docdate"))?L(r=l["$[]"]("docyear"))||(f=["docyear",h.$index("-")["$=="](4)?h.$slice(0,4):P],U(l,"[]=",D.to_a(f)),f[F(f.length,1)]):(f=["docdate",d.$strftime("%Y-%m-%d")],U(l,"[]=",D.to_a(f)),h=f[F(f.length,1)],L(r=l["$[]"]("docyear"))||(f=["docyear",d.$year().$to_s()],U(l,"[]=",D.to_a(f)),f[F(f.length,1)])),p=L(r=l["$[]"]("doctime"))?r:(f=["doctime",d.$strftime("%H:%M:%S %Z")],U(l,"[]=",D.to_a(f)),f[F(f.length,1)]),f=["docdatetime",h+" "+p],U(l,"[]=",D.to_a(f)),f[F(f.length,1)];else if(L(t["$respond_to?"]("readlines"))){try{t.$rewind()}catch(t){if(!D.rescue(t,[D.const_get_relative(z,"StandardError")]))throw t;D.pop_exception()}_=t.$readlines()}else L(D.const_get_qualified("::","String")["$==="](t))?_=L(D.const_get_qualified("::","RUBY_MIN_VERSION_2"))?t.$lines():t.$each_line().$to_a():L(D.const_get_qualified("::","Array")["$==="](t))?_=t.$dup():$.$raise(D.const_get_qualified("::","ArgumentError"),"unsupported input type: "+t.$class());return L(o)&&(o.$record("read"),o.$start("parse")),f=["attributes",l],U(e,"[]=",D.to_a(f)),f[F(f.length,1)],g=e["$[]"]("parse")["$=="](!1)?D.const_get_relative(z,"Document").$new(_,e):D.const_get_relative(z,"Document").$new(_,e).$parse(),L(o)&&o.$record("parse"),g}catch(t){if(!D.rescue(t,[D.const_get_relative(z,"StandardError")]))throw t;v=t;try{try{m="asciidoctor: FAILED: "+(L(r=l["$[]"]("docfile"))?r:"<stdin>")+": Failed to load AsciiDoc document",L(v["$respond_to?"]("exception"))?(y=v.$exception(m+" - "+v.$message())).$set_backtrace(v.$backtrace()):(y=v.$class().$new(m,v),f=[v.$stack_trace()],U(y,"stack_trace=",D.to_a(f)),f[F(f.length,1)])}catch(t){if(!D.rescue(t,[D.const_get_relative(z,"StandardError")]))throw t;try{y=v}finally{D.pop_exception()}}return $.$raise(y)}finally{D.pop_exception()}}},r.$$arity=-2),D.def(t,"$load_file",n=function(t,r){var n;return null==r&&(r=j([],{})),U(D.const_get_qualified("::","File"),"open",[t],((n=function(t){var e=n.$$s||this;return null==t&&(t=P),e.$load(t,r)}).$$s=this,n.$$arity=1,n))},n.$$arity=-2),D.def(t,"$convert",i=function(t,e){var r,n,i,$,a,s,o,l=P,c=P,_=P,u=P,d=P,f=P,h=P,p=P,g=P,v=P,m=P,y=P,b=P,x=P,k=P,w=P,E=P,A=P,O=P,S=P,R=P,T=P,M=P,C=P,I=P,q=P,N=P;if(null==e&&(e=j([],{})),(e=e.$dup()).$delete("parse"),l=e.$delete("to_file"),c=e.$delete("to_dir"),_=!!L(r=e.$delete("mkdirs"))&&r,u=e["$[]"]("timings"),(!0)["$==="](d=l)||P["$==="](d))f=L(r=c["$!"]())?D.const_get_qualified("::","File")["$==="](t):r,h=!1,p=c,l=P;else if((!1)["$==="](d))p=h=f=!1,l=P;else{if("/dev/null"["$==="](d))return this.$load(t,e);f=!1,p=!L(h=l["$respond_to?"]("write"))&&l}return L(e["$key?"]("header_footer"))||L(L(r=f)?r:p)&&(g=["header_footer",!0],U(e,"[]=",D.to_a(g)),g[F(g.length,1)]),L(f)?(v=D.const_get_qualified("::","File").$expand_path(t.$path()),g=["to_dir",m=D.const_get_qualified("::","File").$dirname(v)],U(e,"[]=",D.to_a(g)),g[F(g.length,1)]):L(p)?L(c)?(g=L(l)?["to_dir",D.const_get_qualified("::","File").$expand_path(D.const_get_qualified("::","File").$join(c,l,".."))]:["to_dir",D.const_get_qualified("::","File").$expand_path(c)],U(e,"[]=",D.to_a(g)),g[F(g.length,1)]):L(l)&&(g=["to_dir",D.const_get_qualified("::","File").$expand_path(l,"..")],U(e,"[]=",D.to_a(g)),g[F(g.length,1)]):(g=["to_dir",P],U(e,"[]=",D.to_a(g)),g[F(g.length,1)]),y=this.$load(t,e),L(f)?(b=D.const_get_qualified("::","File").$join(m,""+y.$attributes()["$[]"]("docname")+y.$outfilesuffix()))["$=="](v)&&this.$raise(D.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+b):L(p)?(x=L(e["$key?"]("base_dir"))?D.const_get_qualified("::","File").$expand_path(e["$[]"]("base_dir")):D.const_get_qualified("::","File").$expand_path(D.const_get_qualified("::","Dir").$pwd()),k=L(B(y.$safe(),D.const_get_qualified(D.const_get_relative(z,"SafeMode"),"SAFE")))?x:P,L(c)?(m=y.$normalize_system_path(c,x,k,j(["target_name","recover"],{target_name:"to_dir",recover:!1})),L(l)?(b=y.$normalize_system_path(l,m,P,j(["target_name","recover"],{target_name:"to_dir",recover:!1})),m=D.const_get_qualified("::","File").$dirname(b)):b=D.const_get_qualified("::","File").$join(m,""+y.$attributes()["$[]"]("docname")+y.$outfilesuffix())):L(l)&&(b=y.$normalize_system_path(l,x,k,j(["target_name","recover"],{target_name:"to_dir",recover:!1})),m=D.const_get_qualified("::","File").$dirname(b)),L(L(r=D.const_get_qualified("::","File")["$==="](t))?b["$=="](D.const_get_qualified("::","File").$expand_path(t.$path())):r)&&this.$raise(D.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+b),L(D.const_get_qualified("::","File")["$directory?"](m))||(L(_)?D.const_get_relative(z,"Helpers").$mkdir_p(m):this.$raise(D.const_get_qualified("::","IOError"),"target directory does not exist: "+c))):(b=l,m=P),L(u)&&u.$start("convert"),w=L(L(r=b)?h["$!"]():r)?j(["outfile","outdir"],{outfile:b,outdir:m}):j([],{}),E=y.$convert(w),L(u)&&u.$record("convert"),L(b)?(L(u)&&u.$start("write"),y.$write(E,b),L(u)&&u.$record("write"),L(L(r=L(n=L(i=L($=L(a=h["$!"]())?(s=y.$safe(),o=D.const_get_qualified(D.const_get_relative(z,"SafeMode"),"SECURE"),"number"==typeof s&&"number"==typeof o?s<o:s["$<"](o)):a)?y["$attr?"]("linkcss"):$)?y["$attr?"]("copycss"):i)?y["$attr?"]("basebackend-html"):n)?(L(n=A=y.$attr("stylesdir"))?D.const_get_relative(z,"Helpers")["$uriish?"](A):n)["$!"]():r)&&(S=O=!1,L(R=y.$attr("stylesheet"))&&(L(D.const_get_relative(z,"DEFAULT_STYLESHEET_KEYS")["$include?"](R))?O=!0:L(D.const_get_relative(z,"Helpers")["$uriish?"](R)["$!"]())&&(S=!0)),T=L(r=y["$attr?"]("source-highlighter","coderay"))?y.$attr("coderay-css","class")["$=="]("class"):r,M=L(r=y["$attr?"]("source-highlighter","pygments"))?y.$attr("pygments-css","class")["$=="]("class"):r,L(L(r=L(n=L(i=O)?i:S)?n:T)?r:M)&&(C=y.$normalize_system_path(A,m,L(B(y.$safe(),D.const_get_qualified(D.const_get_relative(z,"SafeMode"),"SAFE")))?m:P),L(_)&&D.const_get_relative(z,"Helpers").$mkdir_p(C),L(O)?D.const_get_relative(z,"Stylesheets").$instance().$write_primary_stylesheet(C):L(S)&&(I=L((I=y.$attr("copycss"))["$empty?"]())?y.$normalize_system_path(R):y.$normalize_system_path(I),q=y.$normalize_system_path(R,C,L(B(y.$safe(),D.const_get_qualified(D.const_get_relative(z,"SafeMode"),"SAFE")))?m:P),L(L(r=I["$!="](q))?N=y.$read_asset(I,j(["warn_on_failure","label"],{warn_on_failure:D.const_get_qualified("::","File")["$file?"](q)["$!"](),label:"stylesheet"})):r)&&D.const_get_qualified("::","IO").$write(q,N)),L(T)?D.const_get_relative(z,"Stylesheets").$instance().$write_coderay_stylesheet(C):L(M)&&D.const_get_relative(z,"Stylesheets").$instance().$write_pygments_stylesheet(C,y.$attr("pygments-style")))),y):E},i.$$arity=-2),D.alias(t,"render","convert"),D.def(t,"$convert_file",$=function(t,r){var n;return null==r&&(r=j([],{})),U(D.const_get_qualified("::","File"),"open",[t],((n=function(t){var e=n.$$s||this;return null==t&&(t=P),e.$convert(t,r)}).$$s=this,n.$$arity=1,n))},$.$$arity=-2),D.alias(t,"render_file","convert_file"),D.const_get_relative(z,"RUBY_ENGINE")["$=="]("opal")}(D.get_singleton_class(b),x),D.const_get_relative(x,"RUBY_ENGINE")["$=="]("opal")&&(b.$require("asciidoctor/timings"),b.$require("asciidoctor/version"))}(e[0],e),t.$require("asciidoctor/core_ext"),t.$require("asciidoctor/helpers"),t.$require("asciidoctor/substitutors"),t.$require("asciidoctor/abstract_node"),t.$require("asciidoctor/abstract_block"),t.$require("asciidoctor/attribute_list"),t.$require("asciidoctor/block"),t.$require("asciidoctor/callouts"),t.$require("asciidoctor/converter"),t.$require("asciidoctor/document"),t.$require("asciidoctor/inline"),t.$require("asciidoctor/list"),t.$require("asciidoctor/parser"),t.$require("asciidoctor/path_resolver"),t.$require("asciidoctor/reader"),t.$require("asciidoctor/section"),t.$require("asciidoctor/stylesheets"),t.$require("asciidoctor/table"),D.const_get_relative(e,"RUBY_ENGINE")["$=="]("opal")&&t.$require("asciidoctor/js/postscript")}(Opal);var $=function(t){return!t||"$$smap"in t?t:Opal.hash(t)},t=function(t){for(var e={},r=0,n=t.$$keys,i=t.$$smap,$=n.length;r<$;r++){var a=n[r];e[a]=i[a]}return e},n=function(t){if(t=$(t)){var e=t["$[]"]("attributes");e&&"object"==typeof e&&"Object"===e.constructor.name&&(t=t.$dup())["$[]="]("attributes",$(e))}return t},e=Opal.Asciidoctor.$$class;e.$$proto.getCoreVersion=function(){return this.$$const.VERSION},e.$$proto.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var r=this.$convert(t,n(e));return r===Opal.nil?"":r},e.$$proto.convertFile=function(t,e){return this.$convert_file(t,n(e))},e.$$proto.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,n(e))},e.$$proto.loadFile=function(t,e){return this.$load_file(t,n(e))};var r=Opal.Asciidoctor.AbstractBlock;r.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},r.$$proto.getCaptionedTitle=function(){return this.$captioned_title()},r.$$proto.getStyle=function(){return this.style},r.$$proto.getCaption=function(){return this.$caption()},r.$$proto.setCaption=function(t){this.caption=t},r.$$proto.getLevel=function(){return this.level},r.$$proto.getBlocks=function(){return this.blocks},r.$$proto.getContent=function(){return this.$content()},r.$$proto.convert=function(){return this.$convert()},r.$$proto.findBy=function(t,e){return void 0===e&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof e?Opal.send(this,"find_by",[$(t)],e):this.$find_by($(t))},r.$$proto.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t};var i=Opal.Asciidoctor.Block;i.$$proto.getSource=function(){return this.$source()},i.$$proto.getSourceLines=function(){return this.lines};var a=Opal.Asciidoctor.AbstractNode;a.$$proto.getAttributes=function(){return t(this.attributes)},a.$$proto.getAttribute=function(t,e,r){var n=this.$attr(t,e,r);return n===Opal.nil?void 0:n},a.$$proto.hasAttribute=function(t){return t in this.attributes.$$smap},a.$$proto.isAttribute=function(t,e,r){var n=this["$attr?"](t,e,r);return n!==Opal.nil&&n},a.$$proto.setAttribute=function(t,e,r){return void 0===r&&(r=!0),this.$set_attr(t,e,r)},a.$$proto.removeAttribute=function(t){var e=this.$remove_attr(t);return e===Opal.nil?void 0:e},a.$$proto.getDocument=function(){return this.document},a.$$proto.isInline=function(){return this["$inline?"]()},a.$$proto.isBlock=function(){return this["$block?"]()},a.$$proto.isRole=function(t){return this["$role?"](t)},a.$$proto.getRole=function(){return this.$role()},a.$$proto.hasRole=function(t){return this["$has_role?"](t)},a.$$proto.getRoles=function(){return this.$roles()},a.$$proto.addRole=function(t){return this.$add_role(t)},a.$$proto.removeRole=function(t){return this.$remove_role(t)},a.$$proto.isReftext=function(){return this["$reftext?"]()},a.$$proto.getReftext=function(){return this.$reftext()},a.$$proto.getContext=function(){var t=this.context;return"string"==typeof t?t:t.toString()},a.$$proto.getId=function(){return this.id},a.$$proto.isOption=function(t){return this["$option?"](t)},a.$$proto.setOption=function(t){return this.$set_option(t)},a.$$proto.getIconUri=function(t){return this.$icon_uri(t)},a.$$proto.getMediaUri=function(t,e){return this.$media_uri(t,e)},a.$$proto.getImageUri=function(t,e){return this.$image_uri(t,e)},a.$$proto.getConverter=function(){return this.$converter()},a.$$proto.readContents=function(t,e){return this.$read_contents(t,$(e))},a.$$proto.readAsset=function(t,e){return this.$read_asset(t,$(e))},a.$$proto.normalizeWebPath=function(t,e,r){return this.$normalize_web_path(t,e,r)},a.$$proto.normalizeSystemPath=function(t,e,r,n){return this.$normalize_system_path(t,e,r,$(n))},a.$$proto.normalizeAssetPath=function(t,e,r){return this.$normalize_asset_path(t,e,r)};var s=Opal.Asciidoctor.Document;s.$$proto.getHeader=function(){return this.header},s.$$proto.setAttribute=function(t,e){return this.$set_attribute(t,e)},s.$$proto.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},s.$$proto.convert=function(t){var e=this.$convert($(t));return e===Opal.nil?"":e},s.$$proto.write=function(t,e){return this.$write(t,e)},s.$$proto.getAuthor=function(){return this.$author()},s.$$proto.getSource=function(){return this.$source()},s.$$proto.getSourceLines=function(){return this.$source_lines()},s.$$proto.isNested=function(){return this["$nested?"]()},s.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},s.$$proto.getFootnotes=function(){return this.$footnotes()},s.$$proto.isEmbedded=function(){return this["$embedded?"]()},s.$$proto.hasExtensions=function(){return this["$extensions?"]()},s.$$proto.getDoctype=function(){return this.doctype},s.$$proto.getBackend=function(){return this.backend},s.$$proto.isBasebackend=function(t){return this["$basebackend?"](t)},s.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},s.$$proto.setTitle=function(t){return this["$title="](t)},s.$$proto.getDocumentTitle=function(t){var e=this.$doctitle($(t));return e===Opal.nil?void 0:e},s.$$proto.getDoctitle=s.$$proto.getDocumentTitle,s.$$proto.getCatalog=function(){return t(this.catalog)},s.$$proto.getReferences=s.$$proto.getCatalog,s.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")},s.$$proto.getRevdate=function(){return this.getRevisionDate()},s.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")},s.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")},s.RevisionInfo=function(t,e,r){this.date=t,this.number=e,this.remark=r};var l=s.RevisionInfo;l.prototype.getDate=function(){return this.date},l.prototype.getNumber=function(){return this.number},l.prototype.getRemark=function(){return this.remark},l.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},s.$$proto.getRevisionInfo=function(){return new s.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},s.$$proto.hasRevisionInfo=function(){var t=this.getRevisionInfo();return!t.isEmpty()},s.$$proto.getNotitle=function(){return this.$notitle()},s.$$proto.getNoheader=function(){return this.$noheader()},s.$$proto.getNofooter=function(){return this.$nofooter()},s.$$proto.hasHeader=function(){return this["$header?"]()},s.$$proto.deleteAttribute=function(t){return this.$delete_attribute(t)},s.$$proto.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},s.$$proto.parse=function(t){return this.$parse(t)},s.$$proto.getDocinfo=function(t,e){return this.$docinfo(t,e)},s.$$proto.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},s.$$proto.counterIncrement=function(t,e){return this.$counter_increment(t,e)},s.$$proto.counter=function(t,e){return this.$counter(t,e)},s.$$proto.getSafe=function(){return this.safe},s.$$proto.getCompatMode=function(){return this.compat_mode},s.$$proto.getSourcemap=function(){return this.sourcemap},s.$$proto.getCounters=function(){return t(this.counters)},s.$$proto.getCallouts=function(){return this.$callouts()},s.$$proto.getBaseDir=function(){return this.base_dir},s.$$proto.getOptions=function(){return t(this.options)},s.$$proto.getOutfilesuffix=function(){return this.outfilesuffix},s.$$proto.getParentDocument=function(){return this.parent_document},s.$$proto.getReader=function(){return this.reader},s.$$proto.getConverter=function(){return this.converter},s.$$proto.getExtensions=function(){return this.extensions};var c=s.Title;c.$$proto.getMain=function(){return this.main},c.$$proto.getCombined=function(){return this.combined},c.$$proto.getSubtitle=function(){return this.subtitle},c.$$proto.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},c.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};var _=Opal.Asciidoctor.Inline;_.$$proto.convert=function(){return this.$convert()},_.$$proto.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},_.$$proto.getType=function(){return this.$type()},_.$$proto.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t},Opal.Asciidoctor.List.$$proto.getItems=function(){return this.blocks},Opal.Asciidoctor.ListItem.$$proto.getText=function(){return this.$text()};var u=Opal.Asciidoctor.Reader;u.$$proto.pushInclude=function(t,e,r,n,i){return this.$push_include(t,e,r,n,i)},u.$$proto.getCursor=function(){return this.$cursor()},u.$$proto.getLines=function(){return this.$lines()},u.$$proto.getString=function(){return this.$string()};var d=function(t){return t.$$arity=t.length,t},f=function(t,e,r,n){return"function"==typeof r?Opal.send(t,e,n&&[n],d(r)):t["$"+e](r,n)},h=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");(Opal.Asciidoctor.Extensions=h).create=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"build_registry",null,d(t)):"function"==typeof e?Opal.send(this,"build_registry",[t],d(e)):this.$build_registry()},h.register=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"register",null,d(t)):Opal.send(this,"register",[t],d(e))},h.getGroups=function(){return t(this.groups)},h.unregisterAll=function(){this.$unregister_all()},h.unregister=function(){for(var t=Array.isArray(arguments[0])?arguments[0]:arguments,e=this.groups,r={},n=0,i=e.$$keys;n<i.length;n++){var $=i[n];r[$.toString()]=$}for(var a=0;a<t.length;a++){var s=t[a];s in r&&Opal.hash_delete(e,r[s])}};var p=h.Registry;p.$$proto.getGroups=h.getGroups,p.$$proto.unregisterAll=function(){this.groups=Opal.hash()},p.$$proto.unregister=h.unregister,p.$$proto.block=function(t,e){return 1===arguments.length&&(e=t,t=null),f(this,"block",e,t)},p.$$proto.inlineMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),f(this,"inline_macro",e,t)},p.$$proto.includeProcessor=function(t){return f(this,"include_processor",t)},p.$$proto.blockMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),f(this,"block_macro",e,t)},p.$$proto.treeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),f(this,"tree_processor",e,t)},p.$$proto.postprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),f(this,"postprocessor",e,t)},p.$$proto.preprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),f(this,"preprocessor",e,t)},p.$$proto.docinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),f(this,"docinfo_processor",e,t)};var g=h.Processor;g.$$proto.process=function(t){return Opal.send(this,"process",null,d(t))},g.$$proto.named=function(t){return this.$named(t)},g.$$proto.createBlock=function(t,e,r,n,i){return this.$create_block(t,e,r,$(n),$(i))},g.$$proto.createImageBlock=function(t,e,r){return this.$create_image_block(t,$(e),$(r))},g.$$proto.createInline=function(t,e,r,n){return this.$create_inline(t,e,r,$(n))},g.$$proto.parseContent=function(t,e,r){return this.$parse_content(t,e,r)},g.$$proto.positionalAttributes=function(t){return this.$positional_attrs(t)},h.BlockProcessor.$$proto.onContext=function(t){return this.$on_context(t)};h.BlockMacroProcessor;h.IncludeProcessor.$$proto.handles=function(t){return Opal.send(this,"handles?",null,d(t))};h.TreeProcessor,h.Postprocessor,h.Preprocessor;h.DocinfoProcessor.$$proto.atLocation=function(t){this.$at_location(t)};var v=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");(Opal.Asciidoctor.Converter=v).$$proto.convert=function(t,e,r){return this.$convert(t,e,$(r))},v.BuiltIn.$$proto.convert=v.$$proto.convert;var m=Opal.Asciidoctor.Converter.Factory;m.getDefault=function(t){return this.$default(t)},m.$$proto.create=function(t,e){return this.$create(t,$(e))};return e.$$proto.getVersion=function(){return"1.5.6-rc.1"},Opal.Asciidoctor}}(this);