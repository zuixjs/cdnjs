"undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=require("opal-runtime").Opal),"undefined"==typeof Opal&&(function(t){function e(){}function n(){}function r(){}function i(){}function a(){}function $(t,e){if(t)return t.$$const[e]}function o(t,e){var n,r,i;if(0!==t.length)for(n=0,r=t.length;n<r;n++)if(null!=(i=t[n].$$const[e]))return i}function s(t,e){var n,r,i;if(null!=t)for(n=0,r=(i=y.ancestors(t)).length;n<r;n++)if(i[n].$$const&&w.call(i[n].$$const,e))return i[n].$$const[e]}function l(t,e){if(null==t||t.$$is_module)return s(g,e)}function c(t,e,n){if(!n)return(t||g).$const_missing(e)}function _(t,e){var n,r,i=e.$instance_methods();for(n=i.length-1;n>=0;n--)r="$"+i[n],y.bridge_method(t,e,r,e.$$proto[r])}function u(t,e){var n=e.$__id__();b[n]||(b[n]=[]),b[n].push(t)}var d,f=this;if("undefined"!=typeof global&&(f=global),"undefined"!=typeof window&&(f=window),"log"in(d="object"==typeof f.console?f.console:null==f.console?f.console={}:{})||(d.log=function(){}),"warn"in d||(d.warn=d.log),void 0!==this.Opal)return d.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var p,h,g,v,m,y=this.Opal={},b={};y.global=f,f.Opal=y,y.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var w=Object.hasOwnProperty,k=(y.slice=Array.prototype.slice,4);y.uid=function(){return k+=2},y.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=y.uid())},y.gvars={},y.exit=function(t){y.gvars.DEBUG&&d.log("Exited with status "+t)},y.exceptions=[],y.pop_exception=function(){y.gvars["!"]=y.exceptions.pop()||p},y.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},y.truthy=function(t){return t!==p&&null!=t&&(!t.$$is_boolean||1==t)},y.falsy=function(t){return t===p||null==t||t.$$is_boolean&&0==t},y.const_get_local=function(t,e,n){var r;if(null!=t){if("::"===t&&(t=g),!t.$$is_a_module)throw new y.TypeError(t.toString()+" is not a class/module");return null!=(r=$(t,e))?r:null!=(r=c(t,e,n))?r:void 0}},y.const_get_qualified=function(t,e,n){var r,i,a,o=y.const_cache_version;if(null!=t){if("::"===t&&(t=g),!t.$$is_a_module)throw new y.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),null==(a=i[e])||a[0]!==o?(null!=(r=$(t,e))||(r=s(t,e)),i[e]=[o,r]):r=a[1],null!=r?r:c(t,e,n)}},y.const_cache_version=1,y.const_get_relative=function(t,e,n){var r,i,a,_=t[0],u=y.const_cache_version;return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),null==(a=i[e])||a[0]!==u?(null!=(r=$(_,e))||null!=(r=o(t,e))||null!=(r=s(_,e))||(r=l(_,e)),i[e]=[u,r]):r=a[1],null!=r?r:c(_,e,n)},y.const_set=function(t,e,n){return null!=t&&"::"!==t||(t=g),n.$$is_a_module&&(null!=n.$$name&&n.$$name!==p||(n.$$name=e),null==n.$$base_module&&(n.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=n,y.const_cache_version++,t===g&&(y[e]=n),n},y.constants=function(t,e){null==e&&(e=!0);var n,r,i,a,$=[t],o={};for(e&&($=$.concat(y.ancestors(t))),e&&t.$$is_module&&($=$.concat([y.Object]).concat(y.ancestors(y.Object))),r=0,i=$.length;r<i&&(n=$[r],t===g||n!=g);r++)for(a in n.$$const)o[a]=!0;return Object.keys(o)},y.const_remove=function(t,e){if(y.const_cache_version++,null!=t.$$const[e]){var n=t.$$const[e];return delete t.$$const[e],n}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],p;throw y.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},y.klass=function(t,e,n,r){var i,a,o;if(null==t&&(t=g),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&(a=e,e=g),i=$(t,n)){if(!i.$$is_class)throw y.TypeError.$new(n+" is not a class");if(e&&i.$$super!==e)throw y.TypeError.$new("superclass mismatch for class "+n);return i}return null==e&&(e=g),o=a||y.boot_class_alloc(n,r,e),i=y.setup_class_object(n,o,e.$$name,e.constructor),i.$$super=e,i.$$parent=e,y.const_set(t,n,i),t[n]=i,a?y.bridge(i,o):e.$inherited&&e.$inherited(i),i},y.boot_class_alloc=function(t,e,n){if(n){var r=function(){};r.prototype=n.$$proto||n.prototype,e.prototype=new r}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e,e},y.setup_module_or_class=function(t){t.$$id=y.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=p,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},y.setup_class_object=function(t,e,n,r){var i=function(){};i.prototype=r.prototype,i.displayName=n;var a=function(){};a.prototype=new i;var $=new a;return y.setup_module_or_class($),$.$$alloc=e,$.$$name=t||p,a.displayName="#<Class:"+(t||"#<Class:"+$.$$id+">")+">",$.$$proto=e.prototype,$.$$proto.$$class=$,$.constructor=a,$.$$is_class=!0,$.$$class=m,$},y.module=function(t,e){var n;if(null==t&&(t=g),t.$$is_class||t.$$is_module||(t=t.$$class),null==(n=$(t,e))&&t===g&&(n=s(g,e)),n){if(!n.$$is_module&&n!==g)throw y.TypeError.$new(e+" is not a module")}else n=y.module_allocate(v),y.const_set(t,e,n);return n},y.module_initialize=function(t,e){if(e!==p){var n=e.$$s;e.$$s=null,e.call(t),e.$$s=n}return p},y.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var n=function(){};n.prototype=new e;var r=new n,i={};return y.setup_module_or_class(r),r.$$included_in=[],n.displayName="#<Class:#<Module:"+r.$$id+">>",r.$$proto=i,r.constructor=n,r.$$is_module=!0,r.$$class=v,r.$$super=t,r.$$parent=t,r},y.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?y.build_class_singleton_class(t):y.build_object_singleton_class(t)},y.build_class_singleton_class=function(t){var e,n,r;return t.$$meta?t.$$meta:(e=t.constructor,n=t===h?m:y.build_class_singleton_class(t.$$super),r=y.setup_class_object(null,e,n.$$name,n.constructor),r.$$super=n,r.$$parent=n,r.$$is_singleton=!0,r.$$singleton_of=t,t.$$meta=r)},y.build_object_singleton_class=function(t){var e=t.$$class,n="#<Class:#<"+e.$$name+":"+e.$$id+">>",r=y.boot_class_alloc(n,function(){},e),i=y.setup_class_object(n,r,e.$$name,e.constructor);return i.$$super=e,i.$$parent=e,i.$$class=e.$$class,i.$$proto=t,i.$$is_singleton=!0,i.$$singleton_of=t,t.$$meta=i},y.class_variables=function(t){var e,n=y.ancestors(t),r={};for(e=n.length-1;e>=0;e--){var i=n[e];for(var a in i.$$cvars)r[a]=i.$$cvars[a]}return r},y.class_variable_set=function(t,e,n){var r,i=y.ancestors(t);for(r=i.length-2;r>=0;r--){var a=i[r];if(w.call(a.$$cvars,e))return a.$$cvars[e]=n,n}return t.$$cvars[e]=n,n},y.bridge_method=function(t,e,n,r){var i,a,$,o;for(a=0,o=(i=t.$$bridge.$ancestors()).length;a<o&&($=i[a],!w.call($.$$proto,n)||!$.$$proto[n]||$.$$proto[n].$$donated||$.$$proto[n].$$stub||$===e);a++)if($===e){t.prototype[n]=r;break}},y.bridge_methods=function(t,e){var n,r=b[t.$__id__()],i=e.$__id__();if(r)for(b[i]=r.slice(),n=r.length-1;n>=0;n--)_(r[n],e)},y.has_cyclic_dep=function t(e,n,r,i){var a,$,o;for(a=n.length-1;a>=0;a--)if(o=n[a],$=o.$$id,!i[$]){if(i[$]=!0,$===e)return!0;if(t(e,o[r],r,i))return!0}return!1},y.append_features=function(t,e){var n,r,i;for(i=e.$$inc.length-1;i>=0;i--)if(e.$$inc[i]===t)return;if(!e.$$is_class&&y.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw y.ArgumentError.$new("cyclic include detected");for(y.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),y.bridge_methods(e,t),n={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=n,i=(r=t.$instance_methods()).length-1;i>=0;i--)y.update_includer(t,e,"$"+r[i])},y.stubs={},y.bridge=function(t,n){if(n.$$bridge)throw y.ArgumentError.$new("already bridged");y.stub_subscribers.push(n.prototype);for(var r in y.stubs)r in n.prototype||(n.prototype[r]=y.stub_for(r));n.prototype.$$class=t,n.$$bridge=t;for(var i=t.$ancestors(),a=i.length-1;a>=0;a--)u(n,i[a]),_(n,i[a]);for(var $ in e.prototype){var o=e.prototype[o];!o||!o.$$stub||$ in n.prototype||(n.prototype[$]=o)}return t},y.update_includer=function(t,e,n){var r,i,a,$,o,s,l,c;if(a=t.$$proto[n],r=e.$$proto,i=r[n],!r.hasOwnProperty(n)||i.$$donated||i.$$stub)if(r.hasOwnProperty(n)&&!i.$$stub){for(o=0,s=($=e.$$inc).length;o<s;o++)$[o]===i.$$donated&&(l=o),$[o]===t&&(c=o);l<=c&&(r[n]=a,r[n].$$donated=t)}else r[n]=a,r[n].$$donated=t;else;e.$$included_in&&y.update_includers(e,n)},y.update_includers=function(t,e){var n,r,i,a;if(a=t.$$included_in)for(n=0,r=a.length;n<r;n++)i=a[n],y.update_includer(t,i,e)},y.ancestors=function(t){for(var e,n,r,i,a=t,$=[];a;){for($.push(a),n=a.$$inc.length-1;n>=0;n--)for(r=0,i=(e=y.ancestors(a.$$inc[n])).length;r<i;r++)$.push(e[r]);a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return $},y.add_stubs=function(t){var e,n,r,i,a,$=y.stub_subscribers,o=t.length,s=$.length,l=y.stubs;for(n=0;n<o;n++)if(i=t[n],!l.hasOwnProperty(i))for(l[i]=!0,a=y.stub_for(i),r=0;r<s;r++)i in(e=$[r])||(e[i]=a)},y.stub_subscribers=[e.prototype],y.add_stub_for=function(t,e){var n=y.stub_for(e);t[e]=n},y.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var n=new Array(arguments.length),r=0,i=n.length;r<i;r++)n[r]=arguments[r];return this.$method_missing.apply(this,[t.slice(1)].concat(n))}return e.$$stub=!0,e},y.ac=function(t,e,n,r){var i="";throw n.$$is_class||n.$$is_module?i+=n.$$name+".":i+=n.$$class.$$name+"#",i+=r,y.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},y.block_ac=function(t,e,n){var r="`block in "+n+"'";throw y.ArgumentError.$new(r+": wrong number of arguments ("+t+" for "+e+")")},y.find_super_dispatcher=function(t,e,n,r,i){var a,$;if(a=i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:y.find_obj_super_dispatcher(t,e,n),$=a["$"+e],!r&&$.$$stub&&y.Kernel.$method_missing===t.$method_missing)throw y.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return $},y.find_iter_super_dispatcher=function(t,e,n,r,i){var a=e;if(!n)throw y.RuntimeError.$new("super called outside of method");if(i&&n.$$define_meth)throw y.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return n.$$def&&(a=n.$$jsid),y.find_super_dispatcher(t,a,n,r)},y.find_obj_super_dispatcher=function(t,e,n){var r=t.$$meta||t.$$class;if(!(r=y.find_owning_class(r,n)))throw new Error("could not find current class for super()");return y.find_super_func(r,"$"+e,n)},y.find_owning_class=function(t,e){for(var n=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==n)&&(!n.$$is_singleton||t!==n.$$singleton_of.$$class)&&t!==n;)t=t.$$parent;return t},y.find_super_func=function(t,e,n){for(var r=t.$$parent;r;){var i=r.$$proto[e];if(i&&i!==n)break;r=r.$$parent}return r.$$proto},y.ret=function(t){throw y.returner.$v=t,y.returner},y.brk=function(t,e){throw e.$v=t,e},y.new_brk=function(){return new Error("unexpected break")},y.yield1=function(t,e){if("function"!=typeof t)throw y.LocalJumpError.$new("no block given");var n=t.$$has_top_level_mlhs_arg,r=t.$$has_trailing_comma_in_args;return(t.length>1||(n||r)&&1===t.length)&&(e=y.to_ary(e)),(t.length>1||r&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},y.yieldX=function(t,e){if("function"!=typeof t)throw y.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var n=new Array(e.length),r=0,i=n.length;r<i;r++)n[r]=e[r];return t.apply(null,n)}return t.apply(null,e)},y.rescue=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.$$is_array){var i=y.rescue(t,r);if(i)return i}else{if(r===y.JS.Error)return r;if(r["$==="](t))return r}}return null},y.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var n,r,i=y.ancestors(t.$$is_class?y.get_singleton_class(t):t.$$meta||t.$$class);for(n=0,r=i.length;n<r;n++)if(i[n]===e)return!0;return!1},y.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw y.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},y.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===p)return[t];if(e.$$is_array)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},y.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===p)return[t];if(e.$$is_array)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},y.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):y.hash2([],{})},y.kwrestargs=function(t,e){var n=[],r={},i=null,a=t.$$smap;for(i in a)e[i]||(n.push(i),r[i]=a[i]);return y.hash2(n,r)},y.send=function(t,e,n,r){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=r,i.apply(t,n)):t.$method_missing.apply(t,[e].concat(n))},y.def=function(t,e,n){t.$$eval||!t.$$is_class&&!t.$$is_module?y.defs(t,e,n):y.defn(t,e,n)},y.defn=function(t,e,n){t.$$proto[e]=n,n.$$owner=t,t.$$is_module&&(y.update_includers(t,e),t.$$module_function&&y.defs(t,e,n));var r=t.$__id__&&!t.$__id__.$$stub&&b[t.$__id__()];if(r)for(var i=r.length-1;i>=0;i--)y.bridge_method(r[i],t,e,n);var a=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||a?a&&a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),p},y.defs=function(t,e,n){y.defn(y.get_singleton_class(t),e,n)},y.rdef=function(t,e){if(!w.call(t.$$proto,e))throw y.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},y.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw y.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());y.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},y.alias=function(t,e,n){var r,i="$"+e,a="$"+n,$=t.$$proto["$"+n];if(t.$$eval)return y.alias(y.get_singleton_class(t),e,n);if("function"!=typeof $||$.$$stub){for(var o=t.$$super;"function"!=typeof $&&o;)$=o[a],o=o.$$super;if("function"!=typeof $||$.$$stub)throw y.NameError.$new("undefined method `"+n+"' for class `"+t.$name()+"'")}return $.$$alias_of&&($=$.$$alias_of),r=function(){var t,e,n,i=r.$$p;for(t=new Array(arguments.length),e=0,n=arguments.length;e<n;e++)t[e]=arguments[e];return null!=i&&(r.$$p=null),y.send(this,$,t,i)},r.displayName=e,r.length=$.length,r.$$arity=$.$$arity,r.$$parameters=$.$$parameters,r.$$source_location=$.$$source_location,r.$$alias_of=$,r.$$alias_name=e,y.defn(t,i,r),t},y.alias_native=function(t,e,n){var r="$"+e,i=t.$$proto[n];if("function"!=typeof i||i.$$stub)throw y.NameError.$new("undefined native method `"+n+"' for class `"+t.$name()+"'");return y.defn(t,r,i),t},y.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},y.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var n,r,i=0,a=t.$$keys,$=t.$$smap,o=a.length;i<o;i++)(n=a[i]).$$is_string?r=$[n]:(r=n.value,n=n.key),y.hash_put(e,n,r)},y.hash_put=function(e,n,r){if(n.$$is_string)return w.call(e.$$smap,n)||e.$$keys.push(n),void(e.$$smap[n]=r);var i,a,$;if(i=e.$$by_identity?y.id(n):n.$hash(),!w.call(e.$$map,i))return a={key:n,key_hash:i,value:r},e.$$keys.push(a),void(e.$$map[i]=a);for(a=e.$$map[i];a;){if(n===a.key||n["$eql?"](a.key)){$=t,a.value=r;break}$=a,a=a.next}$&&(a={key:n,key_hash:i,value:r},e.$$keys.push(a),$.next=a)},y.hash_get=function(t,e){if(e.$$is_string){if(w.call(t.$$smap,e))return t.$$smap[e]}else{var n,r;if(n=t.$$by_identity?y.id(e):e.$hash(),w.call(t.$$map,n))for(r=t.$$map[n];r;){if(e===r.key||e["$eql?"](r.key))return r.value;r=r.next}}},y.hash_delete=function(t,e){var n,r,i=t.$$keys,a=i.length;if(e.$$is_string){if(!w.call(t.$$smap,e))return;for(n=0;n<a;n++)if(i[n]===e){i.splice(n,1);break}return r=t.$$smap[e],delete t.$$smap[e],r}var $=e.$hash();if(w.call(t.$$map,$))for(var o,s=t.$$map[$];s;){if(e===s.key||e["$eql?"](s.key)){for(r=s.value,n=0;n<a;n++)if(i[n]===s){i.splice(n,1);break}return o&&s.next?o.next=s.next:o?delete o.next:s.next?t.$$map[$]=s.next:delete t.$$map[$],r}o=s,s=s.next}},y.hash_rehash=function(e){for(var n,r,i,a=0,$=e.$$keys.length;a<$;a++)if(!e.$$keys[a].$$is_string&&(n=e.$$keys[a].key.$hash())!==e.$$keys[a].key_hash){for(r=e.$$map[e.$$keys[a].key_hash],i=t;r;){if(r===e.$$keys[a]){i&&r.next?i.next=r.next:i?delete i.next:r.next?e.$$map[e.$$keys[a].key_hash]=r.next:delete e.$$map[e.$$keys[a].key_hash];break}i=r,r=r.next}if(e.$$keys[a].key_hash=n,w.call(e.$$map,n)){for(r=e.$$map[n],i=t;r;){if(r===e.$$keys[a]){i=t;break}i=r,r=r.next}i&&(i.next=e.$$keys[a])}else e.$$map[n]=e.$$keys[a]}},y.hash=function(){var t,e,n,r,i,a,$=arguments.length;if(1===$&&arguments[0].$$is_hash)return arguments[0];if(e=new y.Hash.$$alloc,y.hash_init(e),1===$&&arguments[0].$$is_array){for(r=(t=arguments[0]).length,n=0;n<r;n++){if(2!==t[n].length)throw y.ArgumentError.$new("value not of length 2: "+t[n].$inspect());i=t[n][0],a=t[n][1],y.hash_put(e,i,a)}return e}if(1===$){t=arguments[0];for(i in t)w.call(t,i)&&(a=t[i],y.hash_put(e,i,a));return e}if($%2!=0)throw y.ArgumentError.$new("odd number of arguments for Hash");for(n=0;n<$;n+=2)i=arguments[n],a=arguments[n+1],y.hash_put(e,i,a);return e},y.hash2=function(t,e){var n=new y.Hash.$$alloc;return n.$$smap=e,n.$$map=Object.create(null),n.$$keys=t,n},y.range=function(t,e,n){var r=new y.Range.$$alloc;return r.begin=t,r.end=e,r.excl=n,r},y.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},y.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},y.modules={},y.loaded_features=["corelib/runtime"],y.current_dir=".",y.require_table={"corelib/runtime":!0},y.normalize=function(t){var e,n,r=[];"."!==y.current_dir&&(t=y.current_dir.replace(/\/*$/,"/")+t);for(var i=0,a=(e=(t=t.replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<a;i++)""!==(n=e[i])&&(".."===n?r.pop():r.push(n));return r.join("/")},y.loaded=function(t){var e,n,r;for(e=0,n=t.length;e<n;e++){if(r=y.normalize(t[e]),y.require_table[r])return;y.loaded_features.push(r),y.require_table[r]=!0}},y.load=function(t){t=y.normalize(t),y.loaded([t]);var e=y.modules[t];if(e)e(y);else{var n=y.config.missing_require_severity,r="cannot load such file -- "+t;"error"===n?y.LoadError?y.LoadError.$new(r):function(){throw r}():"warning"===n&&d.warn("WARNING: LoadError: "+r)}return!0},y.require=function(t){return t=y.normalize(t),!y.require_table[t]&&y.load(t)},y.boot_class_alloc("BasicObject",e),y.boot_class_alloc("Object",n,e),y.boot_class_alloc("Module",i,n),y.boot_class_alloc("Class",r,i),y.BasicObject=h=y.setup_class_object("BasicObject",e,"Class",r),y.Object=g=y.setup_class_object("Object",n,"BasicObject",h.constructor),y.Module=v=y.setup_class_object("Module",i,"Object",g.constructor),y.Class=m=y.setup_class_object("Class",r,"Module",v.constructor),h.$$const.BasicObject=h,y.const_set(g,"BasicObject",h),y.const_set(g,"Object",g),y.const_set(g,"Module",v),y.const_set(g,"Class",m),h.$$class=m,g.$$class=m,v.$$class=m,m.$$class=m,h.$$super=null,g.$$super=h,v.$$super=g,m.$$super=v,h.$$parent=null,g.$$parent=h,v.$$parent=g,m.$$parent=v,g.$$proto.toString=function(){return this.$to_s()},g.$$proto.$require=y.require,y.top=new g.$$alloc,y.klass(g,g,"NilClass",a),(p=y.nil=new a).$$id=4,p.call=p.apply=function(){throw y.LocalJumpError.$new("no block given")},y.breaker=new Error("unexpected break (old)"),y.returner=new Error("unexpected return"),TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.module),i=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,a){var $,o,s,l,c,_,u,d,f,p,h,g,v,m,y,b=$=r(e,"Opal"),w=(b.$$proto,[b].concat(a));t.defs(b,"$bridge",o=function(e,n){return t.bridge(e,n)},o.$$arity=2),t.defs(b,"$type_error",s=function(e,r,a,$){var o;return null==a&&(a=n),null==$&&($=n),i(i(o=a)?$:o)?t.const_get_relative(w,"TypeError").$new("can't convert "+e.$class()+" into "+r+" ("+e.$class()+"#"+a+" gives "+$.$class()):t.const_get_relative(w,"TypeError").$new("no implicit conversion of "+e.$class()+" into "+r)},s.$$arity=-3),t.defs(b,"$coerce_to",l=function(t,e,n){var r=this;return i(e["$==="](t))?t:(i(t["$respond_to?"](n))||r.$raise(r.$type_error(t,e)),t.$__send__(n))},l.$$arity=3),t.defs(b,"$coerce_to!",c=function(t,e,r){var a=this,$=n;return $=a.$coerce_to(t,e,r),i(e["$==="]($))||a.$raise(a.$type_error(t,e,r,$)),$},c.$$arity=3),t.defs(b,"$coerce_to?",_=function(t,e,r){var a=this,$=n;return i(t["$respond_to?"](r))?($=a.$coerce_to(t,e,r),i($["$nil?"]())?n:(i(e["$==="]($))||a.$raise(a.$type_error(t,e,r,$)),$)):n},_.$$arity=3),t.defs(b,"$try_convert",u=function(t,e,r){return i(e["$==="](t))?t:i(t["$respond_to?"](r))?t.$__send__(r):n},u.$$arity=3),t.defs(b,"$compare",d=function(e,r){var a=this,$=n;return $=e["$<=>"](r),i($===n)&&a.$raise(t.const_get_relative(w,"ArgumentError"),"comparison of "+e.$class()+" with "+r.$class()+" failed"),$},d.$$arity=2),t.defs(b,"$destructure",f=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),n=0,r=e.length;n<r;n++)e[n]=t[n];return e},f.$$arity=1),t.defs(b,"$respond_to?",p=function(t,e){return!(null==t||!t.$$class)&&t["$respond_to?"](e)},p.$$arity=2),t.defs(b,"$inspect_obj",h=function(e){return t.inspect(e)},h.$$arity=1),t.defs(b,"$instance_variable_name!",g=function(e){var n=this;return e=t.const_get_relative(w,"Opal")["$coerce_to!"](e,t.const_get_relative(w,"String"),"to_str"),i(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(e))||n.$raise(t.const_get_relative(w,"NameError").$new("'"+e+"' is not allowed as an instance variable name",e)),e},g.$$arity=1),t.defs(b,"$class_variable_name!",v=function(e){var n=this;return e=t.const_get_relative(w,"Opal")["$coerce_to!"](e,t.const_get_relative(w,"String"),"to_str"),i(e.length<3||"@@"!==e.slice(0,2))&&n.$raise(t.const_get_relative(w,"NameError").$new("`"+e+"' is not allowed as a class variable name",e)),e},v.$$arity=1),t.defs(b,"$const_name!",m=function(e){var n=this;return e=t.const_get_relative(w,"Opal")["$coerce_to!"](e,t.const_get_relative(w,"String"),"to_str"),i(e["$[]"](0)["$!="](e["$[]"](0).$upcase()))&&n.$raise(t.const_get_relative(w,"NameError"),"wrong constant name "+e),e},m.$$arity=1),t.defs(b,"$pristine",y=function(t,e){var r,i=arguments.length,a=i-1;a<0&&(a=0),r=new Array(a);for(var $=1;$<i;$++)r[$-1]=arguments[$];for(var o,s=r.length-1;s>=0;s--)o=r[s],t.$$proto["$"+o].$$pristine=!0;return n},y.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $rb_plus(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$+","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_method_added_42,TMP_Module_method_removed_43,TMP_Module_method_undefined_44,TMP_Module_module_eval_45,TMP_Module_module_exec_47,TMP_Module_method_defined$q_48,TMP_Module_module_function_49,TMP_Module_name_50,TMP_Module_remove_const_51,TMP_Module_to_s_52,TMP_Module_undef_method_53,TMP_Module_instance_variables_54,TMP_Module_dup_55,TMP_Module_copy_class_variables_56,TMP_Module_copy_constants_57;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){var t=this;return Opal.module_allocate(t)},TMP_Module_allocate_1.$$arity=0),Opal.defn(self,"$initialize",TMP_Module_initialize_2=function(){var t=this,e=TMP_Module_initialize_2.$$p,n=e||nil;return e&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(t,n)},TMP_Module_initialize_2.$$arity=0),Opal.defn(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){var e=this;return!$truthy(null==t)&&Opal.is_a(t,e)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.defn(self,"$<",TMP_Module_$lt_4=function(t){var e=this;$truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))||e.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module");var n,r,i;if(e===t)return!1;for(r=0,i=(n=Opal.ancestors(e)).length;r<i;r++)if(n[r]===t)return!0;for(r=0,i=(n=Opal.ancestors(t)).length;r<i;r++)if(n[r]===e)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.defn(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e,n=this;return $truthy(e=n["$equal?"](t))?e:$rb_lt(n,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.defn(self,"$>",TMP_Module_$gt_6=function(t){var e=this;return $truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))||e.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,e)},TMP_Module_$gt_6.$$arity=1),Opal.defn(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e,n=this;return $truthy(e=n["$equal?"](t))?e:$rb_gt(n,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.defn(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e=this,n=nil;return e===t?0:$truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))?(n=$rb_lt(e,t),$truthy(n["$nil?"]())?nil:$truthy(n)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){var n=this;return Opal.alias(n,t,e),n},TMP_Module_alias_method_9.$$arity=2),Opal.defn(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){var n=this;return null==e&&(e=t),Opal.alias_native(n,t,e),n},TMP_Module_alias_native_10.$$arity=-2),Opal.defn(self,"$ancestors",TMP_Module_ancestors_11=function(){var t=this;return Opal.ancestors(t)},TMP_Module_ancestors_11.$$arity=0),Opal.defn(self,"$append_features",TMP_Module_append_features_12=function(t){var e=this;return Opal.append_features(e,t),e},TMP_Module_append_features_12.$$arity=1),Opal.defn(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return $send(n,"attr_reader",Opal.to_a(e)),$send(n,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=n.$$proto,o=e.length-1;o>=0;o--){var s=e[o],l="$"+s,c=Opal.ivar(s),_=function(t){return function(){return null==this[t]?nil:this[t]}}(c);$[c]=nil,_.$$parameters=[],_.$$arity=0,n.$$is_singleton?$.constructor.prototype[l]=_:Opal.defn(n,l,_)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.defn(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=n.$$proto,o=e.length-1;o>=0;o--){var s=e[o],l="$"+s+"=",c=Opal.ivar(s),_=function(t){return function(e){return this[t]=e}}(c);_.$$parameters=[["req"]],_.$$arity=1,$[c]=nil,n.$$is_singleton?$.constructor.prototype[l]=_:Opal.defn(n,l,_)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.defn(self,"$autoload",TMP_Module_autoload_16=function(t,e){var n=this;return null==n.$$autoload&&(n.$$autoload={}),Opal.const_cache_version++,n.$$autoload[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.defn(self,"$class_variables",TMP_Module_class_variables_17=function(){var t=this;return Object.keys(Opal.class_variables(t))},TMP_Module_class_variables_17.$$arity=0),Opal.defn(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){var e=this;t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t);var n=Opal.class_variables(e)[t];return null==n&&e.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized class variable "+t+" in "+e,t)),n},TMP_Module_class_variable_get_18.$$arity=1),Opal.defn(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){var n=this;return t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(n,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.defn(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){var e=this;return t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(e).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.defn(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){var e=this;if(t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var n=e.$$cvars[t];return delete e.$$cvars[t],n}e.$raise(Opal.const_get_relative($nesting,"NameError").$new("cannot remove "+t+" for "+e))},TMP_Module_remove_class_variable_21.$$arity=1),Opal.defn(self,"$constants",TMP_Module_constants_22=function(t){var e=this;return null==t&&(t=!0),Opal.constants(e,t)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(t){var e=this;if(null==t){var n,r,i,a=(e.$$nesting||[]).concat(Opal.Object),$={};for(r=0,i=a.length;r<i;r++)for(n in a[r].$$const)$[n]=!0;return Object.keys($)}return Opal.constants(e,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){return this.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.defn(self,"$const_defined?",TMP_Module_const_defined$q_25=function(t,e){var n=this;null==e&&(e=!0),t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t));var r,i,a=[n];for(e&&(a=a.concat(Opal.ancestors(n)),n.$$is_module&&(a=a.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),r=0,i=a.length;r<i;r++)if(null!=a[r].$$const[t])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.defn(self,"$const_get",TMP_Module_const_get_27=function(t,e){var n,r=this;return null==e&&(e=!0),0===(t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(-1!=t.indexOf("::")&&"::"!=t)?$send(t.$split("::"),"inject",[r],(n=function(t,e){n.$$s;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)},n.$$s=r,n.$$arity=2,n)):($truthy(t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||r.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t)),e?Opal.const_get_relative([r],t):Opal.const_get_local(r,t))},TMP_Module_const_get_27.$$arity=-2),Opal.defn(self,"$const_missing",TMP_Module_const_missing_28=function(t){var e=this,n=nil;if(e.$$autoload){var r=e.$$autoload[t];if(r)return e.$require(r),e.$const_get(t)}return n=e["$=="](Opal.const_get_relative($nesting,"Object"))?t:e+"::"+t,e.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized constant "+n,t))},TMP_Module_const_missing_28.$$arity=1),Opal.defn(self,"$const_set",TMP_Module_const_set_29=function(t,e){var n,r=this;return t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t),$truthy($truthy(n=t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP"))["$!"]())?n:t["$start_with?"]("::"))&&r.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(r,t,e),e},TMP_Module_const_set_29.$$arity=2),Opal.defn(self,"$public_constant",TMP_Module_public_constant_30=function(t){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.defn(self,"$define_method",TMP_Module_define_method_31=function(t,e){var n,r,i=this,a=TMP_Module_define_method_31.$$p,$=a||nil,o=nil;a&&(TMP_Module_define_method_31.$$p=null),$truthy(void 0===e&&$===nil)&&i.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to create a Proc object without a block");var s="$"+t;return($=$truthy(n=$)?n:(o=e,Opal.const_get_relative($nesting,"Proc")["$==="](o)?e:Opal.const_get_relative($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:Opal.const_get_relative($nesting,"UnboundMethod")["$==="](o)?$send(i,"lambda",[],(r=function(t){var n,i=r.$$s||this,a=nil,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<$;s++)n[s-0]=arguments[s];return a=e.$bind(i),$send(a,"call",Opal.to_a(n))},r.$$s=i,r.$$arity=-1,r)):i.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Proc/Method)"))).$$jsid=t,$.$$s=null,$.$$def=$,$.$$define_meth=!0,Opal.defn(i,s,$),t},TMP_Module_define_method_31.$$arity=-2),Opal.defn(self,"$remove_method",TMP_Module_remove_method_33=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)Opal.rdef(n,"$"+e[$]);return n},TMP_Module_remove_method_33.$$arity=-1),Opal.defn(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.defn(self,"$include",TMP_Module_include_35=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=e.length-1;$>=0;$--){var o=e[$];o.$$is_module||n.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(n),o.$included(n)}return n},TMP_Module_include_35.$$arity=-1),Opal.defn(self,"$included_modules",TMP_Module_included_modules_36=function(){var t,e=this,n=function(t){for(var e=[],r=0,i=t.$$inc.length;r<i;r++){var a=t.$$inc[r];e.push(a),e=e.concat(n(a))}return e};if(t=n(e),e.$$is_class)for(var r=e;r;r=r.$$super)t=t.concat(n(r));return t},TMP_Module_included_modules_36.$$arity=0),Opal.defn(self,"$include?",TMP_Module_include$q_37=function(t){var e=this;t.$$is_module||e.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var n,r,i,a=Opal.ancestors(e);for(n=0,r=a.length;n<r;n++)if((i=a[n])===t&&i!==e)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.defn(self,"$instance_method",TMP_Module_instance_method_38=function(t){var e=this,n=e.$$proto["$"+t];return n&&!n.$$stub||e.$raise(Opal.const_get_relative($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),Opal.const_get_relative($nesting,"UnboundMethod").$new(e,n.$$owner||e,n,t)},TMP_Module_instance_method_38.$$arity=1),Opal.defn(self,"$instance_methods",TMP_Module_instance_methods_39=function(t){var e=this;null==t&&(t=!0);var n,r=[],i=e.$$proto;for(var a in i)if("$"===a.charAt(0)&&"$"!==a.charAt(1)&&"function"==typeof(n=i[a])&&!n.$$stub){if(!e.$$is_module){if(e!==Opal.BasicObject&&n===Opal.BasicObject.$$proto[a])continue;if(!t&&!i.hasOwnProperty(a))continue;if(!t&&n.$$donated)continue}r.push(a.substr(1))}return r},TMP_Module_instance_methods_39.$$arity=-1),Opal.defn(self,"$included",TMP_Module_included_40=function(t){return nil},TMP_Module_included_40.$$arity=1),Opal.defn(self,"$extended",TMP_Module_extended_41=function(t){return nil},TMP_Module_extended_41.$$arity=1),Opal.defn(self,"$method_added",TMP_Module_method_added_42=function(t){return nil},TMP_Module_method_added_42.$$arity=-1),Opal.defn(self,"$method_removed",TMP_Module_method_removed_43=function(t){return nil},TMP_Module_method_removed_43.$$arity=-1),Opal.defn(self,"$method_undefined",TMP_Module_method_undefined_44=function(t){return nil},TMP_Module_method_undefined_44.$$arity=-1),Opal.defn(self,"$module_eval",TMP_Module_module_eval_45=function $$module_eval($a_rest){var $b,TMP_46,self=this,args,$iter=TMP_Module_module_eval_45.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_45.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_relative($nesting,"Opal").$compile(string,compiling_options),block=$send(Opal.const_get_relative($nesting,"Kernel"),"proc",[],(TMP_46=function(){var self=TMP_46.$$s||this;return function(self){return eval(compiled)}(self)},TMP_46.$$s=self,TMP_46.$$arity=0,TMP_46))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),$rb_plus("wrong number of arguments ("+args.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n"));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_45.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_Module_module_exec_47=function(t){var e,n=this,r=TMP_Module_module_exec_47.$$p,i=r||nil,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];r&&(TMP_Module_module_exec_47.$$p=null),i===nil&&n.$raise(Opal.const_get_relative($nesting,"LocalJumpError"),"no block given");var s,l=i.$$s;return i.$$s=null,s=i.apply(n,e),i.$$s=l,s},TMP_Module_module_exec_47.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_Module_method_defined$q_48=function(t){var e=this.$$proto["$"+t];return!!e&&!e.$$stub},TMP_Module_method_defined$q_48.$$arity=1),Opal.defn(self,"$module_function",TMP_Module_module_function_49=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];if(0===e.length)n.$$module_function=!0;else for(var $=0,o=e.length;$<o;$++){var s="$"+e[$],l=n.$$proto[s];Opal.defs(n,s,l)}return n},TMP_Module_module_function_49.$$arity=-1),Opal.defn(self,"$name",TMP_Module_name_50=function(){var t=this;if(t.$$full_name)return t.$$full_name;for(var e=[],n=t;n;){if(n.$$name===nil||null==n.$$name)return nil;if(e.unshift(n.$$name),(n=n.$$base_module)===Opal.Object)break}return 0===e.length?nil:t.$$full_name=e.join("::")},TMP_Module_name_50.$$arity=0),Opal.defn(self,"$remove_const",TMP_Module_remove_const_51=function(t){var e=this;return Opal.const_remove(e,t)},TMP_Module_remove_const_51.$$arity=1),Opal.defn(self,"$to_s",TMP_Module_to_s_52=function(){var t,e=this;return $truthy(t=Opal.Module.$name.call(e))?t:"#<"+(e.$$is_module?"Module":"Class")+":0x"+e.$__id__().$to_s(16)+">"},TMP_Module_to_s_52.$$arity=0),Opal.defn(self,"$undef_method",TMP_Module_undef_method_53=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)Opal.udef(n,"$"+e[$]);return n},TMP_Module_undef_method_53.$$arity=-1),Opal.defn(self,"$instance_variables",TMP_Module_instance_variables_54=function(){var t=this,e=nil;Opal.Module.$$nesting=$nesting,e=t.$constants();var n=[];for(var r in t)t.hasOwnProperty(r)&&"$"!==r.charAt(0)&&"constructor"!==r&&!e["$include?"](r)&&n.push("@"+r);return n},TMP_Module_instance_variables_54.$$arity=0),Opal.defn(self,"$dup",TMP_Module_dup_55=function(){var t=this,e=TMP_Module_dup_55.$$p,n=nil,r=nil,i=nil,a=nil;for(e&&(TMP_Module_dup_55.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return(n=$send(t,Opal.find_super_dispatcher(t,"dup",TMP_Module_dup_55,!1),r,e)).$copy_class_variables(t),n.$copy_constants(t),n},TMP_Module_dup_55.$$arity=0),Opal.defn(self,"$copy_class_variables",TMP_Module_copy_class_variables_56=function(t){var e=this;for(var n in t.$$cvars)e.$$cvars[n]=t.$$cvars[n]},TMP_Module_copy_class_variables_56.$$arity=1),Opal.defn(self,"$copy_constants",TMP_Module_copy_constants_57=function(t){var e,n=this,r=t.$$const;for(e in r)Opal.const_set(n,e,r[e])},TMP_Module_copy_constants_57.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,n,$){function o(){}var s,l,c,_,u,d,f,p=o=i(e,null,"Class",o),h=(p.$$proto,[p].concat($));return t.defs(p,"$new",s=function(e){var n=s.$$p,i=n||r;if(null==e&&(e=t.const_get_relative(h,"Object")),n&&(s.$$p=null),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var a=t.boot_class_alloc(null,function(){},e),$=t.setup_class_object(null,a,e.$$name,e.constructor);return $.$$super=e,$.$$parent=e,e.$inherited($),t.module_initialize($,i),$},s.$$arity=-1),t.defn(p,"$allocate",l=function(){var e=new this.$$alloc;return e.$$id=t.uid(),e},l.$$arity=0),t.defn(p,"$inherited",c=function(t){return r},c.$$arity=1),t.defn(p,"$initialize_dup",_=function(t){var e=this;e.$initialize_copy(t),e.$$name=null,e.$$full_name=null},_.$$arity=1),t.defn(p,"$new",u=function(e){var n,i=this,a=u.$$p,$=a||r,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];a&&(u.$$p=null);var c=i.$allocate();return t.send(c,c.$initialize,n,$),c},u.$$arity=-1),t.defn(p,"$superclass",d=function(){return this.$$super||r},d.$$arity=0),t.defn(p,"$to_s",f=function(){var e=this,n=f.$$p;n&&(f.$$p=null);var r=e.$$singleton_of;return r&&(r.$$is_class||r.$$is_module)?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+t.id(r).$to_s(16)+">>":a(e,t.find_super_dispatcher(e,"to_s",f,!1),[],null)},f.$$arity=0),r&&"to_s"}(n[0],0,n)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.defn(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.defn(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){return this===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.defn(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){return this["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_BasicObject___id___4=function(){var t=this;return t.$$id||(t.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.defn(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var n,r=this,i=TMP_BasicObject___send___5.$$p,a=i||nil,$=arguments.length,o=$-1;o<0&&(o=0),n=new Array(o);for(var s=1;s<$;s++)n[s-1]=arguments[s];i&&(TMP_BasicObject___send___5.$$p=null);var l=r["$"+t];return l?(a!==nil&&(l.$$p=a),l.apply(r,n)):(a!==nil&&(r.$method_missing.$$p=a),r.$method_missing.apply(r,[t].concat(n)))},TMP_BasicObject___send___5.$$arity=-2),Opal.defn(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.defn(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){return this["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_qualified("::","Opal").$compile(string,compiling_options),block=$send(Opal.const_get_qualified("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.defn(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,n=this,r=TMP_BasicObject_instance_exec_10.$$p,i=r||nil,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];r&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(i)||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"no block given");var s,l=i.$$s;if(i.$$s=null,n.$$is_class||n.$$is_module){n.$$eval=!0;try{s=i.apply(n,e)}finally{n.$$eval=!1}}else s=i.apply(n,e);return i.$$s=l,s},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.defn(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.defn(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.defn(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.defn(self,"$method_missing",TMP_BasicObject_method_missing_14=function(t,e){var n,r=this,i=TMP_BasicObject_method_missing_14.$$p,a=arguments.length,$=a-1;$<0&&($=0),n=new Array($);for(var o=1;o<a;o++)n[o-1]=arguments[o];return i&&(TMP_BasicObject_method_missing_14.$$p=null),Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","NoMethodError").$new($truthy(r.$inspect&&!r.$inspect.$$stub)?"undefined method `"+t+"' for "+r.$inspect()+":"+r.$$class:"undefined method `"+t+"' for "+r.$$class,t))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var r=[],i=t.nil,a=(t.breaker,t.slice,t.module),$=t.truthy,o=t.gvars,s=t.send,l=t.hash2,c=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function(r,c){var _,u,d,f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,_t,ut,dt,ft,pt,ht,gt,vt,mt,yt,bt,wt=_=a(r,"Kernel"),kt=(wt.$$proto,[wt].concat(c));t.defn(wt,"$method_missing",u=function(e,n){var r,i=this,a=u.$$p,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<$;s++)r[s-1]=arguments[s];return a&&(u.$$p=null),i.$raise(t.const_get_relative(kt,"NoMethodError").$new("undefined method `"+e+"' for "+i.$inspect(),e,r))},u.$$arity=-2),t.defn(wt,"$=~",d=function(t){return!1},d.$$arity=1),t.defn(wt,"$!~",f=function(t){return this["$=~"](t)["$!"]()},f.$$arity=1),t.defn(wt,"$===",p=function(t){var e,n=this;return $(e=n.$object_id()["$=="](t.$object_id()))?e:n["$=="](t)},p.$$arity=1),t.defn(wt,"$<=>",h=function(t){var e=this;e.$$comparable=!0;var n=e["$=="](t);return n&&n!==i?0:i},h.$$arity=1),t.defn(wt,"$method",g=function(e){var n=this,r=n["$"+e];return r&&!r.$$stub||n.$raise(t.const_get_relative(kt,"NameError").$new("undefined method `"+e+"' for class `"+n.$class()+"'",e)),t.const_get_relative(kt,"Method").$new(n,r.$$owner||n.$class(),r,e)},g.$$arity=1),t.defn(wt,"$methods",v=function(e){var n=this;null==e&&(e=!0);var r=[];for(var a in n)if("$"==a[0]&&"function"==typeof n[a]){if((0==e||e===i)&&!t.hasOwnProperty.call(n,a))continue;void 0===n[a].$$stub&&r.push(a.substr(1))}return r},v.$$arity=-1),t.alias(wt,"public_methods","methods"),t.defn(wt,"$Array",m=function(e){var n;return e===i?[]:e.$$is_array?e:(n=t.const_get_relative(kt,"Opal")["$coerce_to?"](e,t.const_get_relative(kt,"Array"),"to_ary"))!==i?n:(n=t.const_get_relative(kt,"Opal")["$coerce_to?"](e,t.const_get_relative(kt,"Array"),"to_a"))!==i?n:[e]},m.$$arity=1),t.defn(wt,"$at_exit",y=function(){var t,e=y.$$p,n=e||i;return null==o.__at_exit__&&(o.__at_exit__=i),e&&(y.$$p=null),o.__at_exit__=$(t=o.__at_exit__)?t:[],o.__at_exit__["$<<"](n)},y.$$arity=0),t.defn(wt,"$caller",b=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return[]},b.$$arity=-1),t.defn(wt,"$class",w=function(){return this.$$class},w.$$arity=0),t.defn(wt,"$copy_instance_variables",k=function(t){var e,n,r,i=this,a=Object.keys(t);for(e=0,n=a.length;e<n;e++)"$"!==(r=a[e]).charAt(0)&&t.hasOwnProperty(r)&&(i[r]=t[r])},k.$$arity=1),t.defn(wt,"$copy_singleton_methods",x=function(e){var n,r=this;if(e.hasOwnProperty("$$meta")){var i=t.get_singleton_class(e).$$proto,a=t.get_singleton_class(r).$$proto;for(n in i)"$"===n.charAt(0)&&i.hasOwnProperty(n)&&(a[n]=i[n])}for(n in e)"$"===n.charAt(0)&&"$"!==n.charAt(1)&&e.hasOwnProperty(n)&&(r[n]=e[n])},x.$$arity=1),t.defn(wt,"$clone",E=function(){var t=this,e=i;return(e=t.$class().$allocate()).$copy_instance_variables(t),e.$copy_singleton_methods(t),e.$initialize_clone(t),e},E.$$arity=0),t.defn(wt,"$initialize_clone",O=function(t){return this.$initialize_copy(t)},O.$$arity=1),t.defn(wt,"$define_singleton_method",A=function(t,e){var n=this,r=A.$$p,a=r||i;return r&&(A.$$p=null),s(n.$singleton_class(),"define_method",[t,e],a.$to_proc())},A.$$arity=-2),t.defn(wt,"$dup",S=function(){var t=this,e=i;return(e=t.$class().$allocate()).$copy_instance_variables(t),e.$initialize_dup(t),e},S.$$arity=0),t.defn(wt,"$initialize_dup",R=function(t){return this.$initialize_copy(t)},R.$$arity=1),t.defn(wt,"$enum_for",M=function(e,n){var r,a=this,$=M.$$p,o=$||i;null==e&&(e="each");var l=arguments.length,c=l-1;c<0&&(c=0),r=new Array(c);for(var _=1;_<l;_++)r[_-1]=arguments[_];return $&&(M.$$p=null),s(t.const_get_relative(kt,"Enumerator"),"for",[a,e].concat(t.to_a(r)),o.$to_proc())},M.$$arity=-1),t.alias(wt,"to_enum","enum_for"),t.defn(wt,"$equal?",T=function(t){return this===t},T.$$arity=1),t.defn(wt,"$exit",I=function(n){var r;for(null==o.__at_exit__&&(o.__at_exit__=i),null==n&&(n=!0),o.__at_exit__=$(r=o.__at_exit__)?r:[];$(e(o.__at_exit__.$size(),0));)o.__at_exit__.$pop().$call();return $(!0===n)&&(n=0),t.exit(n),i},I.$$arity=-1),t.defn(wt,"$extend",C=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];for(var o=r.$singleton_class(),s=n.length-1;s>=0;s--){var l=n[s];l.$$is_module||r.$raise(t.const_get_relative(kt,"TypeError"),"wrong argument type "+l.$class()+" (expected Module)"),l.$append_features(o),l.$extended(r)}return r},C.$$arity=-1),t.defn(wt,"$format",q=function(e,n){function r(){N&j&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"flag after width"),N&F&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"flag after precision")}function a(){N&j&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"width given twice"),N&F&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"width after precision")}function s(e){return e>=f.length&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"too few arguments"),f[e]}function l(){switch(B){case-1:p.$raise(t.const_get_relative(kt,"ArgumentError"),"unnumbered("+D+") mixed with numbered");case-2:p.$raise(t.const_get_relative(kt,"ArgumentError"),"unnumbered("+D+") mixed with named")}return B=D++,s(B-1)}function c(e){return B>0&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"numbered("+e+") after unnumbered("+B+")"),-2===B&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"numbered("+e+") after named"),e<1&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"invalid index - "+e+"$"),B=-1,s(e-1)}function _(){return void 0===q?l():q}function u(n){for(var r,i="";;b++){if(b===P&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"malformed format string - %*[0-9]"),e.charCodeAt(b)<48||e.charCodeAt(b)>57)return b--,(r=parseInt(i,10)||0)>2147483647&&p.$raise(t.const_get_relative(kt,"ArgumentError"),n+" too big"),r;i+=e.charAt(b)}}function d(t){var n,r=u(t);return"$"===e.charAt(b+1)?(b++,n=c(r)):n=l(),n.$to_int()}var f,p=this,h=i;null==o.DEBUG&&(o.DEBUG=i);var g=arguments.length,v=g-1;v<0&&(v=0),f=new Array(v);for(var m=1;m<g;m++)f[m-1]=arguments[m];$(f.$length()["$=="](1)?f["$[]"](0)["$respond_to?"]("to_ary"):f.$length()["$=="](1))&&(h=t.const_get_relative(kt,"Opal")["$coerce_to?"](f["$[]"](0),t.const_get_relative(kt,"Array"),"to_ary"),$(h["$nil?"]())||(f=h.$to_a()));var y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L="",z=0,P=e.length,D=1,B=0,j=32,F=128;for(b=e.indexOf("%");-1!==b;b=e.indexOf("%",b)){switch(k=void 0,N=0,E=-1,O=-1,q=void 0,y=b,b++,e.charAt(b)){case"%":z=b;case"":case"\n":case"\0":b++;continue}t:for(;b<P;b++)switch(e.charAt(b)){case" ":r(),N|=16;continue t;case"#":r(),N|=1;continue t;case"+":r(),N|=4;continue t;case"-":r(),N|=2;continue t;case"0":r(),N|=8;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(A=u("width"),"$"===e.charAt(b+1)){if(b+2===P){k="%",b++;break t}void 0!==q&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"value given twice - %"+A+"$"),q=c(A),b++}else a(),N|=j,E=A;continue t;case"<":case"{":for(R="<"===e.charAt(b)?">":"}",S="",b++;;b++){if(b===P&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(b)===R){if(B>0&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"named "+S+" after unnumbered("+B+")"),-1===B&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"named "+S+" after numbered"),B=-2,void 0!==f[0]&&f[0].$$is_hash||p.$raise(t.const_get_relative(kt,"ArgumentError"),"one hash required"),q=f[0].$fetch(S),">"===R)continue t;if(k=q.toString(),-1!==O&&(k=k.slice(0,O)),2&N)for(;k.length<E;)k+=" ";else for(;k.length<E;)k=" "+k;break t}S+=e.charAt(b)}case"*":b++,a(),N|=j,(E=d("width"))<0&&(N|=2,E=-E);continue t;case".":if(N&F&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"precision given twice"),N|=64|F,O=0,b++,"*"===e.charAt(b)){b++,(O=d("precision"))<0&&(N&=-65);continue t}O=u("precision");continue t;case"d":case"i":case"u":if((w=p.$Integer(_()))>=0){for(k=w.toString();k.length<O;)k="0"+k;if(2&N)for((4&N||16&N)&&(k=(4&N?"+":" ")+k);k.length<E;)k+=" ";else if(8&N&&-1===O){for(;k.length<E-(4&N||16&N?1:0);)k="0"+k;(4&N||16&N)&&(k=(4&N?"+":" ")+k)}else for((4&N||16&N)&&(k=(4&N?"+":" ")+k);k.length<E;)k=" "+k}else{for(k=(-w).toString();k.length<O;)k="0"+k;if(2&N)for(k="-"+k;k.length<E;)k+=" ";else if(8&N&&-1===O){for(;k.length<E-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<E;)k=" "+k}break t;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(b)){case"b":case"B":M=2,T="0b",I=/^1+/,C="1";break;case"o":M=8,T="0",I=/^3?7+/,C="7";break;case"x":case"X":M=16,T="0x",I=/^f+/,C="f"}if((w=p.$Integer(_()))>=0){for(k=w.toString(M);k.length<O;)k="0"+k;if(2&N)for((4&N||16&N)&&(k=(4&N?"+":" ")+k),1&N&&0!==w&&(k=T+k);k.length<E;)k+=" ";else if(8&N&&-1===O){for(;k.length<E-(4&N||16&N?1:0)-(1&N&&0!==w?T.length:0);)k="0"+k;1&N&&0!==w&&(k=T+k),(4&N||16&N)&&(k=(4&N?"+":" ")+k)}else for(1&N&&0!==w&&(k=T+k),(4&N||16&N)&&(k=(4&N?"+":" ")+k);k.length<E;)k=" "+k}else if(4&N||16&N){for(k=(-w).toString(M);k.length<O;)k="0"+k;if(2&N)for(1&N&&(k=T+k),k="-"+k;k.length<E;)k+=" ";else if(8&N&&-1===O){for(;k.length<E-1-(1&N?2:0);)k="0"+k;1&N&&(k=T+k),k="-"+k}else for(1&N&&(k=T+k),k="-"+k;k.length<E;)k=" "+k}else{for(k=(w>>>0).toString(M).replace(I,C);k.length<O-2;)k=C+k;if(2&N)for(k=".."+k,1&N&&(k=T+k);k.length<E;)k+=" ";else if(8&N&&-1===O){for(;k.length<E-2-(1&N?T.length:0);)k=C+k;k=".."+k,1&N&&(k=T+k)}else for(k=".."+k,1&N&&(k=T+k);k.length<E;)k=" "+k}e.charAt(b)===e.charAt(b).toUpperCase()&&(k=k.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if((w=p.$Float(_()))>=0||isNaN(w)){if(w===1/0)k="Inf";else switch(e.charAt(b)){case"f":k=w.toFixed(-1===O?6:O);break;case"e":case"E":k=w.toExponential(-1===O?6:O);break;case"g":case"G":k=w.toExponential(),(x=parseInt(k.split("e")[1],10))<-4||x>=(-1===O?6:O)||(k=w.toPrecision(-1===O?1&N?6:void 0:O))}if(2&N)for((4&N||16&N)&&(k=(4&N?"+":" ")+k);k.length<E;)k+=" ";else if(8&N&&w!==1/0&&!isNaN(w)){for(;k.length<E-(4&N||16&N?1:0);)k="0"+k;(4&N||16&N)&&(k=(4&N?"+":" ")+k)}else for((4&N||16&N)&&(k=(4&N?"+":" ")+k);k.length<E;)k=" "+k}else{if(w===-1/0)k="Inf";else switch(e.charAt(b)){case"f":k=(-w).toFixed(-1===O?6:O);break;case"e":case"E":k=(-w).toExponential(-1===O?6:O);break;case"g":case"G":k=(-w).toExponential(),(x=parseInt(k.split("e")[1],10))<-4||x>=(-1===O?6:O)||(k=(-w).toPrecision(-1===O?1&N?6:void 0:O))}if(2&N)for(k="-"+k;k.length<E;)k+=" ";else if(8&N&&w!==-1/0){for(;k.length<E-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<E;)k=" "+k}e.charAt(b)!==e.charAt(b).toUpperCase()||w===1/0||w===-1/0||isNaN(w)||(k=k.toUpperCase()),k=k.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":p.$raise(t.const_get_relative(kt,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((w=_())["$respond_to?"]("to_ary")&&(w=w.$to_ary()[0]),1!==(k=w["$respond_to?"]("to_str")?w.$to_str():String.fromCharCode(t.const_get_relative(kt,"Opal").$coerce_to(w,t.const_get_relative(kt,"Integer"),"to_int"))).length&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"%c requires a character"),2&N)for(;k.length<E;)k+=" ";else for(;k.length<E;)k=" "+k;break t;case"p":if(k=_().$inspect(),-1!==O&&(k=k.slice(0,O)),2&N)for(;k.length<E;)k+=" ";else for(;k.length<E;)k=" "+k;break t;case"s":if(k=_().$to_s(),-1!==O&&(k=k.slice(0,O)),2&N)for(;k.length<E;)k+=" ";else for(;k.length<E;)k=" "+k;break t;default:p.$raise(t.const_get_relative(kt,"ArgumentError"),"malformed format string - %"+e.charAt(b))}void 0===k&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"malformed format string - %"),L+=e.slice(z,y)+k,z=b+1}return o.DEBUG&&B>=0&&D<f.length&&p.$raise(t.const_get_relative(kt,"ArgumentError"),"too many arguments for format string"),L+e.slice(z)},q.$$arity=-2),t.defn(wt,"$hash",N=function(){return this.$__id__()},N.$$arity=0),t.defn(wt,"$initialize_copy",L=function(t){return i},L.$$arity=1),t.defn(wt,"$inspect",z=function(){return this.$to_s()},z.$$arity=0),t.defn(wt,"$instance_of?",P=function(e){var n=this;return e.$$is_class||e.$$is_module||n.$raise(t.const_get_relative(kt,"TypeError"),"class or module required"),n.$$class===e},P.$$arity=1),t.defn(wt,"$instance_variable_defined?",D=function(e){var n=this;return e=t.const_get_relative(kt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(n,e.substr(1))},D.$$arity=1),t.defn(wt,"$instance_variable_get",B=function(e){var n=this;e=t.const_get_relative(kt,"Opal")["$instance_variable_name!"](e);var r=n[t.ivar(e.substr(1))];return null==r?i:r},B.$$arity=1),t.defn(wt,"$instance_variable_set",j=function(e,n){var r=this;return e=t.const_get_relative(kt,"Opal")["$instance_variable_name!"](e),r[t.ivar(e.substr(1))]=n},j.$$arity=2),t.defn(wt,"$remove_instance_variable",F=function(e){var n=this;e=t.const_get_relative(kt,"Opal")["$instance_variable_name!"](e);var r,i=t.ivar(e.substr(1));return n.hasOwnProperty(i)?(r=n[i],delete n[i],r):n.$raise(t.const_get_relative(kt,"NameError"),"instance variable "+e+" not defined")},F.$$arity=1),t.defn(wt,"$instance_variables",U=function(){var t,e=this,n=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(t="$"===r.substr(-1)?r.slice(0,r.length-1):r,n.push("@"+t));return n},U.$$arity=0),t.defn(wt,"$Integer",G=function(e,n){var r,a,$,o=this;return e.$$is_string?"0"===e?0:(void 0===n?n=0:(1===(n=t.const_get_relative(kt,"Opal").$coerce_to(n,t.const_get_relative(kt,"Integer"),"to_int"))||n<0||n>36)&&o.$raise(t.const_get_relative(kt,"ArgumentError"),"invalid radix "+n),a=e.toLowerCase(),a=a.replace(/(\d)_(?=\d)/g,"$1"),a=a.replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,i,a){switch(a){case"0b":if(0===n||2===n)return n=2,i;case"0":case"0o":if(0===n||8===n)return n=8,i;case"0d":if(0===n||10===n)return n=10,i;case"0x":if(0===n||16===n)return n=16,i}o.$raise(t.const_get_relative(kt,"ArgumentError"),'invalid value for Integer(): "'+e+'"')}),n=0===n?10:n,$="0-"+(n<=10?n-1:"9a-"+String.fromCharCode(n-11+97)),new RegExp("^\\s*[+-]?["+$+"]+\\s*$").test(a)||o.$raise(t.const_get_relative(kt,"ArgumentError"),'invalid value for Integer(): "'+e+'"'),r=parseInt(a,n),isNaN(r)&&o.$raise(t.const_get_relative(kt,"ArgumentError"),'invalid value for Integer(): "'+e+'"'),r):(void 0!==n&&o.$raise(t.const_get_relative(kt,"ArgumentError"),"base specified for non string value"),e===i&&o.$raise(t.const_get_relative(kt,"TypeError"),"can't convert nil into Integer"),e.$$is_number?((e===1/0||e===-1/0||isNaN(e))&&o.$raise(t.const_get_relative(kt,"FloatDomainError"),e),Math.floor(e)):e["$respond_to?"]("to_int")&&(r=e.$to_int())!==i?r:t.const_get_relative(kt,"Opal")["$coerce_to!"](e,t.const_get_relative(kt,"Integer"),"to_i"))},G.$$arity=-2),t.defn(wt,"$Float",H=function(e){var n,r=this;return e===i&&r.$raise(t.const_get_relative(kt,"TypeError"),"can't convert nil into Float"),e.$$is_string?(n=e.toString(),n=n.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(n)?r.$Integer(n):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(n)||r.$raise(t.const_get_relative(kt,"ArgumentError"),'invalid value for Float(): "'+e+'"'),parseFloat(n))):t.const_get_relative(kt,"Opal")["$coerce_to!"](e,t.const_get_relative(kt,"Float"),"to_f")},H.$$arity=1),t.defn(wt,"$Hash",Y=function(e){var n;return $($(n=e["$nil?"]())?n:e["$=="]([]))?l([],{}):$(t.const_get_relative(kt,"Hash")["$==="](e))?e:t.const_get_relative(kt,"Opal")["$coerce_to!"](e,t.const_get_relative(kt,"Hash"),"to_hash")},Y.$$arity=1),t.defn(wt,"$is_a?",K=function(e){var n=this;return e.$$is_class||e.$$is_module||n.$raise(t.const_get_relative(kt,"TypeError"),"class or module required"),t.is_a(n,e)},K.$$arity=1),t.defn(wt,"$itself",W=function(){return this},W.$$arity=0),t.alias(wt,"kind_of?","is_a?"),t.defn(wt,"$lambda",X=function(){var t=X.$$p,e=t||i;return t&&(X.$$p=null),e.$$is_lambda=!0,e},X.$$arity=0),t.defn(wt,"$load",V=function(e){return e=t.const_get_relative(kt,"Opal")["$coerce_to!"](e,t.const_get_relative(kt,"String"),"to_str"),t.load(e)},V.$$arity=1),t.defn(wt,"$loop",J=function(){var e,n=this,r=J.$$p,a=r||i,o=i;if(r&&(J.$$p=null),a===i)return s(n,"enum_for",["loop"],(e=function(){e.$$s;return t.const_get_qualified(t.const_get_relative(kt,"Float"),"INFINITY")},e.$$s=n,e.$$arity=0,e));for(;$(!0);)try{t.yieldX(a,[])}catch(e){if(!t.rescue(e,[t.const_get_relative(kt,"StopIteration")]))throw e;o=e;try{return o.$result()}finally{t.pop_exception()}}return n},J.$$arity=0),t.defn(wt,"$nil?",Z=function(){return!1},Z.$$arity=0),t.alias(wt,"object_id","__id__"),t.defn(wt,"$printf",Q=function(n){var r,a=this,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var c=0;c<o;c++)r[c-0]=arguments[c];return $(e(r.$length(),0))&&a.$print(s(a,"format",t.to_a(r))),i},Q.$$arity=-1),t.defn(wt,"$proc",tt=function(){var e=this,n=tt.$$p,r=n||i;return n&&(tt.$$p=null),$(r)||e.$raise(t.const_get_relative(kt,"ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r},tt.$$arity=0),t.defn(wt,"$puts",et=function(e){var n;null==o.stdout&&(o.stdout=i);var r=arguments.length,a=r-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<r;$++)n[$-0]=arguments[$];return s(o.stdout,"puts",t.to_a(n))},et.$$arity=-1),t.defn(wt,"$p",nt=function(t){var e,r,a=this,l=arguments.length,c=l-0;c<0&&(c=0),r=new Array(c);for(var _=0;_<l;_++)r[_-0]=arguments[_];return s(r,"each",[],(e=function(t){e.$$s;return null==o.stdout&&(o.stdout=i),null==t&&(t=i),o.stdout.$puts(t.$inspect())},e.$$s=a,e.$$arity=1,e)),$(n(r.$length(),1))?r["$[]"](0):r},nt.$$arity=-1),t.defn(wt,"$print",rt=function(e){var n;null==o.stdout&&(o.stdout=i);var r=arguments.length,a=r-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<r;$++)n[$-0]=arguments[$];return s(o.stdout,"print",t.to_a(n))},rt.$$arity=-1),t.defn(wt,"$warn",it=function(e){var n,r;null==o.VERBOSE&&(o.VERBOSE=i),null==o.stderr&&(o.stderr=i);var a=arguments.length,l=a-0;l<0&&(l=0),r=new Array(l);for(var c=0;c<a;c++)r[c-0]=arguments[c];return $($(n=o.VERBOSE["$nil?"]())?n:r["$empty?"]())?i:s(o.stderr,"puts",t.to_a(r))},it.$$arity=-1),t.defn(wt,"$raise",at=function(e,n,r){if(null==o["!"]&&(o["!"]=i),null==n&&(n=i),null==r&&(r=i),null==e&&o["!"]!==i)throw o["!"];throw null==e?e=t.const_get_relative(kt,"RuntimeError").$new():e.$$is_string?e=t.const_get_relative(kt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(n):e["$kind_of?"](t.const_get_relative(kt,"Exception"))||(e=t.const_get_relative(kt,"TypeError").$new("exception class/object expected")),o["!"]!==i&&t.exceptions.push(o["!"]),o["!"]=e,e},at.$$arity=-1),t.alias(wt,"fail","raise"),t.defn(wt,"$rand",$t=function(e){return void 0===e?t.const_get_qualified(t.const_get_relative(kt,"Random"),"DEFAULT").$rand():(e.$$is_number&&(e<0&&(e=Math.abs(e)),e%1!=0&&(e=e.$to_i()),0===e&&(e=void 0)),t.const_get_qualified(t.const_get_relative(kt,"Random"),"DEFAULT").$rand(e))},$t.$$arity=-1),t.defn(wt,"$respond_to?",ot=function(t,e){var n=this;if(null==e&&(e=!1),$(n["$respond_to_missing?"](t,e)))return!0;var r=n["$"+t];return"function"==typeof r&&!r.$$stub},ot.$$arity=-2),t.defn(wt,"$respond_to_missing?",st=function(t,e){return null==e&&(e=!1),!1},st.$$arity=-2),t.defn(wt,"$require",lt=function(e){return e=t.const_get_relative(kt,"Opal")["$coerce_to!"](e,t.const_get_relative(kt,"String"),"to_str"),t.require(e)},lt.$$arity=1),t.defn(wt,"$require_relative",ct=function(e){return t.const_get_relative(kt,"Opal")["$try_convert!"](e,t.const_get_relative(kt,"String"),"to_str"),e=t.const_get_relative(kt,"File").$expand_path(t.const_get_relative(kt,"File").$join(t.current_file,"..",e)),t.require(e)},ct.$$arity=1),t.defn(wt,"$require_tree",_t=function(e){(e=t.const_get_relative(kt,"File").$expand_path(e))["$=="](".")&&(e="");for(var n in t.modules)n["$start_with?"](e)&&t.require(n);return i},_t.$$arity=1),t.alias(wt,"send","__send__"),t.alias(wt,"public_send","__send__"),t.defn(wt,"$singleton_class",ut=function(){var e=this;return t.get_singleton_class(e)},ut.$$arity=0),t.defn(wt,"$sleep",dt=function(e){var n=this;null==e&&(e=i),e===i&&n.$raise(t.const_get_relative(kt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||n.$raise(t.const_get_relative(kt,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&n.$raise(t.const_get_relative(kt,"ArgumentError"),"time interval must be positive");for(var r=new Date;new Date-r<=1e3*e;);return e},dt.$$arity=-1),t.alias(wt,"sprintf","format"),t.defn(wt,"$srand",ft=function(e){return null==e&&(e=t.const_get_relative(kt,"Random").$new_seed()),t.const_get_relative(kt,"Random").$srand(e)},ft.$$arity=-1),t.defn(wt,"$String",pt=function(e){var n;return $(n=t.const_get_relative(kt,"Opal")["$coerce_to?"](e,t.const_get_relative(kt,"String"),"to_str"))?n:t.const_get_relative(kt,"Opal")["$coerce_to!"](e,t.const_get_relative(kt,"String"),"to_s")},pt.$$arity=1),t.defn(wt,"$tap",ht=function(){var e=this,n=ht.$$p,r=n||i;return n&&(ht.$$p=null),t.yield1(r,e),e},ht.$$arity=0),t.defn(wt,"$to_proc",gt=function(){return this},gt.$$arity=0),t.defn(wt,"$to_s",vt=function(){var t=this;return"#<"+t.$class()+":0x"+t.$__id__().$to_s(16)+">"},vt.$$arity=0),t.defn(wt,"$catch",mt=function(e){var n=this,r=mt.$$p,a=r||i,$=i;r&&(mt.$$p=null);try{return t.yieldX(a,[])}catch(r){if(!t.rescue(r,[t.const_get_relative(kt,"UncaughtThrowError")]))throw r;$=r;try{return $.$sym()["$=="](e)?$.$arg():n.$raise()}finally{t.pop_exception()}}},mt.$$arity=1),t.defn(wt,"$throw",yt=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return r.$raise(t.const_get_relative(kt,"UncaughtThrowError").$new(n))},yt.$$arity=-1),t.defn(wt,"$open",bt=function(e){var n,r=bt.$$p,a=r||i,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<$;l++)n[l-0]=arguments[l];return r&&(bt.$$p=null),s(t.const_get_relative(kt,"File"),"open",t.to_a(n),a.$to_proc())},bt.$$arity=-1)}(r[0],r),function(e,n,r){function i(){}var a=i=c(e,null,"Object",i),$=(a.$$proto,[a].concat(r));return a.$include(t.const_get_relative($,"Kernel"))}(r[0],0,r)},Opal.modules["corelib/error"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var r=[],i=t.nil,a=(t.breaker,t.slice,t.klass),$=t.send,o=t.truthy,s=t.module;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(e,n,r){function s(){}var l,c,_,u,d,f,p,h,g=s=a(e,n,"Exception",s),v=g.$$proto,m=[g].concat(r);v.message=i;var y=t.const_get_relative(m,"Kernel").$raise;t.defs(g,"$new",l=function(e){var n,r=this,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];var s=n.length>0?n[0]:i,l=new r.$$alloc(s);return l.name=r.$$name,l.message=s,t.send(l,l.$initialize,n),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(l,y),l},l.$$arity=-1),t.defs(g,"$exception",c=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<i;o++)n[o-0]=arguments[o];return $(r,"new",t.to_a(n))},c.$$arity=-1),t.defn(g,"$initialize",_=function(t){var e,n=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var $=0;$<r;$++)e[$-0]=arguments[$];return n.message=e.length>0?e[0]:i},_.$$arity=-1),t.defn(g,"$backtrace",u=function(){var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},u.$$arity=0),t.defn(g,"$exception",d=function(t){var e=this;if(null==t&&(t=i),t===i||e===t)return e;var n=e.$clone();return n.message=t,n},d.$$arity=-1),t.defn(g,"$message",f=function(){return this.$to_s()},f.$$arity=0),t.defn(g,"$inspect",p=function(){var t=this,e=i;return e=t.$to_s(),o(e["$empty?"]())?t.$class().$to_s():"#<"+t.$class().$to_s()+": "+t.$to_s()+">"},p.$$arity=0),t.defn(g,"$to_s",h=function(){var t,e,n=this;return o(t=o(e=n.message)?n.message.$to_s():e)?t:n.$class().$to_s()},h.$$arity=0)}(r[0],Error,r),function(t,e,n){function r(){}var i=r=a(t,e,"ScriptError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var i=r=a(t,e,"SyntaxError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"ScriptError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"LoadError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"ScriptError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"NotImplementedError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"ScriptError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"SystemExit",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var i=r=a(t,e,"NoMemoryError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var i=r=a(t,e,"SignalException",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var i=r=a(t,e,"Interrupt",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var i=r=a(t,e,"SecurityError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var i=r=a(t,e,"StandardError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var i=r=a(t,e,"ZeroDivisionError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"NameError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"NoMethodError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"NameError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"RuntimeError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"LocalJumpError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"TypeError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"ArgumentError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"IndexError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"StopIteration",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"IndexError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"KeyError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"IndexError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"RangeError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"FloatDomainError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"RangeError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"IOError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var i=r=a(t,e,"SystemCallError",r);i.$$proto,[i].concat(n)}(r[0],t.const_get_relative(r,"StandardError"),r),function(n,r){var l,c=l=s(n,"Errno"),_=(c.$$proto,[c].concat(r));!function(n,r,s){function l(){}var c,_=l=a(n,r,"EINVAL",l);_.$$proto,[_].concat(s);t.defs(_,"$new",c=function(n){var r=this,a=c.$$p,s=i;return null==n&&(n=i),a&&(c.$$p=null),s="Invalid argument",o(n)&&(s=e(s," - "+n)),$(r,t.find_super_dispatcher(r,"new",c,!1,l),[s],null)},c.$$arity=-1)}(_[0],t.const_get_relative(_,"SystemCallError"),_)}(r[0],r),function(e,r,s){function l(){}var c,_=l=a(e,r,"UncaughtThrowError",l),u=_.$$proto;[_].concat(s);u.sym=i,_.$attr_reader("sym","arg"),t.defn(_,"$initialize",c=function(e){var r=this,i=c.$$p;return i&&(c.$$p=null),r.sym=e["$[]"](0),o(n(e.$length(),1))&&(r.arg=e["$[]"](1)),$(r,t.find_super_dispatcher(r,"initialize",c,!1),["uncaught throw "+r.sym.$inspect()],null)},c.$$arity=1)}(r[0],t.const_get_relative(r,"ArgumentError"),r),function(e,n,r){function o(){}var s,l=o=a(e,null,"NameError",o);l.$$proto,[l].concat(r);l.$attr_reader("name"),t.defn(l,"$initialize",s=function(e,n){var r=this,a=s.$$p;return null==n&&(n=i),a&&(s.$$p=null),$(r,t.find_super_dispatcher(r,"initialize",s,!1),[e],null),r.name=n},s.$$arity=-2)}(r[0],0,r),function(e,n,r){function o(){}var s,l=o=a(e,null,"NoMethodError",o);l.$$proto,[l].concat(r);l.$attr_reader("args"),t.defn(l,"$initialize",s=function(e,n,r){var a=this,o=s.$$p;return null==n&&(n=i),null==r&&(r=[]),o&&(s.$$p=null),$(a,t.find_super_dispatcher(a,"initialize",s,!1),[e,n],null),a.args=r},s.$$arity=-2)}(r[0],0,r),function(t,e,n){function r(){}var i=r=a(t,null,"StopIteration",r);i.$$proto,[i].concat(n);i.$attr_reader("result")}(r[0],0,r),function(t,e){var n,r=n=s(t,"JS"),i=(r.$$proto,[r].concat(e));!function(t,e,n){function r(){}var i=r=a(t,null,"Error",r);i.$$proto,[i].concat(n)}(i[0],0,i)}(r[0],r)},Opal.modules["corelib/constants"]=function(t){t.top;var e=[];t.nil,t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.3.4"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.0.rc1"),t.const_set(e[0],"RUBY_RELEASE_DATE","2017-05-01"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+t.const_get_relative(e,"RUBY_ENGINE_VERSION")+" ("+t.const_get_relative(e,"RUBY_RELEASE_DATE")+" revision "+t.const_get_relative(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(n,$,o){function s(){}var l,c,_,u,d,f,p,h,g,v,m,y,b,w,k,x,E,O,A=s=i(n,null,"NilClass",s),S=A.$$proto,R=[A].concat(o);S.$$meta=A,t.defn(A,"$!",l=function(){return!0},l.$$arity=0),t.defn(A,"$&",c=function(t){return!1},c.$$arity=1),t.defn(A,"$|",_=function(t){return!1!==t&&t!==r},_.$$arity=1),t.defn(A,"$^",u=function(t){return!1!==t&&t!==r},u.$$arity=1),t.defn(A,"$==",d=function(t){return t===r},d.$$arity=1),t.defn(A,"$dup",f=function(){var e=this;return e.$raise(t.const_get_relative(R,"TypeError"),"can't dup "+e.$class())},f.$$arity=0),t.defn(A,"$clone",p=function(){var e=this;return e.$raise(t.const_get_relative(R,"TypeError"),"can't clone "+e.$class())},p.$$arity=0),t.defn(A,"$inspect",h=function(){return"nil"},h.$$arity=0),t.defn(A,"$nil?",g=function(){return!0},g.$$arity=0),t.defn(A,"$singleton_class",v=function(){return t.const_get_relative(R,"NilClass")},v.$$arity=0),t.defn(A,"$to_a",m=function(){return[]},m.$$arity=0),t.defn(A,"$to_h",y=function(){return t.hash()},y.$$arity=0),t.defn(A,"$to_i",b=function(){return 0},b.$$arity=0),t.alias(A,"to_f","to_i"),t.defn(A,"$to_s",w=function(){return""},w.$$arity=0),t.defn(A,"$to_c",k=function(){return t.const_get_relative(R,"Complex").$new(0,0)},k.$$arity=0),t.defn(A,"$rationalize",x=function(n){var r,i=this,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var s=0;s<$;s++)r[s-0]=arguments[s];return a(e(r.$length(),1))&&i.$raise(t.const_get_relative(R,"ArgumentError")),i.$Rational(0,1)},x.$$arity=-1),t.defn(A,"$to_r",E=function(){return this.$Rational(0,1)},E.$$arity=0),t.defn(A,"$instance_variables",O=function(){return[]},O.$$arity=0)}(n[0],0,n),t.const_set(n[0],"NIL",r)},Opal.modules["corelib/boolean"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass);return t.add_stubs(["$raise","$class"]),function(e,i,a){function $(){}var o,s,l,c,_,u,d,f,p,h,g=$=r(e,i,"Boolean",$),v=g.$$proto,m=[g].concat(a);v.$$is_boolean=!0,v.$$meta=g,t.defn(g,"$__id__",o=function(){return this.valueOf()?2:0},o.$$arity=0),t.alias(g,"object_id","__id__"),t.defn(g,"$!",s=function(){return 1!=this},s.$$arity=0),t.defn(g,"$&",l=function(t){return 1==this&&(!1!==t&&t!==n)},l.$$arity=1),t.defn(g,"$|",c=function(t){return 1==this||!1!==t&&t!==n},c.$$arity=1),t.defn(g,"$^",_=function(t){return 1==this?!1===t||t===n:!1!==t&&t!==n},_.$$arity=1),t.defn(g,"$==",u=function(t){return 1==this===t.valueOf()},u.$$arity=1),t.alias(g,"equal?","=="),t.alias(g,"eql?","=="),t.defn(g,"$singleton_class",d=function(){return t.const_get_relative(m,"Boolean")},d.$$arity=0),t.defn(g,"$to_s",f=function(){return 1==this?"true":"false"},f.$$arity=0),t.defn(g,"$dup",p=function(){var e=this;return e.$raise(t.const_get_relative(m,"TypeError"),"can't dup "+e.$class())},p.$$arity=0),t.defn(g,"$clone",h=function(){var e=this;return e.$raise(t.const_get_relative(m,"TypeError"),"can't clone "+e.$class())},h.$$arity=0)}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",t.const_get_relative(e,"Boolean")),t.const_set(e[0],"FalseClass",t.const_get_relative(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var r=[],i=t.nil,a=(t.breaker,t.slice,t.module),$=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(r,o){var s,l,c,_,u,d,f,p,h=s=a(r,"Comparable"),g=(h.$$proto,[h].concat(o));t.defs(h,"$normalize",l=function(r){return $(t.const_get_relative(g,"Integer")["$==="](r))?r:$(e(r,0))?1:$(n(r,0))?-1:0},l.$$arity=1),t.defn(h,"$==",c=function(e){var n=this,r=i;try{return!!$(n["$equal?"](e))||n["$<=>"]!=t.Kernel["$<=>"]&&(n.$$comparable?(delete n.$$comparable,!1):!!$(r=n["$<=>"](e))&&0==t.const_get_relative(g,"Comparable").$normalize(r))}catch(e){if(!t.rescue(e,[t.const_get_relative(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.defn(h,"$>",_=function(e){var n=this,r=i;return $(r=n["$<=>"](e))||n.$raise(t.const_get_relative(g,"ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),t.const_get_relative(g,"Comparable").$normalize(r)>0},_.$$arity=1),t.defn(h,"$>=",u=function(e){var n=this,r=i;return $(r=n["$<=>"](e))||n.$raise(t.const_get_relative(g,"ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),t.const_get_relative(g,"Comparable").$normalize(r)>=0},u.$$arity=1),t.defn(h,"$<",d=function(e){var n=this,r=i;return $(r=n["$<=>"](e))||n.$raise(t.const_get_relative(g,"ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),t.const_get_relative(g,"Comparable").$normalize(r)<0},d.$$arity=1),t.defn(h,"$<=",f=function(e){var n=this,r=i;return $(r=n["$<=>"](e))||n.$raise(t.const_get_relative(g,"ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),t.const_get_relative(g,"Comparable").$normalize(r)<=0},f.$$arity=1),t.defn(h,"$between?",p=function(t,r){var i=this;return!n(i,t)&&!e(i,r)},p.$$arity=2)}(r[0],r)},Opal.modules["corelib/regexp"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.send,a=t.truthy,$=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,n){function i(){}var a=i=r(t,e,"RegexpError",i);a.$$proto,[a].concat(n)}(e[0],t.const_get_relative(e,"StandardError"),e),function(e,o,s){function l(){}var c,_,u,d,f,p,h,g,v,m=l=r(e,o,"Regexp",l),y=m.$$proto,b=[m].concat(s);t.const_set(b[0],"IGNORECASE",1),t.const_set(b[0],"MULTILINE",4),y.$$is_regexp=!0,function(e,r){e.$$proto;var o,s,l,c,_,u=[e].concat(r);t.defn(e,"$allocate",o=function(){var e=this,r=o.$$p,a=n,$=n,s=n,l=n;for(r&&(o.$$p=null),s=0,l=arguments.length,$=new Array(l);s<l;s++)$[s]=arguments[s];return a=i(e,t.find_super_dispatcher(e,"allocate",o,!1),$,r),a.uninitialized=!0,a},o.$$arity=0),t.defn(e,"$escape",s=function(e){return t.escape_regexp(e)},s.$$arity=1),t.defn(e,"$last_match",l=function(t){return null==$["~"]&&($["~"]=n),null==t&&(t=n),a(t["$nil?"]())?$["~"]:$["~"]["$[]"](t)},l.$$arity=-1),t.alias(e,"quote","escape"),t.defn(e,"$union",c=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];var o,s,l,c,_;if(0==n.length)return/(?!)/;o=n[0].$$is_array,n.length>1&&o&&r.$raise(t.const_get_relative(u,"TypeError"),"no implicit conversion of Array into String"),o&&(n=n[0]),c=void 0,s=[];for(var d=0;d<n.length;d++)(l=n[d]).$$is_string?s.push(r.$escape(l)):l.$$is_regexp?(_=l.$options(),void 0!=c&&c!=_&&r.$raise(t.const_get_relative(u,"TypeError"),"All expressions must use the same options"),c=_,s.push("("+l.source+")")):s.push(r.$escape(l.$to_str()));return r.$new(s.$join("|"),c)},c.$$arity=-1),t.defn(e,"$new",_=function(e,n){var r=this;if(e.$$is_regexp)return new RegExp(e);if("\\"===(e=t.const_get_relative(u,"Opal")["$coerce_to!"](e,t.const_get_relative(u,"String"),"to_str")).charAt(e.length-1)&&"\\"!==e.charAt(e.length-2)&&r.$raise(t.const_get_relative(u,"RegexpError"),"too short escape sequence: /"+e+"/"),void 0===n||n["$!"]())return new RegExp(e);if(n.$$is_number){var i="";t.const_get_relative(u,"IGNORECASE")&n&&(i+="i"),t.const_get_relative(u,"MULTILINE")&n&&(i+="m"),n=i}else n="i";return new RegExp(e,n)},_.$$arity=-2)}(t.get_singleton_class(m),b),t.defn(m,"$==",c=function(t){var e=this;return t.constructor==RegExp&&e.toString()===t.toString()},c.$$arity=1),t.defn(m,"$===",_=function(e){return this.$match(t.const_get_relative(b,"Opal")["$coerce_to?"](e,t.const_get_relative(b,"String"),"to_str"))!==n},_.$$arity=1),t.defn(m,"$=~",u=function(t){var e,r=this;return null==$["~"]&&($["~"]=n),a(e=r.$match(t))?$["~"].$begin(0):e},u.$$arity=1),t.alias(m,"eql?","=="),t.defn(m,"$inspect",d=function(){var t=/^\/(.*)\/([^\/]*)$/,e=this.toString(),n=t.exec(e);if(n){for(var r=n[1],i=n[2],a=r.split(""),$=a.length,o=!1,s="",l=0;l<$;l++){var c=a[l];o||"/"!=c||(s=s.concat("\\")),s=s.concat(c),o="\\"==c&&!o}return"/"+s+"/"+i}return e},d.$$arity=0),t.defn(m,"$match",f=function(e,r){var i=this,a=f.$$p,o=a||n;if(null==$["~"]&&($["~"]=n),a&&(f.$$p=null),i.uninitialized&&i.$raise(t.const_get_relative(b,"TypeError"),"uninitialized Regexp"),r=void 0===r?0:t.const_get_relative(b,"Opal").$coerce_to(r,t.const_get_relative(b,"Integer"),"to_int"),e===n)return $["~"]=n;if(e=t.const_get_relative(b,"Opal").$coerce_to(e,t.const_get_relative(b,"String"),"to_str"),r<0&&(r+=e.length)<0)return $["~"]=n;var s=i.source,l="g";i.multiline&&(s=s.replace(".","[\\s\\S]"),l+="m");for(var c,_=new RegExp(s,l+(i.ignoreCase?"i":""));;){if(null===(c=_.exec(e)))return $["~"]=n;if(c.index>=r)return $["~"]=t.const_get_relative(b,"MatchData").$new(_,c),o===n?$["~"]:o.$call($["~"]);_.lastIndex=c.index+1}},f.$$arity=-2),t.defn(m,"$~",p=function(){var t=this;return null==$._&&($._=n),t["$=~"]($._)},p.$$arity=0),t.defn(m,"$source",h=function(){return this.source},h.$$arity=0),t.defn(m,"$options",g=function(){var e=this;e.uninitialized&&e.$raise(t.const_get_relative(b,"TypeError"),"uninitialized Regexp");var n=0;return e.multiline&&(n|=t.const_get_relative(b,"MULTILINE")),e.ignoreCase&&(n|=t.const_get_relative(b,"IGNORECASE")),n},g.$$arity=0),t.defn(m,"$casefold?",v=function(){return this.ignoreCase},v.$$arity=0),t.alias(m,"to_s","source")}(e[0],RegExp,e),function(e,o,s){function l(){}var c,_,u,d,f,p,h,g,v,m,y,b,w=l=r(e,null,"MatchData",l),k=w.$$proto,x=[w].concat(s);return k.matches=n,w.$attr_reader("post_match","pre_match","regexp","string"),t.defn(w,"$initialize",c=function(t,e){var r=this;$["~"]=r,r.regexp=t,r.begin=e.index,r.string=e.input,r.pre_match=e.input.slice(0,e.index),r.post_match=e.input.slice(e.index+e[0].length),r.matches=[];for(var i=0,a=e.length;i<a;i++){var o=e[i];null==o?r.matches.push(n):r.matches.push(o)}},c.$$arity=2),t.defn(w,"$[]",_=function(e){var n,r=this,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];return i(r.matches,"[]",t.to_a(n))},_.$$arity=-1),t.defn(w,"$offset",u=function(e){var n=this;return 0!==e&&n.$raise(t.const_get_relative(x,"ArgumentError"),"MatchData#offset only supports 0th element"),[n.begin,n.begin+n.matches[e].length]},u.$$arity=1),t.defn(w,"$==",d=function(e){var n,r,i,$,o=this;return!!a(t.const_get_relative(x,"MatchData")["$==="](e))&&(a(n=a(r=a(i=a($=o.string==e.string)?o.regexp.toString()==e.regexp.toString():$)?o.pre_match==e.pre_match:i)?o.post_match==e.post_match:r)?o.begin==e.begin:n)},d.$$arity=1),t.alias(w,"eql?","=="),t.defn(w,"$begin",f=function(e){var n=this;return 0!==e&&n.$raise(t.const_get_relative(x,"ArgumentError"),"MatchData#begin only supports 0th element"),n.begin},f.$$arity=1),t.defn(w,"$end",p=function(e){var n=this;return 0!==e&&n.$raise(t.const_get_relative(x,"ArgumentError"),"MatchData#end only supports 0th element"),n.begin+n.matches[e].length},p.$$arity=1),t.defn(w,"$captures",h=function(){return this.matches.slice(1)},h.$$arity=0),t.defn(w,"$inspect",g=function(){for(var t=this,e="#<MatchData "+t.matches[0].$inspect(),n=1,r=t.matches.length;n<r;n++)e+=" "+n+":"+t.matches[n].$inspect();return e+">"},g.$$arity=0),t.defn(w,"$length",v=function(){return this.matches.length},v.$$arity=0),t.alias(w,"size","length"),t.defn(w,"$to_a",m=function(){return this.matches},m.$$arity=0),t.defn(w,"$to_s",y=function(){return this.matches[0]},y.$$arity=0),t.defn(w,"$values_at",b=function(e){var r,i=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];var s,l,c,_=[];for(s=0;s<r.length;s++)r[s].$$is_range&&((l=r[s].$to_a()).unshift(s,1),Array.prototype.splice.apply(r,l)),(c=t.const_get_relative(x,"Opal")["$coerce_to!"](r[s],t.const_get_relative(x,"Integer"),"to_int"))<0&&(c+=i.matches.length)<0?_.push(n):_.push(i.matches[c]);return _},b.$$arity=-1),n&&"values_at"}(e[0],0,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=t.top,i=[],a=t.nil,$=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.send,l=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),r.$require("corelib/comparable"),r.$require("corelib/regexp"),function(r,i,c){function _(){}function u(e){function n(t,e){if(0===t.length)return e;var n,r,i="",a=t.length;for(n=0;n<a;n++)r=t.charAt(n),-1!==e.indexOf(r)&&(i+=r);return i}var r,i,a,$,o,s,l="",c="";for(r=0,i=e.length;r<i;r++)a=function(e){var n,r,i,a,$,o,s="",l=e.length;for(n=0;n<l;n++)if("-"===(r=e.charAt(n))&&n>0&&n<l-1&&!i){for((a=e.charCodeAt(n-1))>($=e.charCodeAt(n+1))&&At.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+a+"-"+$+'" in string transliteration'),o=a+1;o<$+1;o++)s+=String.fromCharCode(o);i=!0,n++}else i="\\"===r,s+=r;return s}(($="^"===(a=t.const_get_relative(Rt,"Opal").$coerce_to(e[r],t.const_get_relative(Rt,"String"),"to_str")).charAt(0)&&a.length>1)?a.slice(1):a),$?c=n(c,a):l=n(l,a);if(l.length>0&&c.length>0){for(s="",r=0,i=l.length;r<i;r++)o=l.charAt(r),-1===c.indexOf(o)&&(s+=o);l=s,c=""}return l.length>0?"["+t.const_get_relative(Rt,"Regexp").$escape(l)+"]":c.length>0?"[^"+t.const_get_relative(Rt,"Regexp").$escape(c)+"]":null}var d,f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,_t,ut,dt,ft,pt,ht,gt,vt,mt,yt,bt,wt,kt,xt,Et,Ot,At=_=$(r,i,"String",_),St=At.$$proto,Rt=[At].concat(c);St.length=a,At.$include(t.const_get_relative(Rt,"Comparable")),St.$$is_string=!0,t.defn(At,"$__id__",d=function(){return this.toString()},d.$$arity=0),t.alias(At,"object_id","__id__"),t.defs(At,"$try_convert",f=function(e){return t.const_get_relative(Rt,"Opal")["$coerce_to?"](e,t.const_get_relative(Rt,"String"),"to_str")},f.$$arity=1),t.defs(At,"$new",p=function(e){return null==e&&(e=""),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),new String(e)},p.$$arity=-1),t.defn(At,"$initialize",h=function(e){var n=this;return void 0===e?n:n.$raise(t.const_get_relative(Rt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},h.$$arity=-1),t.defn(At,"$%",g=function(e){var n=this;return o(t.const_get_relative(Rt,"Array")["$==="](e))?s(n,"format",[n].concat(t.to_a(e))):n.$format(n,e)},g.$$arity=1),t.defn(At,"$*",v=function(e){var n=this;if((e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&n.$raise(t.const_get_relative(Rt,"ArgumentError"),"negative argument"),0===e)return"";var r="",i=n.toString();for(i.length*e>=1<<28&&n.$raise(t.const_get_relative(Rt,"RangeError"),"multiply count must not overflow maximum string size");1==(1&e)&&(r+=i),0!==(e>>>=1);)i+=i;return r},v.$$arity=1),t.defn(At,"$+",m=function(e){var n=this;return e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),n+e.$to_s()},m.$$arity=1),t.defn(At,"$<=>",y=function(t){var e=this;if(o(t["$respond_to?"]("to_str")))return t=t.$to_str().$to_s(),e>t?1:e<t?-1:0;var n=t["$<=>"](e);return n===a?a:n>0?-1:n<0?1:0},y.$$arity=1),t.defn(At,"$==",b=function(e){var n=this;return e.$$is_string?n.toString()===e.toString():!!t.const_get_relative(Rt,"Opal")["$respond_to?"](e,"to_str")&&e["$=="](n)},b.$$arity=1),t.alias(At,"eql?","=="),t.alias(At,"===","=="),t.defn(At,"$=~",w=function(e){var n=this;return e.$$is_string&&n.$raise(t.const_get_relative(Rt,"TypeError"),"type mismatch: String given"),e["$=~"](n)},w.$$arity=1),t.defn(At,"$[]",k=function(e,n){var r,i=this,$=i.length;if(e.$$is_range)return r=e.excl,n=t.const_get_relative(Rt,"Opal").$coerce_to(e.end,t.const_get_relative(Rt,"Integer"),"to_int"),e=t.const_get_relative(Rt,"Opal").$coerce_to(e.begin,t.const_get_relative(Rt,"Integer"),"to_int"),Math.abs(e)>$?a:(e<0&&(e+=$),n<0&&(n+=$),r||(n+=1),(n-=e)<0&&(n=0),i.substr(e,n));if(e.$$is_string)return null!=n&&i.$raise(t.const_get_relative(Rt,"TypeError")),-1!==i.indexOf(e)?e:a;if(e.$$is_regexp){var o=i.match(e);return null===o?(l["~"]=a,a):(l["~"]=t.const_get_relative(Rt,"MatchData").$new(e,o),null==n?o[0]:(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&-n<o.length?o[n+=o.length]:n>=0&&n<o.length?o[n]:a)}return(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&(e+=$),null==n?e>=$||e<0?a:i.substr(e,1):(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"))<0?a:e>$||e<0?a:i.substr(e,n)},k.$$arity=-2),t.alias(At,"byteslice","[]"),t.defn(At,"$capitalize",x=function(){var t=this;return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},x.$$arity=0),t.defn(At,"$casecmp",E=function(e){var n=this;e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(n)&&r.test(e)&&(n=n.toLowerCase(),e=e.toLowerCase()),n["$<=>"](e)},E.$$arity=1),t.defn(At,"$center",O=function(r,i){var a=this;if(null==i&&(i=" "),r=t.const_get_relative(Rt,"Opal").$coerce_to(r,t.const_get_relative(Rt,"Integer"),"to_int"),i=t.const_get_relative(Rt,"Opal").$coerce_to(i,t.const_get_relative(Rt,"String"),"to_str").$to_s(),o(i["$empty?"]())&&a.$raise(t.const_get_relative(Rt,"ArgumentError"),"zero width padding"),o(r<=a.length))return a;var $=a.$ljust(e(n(r,a.length),2).$ceil(),i);return a.$rjust(e(n(r,a.length),2).$floor(),i)+$.slice(a.length)},O.$$arity=-2),t.defn(At,"$chars",A=function(){var t=this,e=A.$$p,n=e||a;return e&&(A.$$p=null),o(n)?s(t,"each_char",[],n.$to_proc()):t.$each_char().$to_a()},A.$$arity=0),t.defn(At,"$chomp",S=function(e){var n=this;return null==l["/"]&&(l["/"]=a),null==e&&(e=l["/"]),o(e===a||0===n.length)?n:"\n"===(e=t.const_get_relative(Rt,"Opal")["$coerce_to!"](e,t.const_get_relative(Rt,"String"),"to_str").$to_s())?n.replace(/\r?\n?$/,""):""===e?n.replace(/(\r?\n)+$/,""):n.length>e.length&&n.substr(n.length-e.length,e.length)===e?n.substr(0,n.length-e.length):n},S.$$arity=-1),t.defn(At,"$chop",R=function(){var t=this,e=t.length;return e<=1?"":"\n"===t.charAt(e-1)&&"\r"===t.charAt(e-2)?t.substr(0,e-2):t.substr(0,e-1)},R.$$arity=0),t.defn(At,"$chr",M=function(){return this.charAt(0)},M.$$arity=0),t.defn(At,"$clone",T=function(){var t=this,e=a;return(e=t.slice()).$copy_singleton_methods(t),e.$initialize_clone(t),e},T.$$arity=0),t.defn(At,"$dup",I=function(){var t=this,e=a;return(e=t.slice()).$initialize_dup(t),e},I.$$arity=0),t.defn(At,"$count",C=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];0===n.length&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=u(n);return null===o?0:r.length-r.replace(new RegExp(o,"g"),"").length},C.$$arity=-1),t.defn(At,"$delete",q=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];0===n.length&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=u(n);return null===o?r:r.replace(new RegExp(o,"g"),"")},q.$$arity=-1),t.defn(At,"$downcase",N=function(){return this.toLowerCase()},N.$$arity=0),t.defn(At,"$each_char",L=function(){var e,n=this,r=L.$$p,i=r||a;if(r&&(L.$$p=null),i===a)return s(n,"enum_for",["each_char"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var $=0,o=n.length;$<o;$++)t.yield1(i,n.charAt($));return n},L.$$arity=0),t.defn(At,"$each_line",z=function(e){var n=this,r=z.$$p,i=r||a;if(null==l["/"]&&(l["/"]=a),null==e&&(e=l["/"]),r&&(z.$$p=null),i===a)return n.$enum_for("each_line",e);if(e===a)return t.yield1(i,n),n;var $,o,s,c,_,u,d;if(0===(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str")).length){for(o=0,s=($=n.split(/(\n{2,})/)).length;o<s;o+=2)($[o]||$[o+1])&&t.yield1(i,($[o]||"")+($[o+1]||""));return n}for(_=n.$chomp(e),u=n.length!=_.length,o=0,c=(d=_.split(e)).length;o<c;o++)o<c-1||u?t.yield1(i,d[o]+e):t.yield1(i,d[o]);return n},z.$$arity=-1),t.defn(At,"$empty?",P=function(){return 0===this.length},P.$$arity=0),t.defn(At,"$end_with?",D=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];for(var o=0,s=n.length;o<s;o++){var l=t.const_get_relative(Rt,"Opal").$coerce_to(n[o],t.const_get_relative(Rt,"String"),"to_str").$to_s();if(r.length>=l.length&&r.substr(r.length-l.length,l.length)==l)return!0}return!1},D.$$arity=-1),t.alias(At,"eql?","=="),t.alias(At,"equal?","==="),t.defn(At,"$gsub",B=function(e,n){var r=this,i=B.$$p,$=i||a;if(i&&(B.$$p=null),void 0===n&&$===a)return r.$enum_for("gsub",e);var o,s,c="",_=a,u=0;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(o=e.exec(r))){l["~"]=a,c+=r.slice(u);break}_=t.const_get_relative(Rt,"MatchData").$new(e,o),void 0===n?s=$(o[0]):n.$$is_hash?s=n["$[]"](o[0]).$to_s():(n.$$is_string||(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str")),s=n.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\")),e.lastIndex===o.index?(c+=s+r.slice(u,o.index+1),e.lastIndex+=1):c+=r.slice(u,o.index)+s,u=e.lastIndex}return l["~"]=_,c},B.$$arity=-2),t.defn(At,"$hash",j=function(){return this.toString()},j.$$arity=0),t.defn(At,"$hex",F=function(){return this.$to_i(16)},F.$$arity=0),t.defn(At,"$include?",U=function(e){var n=this;return e.$$is_string||(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str")),-1!==n.indexOf(e)},U.$$arity=1),t.defn(At,"$index",G=function(e,n){var r,i,$,o=this;if(void 0===n)n=0;else if((n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&(n+=o.length)<0)return a;if(e.$$is_regexp)for($=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(null===(i=$.exec(o))){l["~"]=a,r=-1;break}if(i.index>=n){l["~"]=t.const_get_relative(Rt,"MatchData").$new($,i),r=i.index;break}$.lastIndex=i.index+1}else r=0===(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str")).length&&n>o.length?-1:o.indexOf(e,n);return-1===r?a:r},G.$$arity=-2),t.defn(At,"$inspect",H=function(){var t=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(t,function(t){return e[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},H.$$arity=0),t.defn(At,"$intern",Y=function(){return this},Y.$$arity=0),t.defn(At,"$lines",K=function(t){var e=this,n=K.$$p,r=n||a,i=a;return null==l["/"]&&(l["/"]=a),null==t&&(t=l["/"]),n&&(K.$$p=null),i=s(e,"each_line",[t],r.$to_proc()),o(r)?e:i.$to_a()},K.$$arity=-1),t.defn(At,"$length",W=function(){return this.length},W.$$arity=0),t.defn(At,"$ljust",X=function(e,n){var r=this;if(null==n&&(n=" "),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),o(n["$empty?"]())&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"zero width padding"),o(e<=r.length))return r;var i=-1,a="";for(e-=r.length;++i<e;)a+=n;return r+a.slice(0,e)},X.$$arity=-2),t.defn(At,"$lstrip",V=function(){return this.replace(/^\s*/,"")},V.$$arity=0),t.defn(At,"$ascii_only?",J=function(){var t=this;return t.match(/[ -~\n]*/)[0]===t},J.$$arity=0),t.defn(At,"$match",Z=function(e,n){var r,i=this,$=Z.$$p,l=$||a;return $&&(Z.$$p=null),o(o(r=t.const_get_relative(Rt,"String")["$==="](e))?r:e["$respond_to?"]("to_str"))&&(e=t.const_get_relative(Rt,"Regexp").$new(e.$to_str())),o(t.const_get_relative(Rt,"Regexp")["$==="](e))||i.$raise(t.const_get_relative(Rt,"TypeError"),"wrong argument type "+e.$class()+" (expected Regexp)"),s(e,"match",[i,n],l.$to_proc())},Z.$$arity=-2),t.defn(At,"$next",Q=function(){var t=this,e=t.length;if(0===e)return"";for(var n,r=t,i=t.search(/[a-zA-Z0-9]/),a=!1;e--;){if((n=t.charCodeAt(e))>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)switch(n){case 57:a=!0,n=48;break;case 90:a=!0,n=65;break;case 122:a=!0,n=97;break;default:a=!1,n+=1}else-1===i?255===n?(a=!0,n=0):(a=!1,n+=1):a=!0;if(r=r.slice(0,e)+String.fromCharCode(n)+r.slice(e+1),a&&(0===e||e===i)){switch(n){case 65:case 97:break;default:n+=1}r=0===e?String.fromCharCode(n)+r:r.slice(0,e)+String.fromCharCode(n)+r.slice(e),a=!1}if(!a)break}return r},Q.$$arity=0),t.defn(At,"$oct",tt=function(){var t,e=this,n=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r)return t}switch(r){case"0b":n=2;break;case"0":case"0o":n=8;break;case"0d":n=10;break;case"0x":n=16}return e+i}),t=parseInt(e.replace(/_(?!_)/g,""),n),isNaN(t)?0:t)},tt.$$arity=0),t.defn(At,"$ord",et=function(){return this.charCodeAt(0)},et.$$arity=0),t.defn(At,"$partition",nt=function(e){var n,r,i=this;return e.$$is_regexp?null===(r=e.exec(i))?n=-1:(t.const_get_relative(Rt,"MatchData").$new(e,r),e=r[0],n=r.index):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),n=i.indexOf(e)),-1===n?[i,"",""]:[i.slice(0,n),i.slice(n,n+e.length),i.slice(n+e.length)]},nt.$$arity=1),t.defn(At,"$reverse",rt=function(){return this.split("").reverse().join("")},rt.$$arity=0),t.defn(At,"$rindex",it=function(e,n){var r,i,$,o,s=this;if(void 0===n)n=s.length;else if((n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"))<0&&(n+=s.length)<0)return a;if(e.$$is_regexp){for(i=null,$=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(null===(o=$.exec(s))||o.index>n)break;i=o,$.lastIndex=i.index+1}null===i?(l["~"]=a,r=-1):(t.const_get_relative(Rt,"MatchData").$new($,i),r=i.index)}else e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),r=s.lastIndexOf(e,n);return-1===r?a:r},it.$$arity=-2),t.defn(At,"$rjust",at=function(e,n){var r=this;if(null==n&&(n=" "),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),o(n["$empty?"]())&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"zero width padding"),o(e<=r.length))return r;var i=Math.floor(e-r.length),a=Math.floor(i/n.length),$=Array(a+1).join(n),s=i-$.length;return $+n.slice(0,s)+r},at.$$arity=-2),t.defn(At,"$rpartition",$t=function(e){var n,r,i,a,$=this;if(e.$$is_regexp){for(r=null,i=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(null===(a=i.exec($)))break;r=a,i.lastIndex=r.index+1}null===r?n=-1:(t.const_get_relative(Rt,"MatchData").$new(i,r),e=r[0],n=r.index)}else e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),n=$.lastIndexOf(e);return-1===n?["","",$]:[$.slice(0,n),$.slice(n,n+e.length),$.slice(n+e.length)]},$t.$$arity=1),t.defn(At,"$rstrip",ot=function(){return this.replace(/[\s\u0000]*$/,"")},ot.$$arity=0),t.defn(At,"$scan",st=function(e){var n=this,r=st.$$p,i=r||a;r&&(st.$$p=null);var $,o=[],s=a;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=($=e.exec(n));)s=t.const_get_relative(Rt,"MatchData").$new(e,$),i===a?1==$.length?o.push($[0]):o.push(s.$captures()):1==$.length?i($[0]):i.call(n,s.$captures()),e.lastIndex===$.index&&(e.lastIndex+=1);return l["~"]=s,i!==a?n:o},st.$$arity=1),t.alias(At,"size","length"),t.alias(At,"slice","[]"),t.defn(At,"$split",lt=function(e,n){var r,i=this;if(null==l[";"]&&(l[";"]=a),0===i.length)return[];if(void 0===n)n=0;else if(1===(n=t.const_get_relative(Rt,"Opal")["$coerce_to!"](n,t.const_get_relative(Rt,"Integer"),"to_int")))return[i];void 0!==e&&e!==a||(e=o(r=l[";"])?r:" ");var $,s,c,_=[],u=i.toString(),d=0;if(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):" "===(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s())?(e=/\s+/gm,u=u.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(_=u.split(e)).length&&_[0]===u)return _;for(;-1!==(s=_.indexOf(void 0));)_.splice(s,1);if(0===n){for(;""===_[_.length-1];)_.length-=1;return _}if($=e.exec(u),n<0){if(null!==$&&""===$[0]&&-1===e.source.indexOf("(?="))for(s=0,c=$.length;s<c;s++)_.push("");return _}if(null!==$&&""===$[0])return _.splice(n-1,_.length-1,_.slice(n-1).join("")),_;if(n>=_.length)return _;for(s=0;null!==$&&(s++,d=e.lastIndex,s+1!==n);)$=e.exec(u);return _.splice(n-1,_.length-1,u.slice(d)),_},lt.$$arity=-1),t.defn(At,"$squeeze",ct=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];if(0===e.length)return n.replace(/(.)\1+/g,"$1");var $=u(e);return null===$?n:n.replace(new RegExp("("+$+")\\1+","g"),"$1")},ct.$$arity=-1),t.defn(At,"$start_with?",_t=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];for(var o=0,s=n.length;o<s;o++){var l=t.const_get_relative(Rt,"Opal").$coerce_to(n[o],t.const_get_relative(Rt,"String"),"to_str").$to_s();if(0===r.indexOf(l))return!0}return!1},_t.$$arity=-1),t.defn(At,"$strip",ut=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},ut.$$arity=0),t.defn(At,"$sub",dt=function(e,n){var r=this,i=dt.$$p,$=i||a;i&&(dt.$$p=null),e.$$is_regexp||(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=e.exec(r);return null===o?(l["~"]=a,r.toString()):(t.const_get_relative(Rt,"MatchData").$new(e,o),void 0===n?($===a&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,o.index)+$(o[0])+r.slice(o.index+o[0].length)):n.$$is_hash?r.slice(0,o.index)+n["$[]"](o[0]).$to_s()+r.slice(o.index+o[0].length):(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str"),n=n.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,o.index)+n+r.slice(o.index+o[0].length)))},dt.$$arity=-2),t.alias(At,"succ","next"),t.defn(At,"$sum",ft=function(e){var n=this;null==e&&(e=16),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int");for(var r=0,i=n.length,a=0;a<i;a++)r+=n.charCodeAt(a);return e<=0?r:r&Math.pow(2,e)-1},ft.$$arity=-1),t.defn(At,"$swapcase",pt=function(){var t=this,e=t.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,n){return e?t.toUpperCase():t.toLowerCase()});return t.constructor===String?e:t.$class().$new(e)},pt.$$arity=0),t.defn(At,"$to_f",ht=function(){var t=this;if("_"===t.charAt(0))return 0;var e=parseFloat(t.replace(/_/g,""));return isNaN(e)||e==1/0||e==-1/0?0:e},ht.$$arity=0),t.defn(At,"$to_i",gt=function(e){var n=this;null==e&&(e=10);var r,i=n.toLowerCase(),a=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int");return(1===a||a<0||a>36)&&n.$raise(t.const_get_relative(Rt,"ArgumentError"),"invalid radix "+a),/^\s*_/.test(i)?0:(i=i.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,n,r){switch(r.charAt(0)){case"+":case"-":return t;case"0":if("x"===r.charAt(1)&&"0x"===n&&(0===a||16===a))return t}switch(n){case"0b":if(0===a||2===a)return a=2,e+r;break;case"0":case"0o":if(0===a||8===a)return a=8,e+r;break;case"0d":if(0===a||10===a)return a=10,e+r;break;case"0x":if(0===a||16===a)return a=16,e+r}return t}),r=parseInt(i.replace(/_(?!_)/g,""),a),isNaN(r)?0:r)},gt.$$arity=-1),t.defn(At,"$to_proc",vt=function(){var e,n=this,r=a;return r=n.valueOf(),s(n,"proc",[],(e=function(n){var i,$,o=e.$$s||this;(i=e.$$p||a)&&(e.$$p=null);var s=arguments.length,l=s-0;l<0&&(l=0),$=new Array(l);for(var c=0;c<s;c++)$[c-0]=arguments[c];0===$.length&&o.$raise(t.const_get_relative(Rt,"ArgumentError"),"no receiver given");var _=$.shift();return null==_&&(_=a),t.send(_,r,$,i)},e.$$s=n,e.$$arity=-1,e))},vt.$$arity=0),t.defn(At,"$to_s",mt=function(){return this.toString()},mt.$$arity=0),t.alias(At,"to_str","to_s"),t.alias(At,"to_sym","intern"),t.defn(At,"$tr",yt=function(e,n){var r=this;if(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s(),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),0==e.length||e===n)return r;var i,a,$,o,s,l,c,_={},u=e.split(""),d=u.length,f=n.split(""),p=f.length,h=!1,g=null;"^"===u[0]&&u.length>1&&(h=!0,u.shift(),g=f[p-1],d-=1);var v=[],m=null;for(a=!1,i=0;i<d;i++)if(o=u[i],null==m)m=o,v.push(o);else if("-"===o)"-"===m?(v.push("-"),v.push("-")):i==d-1?v.push("-"):a=!0;else if(a){for((s=m.charCodeAt(0))>(l=o.charCodeAt(0))&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)v.push(String.fromCharCode($));v.push(o),a=null,m=null}else v.push(o);if(u=v,d=u.length,h)for(i=0;i<d;i++)_[u[i]]=!0;else{if(p>0){var y=[],b=null;for(a=!1,i=0;i<p;i++)if(o=f[i],null==b)b=o,y.push(o);else if("-"===o)"-"===b?(y.push("-"),y.push("-")):i==p-1?y.push("-"):a=!0;else if(a){for((s=b.charCodeAt(0))>(l=o.charCodeAt(0))&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)y.push(String.fromCharCode($));y.push(o),a=null,b=null}else y.push(o);p=(f=y).length}var w=d-p;if(w>0){var k=p>0?f[p-1]:"";for(i=0;i<w;i++)f.push(k)}for(i=0;i<d;i++)_[u[i]]=f[i]}var x="";for(i=0,c=r.length;i<c;i++){var E=_[o=r.charAt(i)];x+=h?null==E?g:o:null!=E?E:o}return x},yt.$$arity=2),t.defn(At,"$tr_s",bt=function(e,n){var r=this;if(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s(),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),0==e.length)return r;var i,a,$,o,s,l,c,_={},u=e.split(""),d=u.length,f=n.split(""),p=f.length,h=!1,g=null;"^"===u[0]&&u.length>1&&(h=!0,u.shift(),g=f[p-1],d-=1);var v=[],m=null;for(a=!1,i=0;i<d;i++)if(o=u[i],null==m)m=o,v.push(o);else if("-"===o)"-"===m?(v.push("-"),v.push("-")):i==d-1?v.push("-"):a=!0;else if(a){for((s=m.charCodeAt(0))>(l=o.charCodeAt(0))&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)v.push(String.fromCharCode($));v.push(o),a=null,m=null}else v.push(o);if(u=v,d=u.length,h)for(i=0;i<d;i++)_[u[i]]=!0;else{if(p>0){var y=[];for(a=!1,i=0;i<p;i++)if(o=f[i],null==m)m=o,y.push(o);else if("-"===o)i==p-1?y.push("-"):a=!0;else if(a){for((s=m.charCodeAt(0))>(l=o.charCodeAt(0))&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)y.push(String.fromCharCode($));y.push(o),a=null,m=null}else y.push(o);p=(f=y).length}var b=d-p;if(b>0){var w=p>0?f[p-1]:"";for(i=0;i<b;i++)f.push(w)}for(i=0;i<d;i++)_[u[i]]=f[i]}var k="",x=null;for(i=0,c=r.length;i<c;i++){var E=_[o=r.charAt(i)];h?null==E?null==x&&(k+=g,x=!0):(k+=o,x=null):null!=E?null!=x&&x===E||(k+=E,x=E):(k+=o,x=null)}return k},bt.$$arity=2),t.defn(At,"$upcase",wt=function(){return this.toUpperCase()},wt.$$arity=0),t.defn(At,"$upto",kt=function(e,n){var r=this,i=kt.$$p,$=i||a;if(null==n&&(n=!1),i&&(kt.$$p=null),$===a)return r.$enum_for("upto",e,n);e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str");var o,s,l=r.toString();if(1===l.length&&1===e.length)for(o=l.charCodeAt(0),s=e.charCodeAt(0);o<=s&&(!n||o!==s);)$(String.fromCharCode(o)),o+=1;else if(parseInt(l,10).toString()===l&&parseInt(e,10).toString()===e)for(o=parseInt(l,10),s=parseInt(e,10);o<=s&&(!n||o!==s);)$(o.toString()),o+=1;else for(;l.length<=e.length&&l<=e&&(!n||l!==e);)$(l),l=l.$succ();return r},kt.$$arity=-2),t.defn(At,"$instance_variables",xt=function(){return[]},xt.$$arity=0),t.defs(At,"$_load",Et=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return s(r,"new",t.to_a(n))},Et.$$arity=-1),t.defn(At,"$unpack",Ot=function(e){function n(t){var e,n,r=t.length,i=[];for(e=0;e<r;e++)n=t.charCodeAt(e),i.push(n);return i}var r=this,i=a;return i=e,"U*"["$==="](i)||"C*"["$==="](i)?n(r):r.$raise(t.const_get_relative(Rt,"NotImplementedError"))},Ot.$$arity=1)}(i[0],String,i),t.const_set(i[0],"Symbol",t.const_get_relative(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}t.top;var o=[],s=t.nil,l=(t.breaker,t.slice,t.module),c=t.send,_=t.truthy,u=t.falsy;return t.add_stubs(["$each","$destructure","$raise","$new","$yield","$slice_when","$!","$enum_for","$enumerator_size","$flatten","$map","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$to_enum","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$lambda","$sort!","$map!","$zip"]),function(o,d){var f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot=f=l(o,"Enumerable"),st=(ot.$$proto,[ot].concat(d));t.defn(ot,"$all?",p=function(){try{var e,n,r=this,i=p.$$p,a=i||s;return i&&(p.$$p=null),a!==s?c(r,"each",[],(e=function(n){e.$$s;var r,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];if(_(t.yieldX(a,t.to_a(r))))return s;t.ret(!1)},e.$$s=r,e.$$arity=-1,e)):c(r,"each",[],(n=function(e){n.$$s;var r,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];if(_(t.const_get_relative(st,"Opal").$destructure(r)))return s;t.ret(!1)},n.$$s=r,n.$$arity=-1,n)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},p.$$arity=0),t.defn(ot,"$any?",h=function(){try{var e,n,r=this,i=h.$$p,a=i||s;return i&&(h.$$p=null),a!==s?c(r,"each",[],(e=function(n){e.$$s;var r,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];if(!_(t.yieldX(a,t.to_a(r))))return s;t.ret(!0)},e.$$s=r,e.$$arity=-1,e)):c(r,"each",[],(n=function(e){n.$$s;var r,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];if(!_(t.const_get_relative(st,"Opal").$destructure(r)))return s;t.ret(!0)},n.$$s=r,n.$$arity=-1,n)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},h.$$arity=0),t.defn(ot,"$chunk",g=function(){var e,n=this,r=g.$$p,i=r||s;return r&&(g.$$p=null),i!==s||t.const_get_relative(st,"Kernel").$raise(t.const_get_relative(st,"ArgumentError"),"no block given"),c(t.const_get_qualified("::","Enumerator"),"new",[],(e=function(n){function r(){o.length>0&&n.$yield($,o)}var a=e.$$s||this;null==n&&(n=s);var $=s,o=[];a.$each.$$p=function(e){var n=t.yield1(i,e);n===s?(r(),o=[],$=s):($===s||$===n?o.push(e):(r(),o=[e]),$=n)},a.$each(),r()},e.$$s=n,e.$$arity=1,e))},g.$$arity=0),t.defn(ot,"$chunk_while",v=function(){var e,n=this,r=v.$$p,i=r||s;return r&&(v.$$p=null),i!==s||n.$raise(t.const_get_relative(st,"ArgumentError"),"no block given"),c(n,"slice_when",[],(e=function(n,r){e.$$s;return null==n&&(n=s),null==r&&(r=s),t.yieldX(i,[n,r])["$!"]()},e.$$s=n,e.$$arity=2,e))},v.$$arity=0),t.defn(ot,"$collect",m=function(){var e,n=this,r=m.$$p,i=r||s;if(r&&(m.$$p=null),i===s)return c(n,"enum_for",["collect"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[];return n.$each.$$p=function(){var e=t.yieldX(i,arguments);a.push(e)},n.$each(),a},m.$$arity=0),t.defn(ot,"$collect_concat",y=function(){var e,n,r=this,i=y.$$p,a=i||s;return i&&(y.$$p=null),a===s?c(r,"enum_for",["collect_concat"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=r,e.$$arity=0,e)):c(r,"map",[],(n=function(e){n.$$s;return null==e&&(e=s),t.yield1(a,e)},n.$$s=r,n.$$arity=1,n)).$flatten(1)},y.$$arity=0),t.defn(ot,"$count",b=function(e){var n,r,i,a=this,$=b.$$p,o=$||s,l=s;return $&&(b.$$p=null),l=0,_(null!=e)?o=c(a,"proc",[],(n=function(r){n.$$s;var i,a=arguments.length,$=a-0;$<0&&($=0),i=new Array($);for(var o=0;o<a;o++)i[o-0]=arguments[o];return t.const_get_relative(st,"Opal").$destructure(i)["$=="](e)},n.$$s=a,n.$$arity=-1,n)):_(o["$nil?"]())&&(o=c(a,"proc",[],(r=function(){r.$$s;return!0},r.$$s=a,r.$$arity=0,r))),c(a,"each",[],(i=function(e){i.$$s;var n,r=arguments.length,a=r-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<r;$++)n[$-0]=arguments[$];return _(t.yieldX(o,n))?l++:s},i.$$s=a,i.$$arity=-1,i)),l},b.$$arity=-1),t.defn(ot,"$cycle",w=function(r){var i,a=this,$=w.$$p,o=$||s;if(null==r&&(r=s),$&&(w.$$p=null),o===s)return c(a,"enum_for",["cycle",r],(i=function(){var a=i.$$s||this;return r["$=="](s)?_(a["$respond_to?"]("size"))?t.const_get_qualified(t.const_get_relative(st,"Float"),"INFINITY"):s:(r=t.const_get_relative(st,"Opal")["$coerce_to!"](r,t.const_get_relative(st,"Integer"),"to_int"),_(e(r,0))?n(a.$enumerator_size(),r):0)},i.$$s=a,i.$$arity=0,i));if(_(r["$nil?"]()));else if(r=t.const_get_relative(st,"Opal")["$coerce_to!"](r,t.const_get_relative(st,"Integer"),"to_int"),_(r<=0))return s;var l,u,d=[];if(a.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);t.yield1(o,e);d.push(e)},a.$each(),0===d.length)return s;if(r===s)for(;;)for(l=0,u=d.length;l<u;l++)t.yield1(o,d[l]);else for(;r>1;){for(l=0,u=d.length;l<u;l++)t.yield1(o,d[l]);r--}},w.$$arity=-1),t.defn(ot,"$detect",k=function(e){try{var n,r=this,i=k.$$p,a=i||s;return i&&(k.$$p=null),a===s?r.$enum_for("detect",e):(c(r,"each",[],(n=function(e){n.$$s;var r,i=s,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<$;l++)r[l-0]=arguments[l];if(i=t.const_get_relative(st,"Opal").$destructure(r),!_(t.yield1(a,i)))return s;t.ret(i)},n.$$s=r,n.$$arity=-1,n)),void 0!==e?"function"==typeof e?e():e:s)}catch(e){if(e===t.returner)return e.$v;throw e}},k.$$arity=-1),t.defn(ot,"$drop",x=function(e){var n=this;e=t.const_get_relative(st,"Opal").$coerce_to(e,t.const_get_relative(st,"Integer"),"to_int"),_(e<0)&&n.$raise(t.const_get_relative(st,"ArgumentError"),"attempt to drop negative size");var r=[],i=0;return n.$each.$$p=function(){e<=i&&r.push(t.const_get_relative(st,"Opal").$destructure(arguments)),i++},n.$each(),r},x.$$arity=1),t.defn(ot,"$drop_while",E=function(){var e=this,n=E.$$p,r=n||s;if(n&&(E.$$p=null),r===s)return e.$enum_for("drop_while");var i=[],a=!0;return e.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);if(a){var n=t.yield1(r,e);u(n)&&(a=!1,i.push(e))}else i.push(e)},e.$each(),i},E.$$arity=0),t.defn(ot,"$each_cons",O=function(e){var n,$=this,o=O.$$p,l=o||s;if(o&&(O.$$p=null),_(1!=arguments.length)&&$.$raise(t.const_get_relative(st,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=t.const_get_relative(st,"Opal").$try_convert(e,t.const_get_relative(st,"Integer"),"to_int"),_(e<=0)&&$.$raise(t.const_get_relative(st,"ArgumentError"),"invalid size"),l===s)return c($,"enum_for",["each_cons",e],(n=function(){var t,$=n.$$s||this,o=s;return o=$.$enumerator_size(),_(o["$nil?"]())?s:_(_(t=o["$=="](0))?t:r(o,e))?0:i(a(o,e),1)},n.$$s=$,n.$$arity=0,n));var u=[],d=s;return $.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments);u.push(n),u.length>e&&u.shift(),u.length==e&&t.yield1(l,u.slice(0,e))},$.$each(),d},O.$$arity=1),t.defn(ot,"$each_entry",A=function(e){var n,r,i=this,a=A.$$p,$=a||s,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var _=0;_<o;_++)r[_-0]=arguments[_];return a&&(A.$$p=null),$===s?c(i,"to_enum",["each_entry"].concat(t.to_a(r)),(n=function(){return(n.$$s||this).$enumerator_size()},n.$$s=i,n.$$arity=0,n)):(i.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);t.yield1($,e)},i.$each.apply(i,r),i)},A.$$arity=-1),t.defn(ot,"$each_slice",S=function(e){var n,r=this,i=S.$$p,a=i||s;if(i&&(S.$$p=null),e=t.const_get_relative(st,"Opal").$coerce_to(e,t.const_get_relative(st,"Integer"),"to_int"),_(e<=0)&&r.$raise(t.const_get_relative(st,"ArgumentError"),"invalid slice size"),a===s)return c(r,"enum_for",["each_slice",e],(n=function(){var t=n.$$s||this;return _(t["$respond_to?"]("size"))?$(t.$size(),e).$ceil():s},n.$$s=r,n.$$arity=0,n));var o=[];return r.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments);o.push(n),o.length===e&&(t.yield1(a,o),o=[])},r.$each(),o.length>0&&t.yield1(a,o),s},S.$$arity=1),t.defn(ot,"$each_with_index",R=function(e){var n,r,i=this,a=R.$$p,$=a||s,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var _=0;_<o;_++)r[_-0]=arguments[_];if(a&&(R.$$p=null),$===s)return c(i,"enum_for",["each_with_index"].concat(t.to_a(r)),(n=function(){return(n.$$s||this).$enumerator_size()},n.$$s=i,n.$$arity=0,n));var u=0;return i.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);$(e,u),u++},i.$each.apply(i,r),i},R.$$arity=-1),t.defn(ot,"$each_with_object",M=function(e){var n,r=this,i=M.$$p,a=i||s;if(i&&(M.$$p=null),a===s)return c(r,"enum_for",["each_with_object",e],(n=function(){return(n.$$s||this).$enumerator_size()},n.$$s=r,n.$$arity=0,n));return r.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments);a(n,e)},r.$each(),e},M.$$arity=1),t.defn(ot,"$entries",T=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];var o=[];return r.$each.$$p=function(){o.push(t.const_get_relative(st,"Opal").$destructure(arguments))},r.$each.apply(r,n),o},T.$$arity=-1),t.alias(ot,"find","detect"),t.defn(ot,"$find_all",I=function(){var e,n=this,r=I.$$p,i=r||s;if(r&&(I.$$p=null),i===s)return c(n,"enum_for",["find_all"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[];return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);_(n)&&a.push(e)},n.$each(),a},I.$$arity=0),t.defn(ot,"$find_index",C=function(e){try{var n,r,i=this,a=C.$$p,$=a||s,o=s;return a&&(C.$$p=null),_(void 0===e&&$===s)?i.$enum_for("find_index"):(o=0,_(null!=e)?c(i,"each",[],(n=function(r){n.$$s;var i,a=arguments.length,$=a-0;$<0&&($=0),i=new Array($);for(var s=0;s<a;s++)i[s-0]=arguments[s];return t.const_get_relative(st,"Opal").$destructure(i)["$=="](e)&&t.ret(o),o+=1},n.$$s=i,n.$$arity=-1,n)):c(i,"each",[],(r=function(e){r.$$s;var n,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var s=0;s<i;s++)n[s-0]=arguments[s];return _(t.yieldX($,t.to_a(n)))&&t.ret(o),o+=1},r.$$s=i,r.$$arity=-1,r)),s)}catch(e){if(e===t.returner)return e.$v;throw e}},C.$$arity=-1),t.defn(ot,"$first",q=function(e){try{var n,r,i=this,a=s,$=s;return _(void 0===e)?c(i,"each",[],(n=function(e){n.$$s;null==e&&(e=s),t.ret(e)},n.$$s=i,n.$$arity=1,n)):(a=[],e=t.const_get_relative(st,"Opal").$coerce_to(e,t.const_get_relative(st,"Integer"),"to_int"),_(e<0)&&i.$raise(t.const_get_relative(st,"ArgumentError"),"attempt to take negative size"),_(0==e)?[]:($=0,c(i,"each",[],(r=function(n){r.$$s;var i,o=arguments.length,l=o-0;l<0&&(l=0),i=new Array(l);for(var c=0;c<o;c++)i[c-0]=arguments[c];if(a.push(t.const_get_relative(st,"Opal").$destructure(i)),!_(e<=++$))return s;t.ret(a)},r.$$s=i,r.$$arity=-1,r)),a))}catch(e){if(e===t.returner)return e.$v;throw e}},q.$$arity=-1),t.alias(ot,"flat_map","collect_concat"),t.defn(ot,"$grep",N=function(e){var n=this,r=N.$$p,i=r||s;r&&(N.$$p=null);var a=[];return n.$each.$$p=i!==s?function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=e["$==="](n);_(r)&&(r=t.yield1(i,n),a.push(r))}:function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=e["$==="](n);_(r)&&a.push(n)},n.$each(),a},N.$$arity=1),t.defn(ot,"$grep_v",L=function(e){var n=this,r=L.$$p,i=r||s;r&&(L.$$p=null);var a=[];return n.$each.$$p=i!==s?function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=e["$==="](n);u(r)&&(r=t.yield1(i,n),a.push(r))}:function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=e["$==="](n);u(r)&&a.push(n)},n.$each(),a},L.$$arity=1),t.defn(ot,"$group_by",z=function(){var e,n,r=this,i=z.$$p,$=i||s,o=s,l=s;if(i&&(z.$$p=null),$===s)return c(r,"enum_for",["group_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=r,e.$$arity=0,e));o=t.const_get_relative(st,"Hash").$new();return r.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),r=t.yield1($,e);(_(n=o["$[]"](r))?n:(l=[r,[]],c(o,"[]=",t.to_a(l)),l[a(l.length,1)]))["$<<"](e)},r.$each(),o},z.$$arity=0),t.defn(ot,"$include?",P=function(e){try{var n,r=this;return c(r,"each",[],(n=function(r){n.$$s;var i,a=arguments.length,$=a-0;$<0&&($=0),i=new Array($);for(var o=0;o<a;o++)i[o-0]=arguments[o];if(!t.const_get_relative(st,"Opal").$destructure(i)["$=="](e))return s;t.ret(!0)},n.$$s=r,n.$$arity=-1,n)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},P.$$arity=1),t.defn(ot,"$inject",D=function(e,n){var r=this,i=D.$$p,a=i||s;i&&(D.$$p=null);var $=e;return a!==s&&void 0===n?r.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);void 0!==$?(e=t.yieldX(a,[$,e]),$=e):$=e}:(void 0===n&&(t.const_get_relative(st,"Symbol")["$==="](e)||r.$raise(t.const_get_relative(st,"TypeError"),e.$inspect()+" is not a Symbol"),n=e,$=void 0),r.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);$=void 0!==$?$.$__send__(n,e):e}),r.$each(),void 0==$?s:$},D.$$arity=-1),t.defn(ot,"$lazy",B=function(){var e,n=this;return c(t.const_get_qualified(t.const_get_relative(st,"Enumerator"),"Lazy"),"new",[n,n.$enumerator_size()],(e=function(n,r){e.$$s;var i,a=arguments.length,$=a-1;$<0&&($=0),i=new Array($);for(var o=1;o<a;o++)i[o-1]=arguments[o];return null==n&&(n=s),c(n,"yield",t.to_a(i))},e.$$s=n,e.$$arity=-2,e))},B.$$arity=0),t.defn(ot,"$enumerator_size",j=function(){var t=this;return _(t["$respond_to?"]("size"))?t.$size():s},j.$$arity=0),t.alias(ot,"map","collect"),t.defn(ot,"$max",F=function(e){var n=this,r=F.$$p,i=r||s;if(r&&(F.$$p=null),void 0===e||e===s){var a,$;return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);void 0!==a?(($=i!==s?t.yieldX(i,[e,a]):e["$<=>"](a))===s&&n.$raise(t.const_get_relative(st,"ArgumentError"),"comparison failed"),$>0&&(a=e)):a=e},n.$each(),void 0===a?s:a}return e=t.const_get_relative(st,"Opal").$coerce_to(e,t.const_get_relative(st,"Integer"),"to_int"),c(n,"sort",[],i.$to_proc()).$reverse().$first(e)},F.$$arity=-1),t.defn(ot,"$max_by",U=function(){var e,n=this,r=U.$$p,i=r||s;if(r&&(U.$$p=null),!_(i))return c(n,"enum_for",["max_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a,$;return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);if(void 0===a)return a=e,void($=n);n["$<=>"]($)>0&&(a=e,$=n)},n.$each(),void 0===a?s:a},U.$$arity=0),t.alias(ot,"member?","include?"),t.defn(ot,"$min",G=function(){var e=this,n=G.$$p,r=n||s;n&&(G.$$p=null);var i;return e.$each.$$p=r!==s?function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments);if(void 0!==i){var a=r(n,i);a===s&&e.$raise(t.const_get_relative(st,"ArgumentError"),"comparison failed"),a<0&&(i=n)}else i=n}:function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);void 0!==i?t.const_get_relative(st,"Opal").$compare(e,i)<0&&(i=e):i=e},e.$each(),void 0===i?s:i},G.$$arity=0),t.defn(ot,"$min_by",H=function(){var e,n=this,r=H.$$p,i=r||s;if(r&&(H.$$p=null),!_(i))return c(n,"enum_for",["min_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a,$;return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);if(void 0===a)return a=e,void($=n);n["$<=>"]($)<0&&(a=e,$=n)},n.$each(),void 0===a?s:a},H.$$arity=0),t.defn(ot,"$minmax",Y=function(){var e,n,r=this,i=Y.$$p,a=i||s;i&&(Y.$$p=null),a=_(e=a)?e:c(r,"proc",[],(n=function(t,e){n.$$s;return null==t&&(t=s),null==e&&(e=s),t["$<=>"](e)},n.$$s=r,n.$$arity=2,n));var $=s,o=s,l=!0;return r.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);if(l)$=o=e,l=!1;else{var n=a.$call($,e);n===s?r.$raise(t.const_get_relative(st,"ArgumentError"),"comparison failed"):n>0&&($=e);var i=a.$call(o,e);i===s?r.$raise(t.const_get_relative(st,"ArgumentError"),"comparison failed"):i<0&&(o=e)}},r.$each(),[$,o]},Y.$$arity=0),t.defn(ot,"$minmax_by",K=function(){var e=this,n=K.$$p;return n&&(K.$$p=null),e.$raise(t.const_get_relative(st,"NotImplementedError"))},K.$$arity=0),t.defn(ot,"$none?",W=function(){try{var e,n,r=this,i=W.$$p,a=i||s;return i&&(W.$$p=null),a!==s?c(r,"each",[],(e=function(n){e.$$s;var r,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];if(!_(t.yieldX(a,t.to_a(r))))return s;t.ret(!1)},e.$$s=r,e.$$arity=-1,e)):c(r,"each",[],(n=function(e){n.$$s;var r,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];if(!_(t.const_get_relative(st,"Opal").$destructure(r)))return s;t.ret(!1)},n.$$s=r,n.$$arity=-1,n)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},W.$$arity=0),t.defn(ot,"$one?",X=function(){try{var n,r,a=this,$=X.$$p,o=$||s,l=s;return $&&(X.$$p=null),l=0,o!==s?c(a,"each",[],(n=function(r){n.$$s;var a,$=arguments.length,c=$-0;c<0&&(c=0),a=new Array(c);for(var u=0;u<$;u++)a[u-0]=arguments[u];return _(t.yieldX(o,t.to_a(a)))?(l=i(l,1),_(e(l,1))?void t.ret(!1):s):s},n.$$s=a,n.$$arity=-1,n)):c(a,"each",[],(r=function(n){r.$$s;var a,$=arguments.length,o=$-0;o<0&&(o=0),a=new Array(o);for(var c=0;c<$;c++)a[c-0]=arguments[c];return _(t.const_get_relative(st,"Opal").$destructure(a))?(l=i(l,1),_(e(l,1))?void t.ret(!1):s):s},r.$$s=a,r.$$arity=-1,r)),l["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},X.$$arity=0),t.defn(ot,"$partition",V=function(){var e,n=this,r=V.$$p,i=r||s;if(r&&(V.$$p=null),i===s)return c(n,"enum_for",["partition"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[],$=[];return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);_(n)?a.push(e):$.push(e)},n.$each(),[a,$]},V.$$arity=0),t.alias(ot,"reduce","inject"),t.defn(ot,"$reject",J=function(){var e,n=this,r=J.$$p,i=r||s;if(r&&(J.$$p=null),i===s)return c(n,"enum_for",["reject"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[];return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);u(n)&&a.push(e)},n.$each(),a},J.$$arity=0),t.defn(ot,"$reverse_each",Z=function(){var e,n=this,r=Z.$$p,i=r||s;if(r&&(Z.$$p=null),i===s)return c(n,"enum_for",["reverse_each"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[];n.$each.$$p=function(){a.push(arguments)},n.$each();for(var $=a.length-1;$>=0;$--)t.yieldX(i,a[$]);return a},Z.$$arity=0),t.alias(ot,"select","find_all"),t.defn(ot,"$slice_before",Q=function(e){var n,r=this,i=Q.$$p,a=i||s;return i&&(Q.$$p=null),_(void 0===e&&a===s)&&r.$raise(t.const_get_relative(st,"ArgumentError"),"both pattern and block are given"),_(void 0!==e&&a!==s||arguments.length>1)&&r.$raise(t.const_get_relative(st,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),c(t.const_get_relative(st,"Enumerator"),"new",[],(n=function(r){var i=n.$$s||this;null==r&&(r=s);var $=[];i.$each.$$p=a!==s?void 0===e?function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(a,e);_(n)&&$.length>0&&(r["$<<"]($),$=[]),$.push(e)}:function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),i=a(n,e.$dup());_(i)&&$.length>0&&(r["$<<"]($),$=[]),$.push(n)}:function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),i=e["$==="](n);_(i)&&$.length>0&&(r["$<<"]($),$=[]),$.push(n)},i.$each(),$.length>0&&r["$<<"]($)},n.$$s=r,n.$$arity=1,n))},Q.$$arity=-1),t.defn(ot,"$slice_after",tt=function(e){var n,r,i=this,a=tt.$$p,$=a||s;return a&&(tt.$$p=null),_(void 0===e&&$===s)&&i.$raise(t.const_get_relative(st,"ArgumentError"),"both pattern and block are given"),_(void 0!==e&&$!==s||arguments.length>1)&&i.$raise(t.const_get_relative(st,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),_(void 0!==e)&&($=c(i,"proc",[],(n=function(t){n.$$s;return null==t&&(t=s),e["$==="](t)},n.$$s=i,n.$$arity=1,n))),c(t.const_get_relative(st,"Enumerator"),"new",[],(r=function(e){var n=r.$$s||this;null==e&&(e=s);var i;n.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=t.yield1($,n);null==i&&(i=[]),_(r)?(i.push(n),e.$yield(i),i=null):i.push(n)},n.$each(),null!=i&&e.$yield(i)},r.$$s=i,r.$$arity=1,r))},tt.$$arity=-1),t.defn(ot,"$slice_when",et=function(){var e,n=this,r=et.$$p,i=r||s;return r&&(et.$$p=null),i!==s||n.$raise(t.const_get_relative(st,"ArgumentError"),"wrong number of arguments (0 for 1)"),c(t.const_get_relative(st,"Enumerator"),"new",[],(e=function(n){var r=e.$$s||this;null==n&&(n=s);var a=s,$=s;r.$each_cons.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),r=e[0],o=e[1],l=t.yieldX(i,[r,o]);$=o,a===s&&(a=[]),_(l)?(a.push(r),n.$yield(a),a=[]):a.push(r)},r.$each_cons(2),a!==s&&(a.push($),n.$yield(a))},e.$$s=n,e.$$arity=1,e))},et.$$arity=0),t.defn(ot,"$sort",nt=function(){var t,e=this,n=nt.$$p,r=n||s,i=s;return n&&(nt.$$p=null),i=e.$to_a(),r!==s||(r=c(e,"lambda",[],(t=function(e,n){t.$$s;return null==e&&(e=s),null==n&&(n=s),e["$<=>"](n)},t.$$s=e,t.$$arity=2,t))),c(i,"sort",[],r.$to_proc())},nt.$$arity=0),t.defn(ot,"$sort_by",rt=function(){var e,n,r,i,a=this,$=rt.$$p,o=$||s,l=s;return $&&(rt.$$p=null),o===s?c(a,"enum_for",["sort_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=a,e.$$arity=0,e)):(l=c(a,"map",[],(n=function(){n.$$s;var e=s;return e=t.const_get_relative(st,"Opal").$destructure(arguments),[t.yield1(o,e),e]},n.$$s=a,n.$$arity=0,n)),c(l,"sort!",[],(r=function(t,e){r.$$s;return null==t&&(t=s),null==e&&(e=s),t[0]["$<=>"](e[0])},r.$$s=a,r.$$arity=2,r)),c(l,"map!",[],(i=function(t){i.$$s;return null==t&&(t=s),t[1]},i.$$s=a,i.$$arity=1,i)))},rt.$$arity=0),t.defn(ot,"$take",it=function(t){return this.$first(t)},it.$$arity=1),t.defn(ot,"$take_while",at=function(){try{var e,n=this,r=at.$$p,i=r||s,a=s;return r&&(at.$$p=null),_(i)?(a=[],c(n,"each",[],(e=function(n){e.$$s;var r,$=s,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var c=0;c<o;c++)r[c-0]=arguments[c];return $=t.const_get_relative(st,"Opal").$destructure(r),_(t.yield1(i,$))||t.ret(a),a.push($)},e.$$s=n,e.$$arity=-1,e))):n.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},at.$$arity=0),t.alias(ot,"to_a","entries"),t.defn(ot,"$zip",$t=function(e){var n,r=this,i=$t.$$p,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];return i&&($t.$$p=null),c(r.$to_a(),"zip",t.to_a(n))},$t.$$arity=-1)}(o[0],o)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=t.top,i=[],a=t.nil,$=t.breaker,o=t.slice,s=t.klass,l=t.truthy,c=t.send,_=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),r.$require("corelib/enumerable"),function(r,i,u){function d(){}var f,p,h,g,v,m,y=d=s(r,null,"Enumerator",d),b=y.$$proto,w=[y].concat(u);return b.size=b.args=b.object=b.method=a,y.$include(t.const_get_relative(w,"Enumerable")),b.$$is_enumerator=!0,t.defs(y,"$for",f=function(t,e,n){var r,i=this,$=f.$$p,o=$||a;null==e&&(e="each");var s=arguments.length,l=s-2;l<0&&(l=0),r=new Array(l);for(var c=2;c<s;c++)r[c-2]=arguments[c];$&&(f.$$p=null);var _=i.$allocate();return _.object=t,_.size=o,_.method=e,_.args=r,_},f.$$arity=-2),t.defn(y,"$initialize",p=function(e){var n=this,r=p.$$p,i=r||a;return r&&(p.$$p=null),l(i)?(n.object=c(t.const_get_relative(w,"Generator"),"new",[],i.$to_proc()),n.method="each",n.args=[],n.size=arguments[0]||a,l(n.size)?n.size=t.const_get_relative(w,"Opal").$coerce_to(n.size,t.const_get_relative(w,"Integer"),"to_int"):a):(n.object=arguments[0],n.method=arguments[1]||"each",n.args=o.call(arguments,2),n.size=a)},p.$$arity=-1),t.defn(y,"$each",h=function(n){var r,i,$=this,o=h.$$p,s=o||a,_=arguments.length,u=_-0;u<0&&(u=0),i=new Array(u);for(var d=0;d<_;d++)i[d-0]=arguments[d];return o&&(h.$$p=null),l(l(r=s["$nil?"]())?i["$empty?"]():r)?$:(i=e($.args,i),l(s["$nil?"]())?c($.$class(),"new",[$.object,$.method].concat(t.to_a(i))):c($.object,"__send__",[$.method].concat(t.to_a(i)),s.$to_proc()))},h.$$arity=-1),t.defn(y,"$size",g=function(){var e=this;return l(t.const_get_relative(w,"Proc")["$==="](e.size))?c(e.size,"call",t.to_a(e.args)):e.size},g.$$arity=0),t.defn(y,"$with_index",v=function(e){var n,r=this,i=v.$$p,$=i||a;if(null==e&&(e=0),i&&(v.$$p=null),e=l(e)?t.const_get_relative(w,"Opal").$coerce_to(e,t.const_get_relative(w,"Integer"),"to_int"):0,!l($))return c(r,"enum_for",["with_index",e],(n=function(){return(n.$$s||this).$size()},n.$$s=r,n.$$arity=0,n));var o=e;return r.$each.$$p=function(){var e=t.const_get_relative(w,"Opal").$destructure(arguments),n=$(e,o);return o++,n},r.$each()},v.$$arity=-1),t.alias(y,"with_object","each_with_object"),t.defn(y,"$inspect",m=function(){var n=this,r=a;return r="#<"+n.$class()+": "+n.object.$inspect()+":"+n.method,l(n.args["$empty?"]())||(r=e(r,"("+n.args.$inspect()["$[]"](t.const_get_relative(w,"Range").$new(1,-2))+")")),e(r,">")},m.$$arity=0),function(e,n,r){function i(){}var o,_,u=i=s(e,null,"Generator",i),d=u.$$proto,f=[u].concat(r);d.block=a,u.$include(t.const_get_relative(f,"Enumerable")),t.defn(u,"$initialize",o=function(){var e=this,n=o.$$p,r=n||a;return n&&(o.$$p=null),l(r)||e.$raise(t.const_get_relative(f,"LocalJumpError"),"no block given"),e.block=r},o.$$arity=0),t.defn(u,"$each",_=function(e){var n,r=this,i=_.$$p,o=i||a,s=a,l=arguments.length,u=l-0;u<0&&(u=0),n=new Array(u);for(var d=0;d<l;d++)n[d-0]=arguments[d];i&&(_.$$p=null),s=c(t.const_get_relative(f,"Yielder"),"new",[],o.$to_proc());try{n.unshift(s),t.yieldX(r.block,n)}catch(t){if(t===$)return $.$v;throw t}return r},_.$$arity=-1)}(w[0],0,w),function(e,n,r){function i(){}var o,l,_,u=i=s(e,null,"Yielder",i),d=u.$$proto;[u].concat(r);d.block=a,t.defn(u,"$initialize",o=function(){var t=this,e=o.$$p,n=e||a;return e&&(o.$$p=null),t.block=n},o.$$arity=0),t.defn(u,"$yield",l=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<i;o++)n[o-0]=arguments[o];var s=t.yieldX(r.block,n);if(s===$)throw $;return s},l.$$arity=-1),t.defn(u,"$<<",_=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return c(r,"yield",t.to_a(n)),r},_.$$arity=-1)}(w[0],0,w),function(r,i,$){function o(){}var u,d,f,p,h,g,v,m,y,b,w,k,x,E=o=s(r,i,"Lazy",o),O=E.$$proto,A=[E].concat($);return O.enumerator=a,function(t,e,n){function r(){}var i=r=s(t,e,"StopLazyError",r);i.$$proto,[i].concat(n)}(A[0],t.const_get_relative(A,"Exception"),A),t.defn(E,"$initialize",u=function(e,n){var r,i=this,$=u.$$p,o=$||a;return null==n&&(n=a),$&&(u.$$p=null),o!==a||i.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy new without a block"),i.enumerator=e,c(i,t.find_super_dispatcher(i,"initialize",u,!1),[n],(r=function(n,i){var $,s,l=r.$$s||this,_=arguments.length,u=_-1;u<0&&(u=0),$=new Array(u);for(var d=1;d<_;d++)$[d-1]=arguments[d];null==n&&(n=a);try{return c(e,"each",t.to_a($),(s=function(e){s.$$s;var r,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];r.unshift(n),t.yieldX(o,r)},s.$$s=l,s.$$arity=-1,s))}catch(e){if(!t.rescue(e,[t.const_get_relative(A,"Exception")]))throw e;try{return a}finally{t.pop_exception()}}},r.$$s=i,r.$$arity=-2,r))},u.$$arity=-2),t.alias(E,"force","to_a"),t.defn(E,"$lazy",d=function(){return this},d.$$arity=0),t.defn(E,"$collect",f=function(){var e,n=this,r=f.$$p,i=r||a;return r&&(f.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy map without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,n.$enumerator_size()],(e=function(n,r){e.$$s;var $,o=arguments.length,s=o-1;s<0&&(s=0),$=new Array(s);for(var l=1;l<o;l++)$[l-1]=arguments[l];null==n&&(n=a);var c=t.yieldX(i,$);n.$yield(c)},e.$$s=n,e.$$arity=-2,e))},f.$$arity=0),t.defn(E,"$collect_concat",p=function(){var e,n=this,r=p.$$p,i=r||a;return r&&(p.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy map without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){var $,o,s,l=e.$$s||this,_=arguments.length,u=_-1;u<0&&(u=0),$=new Array(u);for(var d=1;d<_;d++)$[d-1]=arguments[d];null==n&&(n=a);var f=t.yieldX(i,$);f["$respond_to?"]("force")&&f["$respond_to?"]("each")?c(f,"each",[],(o=function(t){o.$$s;return null==t&&(t=a),n.$yield(t)},o.$$s=l,o.$$arity=1,o)):t.const_get_relative(A,"Opal").$try_convert(f,t.const_get_relative(A,"Array"),"to_ary")===a?n.$yield(f):c(f,"each",[],(s=function(t){s.$$s;return null==t&&(t=a),n.$yield(t)},s.$$s=l,s.$$arity=1,s))},e.$$s=n,e.$$arity=-2,e))},p.$$arity=0),t.defn(E,"$drop",h=function(r){var i,$=this,o=a,s=a,_=a;return r=t.const_get_relative(A,"Opal").$coerce_to(r,t.const_get_relative(A,"Integer"),"to_int"),l(n(r,0))&&$.$raise(t.const_get_relative(A,"ArgumentError"),"attempt to drop negative size"),o=$.$enumerator_size(),s=l(t.const_get_relative(A,"Integer")["$==="](o))&&l(n(r,o))?r:o,_=0,c(t.const_get_relative(A,"Lazy"),"new",[$,s],(i=function($,o){i.$$s;var s,u=arguments.length,d=u-1;d<0&&(d=0),s=new Array(d);for(var f=1;f<u;f++)s[f-1]=arguments[f];return null==$&&($=a),l(n(_,r))?_=e(_,1):c($,"yield",t.to_a(s))},i.$$s=$,i.$$arity=-2,i))},h.$$arity=1),t.defn(E,"$drop_while",g=function(){var e,n=this,r=g.$$p,i=r||a,$=a;return r&&(g.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy drop_while without a block"),$=!0,c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){e.$$s;var o,s=arguments.length,u=s-1;u<0&&(u=0),o=new Array(u);for(var d=1;d<s;d++)o[d-1]=arguments[d];if(null==n&&(n=a),!l($))return c(n,"yield",t.to_a(o));var f=t.yieldX(i,o);_(f)&&($=!1,c(n,"yield",t.to_a(o)))},e.$$s=n,e.$$arity=-2,e))},g.$$arity=0),t.defn(E,"$enum_for",v=function(e,n){var r,i=this,$=v.$$p,o=$||a;null==e&&(e="each");var s=arguments.length,l=s-1;l<0&&(l=0),r=new Array(l);for(var _=1;_<s;_++)r[_-1]=arguments[_];return $&&(v.$$p=null),c(i.$class(),"for",[i,e].concat(t.to_a(r)),o.$to_proc())},v.$$arity=-1),t.defn(E,"$find_all",m=function(){var e,n=this,r=m.$$p,i=r||a;return r&&(m.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy select without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){e.$$s;var $,o=arguments.length,s=o-1;s<0&&(s=0),$=new Array(s);for(var _=1;_<o;_++)$[_-1]=arguments[_];null==n&&(n=a);var u=t.yieldX(i,$);l(u)&&c(n,"yield",t.to_a($))},e.$$s=n,e.$$arity=-2,e))},m.$$arity=0),t.alias(E,"flat_map","collect_concat"),t.defn(E,"$grep",y=function(e){var n,r,i=this,$=y.$$p,o=$||a;return $&&(y.$$p=null),l(o)?c(t.const_get_relative(A,"Lazy"),"new",[i,a],(n=function(r,i){n.$$s;var $,s=arguments.length,c=s-1;c<0&&(c=0),$=new Array(c);for(var _=1;_<s;_++)$[_-1]=arguments[_];null==r&&(r=a);var u=t.const_get_relative(A,"Opal").$destructure($),d=e["$==="](u);l(d)&&(d=t.yield1(o,u),r.$yield(t.yield1(o,u)))},n.$$s=i,n.$$arity=-2,n)):c(t.const_get_relative(A,"Lazy"),"new",[i,a],(r=function(n,i){r.$$s;var $,o=arguments.length,s=o-1;s<0&&(s=0),$=new Array(s);for(var c=1;c<o;c++)$[c-1]=arguments[c];null==n&&(n=a);var _=t.const_get_relative(A,"Opal").$destructure($),u=e["$==="](_);l(u)&&n.$yield(_)},r.$$s=i,r.$$arity=-2,r))},y.$$arity=1),t.alias(E,"map","collect"),t.alias(E,"select","find_all"),t.defn(E,"$reject",b=function(){var e,n=this,r=b.$$p,i=r||a;return r&&(b.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy reject without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){e.$$s;var $,o=arguments.length,s=o-1;s<0&&(s=0),$=new Array(s);for(var l=1;l<o;l++)$[l-1]=arguments[l];null==n&&(n=a);var u=t.yieldX(i,$);_(u)&&c(n,"yield",t.to_a($))},e.$$s=n,e.$$arity=-2,e))},b.$$arity=0),t.defn(E,"$take",w=function(r){var i,$=this,o=a,s=a,_=a;return r=t.const_get_relative(A,"Opal").$coerce_to(r,t.const_get_relative(A,"Integer"),"to_int"),l(n(r,0))&&$.$raise(t.const_get_relative(A,"ArgumentError"),"attempt to take negative size"),o=$.$enumerator_size(),s=l(t.const_get_relative(A,"Integer")["$==="](o))&&l(n(r,o))?r:o,_=0,c(t.const_get_relative(A,"Lazy"),"new",[$,s],(i=function($,o){var s,u=i.$$s||this,d=arguments.length,f=d-1;f<0&&(f=0),s=new Array(f);for(var p=1;p<d;p++)s[p-1]=arguments[p];return null==$&&($=a),l(n(_,r))?(c($,"yield",t.to_a(s)),_=e(_,1)):u.$raise(t.const_get_relative(A,"StopLazyError"))},i.$$s=$,i.$$arity=-2,i))},w.$$arity=1),t.defn(E,"$take_while",k=function(){var e,n=this,r=k.$$p,i=r||a;return r&&(k.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy take_while without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){var $,o=e.$$s||this,s=arguments.length,_=s-1;_<0&&(_=0),$=new Array(_);for(var u=1;u<s;u++)$[u-1]=arguments[u];null==n&&(n=a);var d=t.yieldX(i,$);l(d)?c(n,"yield",t.to_a($)):o.$raise(t.const_get_relative(A,"StopLazyError"))},e.$$s=n,e.$$arity=-2,e))},k.$$arity=0),t.alias(E,"to_enum","enum_for"),t.defn(E,"$inspect",x=function(){var t=this;return"#<"+t.$class()+": "+t.enumerator.$inspect()+">"},x.$$arity=0),a&&"inspect"}(w[0],y,w)}(i[0],0,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var $=t.top,o=[],s=t.nil,l=(t.breaker,t.slice,t.klass),c=t.truthy;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),$.$require("corelib/comparable"),function($,o,_){function u(){}var d,f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W=u=l($,null,"Numeric",u),X=(W.$$proto,[W].concat(_));return W.$include(t.const_get_relative(X,"Comparable")),t.defn(W,"$coerce",d=function(t){var e=this;return c(t["$instance_of?"](e.$class()))?[t,e]:[e.$Float(t),e.$Float(e)]},d.$$arity=1),t.defn(W,"$__coerced__",f=function(e,n){var r,i,a=this,$=s,o=s,l=s;try{i=n.$coerce(a),$=null==(r=t.to_ary(i))[0]?s:r[0],o=null==r[1]?s:r[1]}catch(r){if(!t.rescue(r,[t.const_get_relative(X,"StandardError")]))throw r;try{l=e,"+"["$==="](l)||"-"["$==="](l)||"*"["$==="](l)||"/"["$==="](l)||"%"["$==="](l)||"&"["$==="](l)||"|"["$==="](l)||"^"["$==="](l)||"**"["$==="](l)?a.$raise(t.const_get_relative(X,"TypeError"),n.$class()+" can't be coerce into Numeric"):(">"["$==="](l)||">="["$==="](l)||"<"["$==="](l)||"<="["$==="](l)||"<=>"["$==="](l))&&a.$raise(t.const_get_relative(X,"ArgumentError"),"comparison of "+a.$class()+" with "+n.$class()+" failed")}finally{t.pop_exception()}}return $.$__send__(e,o)},f.$$arity=2),t.defn(W,"$<=>",p=function(t){return c(this["$equal?"](t))?0:s},p.$$arity=1),t.defn(W,"$+@",h=function(){return this},h.$$arity=0),t.defn(W,"$-@",g=function(){return e(0,this)},g.$$arity=0),t.defn(W,"$%",v=function(t){var r=this;return e(r,n(t,r.$div(t)))},v.$$arity=1),t.defn(W,"$abs",m=function(){var t=this;return r(t,0)?t["$-@"]():t},m.$$arity=0),t.defn(W,"$abs2",y=function(){var t=this;return n(t,t)},y.$$arity=0),t.defn(W,"$angle",b=function(){return r(this,0)?t.const_get_qualified(t.const_get_relative(X,"Math"),"PI"):0},b.$$arity=0),t.alias(W,"arg","angle"),t.defn(W,"$ceil",w=function(){return this.$to_f().$ceil()},w.$$arity=0),t.defn(W,"$conj",k=function(){return this},k.$$arity=0),t.alias(W,"conjugate","conj"),t.defn(W,"$denominator",x=function(){return this.$to_r().$denominator()},x.$$arity=0),t.defn(W,"$div",E=function(e){var n=this;return e["$=="](0)&&n.$raise(t.const_get_relative(X,"ZeroDivisionError"),"divided by o"),i(n,e).$floor()},E.$$arity=1),t.defn(W,"$divmod",O=function(t){var e=this;return[e.$div(t),e["$%"](t)]},O.$$arity=1),t.defn(W,"$fdiv",A=function(t){return i(this.$to_f(),t)},A.$$arity=1),t.defn(W,"$floor",S=function(){return this.$to_f().$floor()},S.$$arity=0),t.defn(W,"$i",R=function(){var t=this;return t.$Complex(0,t)},R.$$arity=0),t.defn(W,"$imag",M=function(){return 0},M.$$arity=0),t.alias(W,"imaginary","imag"),t.defn(W,"$integer?",T=function(){return!1},T.$$arity=0),t.alias(W,"magnitude","abs"),t.alias(W,"modulo","%"),t.defn(W,"$nonzero?",I=function(){var t=this;return c(t["$zero?"]())?s:t},I.$$arity=0),t.defn(W,"$numerator",C=function(){return this.$to_r().$numerator()},C.$$arity=0),t.alias(W,"phase","arg"),t.defn(W,"$polar",q=function(){var t=this;return[t.$abs(),t.$arg()]},q.$$arity=0),t.defn(W,"$quo",N=function(e){var n=this;return i(t.const_get_relative(X,"Opal")["$coerce_to!"](n,t.const_get_relative(X,"Rational"),"to_r"),e)},N.$$arity=1),t.defn(W,"$real",L=function(){return this},L.$$arity=0),t.defn(W,"$real?",z=function(){return!0},z.$$arity=0),t.defn(W,"$rect",P=function(){return[this,0]},P.$$arity=0),t.alias(W,"rectangular","rect"),t.defn(W,"$round",D=function(t){return this.$to_f().$round(t)},D.$$arity=-1),t.defn(W,"$to_c",B=function(){var t=this;return t.$Complex(t,0)},B.$$arity=0),t.defn(W,"$to_int",j=function(){return this.$to_i()},j.$$arity=0),t.defn(W,"$truncate",F=function(){return this.$to_f().$truncate()},F.$$arity=0),t.defn(W,"$zero?",U=function(){return this["$=="](0)},U.$$arity=0),t.defn(W,"$positive?",G=function(){return a(this,0)},G.$$arity=0),t.defn(W,"$negative?",H=function(){return r(this,0)},H.$$arity=0),t.defn(W,"$dup",Y=function(){var e=this;return e.$raise(t.const_get_relative(X,"TypeError"),"can't dup "+e.$class())},Y.$$arity=0),t.defn(W,"$clone",K=function(){var e=this;return e.$raise(t.const_get_relative(X,"TypeError"),"can't clone "+e.$class())},K.$$arity=0),s&&"clone"}(o[0],0,o)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $=t.top,o=[],s=t.nil,l=(t.breaker,t.slice,t.klass),c=t.truthy,_=t.hash2,u=t.send,d=t.gvars;return t.add_stubs(["$require","$include","$to_a","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$!","$>=","$**","$delete_if","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),$.$require("corelib/enumerable"),$.$require("corelib/numeric"),function($,o,f){function p(){}function h(e,n){return n.$$name===t.Array?e:n.$allocate().$replace(e.$to_a())}function g(e,n){var r,i,a,$,o=e.length;return r=n.excl,i=t.Opal.$coerce_to(n.begin,t.Integer,"to_int"),a=t.Opal.$coerce_to(n.end,t.Integer,"to_int"),i<0&&(i+=o)<0?s:i>o?s:a<0&&(a+=o)<0?[]:(r||(a+=1),$=e.slice(i,a),h($,e.$class()))}function v(e,n,r){var i,a=e.length;return(n=t.Opal.$coerce_to(n,t.Integer,"to_int"))<0&&(n+=a)<0?s:void 0===r?n>=a||n<0?s:e[n]:(r=t.Opal.$coerce_to(r,t.Integer,"to_int"))<0||n>a||n<0?s:(i=e.slice(n,n+r),h(i,e.$class()))}function m(t,e){return t===e||0===e?1:e>0&&t>e?m(t-1,e-1)+m(t-1,e):0}function y(t,e){for(var n=e>=0?1:0;e;)n*=t,t--,e--;return n}var b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,_t,ut,dt,ft,pt,ht,gt,vt,mt,yt,bt,wt,kt,xt,Et,Ot,At,St,Rt,Mt,Tt,It,Ct,qt,Nt,Lt,zt,Pt,Dt,Bt,jt,Ft,Ut,Gt,Ht,Yt,Kt,Wt,Xt,Vt,Jt,Zt,Qt,te,ee,ne,re=p=l($,o,"Array",p),ie=re.$$proto,ae=[re].concat(f);return ie.length=s,re.$include(t.const_get_relative(ae,"Enumerable")),ie.$$is_array=!0,t.defs(re,"$[]",b=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return h(e,n)},b.$$arity=-1),t.defn(re,"$initialize",w=function(e,n){var r=this,i=w.$$p,a=i||s;if(null==e&&(e=s),null==n&&(n=s),i&&(w.$$p=null),e>t.const_get_qualified(t.const_get_relative(ae,"Integer"),"MAX")&&r.$raise(t.const_get_relative(ae,"ArgumentError"),"array size too big"),arguments.length>2&&r.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return r.splice(0,r.length),r;if(1===arguments.length){if(e.$$is_array)return r.$replace(e.$to_a()),r;if(e["$respond_to?"]("to_ary"))return r.$replace(e.$to_ary()),r}(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"))<0&&r.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),r.splice(0,r.length);var $,o;if(a===s)for($=0;$<e;$++)r.push(n);else for($=0,o;$<e;$++)o=a($),r[$]=o;return r},w.$$arity=-1),t.defs(re,"$try_convert",k=function(e){return t.const_get_relative(ae,"Opal")["$coerce_to?"](e,t.const_get_relative(ae,"Array"),"to_ary")},k.$$arity=1),t.defn(re,"$&",x=function(e){var n=this;e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a();var r,i,a,$=[],o=_([],{});for(r=0,i=e.length;r<i;r++)t.hash_put(o,e[r],!0);for(r=0,i=n.length;r<i;r++)a=n[r],void 0!==t.hash_delete(o,a)&&$.push(a);return $},x.$$arity=1),t.defn(re,"$|",E=function(e){var n=this;e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a();var r,i,a=_([],{});for(r=0,i=n.length;r<i;r++)t.hash_put(a,n[r],!0);for(r=0,i=e.length;r<i;r++)t.hash_put(a,e[r],!0);return a.$keys()},E.$$arity=1),t.defn(re,"$*",O=function(e){var n=this;if(c(e["$respond_to?"]("to_str")))return n.$join(e.$to_str());e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),c(e<0)&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative argument");for(var r=[],i=n.$to_a(),a=0;a<e;a++)r=r.concat(i);return h(r,n.$class())},O.$$arity=1),t.defn(re,"$+",A=function(e){var n=this;return e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a(),n.concat(e)},A.$$arity=1),t.defn(re,"$-",S=function(e){var n=this;if(e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a(),c(0===n.length))return[];if(c(0===e.length))return n.slice();var r,i,a,$=[],o=_([],{});for(r=0,i=e.length;r<i;r++)t.hash_put(o,e[r],!0);for(r=0,i=n.length;r<i;r++)a=n[r],void 0===t.hash_get(o,a)&&$.push(a);return $},S.$$arity=1),t.defn(re,"$<<",R=function(t){var e=this;return e.push(t),e},R.$$arity=1),t.defn(re,"$<=>",M=function(e){var n=this;if(c(t.const_get_relative(ae,"Array")["$==="](e)))e=e.$to_a();else{if(!c(e["$respond_to?"]("to_ary")))return s;e=e.$to_ary().$to_a()}if(n.$hash()===e.$hash())return 0;for(var r=Math.min(n.length,e.length),i=0;i<r;i++){var a=n[i]["$<=>"](e[i]);if(0!==a)return a}return n.length["$<=>"](e.length)},M.$$arity=1),t.defn(re,"$==",T=function(e){function n(e,i){var a,$,o,s;if(e===i)return!0;if(!i.$$is_array)return!!t.const_get_relative(ae,"Opal")["$respond_to?"](i,"to_ary")&&i["$=="](e);if(e.constructor!==Array&&(e=e.$to_a()),i.constructor!==Array&&(i=i.$to_a()),e.length!==i.length)return!1;for(r[e.$object_id()]=!0,a=0,$=e.length;a<$;a++)if(o=e[a],s=i[a],o.$$is_array){if(s.$$is_array&&s.length!==o.length)return!1;if(!r.hasOwnProperty(o.$object_id())&&!n(o,s))return!1}else if(!o["$=="](s))return!1;return!0}var r={};return n(this,e)},T.$$arity=1),t.defn(re,"$[]",I=function(t,e){var n=this;return t.$$is_range?g(n,t):v(n,t,e)},I.$$arity=-2),t.defn(re,"$[]=",C=function(e,n,r){var i,a=this,$=s,o=s,l=a.length;if(c(t.const_get_relative(ae,"Range")["$==="](e))){$=c(t.const_get_relative(ae,"Array")["$==="](n))?n.$to_a():c(n["$respond_to?"]("to_ary"))?n.$to_ary().$to_a():[n];var _=e.excl,u=t.const_get_relative(ae,"Opal").$coerce_to(e.begin,t.const_get_relative(ae,"Integer"),"to_int"),d=t.const_get_relative(ae,"Opal").$coerce_to(e.end,t.const_get_relative(ae,"Integer"),"to_int");if(u<0&&(u+=l)<0&&a.$raise(t.const_get_relative(ae,"RangeError"),e.$inspect()+" out of range"),d<0&&(d+=l),_||(d+=1),u>l)for(i=l;i<u;i++)a[i]=s;return d<0?a.splice.apply(a,[u,0].concat($)):a.splice.apply(a,[u,d-u].concat($)),n}c(void 0===r)?o=1:(o=n,n=r,$=c(t.const_get_relative(ae,"Array")["$==="](n))?n.$to_a():c(n["$respond_to?"]("to_ary"))?n.$to_ary().$to_a():[n]);var f;if(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),o=t.const_get_relative(ae,"Opal").$coerce_to(o,t.const_get_relative(ae,"Integer"),"to_int"),e<0&&(f=e,(e+=l)<0&&a.$raise(t.const_get_relative(ae,"IndexError"),"index "+f+" too small for array; minimum "+-a.length)),o<0&&a.$raise(t.const_get_relative(ae,"IndexError"),"negative length ("+o+")"),e>l)for(i=l;i<e;i++)a[i]=s;return void 0===r?a[e]=n:a.splice.apply(a,[e,o].concat($)),n},C.$$arity=-3),t.defn(re,"$any?",q=function(){var e=this,n=q.$$p,r=s,i=s,a=s;for(n&&(q.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return 0!==e.length&&u(e,t.find_super_dispatcher(e,"any?",q,!1),r,n)},q.$$arity=0),t.defn(re,"$assoc",N=function(t){for(var e,n=this,r=0,i=n.length;r<i;r++)if((e=n[r]).length&&e[0]["$=="](t))return e;return s},N.$$arity=1),t.defn(re,"$at",L=function(e){var n=this;return(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"))<0&&(e+=n.length),e<0||e>=n.length?s:n[e]},L.$$arity=1),t.defn(re,"$bsearch_index",z=function(){var e=this,n=z.$$p,r=n||s;if(n&&(z.$$p=null),r===s)return e.$enum_for("bsearch_index");for(var i,a,$,o=0,l=e.length,c=!1,_=s;o<l;){if(i=o+Math.floor((l-o)/2),a=e[i],!0===($=t.yield1(r,a)))_=i,c=!0;else if(!1===$||$===s)c=!1;else if($.$$is_number){if(0===$)return i;c=$<0}else e.$raise(t.const_get_relative(ae,"TypeError"),"wrong argument type "+$.$class()+" (must be numeric, true, false or nil)");c?l=i:o=i+1}return _},z.$$arity=0),t.defn(re,"$bsearch",P=function(){var t=this,e=P.$$p,n=e||s,r=s;return e&&(P.$$p=null),n===s?t.$enum_for("bsearch"):null!=(r=u(t,"bsearch_index",[],n.$to_proc()))&&r.$$is_number?t[r]:r},P.$$arity=0),t.defn(re,"$cycle",D=function(r){var i,a,$=this,o=D.$$p,l=o||s;if(null==r&&(r=s),o&&(D.$$p=null),l===s)return u($,"enum_for",["cycle",r],(i=function(){var a=i.$$s||this;return r["$=="](s)?t.const_get_qualified(t.const_get_relative(ae,"Float"),"INFINITY"):(r=t.const_get_relative(ae,"Opal")["$coerce_to!"](r,t.const_get_relative(ae,"Integer"),"to_int"),c(e(r,0))?n(a.$enumerator_size(),r):0)},i.$$s=$,i.$$arity=0,i));if(c(c(a=$["$empty?"]())?a:r["$=="](0)))return s;var _,d;if(r===s)for(;;)for(_=0,d=$.length;_<d;_++)t.yield1(l,$[_]);else{if((r=t.const_get_relative(ae,"Opal")["$coerce_to!"](r,t.const_get_relative(ae,"Integer"),"to_int"))<=0)return $;for(;r>0;){for(_=0,d=$.length;_<d;_++)t.yield1(l,$[_]);r--}}return $},D.$$arity=-1),t.defn(re,"$clear",B=function(){var t=this;return t.splice(0,t.length),t},B.$$arity=0),t.defn(re,"$count",j=function(e){var n,r=this,i=j.$$p,a=i||s,$=s,o=s,l=s;for(null==e&&(e=s),i&&(j.$$p=null),o=0,l=arguments.length,$=new Array(l);o<l;o++)$[o]=arguments[o];return c(c(n=e)?n:a)?u(r,t.find_super_dispatcher(r,"count",j,!1),$,i):r.$size()},j.$$arity=-1),t.defn(re,"$initialize_copy",F=function(t){return this.$replace(t)},F.$$arity=1),t.defn(re,"$collect",U=function(){var e,n=this,r=U.$$p,i=r||s;if(r&&(U.$$p=null),i===s)return u(n,"enum_for",["collect"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a=[],$=0,o=n.length;$<o;$++){var l=t.yield1(i,n[$]);a.push(l)}return a},U.$$arity=0),t.defn(re,"$collect!",G=function(){var e,n=this,r=G.$$p,i=r||s;if(r&&(G.$$p=null),i===s)return u(n,"enum_for",["collect!"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a=0,$=n.length;a<$;a++){var o=t.yield1(i,n[a]);n[a]=o}return n},G.$$arity=0),t.defn(re,"$combination",H=function(e){var n,r=this,i=H.$$p,a=i||s,$=s;if(i&&(H.$$p=null),$=t.const_get_relative(ae,"Opal")["$coerce_to!"](e,t.const_get_relative(ae,"Integer"),"to_int"),a===s)return u(r,"enum_for",["combination",$],(n=function(){return m((n.$$s||this).length,$)},n.$$s=r,n.$$arity=0,n));var o,l,c,_,d,f,p;if(0===$)t.yield1(a,[]);else if(1===$)for(o=0,l=r.length;o<l;o++)t.yield1(a,[r[o]]);else if($===r.length)t.yield1(a,r.slice());else if($>=0&&$<r.length){for(c=[],o=0;o<=$+1;o++)c.push(0);for(_=[],d=0,f=!1,c[0]=-1;!f;){for(_[d]=r[c[d+1]];d<$-1;)p=c[++d+1]=c[d]+1,_[d]=r[p];t.yield1(a,_.slice()),d++;do{f=0===d,c[d]++,d--}while(c[d+1]+$===r.length+d+1)}}return r},H.$$arity=1),t.defn(re,"$repeated_combination",Y=function(e){function n(e,r,i,a){if(i.length!=e)for(var o=r;o<a.length;o++)i.push(a[o]),n(e,o,i,a),i.pop();else{var s=i.slice();t.yield1($,s)}}var r,i=this,a=Y.$$p,$=a||s,o=s;return a&&(Y.$$p=null),o=t.const_get_relative(ae,"Opal")["$coerce_to!"](e,t.const_get_relative(ae,"Integer"),"to_int"),$===s?u(i,"enum_for",["repeated_combination",o],(r=function(){return m((r.$$s||this).length+o-1,o)},r.$$s=i,r.$$arity=0,r)):(o>=0&&n(o,0,[],i),i)},Y.$$arity=1),t.defn(re,"$compact",K=function(){for(var t,e=this,n=[],r=0,i=e.length;r<i;r++)(t=e[r])!==s&&n.push(t);return n},K.$$arity=0),t.defn(re,"$compact!",W=function(){for(var t=this,e=t.length,n=0,r=t.length;n<r;n++)t[n]===s&&(t.splice(n,1),r--,n--);return t.length===e?s:t},W.$$arity=0),t.defn(re,"$concat",X=function(e){for(var n=this,r=0,i=(e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a()).length;r<i;r++)n.push(e[r]);return n},X.$$arity=1),t.defn(re,"$delete",V=function(e){var n=this,r=V.$$p,i=r||s;r&&(V.$$p=null);for(var a=n.length,$=0,o=a;$<o;$++)n[$]["$=="](e)&&(n.splice($,1),o--,$--);return n.length===a?i!==s?t.yieldX(i,[]):s:e},V.$$arity=1),t.defn(re,"$delete_at",J=function(e){var n=this;if((e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"))<0&&(e+=n.length),e<0||e>=n.length)return s;var r=n[e];return n.splice(e,1),r},J.$$arity=1),t.defn(re,"$delete_if",Z=function(){var t,e=this,n=Z.$$p,r=n||s;if(n&&(Z.$$p=null),r===s)return u(e,"enum_for",["delete_if"],(t=function(){return(t.$$s||this).$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,$=e.length;a<$;a++)!1!==(i=r(e[a]))&&i!==s&&(e.splice(a,1),$--,a--);return e},Z.$$arity=0),t.defn(re,"$dig",Q=function(e,n){var r,i=this,a=s,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var l=1;l<$;l++)r[l-1]=arguments[l];return(a=i["$[]"](e))===s||0===r.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(t.const_get_relative(ae,"TypeError"),a.$class()+" does not have #dig method"),u(a,"dig",t.to_a(r)))},Q.$$arity=-2),t.defn(re,"$drop",tt=function(e){var n=this;return e<0&&n.$raise(t.const_get_relative(ae,"ArgumentError")),n.slice(e)},tt.$$arity=1),t.defn(re,"$dup",et=function(){var e=this,n=et.$$p,r=s,i=s,a=s;for(n&&(et.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return e.$$class===t.Array&&e.$allocate.$$pristine&&e.$copy_instance_variables.$$pristine&&e.$initialize_dup.$$pristine?e.slice(0):u(e,t.find_super_dispatcher(e,"dup",et,!1),r,n)},et.$$arity=0),t.defn(re,"$each",nt=function(){var e,n=this,r=nt.$$p,i=r||s;if(r&&(nt.$$p=null),i===s)return u(n,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a=0,$=n.length;a<$;a++)t.yield1(i,n[a]);return n},nt.$$arity=0),t.defn(re,"$each_index",rt=function(){var e,n=this,r=rt.$$p,i=r||s;if(r&&(rt.$$p=null),i===s)return u(n,"enum_for",["each_index"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a=0,$=n.length;a<$;a++)t.yield1(i,a);return n},rt.$$arity=0),t.defn(re,"$empty?",it=function(){return 0===this.length},it.$$arity=0),t.defn(re,"$eql?",at=function(t){function e(t,r){var i,a,$,o;if(!r.$$is_array)return!1;if(r=r.$to_a(),t.length!==r.length)return!1;for(n[t.$object_id()]=!0,i=0,a=t.length;i<a;i++)if($=t[i],o=r[i],$.$$is_array){if(o.$$is_array&&o.length!==$.length)return!1;if(!n.hasOwnProperty($.$object_id())&&!e($,o))return!1}else if(!$["$eql?"](o))return!1;return!0}var n={};return e(this,t)},at.$$arity=1),t.defn(re,"$fetch",$t=function(e,n){var r=this,i=$t.$$p,a=i||s;i&&($t.$$p=null);var $=e;return(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"))<0&&(e+=r.length),e>=0&&e<r.length?r[e]:a!==s?a($):null!=n?n:void(0===r.length?r.$raise(t.const_get_relative(ae,"IndexError"),"index "+$+" outside of array bounds: 0...0"):r.$raise(t.const_get_relative(ae,"IndexError"),"index "+$+" outside of array bounds: -"+r.length+"..."+r.length))},$t.$$arity=-2),t.defn(re,"$fill",ot=function(e){var n,r,i,a=this,$=ot.$$p,o=$||s,l=s,_=s,u=s,d=s,f=s,p=arguments.length,h=p-0;h<0&&(h=0),i=new Array(h);for(var g=0;g<p;g++)i[g-0]=arguments[g];$&&(ot.$$p=null);var v,m;if(c(o)?(c(i.length>2)&&a.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 0..2)"),r=i,l=null==(n=t.to_ary(r))[0]?s:n[0],_=null==n[1]?s:n[1]):(c(0==i.length)?a.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):c(i.length>3)&&a.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 1..3)"),r=i,u=null==(n=t.to_ary(r))[0]?s:n[0],l=null==n[1]?s:n[1],_=null==n[2]?s:n[2]),c(t.const_get_relative(ae,"Range")["$==="](l))){if(c(_)&&a.$raise(t.const_get_relative(ae,"TypeError"),"length invalid with range"),d=t.const_get_relative(ae,"Opal").$coerce_to(l.$begin(),t.const_get_relative(ae,"Integer"),"to_int"),c(d<0)&&(d+=a.length),c(d<0)&&a.$raise(t.const_get_relative(ae,"RangeError"),l.$inspect()+" out of range"),f=t.const_get_relative(ae,"Opal").$coerce_to(l.$end(),t.const_get_relative(ae,"Integer"),"to_int"),c(f<0)&&(f+=a.length),c(l["$exclude_end?"]())||(f+=1),c(f<=d))return a}else if(c(l))if(d=t.const_get_relative(ae,"Opal").$coerce_to(l,t.const_get_relative(ae,"Integer"),"to_int"),c(d<0)&&(d+=a.length),c(d<0)&&(d=0),c(_)){if(f=t.const_get_relative(ae,"Opal").$coerce_to(_,t.const_get_relative(ae,"Integer"),"to_int"),c(0==f))return a;f+=d}else f=a.length;else d=0,f=a.length;if(c(d>a.length))for(v=a.length;v<f;v++)a[v]=s;if(c(f>a.length)&&(a.length=f),c(o))for(a.length;d<f;d++)m=o(d),a[d]=m;else for(a.length;d<f;d++)a[d]=u;return a},ot.$$arity=-1),t.defn(re,"$first",st=function(e){var n=this;return null==e?0===n.length?s:n[0]:((e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"))<0&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),n.slice(0,e))},st.$$arity=-1),t.defn(re,"$flatten",lt=function(e){function n(e,i){var a,$,o,l,c=[];for(a=0,$=(e=e.$to_a()).length;a<$;a++)if(o=e[a],t.const_get_relative(ae,"Opal")["$respond_to?"](o,"to_ary"))if((l=o.$to_ary())!==s)switch(l.$$is_array||r.$raise(t.const_get_relative(ae,"TypeError")),l===r&&r.$raise(t.const_get_relative(ae,"ArgumentError")),i){case void 0:c=c.concat(n(l));break;case 0:c.push(l);break;default:c.push.apply(c,n(l,i-1))}else c.push(o);else c.push(o);return c}var r=this;return void 0!==e&&(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int")),h(n(r,e),r.$class())},lt.$$arity=-1),t.defn(re,"$flatten!",ct=function(t){var e=this,n=e.$flatten(t);if(e.length==n.length){for(var r=0,i=e.length;r<i&&e[r]===n[r];r++);if(r==i)return s}return e.$replace(n),e},ct.$$arity=-1),t.defn(re,"$hash",_t=function(){var e,n,r,i=this,a=void 0===t.hash_ids,$=["A"],o=i.$object_id();try{if(a&&(t.hash_ids=Object.create(null)),t.hash_ids[o])return"self";for(r in t.hash_ids)if(e=t.hash_ids[r],i["$eql?"](e))return"self";for(t.hash_ids[o]=i,n=0;n<i.length;n++)e=i[n],$.push(e.$hash());return $.join(",")}finally{a&&(t.hash_ids=void 0)}},_t.$$arity=0),t.defn(re,"$include?",ut=function(t){for(var e=this,n=0,r=e.length;n<r;n++)if(e[n]["$=="](t))return!0;return!1},ut.$$arity=1),t.defn(re,"$index",dt=function(t){var e=this,n=dt.$$p,r=n||s;n&&(dt.$$p=null);var i,a,$;if(null!=t){for(i=0,a=e.length;i<a;i++)if(e[i]["$=="](t))return i}else{if(r===s)return e.$enum_for("index");for(i=0,a=e.length;i<a;i++)if(!1!==($=r(e[i]))&&$!==s)return i}return s},dt.$$arity=-1),t.defn(re,"$insert",ft=function(e,n){var r,i=this,a=arguments.length,$=a-1;$<0&&($=0),r=new Array($);for(var o=1;o<a;o++)r[o-1]=arguments[o];if(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),r.length>0){if(e<0&&(e+=i.length+1)<0&&i.$raise(t.const_get_relative(ae,"IndexError"),e+" is out of bounds"),e>i.length)for(var l=i.length;l<e;l++)i.push(s);i.splice.apply(i,[e,0].concat(r))}return i},ft.$$arity=-2),t.defn(re,"$inspect",pt=function(){for(var t=this,e=[],n=t.$__id__(),r=0,i=t.length;r<i;r++){var a=t["$[]"](r);a.$__id__()===n?e.push("[...]"):e.push(a.$inspect())}return"["+e.join(", ")+"]"},pt.$$arity=0),t.defn(re,"$join",ht=function(e){var n=this;if(null==d[","]&&(d[","]=s),null==e&&(e=s),c(0===n.length))return"";c(e===s)&&(e=d[","]);var r,i,a,$,o=[];for(r=0,i=n.length;r<i;r++)a=n[r],t.const_get_relative(ae,"Opal")["$respond_to?"](a,"to_str")&&($=a.$to_str())!==s?o.push($.$to_s()):t.const_get_relative(ae,"Opal")["$respond_to?"](a,"to_ary")&&(($=a.$to_ary())===n&&n.$raise(t.const_get_relative(ae,"ArgumentError")),$!==s)?o.push($.$join(e)):t.const_get_relative(ae,"Opal")["$respond_to?"](a,"to_s")&&($=a.$to_s())!==s?o.push($):n.$raise(t.const_get_relative(ae,"NoMethodError").$new(t.inspect(a)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===s?o.join(""):o.join(t.const_get_relative(ae,"Opal")["$coerce_to!"](e,t.const_get_relative(ae,"String"),"to_str").$to_s())},ht.$$arity=-1),t.defn(re,"$keep_if",gt=function(){var t,e=this,n=gt.$$p,r=n||s;if(n&&(gt.$$p=null),r===s)return u(e,"enum_for",["keep_if"],(t=function(){return(t.$$s||this).$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,$=e.length;a<$;a++)!1!==(i=r(e[a]))&&i!==s||(e.splice(a,1),$--,a--);return e},gt.$$arity=0),t.defn(re,"$last",vt=function(e){var n=this;return null==e?0===n.length?s:n[n.length-1]:((e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"))<0&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),e>n.length&&(e=n.length),n.slice(n.length-e,n.length))},vt.$$arity=-1),t.defn(re,"$length",mt=function(){return this.length},mt.$$arity=0),t.alias(re,"map","collect"),t.alias(re,"map!","collect!"),t.defn(re,"$permutation",yt=function(e){var n,r=this,i=yt.$$p,a=i||s,$=s,o=s;if(i&&(yt.$$p=null),a===s)return u(r,"enum_for",["permutation",e],(n=function(){var t=n.$$s||this;return y(t.length,void 0===e?t.length:e)},n.$$s=r,n.$$arity=0,n));var l,c,_;if((e=void 0===e?r.length:t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"))<0||r.length<e);else if(0===e)t.yield1(a,[]);else if(1===e)for(var d=0;d<r.length;d++)t.yield1(a,[r[d]]);else $=t.const_get_relative(ae,"Array").$new(e),o=t.const_get_relative(ae,"Array").$new(r.length,!1),l=function(e,n,i,a,$){r=this;for(var o=0;o<r.length;o++)if(a["$[]"](o)["$!"]())if(n[i]=o,i<e-1)a[o]=!0,l.call(r,e,n,i+1,a,$),a[o]=!1;else{_=[];for(var s=0;s<n.length;s++)_.push(r[n[s]]);t.yield1($,_)}},a!==s?(c=r.slice(),l.call(c,e,$,0,o,a)):l.call(r,e,$,0,o,a);return r},yt.$$arity=-1),t.defn(re,"$repeated_permutation",bt=function(e){function n(e,r,i){if(r.length!=e)for(var a=0;a<i.length;a++)r.push(i[a]),n(e,r,i),r.pop();else{var $=r.slice();t.yield1(o,$)}}var i,a=this,$=bt.$$p,o=$||s,l=s;return $&&(bt.$$p=null),l=t.const_get_relative(ae,"Opal")["$coerce_to!"](e,t.const_get_relative(ae,"Integer"),"to_int"),o===s?u(a,"enum_for",["repeated_permutation",l],(i=function(){var t=i.$$s||this;return c(r(l,0))?t.$size()["$**"](l):0},i.$$s=a,i.$$arity=0,i)):(n(l,[],a.slice()),a)},bt.$$arity=1),t.defn(re,"$pop",wt=function(e){var n=this;return c(void 0===e)?c(0===n.length)?s:n.pop():(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),c(e<0)&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),c(0===n.length)?[]:c(e>n.length)?n.splice(0,n.length):n.splice(n.length-e,n.length))},wt.$$arity=-1),t.defn(re,"$product",kt=function(e){var n,r=this,i=kt.$$p,a=i||s,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<$;l++)n[l-0]=arguments[l];i&&(kt.$$p=null);var c,_,u,d,f=a!==s?null:[],p=n.length+1,h=new Array(p),g=new Array(p),v=new Array(p),m=1;for(v[0]=r,c=1;c<p;c++)v[c]=t.const_get_relative(ae,"Opal").$coerce_to(n[c-1],t.const_get_relative(ae,"Array"),"to_ary");for(c=0;c<p;c++){if(0===(d=v[c].length))return f||r;(m*=d)>2147483647&&r.$raise(t.const_get_relative(ae,"RangeError"),"too big to product"),g[c]=d,h[c]=0}t:for(;;){for(u=[],c=0;c<p;c++)u.push(v[c][h[c]]);for(f?f.push(u):t.yield1(a,u),h[_=p-1]++;h[_]===g[_];){if(h[_]=0,--_<0)break t;h[_]++}}return f||r},kt.$$arity=-1),t.defn(re,"$push",xt=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)n.push(e[$]);return n},xt.$$arity=-1),t.defn(re,"$rassoc",Et=function(t){for(var e,n=this,r=0,i=n.length;r<i;r++)if((e=n[r]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return s},Et.$$arity=1),t.defn(re,"$reject",Ot=function(){var t,e=this,n=Ot.$$p,r=n||s;if(n&&(Ot.$$p=null),r===s)return u(e,"enum_for",["reject"],(t=function(){return(t.$$s||this).$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=[],$=0,o=e.length;$<o;$++)!1!==(i=r(e[$]))&&i!==s||a.push(e[$]);return a},Ot.$$arity=0),t.defn(re,"$reject!",At=function(){var t,e=this,n=At.$$p,r=n||s,i=s;return n&&(At.$$p=null),r===s?u(e,"enum_for",["reject!"],(t=function(){return(t.$$s||this).$size()},t.$$s=e,t.$$arity=0,t)):(i=e.$length(),u(e,"delete_if",[],r.$to_proc()),e.$length()["$=="](i)?s:e)},At.$$arity=0),t.defn(re,"$replace",St=function(e){var n=this;return e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a(),n.splice(0,n.length),n.push.apply(n,e),n},St.$$arity=1),t.defn(re,"$reverse",Rt=function(){return this.slice(0).reverse()},Rt.$$arity=0),t.defn(re,"$reverse!",Mt=function(){return this.reverse()},Mt.$$arity=0),t.defn(re,"$reverse_each",Tt=function(){var t,e=this,n=Tt.$$p,r=n||s;return n&&(Tt.$$p=null),r===s?u(e,"enum_for",["reverse_each"],(t=function(){return(t.$$s||this).$size()},t.$$s=e,t.$$arity=0,t)):(u(e.$reverse(),"each",[],r.$to_proc()),e)},Tt.$$arity=0),t.defn(re,"$rindex",It=function(t){var e=this,n=It.$$p,r=n||s;n&&(It.$$p=null);var i,a;if(null!=t){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(e[i]["$=="](t))return i}else if(r!==s){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(!1!==(a=r(e[i]))&&a!==s)return i}else if(null==t)return e.$enum_for("rindex");return s},It.$$arity=-1),t.defn(re,"$rotate",Ct=function(e){var n=this;null==e&&(e=1),e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int");var r,i,a,$;return 1===n.length?n.slice():0===n.length?[]:(r=n.slice(),i=e%r.length,a=r.slice(i),$=r.slice(0,i),a.concat($))},Ct.$$arity=-1),t.defn(re,"$rotate!",qt=function(e){var n=this,r=s;return null==e&&(e=1),0===n.length||1===n.length?n:(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),r=n.$rotate(e),n.$replace(r))},qt.$$arity=-1),function(e,n,r){function i(){}var a,$,o=i=l(e,null,"SampleRandom",i),_=o.$$proto,u=[o].concat(r);_.rng=s,t.defn(o,"$initialize",a=function(t){return this.rng=t},a.$$arity=1),t.defn(o,"$rand",$=function(e){var n=this,r=s;return r=t.const_get_relative(u,"Opal").$coerce_to(n.rng.$rand(e),t.const_get_relative(u,"Integer"),"to_int"),c(r<0)&&n.$raise(t.const_get_relative(u,"RangeError"),"random value must be >= 0"),c(r<e)||n.$raise(t.const_get_relative(u,"RangeError"),"random value must be less than Array size"),r},$.$$arity=1)}(ae[0],0,ae),t.defn(re,"$sample",Nt=function(e,n){var r,i=this,a=s,$=s;if(c(void 0===e))return i.$at(t.const_get_relative(ae,"Kernel").$rand(i.length));if(c(void 0===n)?c(a=t.const_get_relative(ae,"Opal")["$coerce_to?"](e,t.const_get_relative(ae,"Hash"),"to_hash"))?(n=a,e=s):(n=s,e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int")):(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),n=t.const_get_relative(ae,"Opal").$coerce_to(n,t.const_get_relative(ae,"Hash"),"to_hash")),c(c(r=e)?e<0:r)&&i.$raise(t.const_get_relative(ae,"ArgumentError"),"count must be greater than 0"),c(n)&&($=n["$[]"]("random")),$=c(c(r=$)?$["$respond_to?"]("rand"):r)?t.const_get_relative(ae,"SampleRandom").$new($):t.const_get_relative(ae,"Kernel"),!c(e))return i[$.$rand(i.length)];var o,l,_,u,d,f,p,h;switch(e>i.length&&(e=i.length),e){case 0:return[];case 1:return[i[$.$rand(i.length)]];case 2:return u=$.$rand(i.length),d=$.$rand(i.length),u===d&&(d=0===u?u+1:u-1),[i[u],i[d]];default:if(i.length/e>3){for(o=!1,l=0,u=1,(_=t.const_get_relative(ae,"Array").$new(e))[0]=$.$rand(i.length);u<e;){for(f=$.$rand(i.length),d=0;d<u;){for(;f===_[d];){if(++l>100){o=!0;break}f=$.$rand(i.length)}if(o)break;d++}if(o)break;_[u]=f,u++}if(!o){for(u=0;u<e;)_[u]=i[_[u]],u++;return _}}_=i.slice();for(var g=0;g<e;g++)p=$.$rand(i.length),h=_[g],_[g]=_[p],_[p]=h;return e===i.length?_:_["$[]"](0,e)}},Nt.$$arity=-1),t.defn(re,"$select",Lt=function(){var e,n=this,r=Lt.$$p,i=r||s;if(r&&(Lt.$$p=null),i===s)return u(n,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a,$,o=[],l=0,c=n.length;l<c;l++)a=n[l],!1!==($=t.yield1(i,a))&&$!==s&&o.push(a);return o},Lt.$$arity=0),t.defn(re,"$select!",zt=function(){var t,e=this,n=zt.$$p,r=n||s;if(n&&(zt.$$p=null),r===s)return u(e,"enum_for",["select!"],(t=function(){return(t.$$s||this).$size()},t.$$s=e,t.$$arity=0,t));var i=e.length;return u(e,"keep_if",[],r.$to_proc()),e.length===i?s:e},zt.$$arity=0),t.defn(re,"$shift",Pt=function(e){var n=this;return c(void 0===e)?c(0===n.length)?s:n.shift():(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),c(e<0)&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),c(0===n.length)?[]:n.splice(0,e))},Pt.$$arity=-1),t.alias(re,"size","length"),t.defn(re,"$shuffle",Dt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},Dt.$$arity=-1),t.defn(re,"$shuffle!",Bt=function(e){var n,r,i,a=this,$=a.length;for(void 0!==e&&(e=t.const_get_relative(ae,"Opal")["$coerce_to?"](e,t.const_get_relative(ae,"Hash"),"to_hash"))!==s&&(e=e["$[]"]("random"))!==s&&e["$respond_to?"]("rand")&&(n=e);$;)n?((r=n.$rand($).$to_int())<0&&a.$raise(t.const_get_relative(ae,"RangeError"),"random number too small "+r),r>=$&&a.$raise(t.const_get_relative(ae,"RangeError"),"random number too big "+r)):r=a.$rand($),i=a[--$],a[$]=a[r],a[r]=i;return a},Bt.$$arity=-1),t.alias(re,"slice","[]"),t.defn(re,"$slice!",jt=function(e,n){var r=this,i=s,a=s,$=s,o=s,l=s;if(i=s,c(void 0===n))if(c(t.const_get_relative(ae,"Range")["$==="](e))){a=e,i=r["$[]"](a),$=t.const_get_relative(ae,"Opal").$coerce_to(a.$begin(),t.const_get_relative(ae,"Integer"),"to_int"),o=t.const_get_relative(ae,"Opal").$coerce_to(a.$end(),t.const_get_relative(ae,"Integer"),"to_int"),$<0&&($+=r.length),o<0?o+=r.length:o>=r.length&&(o=r.length-1,a.excl&&(o+=1));var _=o-$;a.excl?o-=1:_+=1,$<r.length&&$>=0&&o<r.length&&o>=0&&_>0&&r.splice($,_)}else{if((l=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"))<0&&(l+=r.length),l<0||l>=r.length)return s;i=r[l],0===l?r.shift():r.splice(l,1)}else{if(l=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),(n=t.const_get_relative(ae,"Opal").$coerce_to(n,t.const_get_relative(ae,"Integer"),"to_int"))<0)return s;i=r["$[]"](l,n),l<0&&(l+=r.length),l+n>r.length&&(n=r.length-l),l<r.length&&l>=0&&r.splice(l,n)}return i},jt.$$arity=-2),t.defn(re,"$sort",Ft=function(){var n=this,r=Ft.$$p,a=r||s;return r&&(Ft.$$p=null),c(n.length>1)?(a===s&&(a=function(t,e){return t["$<=>"](e)}),n.slice().sort(function(r,$){var o=a(r,$);return o===s&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"comparison of "+r.$inspect()+" with "+$.$inspect()+" failed"),e(o,0)?1:i(o,0)?-1:0})):n},Ft.$$arity=0),t.defn(re,"$sort!",Ut=function(){var t=this,e=Ut.$$p,n=e||s;e&&(Ut.$$p=null);var r;r=n!==s?u(t.slice(),"sort",[],n.$to_proc()):t.slice().$sort(),t.length=0;for(var i=0,a=r.length;i<a;i++)t.push(r[i]);return t},Ut.$$arity=0),t.defn(re,"$sort_by!",Gt=function(){var t,e=this,n=Gt.$$p,r=n||s;return n&&(Gt.$$p=null),r===s?u(e,"enum_for",["sort_by!"],(t=function(){return(t.$$s||this).$size()},t.$$s=e,t.$$arity=0,t)):e.$replace(u(e,"sort_by",[],r.$to_proc()))},Gt.$$arity=0),t.defn(re,"$take",Ht=function(e){var n=this;return e<0&&n.$raise(t.const_get_relative(ae,"ArgumentError")),n.slice(0,e)},Ht.$$arity=1),t.defn(re,"$take_while",Yt=function(){var t=this,e=Yt.$$p,n=e||s;e&&(Yt.$$p=null);for(var r,i,a=[],$=0,o=t.length;$<o;$++){if(r=t[$],!1===(i=n(r))||i===s)return a;a.push(r)}return a},Yt.$$arity=0),t.defn(re,"$to_a",Kt=function(){return this},Kt.$$arity=0),t.alias(re,"to_ary","to_a"),t.defn(re,"$to_h",Wt=function(){var e,n,r,i,a=this,$=a.length,o=_([],{});for(e=0;e<$;e++)(n=t.const_get_relative(ae,"Opal")["$coerce_to?"](a[e],t.const_get_relative(ae,"Array"),"to_ary")).$$is_array||a.$raise(t.const_get_relative(ae,"TypeError"),"wrong element type "+n.$class()+" at "+e+" (expected array)"),2!==n.length&&a.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+n.$length()+")"),r=n[0],i=n[1],t.hash_put(o,r,i);return o},Wt.$$arity=0),t.alias(re,"to_s","inspect"),t.defn(re,"$transpose",Xt=function(){var e,n=this,r=s,i=s;return c(n["$empty?"]())?[]:(r=[],i=s,u(n,"each",[],(e=function(n){var $,o,l=e.$$s||this;return null==n&&(n=s),n=c(t.const_get_relative(ae,"Array")["$==="](n))?n.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(n,t.const_get_relative(ae,"Array"),"to_ary").$to_a(),i=c($=i)?$:n.length,c(n.length["$!="](i))&&l.$raise(t.const_get_relative(ae,"IndexError"),"element size differs ("+n.length+" should be "+i),u(n.length,"times",[],(o=function(e){o.$$s;var i,$=s;return null==e&&(e=s),(c(i=r["$[]"](e))?i:($=[e,[]],u(r,"[]=",t.to_a($)),$[a($.length,1)]))["$<<"](n.$at(e))},o.$$s=l,o.$$arity=1,o))},e.$$s=n,e.$$arity=1,e)),r)},Xt.$$arity=0),t.defn(re,"$uniq",Vt=function(){var e=this,n=Vt.$$p,r=n||s;n&&(Vt.$$p=null);var i,a,$,o,l=_([],{});if(r===s)for(i=0,a=e.length;i<a;i++)$=e[i],void 0===t.hash_get(l,$)&&t.hash_put(l,$,$);else for(i=0,a=e.length;i<a;i++)$=e[i],o=t.yield1(r,$),void 0===t.hash_get(l,o)&&t.hash_put(l,o,$);return h(l.$values(),e.$class())},Vt.$$arity=0),t.defn(re,"$uniq!",Jt=function(){var e=this,n=Jt.$$p,r=n||s;n&&(Jt.$$p=null);var i,a,$,o,l=e.length,c=_([],{});for(i=0,a=l;i<a;i++)$=e[i],o=r===s?$:t.yield1(r,$),void 0!==t.hash_get(c,o)?(e.splice(i,1),a--,i--):t.hash_put(c,o,$);return e.length===l?s:e},Jt.$$arity=0),t.defn(re,"$unshift",Zt=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=e.length-1;$>=0;$--)n.unshift(e[$]);return n},Zt.$$arity=-1),t.defn(re,"$values_at",Qt=function(e){var n,r,i=this,a=s,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<$;l++)r[l-0]=arguments[l];return a=[],u(r,"each",[],(n=function(e){var r,i=n.$$s||this,$=s,o=s,l=s;return null==e&&(e=s),c(e["$kind_of?"](t.const_get_relative(ae,"Range")))?($=t.const_get_relative(ae,"Opal").$coerce_to(e.$last(),t.const_get_relative(ae,"Integer"),"to_int"),(o=t.const_get_relative(ae,"Opal").$coerce_to(e.$first(),t.const_get_relative(ae,"Integer"),"to_int"))<0?(o+=i.length,s):($<0&&($+=i.length),e["$exclude_end?"]()&&$--,$<o?s:u(o,"upto",[$],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),a["$<<"](e.$at(t))},r.$$s=i,r.$$arity=1,r)))):(l=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),a["$<<"](i.$at(l)))},n.$$s=i,n.$$arity=1,n)),a},Qt.$$arity=-1),t.defn(re,"$zip",te=function(e){var n,r,i=this,a=te.$$p,$=a||s,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var _=0;_<o;_++)r[_-0]=arguments[_];a&&(te.$$p=null);var u,d,f,p,h,g=[],v=i.length;for(p=0,h=r.length;p<h;p++)(d=r[p]).$$is_array||(d.$$is_enumerator?d.$size()===1/0?r[p]=d.$take(v):r[p]=d.$to_a():r[p]=(c(n=t.const_get_relative(ae,"Opal")["$coerce_to?"](d,t.const_get_relative(ae,"Array"),"to_ary"))?n:t.const_get_relative(ae,"Opal")["$coerce_to!"](d,t.const_get_relative(ae,"Enumerator"),"each")).$to_a());for(f=0;f<v;f++){for(u=[i[f]],p=0,h=r.length;p<h;p++)null==(d=r[p][f])&&(d=s),u[p+1]=d;g[f]=u}if($!==s){for(f=0;f<v;f++)$(g[f]);return s}return g},te.$$arity=-1),t.defs(re,"$inherited",ee=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},ee.$$arity=1),t.defn(re,"$instance_variables",ne=function(){var e,n=this,r=ne.$$p,i=s,a=s,$=s;for(r&&(ne.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return u(u(n,t.find_super_dispatcher(n,"instance_variables",ne,!1),i,r),"reject",[],(e=function(t){var n;e.$$s;return null==t&&(t=s),c(n=/^@\d+$/.test(t))?n:t["$=="]("@length")},e.$$s=n,e.$$arity=1,e))},ne.$$arity=0),t.const_get_relative(ae,"Opal").$pristine(re,"allocate","copy_instance_variables","initialize_dup")}(o[0],Array,o)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,a=[],$=t.nil,o=(t.breaker,t.slice,t.klass),s=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$call","$enum_for","$size","$respond_to?","$class","$dig","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$alias_method","$proc"]),i.$require("corelib/enumerable"),function(i,a,_){function u(){}var d,f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,_t,ut,dt,ft=u=o(i,null,"Hash",u),pt=ft.$$proto,ht=[ft].concat(_);ft.$include(t.const_get_relative(ht,"Enumerable")),pt.$$is_hash=!0,t.defs(ft,"$[]",d=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<i;o++)n[o-0]=arguments[o];var s,l,c=n.length;if(1===c){if((s=t.const_get_relative(ht,"Opal")["$coerce_to?"](n["$[]"](0),t.const_get_relative(ht,"Hash"),"to_hash"))!==$)return r.$allocate()["$merge!"](s);for((n=t.const_get_relative(ht,"Opal")["$coerce_to?"](n["$[]"](0),t.const_get_relative(ht,"Array"),"to_ary"))===$&&r.$raise(t.const_get_relative(ht,"ArgumentError"),"odd number of arguments for Hash"),c=n.length,s=r.$allocate(),l=0;l<c;l++)if(n[l].$$is_array)switch(n[l].length){case 1:s.$store(n[l][0],$);break;case 2:s.$store(n[l][0],n[l][1]);break;default:r.$raise(t.const_get_relative(ht,"ArgumentError"),"invalid number of elements ("+n[l].length+" for 1..2)")}return s}for(c%2!=0&&r.$raise(t.const_get_relative(ht,"ArgumentError"),"odd number of arguments for Hash"),s=r.$allocate(),l=0;l<c;l+=2)s.$store(n[l],n[l+1]);return s},d.$$arity=-1),t.defs(ft,"$allocate",f=function(){var e=new this.$$alloc;return t.hash_init(e),e.$$none=$,e.$$proc=$,e},f.$$arity=0),t.defs(ft,"$try_convert",p=function(e){return t.const_get_relative(ht,"Opal")["$coerce_to?"](e,t.const_get_relative(ht,"Hash"),"to_hash")},p.$$arity=1),t.defn(ft,"$initialize",h=function(e){var n=this,r=h.$$p,i=r||$;return r&&(h.$$p=null),void 0!==e&&i!==$&&n.$raise(t.const_get_relative(ht,"ArgumentError"),"wrong number of arguments (1 for 0)"),n.$$none=void 0===e?$:e,n.$$proc=i,n},h.$$arity=-1),t.defn(ft,"$==",g=function(e){var n=this;if(n===e)return!0;if(!e.$$is_hash)return!1;if(n.$$keys.length!==e.$$keys.length)return!1;for(var r,i,a,$=0,o=n.$$keys,s=o.length;$<s;$++)if((r=o[$]).$$is_string?(i=n.$$smap[r],a=e.$$smap[r]):(i=r.value,a=t.hash_get(e,r.key)),void 0===a||!i["$eql?"](a))return!1;return!0},g.$$arity=1),t.defn(ft,"$>=",v=function(e){var n,r=this,i=$;return e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Hash"),"to_hash"),!(r.$$keys.length<e.$$keys.length)&&(i=!0,s(e,"each",[],(n=function(t,e){var r=n.$$s||this,a=$;null==t&&(t=$),null==e&&(e=$),null!=(a=r.$fetch(t,null))&&a===e||(i=!1)},n.$$s=r,n.$$arity=2,n)),i)},v.$$arity=1),t.defn(ft,"$>",m=function(n){var r=this;return n=t.const_get_relative(ht,"Opal")["$coerce_to!"](n,t.const_get_relative(ht,"Hash"),"to_hash"),!(r.$$keys.length<=n.$$keys.length)&&e(r,n)},m.$$arity=1),t.defn(ft,"$<",y=function(e){var r=this;return e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Hash"),"to_hash"),n(e,r)},y.$$arity=1),t.defn(ft,"$<=",b=function(n){var r=this;return n=t.const_get_relative(ht,"Opal")["$coerce_to!"](n,t.const_get_relative(ht,"Hash"),"to_hash"),e(n,r)},b.$$arity=1),t.defn(ft,"$[]",w=function(e){var n=this,r=t.hash_get(n,e);return void 0!==r?r:n.$default(e)},w.$$arity=1),t.defn(ft,"$[]=",k=function(e,n){var r=this;return t.hash_put(r,e,n),n},k.$$arity=2),t.defn(ft,"$assoc",x=function(t){for(var e,n=this,r=0,i=n.$$keys,a=i.length;r<a;r++)if((e=i[r]).$$is_string){if(e["$=="](t))return[e,n.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return $},x.$$arity=1),t.defn(ft,"$clear",E=function(){var e=this;return t.hash_init(e),e},E.$$arity=0),t.defn(ft,"$clone",O=function(){var e=this,n=new e.$$class.$$alloc;return t.hash_init(n),t.hash_clone(e,n),n},O.$$arity=0),t.defn(ft,"$compare_by_identity",A=function(){var e,n,r,i,a=this,$=a.$$keys;if(a.$$by_identity)return a;if(0===a.$$keys.length)return a.$$by_identity=!0,a;for(i=l([],{}).$compare_by_identity(),e=0,n=$.length;e<n;e++)(r=$[e]).$$is_string||(r=r.key),t.hash_put(i,r,t.hash_get(a,r));return a.$$by_identity=!0,a.$$map=i.$$map,a.$$smap=i.$$smap,a},A.$$arity=0),t.defn(ft,"$compare_by_identity?",S=function(){return!0===this.$$by_identity},S.$$arity=0),t.defn(ft,"$default",R=function(t){var e=this;return void 0!==t&&e.$$proc!==$&&void 0!==e.$$proc?e.$$proc.$call(e,t):void 0===e.$$none?$:e.$$none},R.$$arity=-1),t.defn(ft,"$default=",M=function(t){var e=this;return e.$$proc=$,e.$$none=t,t},M.$$arity=1),t.defn(ft,"$default_proc",T=function(){var t=this;return void 0!==t.$$proc?t.$$proc:$},T.$$arity=0),t.defn(ft,"$default_proc=",I=function(e){var n=this,r=e;return r!==$&&(r=t.const_get_relative(ht,"Opal")["$coerce_to!"](r,t.const_get_relative(ht,"Proc"),"to_proc"))["$lambda?"]()&&2!==r.$arity().$abs()&&n.$raise(t.const_get_relative(ht,"TypeError"),"default_proc takes two arguments"),n.$$none=$,n.$$proc=r,e},I.$$arity=1),t.defn(ft,"$delete",C=function(e){var n=this,r=C.$$p,i=r||$;r&&(C.$$p=null);var a=t.hash_delete(n,e);return void 0!==a?a:i!==$?i.$call(e):$},C.$$arity=1),t.defn(ft,"$delete_if",q=function(){var e,n=this,r=q.$$p,i=r||$;if(r&&(q.$$p=null),!c(i))return s(n,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,_=0,u=n.$$keys,d=u.length;_<d;_++)(a=u[_]).$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),!1!==(l=i(a,o))&&l!==$&&void 0!==t.hash_delete(n,a)&&(d--,_--);return n},q.$$arity=0),t.alias(ft,"dup","clone"),t.defn(ft,"$dig",N=function(e,n){var r,i=this,a=$,o=arguments.length,l=o-1;l<0&&(l=0),r=new Array(l);for(var _=1;_<o;_++)r[_-1]=arguments[_];return(a=i["$[]"](e))===$||0===r.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(t.const_get_relative(ht,"TypeError"),a.$class()+" does not have #dig method"),s(a,"dig",t.to_a(r)))},N.$$arity=-2),t.defn(ft,"$each",L=function(){var e,n=this,r=L.$$p,i=r||$;if(r&&(L.$$p=null),!c(i))return s(n,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l=0,_=n.$$keys,u=_.length;l<u;l++)(a=_[l]).$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),t.yield1(i,[a,o]);return n},L.$$arity=0),t.defn(ft,"$each_key",z=function(){var t,e=this,n=z.$$p,r=n||$;if(n&&(z.$$p=null),!c(r))return s(e,"enum_for",["each_key"],(t=function(){return(t.$$s||this).$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,o=e.$$keys,l=o.length;a<l;a++)r((i=o[a]).$$is_string?i:i.key);return e},z.$$arity=0),t.alias(ft,"each_pair","each"),t.defn(ft,"$each_value",P=function(){var t,e=this,n=P.$$p,r=n||$;if(n&&(P.$$p=null),!c(r))return s(e,"enum_for",["each_value"],(t=function(){return(t.$$s||this).$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,o=e.$$keys,l=o.length;a<l;a++)r((i=o[a]).$$is_string?e.$$smap[i]:i.value);return e},P.$$arity=0),t.defn(ft,"$empty?",D=function(){return 0===this.$$keys.length},D.$$arity=0),t.alias(ft,"eql?","=="),t.defn(ft,"$fetch",B=function(e,n){var r=this,i=B.$$p,a=i||$;i&&(B.$$p=null);var o=t.hash_get(r,e);return void 0!==o?o:a!==$?a(e):void 0!==n?n:r.$raise(t.const_get_relative(ht,"KeyError"),"key not found: "+e.$inspect())},B.$$arity=-2),t.defn(ft,"$fetch_values",j=function(t){var e,n,r=this,i=j.$$p,a=i||$,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];return i&&(j.$$p=null),s(n,"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=$),s(n,"fetch",[t],a.$to_proc())},e.$$s=r,e.$$arity=1,e))},j.$$arity=-1),t.defn(ft,"$flatten",F=function(e){var n=this;null==e&&(e=1),e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Integer"),"to_int");for(var r,i,a=[],$=0,o=n.$$keys,s=o.length;$<s;$++)if((r=o[$]).$$is_string?i=n.$$smap[r]:(i=r.value,r=r.key),a.push(r),i.$$is_array){if(1===e){a.push(i);continue}a=a.concat(i.$flatten(e-2))}else a.push(i);return a},F.$$arity=-1),t.defn(ft,"$has_key?",U=function(e){var n=this;return void 0!==t.hash_get(n,e)},U.$$arity=1),t.defn(ft,"$has_value?",G=function(t){for(var e,n=this,r=0,i=n.$$keys,a=i.length;r<a;r++)if(((e=i[r]).$$is_string?n.$$smap[e]:e.value)["$=="](t))return!0;return!1},G.$$arity=1),t.defn(ft,"$hash",H=function(){var e,n,r=this,i=void 0===t.hash_ids,a=r.$object_id(),$=["Hash"];try{if(i&&(t.hash_ids=Object.create(null)),t[a])return"self";for(e in t.hash_ids)if(n=t.hash_ids[e],r["$eql?"](n))return"self";t.hash_ids[a]=r;for(var o=0,s=r.$$keys,l=s.length;o<l;o++)(e=s[o]).$$is_string?$.push([e,r.$$smap[e].$hash()]):$.push([e.key_hash,e.value.$hash()]);return $.sort().join()}finally{i&&(t.hash_ids=void 0)}},H.$$arity=0),t.alias(ft,"include?","has_key?"),t.defn(ft,"$index",Y=function(t){for(var e,n,r=this,i=0,a=r.$$keys,o=a.length;i<o;i++)if((e=a[i]).$$is_string?n=r.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return e;return $},Y.$$arity=1),t.defn(ft,"$indexes",K=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];for(var o,s,l=[],c=0,_=n.length;c<_;c++)o=n[c],void 0!==(s=t.hash_get(r,o))?l.push(s):l.push(r.$default());return l},K.$$arity=-1),t.alias(ft,"indices","indexes");var gt;return t.defn(ft,"$inspect",W=function(){var t=this,e=void 0===gt,n=t.$object_id(),r=[];try{if(e&&(gt={}),gt.hasOwnProperty(n))return"{...}";gt[n]=!0;for(var i,a,$=0,o=t.$$keys,s=o.length;$<s;$++)(i=o[$]).$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),r.push(i.$inspect()+"=>"+a.$inspect());return"{"+r.join(", ")+"}"}finally{e&&(gt=void 0)}},W.$$arity=0),t.defn(ft,"$invert",X=function(){for(var e,n,r=this,i=t.hash(),a=0,$=r.$$keys,o=$.length;a<o;a++)(e=$[a]).$$is_string?n=r.$$smap[e]:(n=e.value,e=e.key),t.hash_put(i,n,e);return i},X.$$arity=0),t.defn(ft,"$keep_if",V=function(){var e,n=this,r=V.$$p,i=r||$;if(r&&(V.$$p=null),!c(i))return s(n,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,_=0,u=n.$$keys,d=u.length;_<d;_++)(a=u[_]).$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),!1!==(l=i(a,o))&&l!==$||void 0!==t.hash_delete(n,a)&&(d--,_--);return n},V.$$arity=0),t.alias(ft,"key","index"),t.alias(ft,"key?","has_key?"),t.defn(ft,"$keys",J=function(){for(var t,e=[],n=0,r=this.$$keys,i=r.length;n<i;n++)(t=r[n]).$$is_string?e.push(t):e.push(t.key);return e},J.$$arity=0),t.defn(ft,"$length",Z=function(){return this.$$keys.length},Z.$$arity=0),t.alias(ft,"member?","has_key?"),t.defn(ft,"$merge",Q=function(t){var e=this,n=Q.$$p,r=n||$;return n&&(Q.$$p=null),s(e.$dup(),"merge!",[t],r.$to_proc())},Q.$$arity=1),t.defn(ft,"$merge!",tt=function(e){var n=this,r=tt.$$p,i=r||$;r&&(tt.$$p=null),e.$$is_hash||(e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Hash"),"to_hash"));var a,o,s,l,c=e.$$keys,_=c.length;if(i===$){for(a=0;a<_;a++)(o=c[a]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),t.hash_put(n,o,l);return n}for(a=0;a<_;a++)(o=c[a]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),void 0!==(s=t.hash_get(n,o))?t.hash_put(n,o,i(o,s,l)):t.hash_put(n,o,l);return n},tt.$$arity=1),t.defn(ft,"$rassoc",et=function(t){for(var e,n,r=this,i=0,a=r.$$keys,o=a.length;i<o;i++)if((e=a[i]).$$is_string?n=r.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return[e,n];return $},et.$$arity=1),t.defn(ft,"$rehash",nt=function(){var e=this;return t.hash_rehash(e),e},nt.$$arity=0),t.defn(ft,"$reject",rt=function(){var e,n=this,r=rt.$$p,i=r||$;if(r&&(rt.$$p=null),!c(i))return s(n,"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,_=t.hash(),u=0,d=n.$$keys,f=d.length;u<f;u++)(a=d[u]).$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),!1!==(l=i(a,o))&&l!==$||t.hash_put(_,a,o);return _},rt.$$arity=0),t.defn(ft,"$reject!",it=function(){var e,n=this,r=it.$$p,i=r||$;if(r&&(it.$$p=null),!c(i))return s(n,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,_=!1,u=0,d=n.$$keys,f=d.length;u<f;u++)(a=d[u]).$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),!1!==(l=i(a,o))&&l!==$&&void 0!==t.hash_delete(n,a)&&(_=!0,f--,u--);return _?n:$},it.$$arity=0),t.defn(ft,"$replace",at=function(e){var n=this,i=$;e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Hash"),"to_hash"),t.hash_init(n);for(var a,o,l=0,_=e.$$keys,u=_.length;l<u;l++)(a=_[l]).$$is_string?o=e.$$smap[a]:(o=a.value,a=a.key),t.hash_put(n,a,o);return c(e.$default_proc())?(i=[e.$default_proc()],s(n,"default_proc=",t.to_a(i)),i[r(i.length,1)]):(i=[e.$default()],s(n,"default=",t.to_a(i)),i[r(i.length,1)]),n},at.$$arity=1),t.defn(ft,"$select",$t=function(){var e,n=this,r=$t.$$p,i=r||$;if(r&&($t.$$p=null),!c(i))return s(n,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,_=t.hash(),u=0,d=n.$$keys,f=d.length;u<f;u++)(a=d[u]).$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),!1!==(l=i(a,o))&&l!==$&&t.hash_put(_,a,o);return _},$t.$$arity=0),t.defn(ft,"$select!",ot=function(){var e,n=this,r=ot.$$p,i=r||$;if(r&&(ot.$$p=null),!c(i))return s(n,"enum_for",["select!"],(e=function(){return(e.$$s||this).$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,_=$,u=0,d=n.$$keys,f=d.length;u<f;u++)(a=d[u]).$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),!1!==(l=i(a,o))&&l!==$||(void 0!==t.hash_delete(n,a)&&(f--,u--),_=n);return _},ot.$$arity=0),t.defn(ft,"$shift",st=function(){var e,n=this,r=n.$$keys;return r.length>0?(e=r[0],e=e.$$is_string?e:e.key,[e,t.hash_delete(n,e)]):n.$default($)},st.$$arity=0),t.alias(ft,"size","length"),ft.$alias_method("store","[]="),t.defn(ft,"$to_a",lt=function(){for(var t,e,n=this,r=[],i=0,a=n.$$keys,$=a.length;i<$;i++)(t=a[i]).$$is_string?e=n.$$smap[t]:(e=t.value,t=t.key),r.push([t,e]);return r},lt.$$arity=0),t.defn(ft,"$to_h",ct=function(){var e=this;if(e.$$class===t.Hash)return e;var n=new t.Hash.$$alloc;return t.hash_init(n),t.hash_clone(e,n),n},ct.$$arity=0),t.defn(ft,"$to_hash",_t=function(){return this},_t.$$arity=0),t.defn(ft,"$to_proc",ut=function(){var e,n=this;return s(n,"proc",[],(e=function(n){var r=e.$$s||this;return null==n&&r.$raise(t.const_get_relative(ht,"ArgumentError"),"no key given"),r["$[]"](n)},e.$$s=n,e.$$arity=-1,e))},ut.$$arity=0),t.alias(ft,"to_s","inspect"),t.alias(ft,"update","merge!"),t.alias(ft,"value?","has_value?"),t.alias(ft,"values_at","indexes"),t.defn(ft,"$values",dt=function(){for(var t,e=this,n=[],r=0,i=e.$$keys,a=i.length;r<a;r++)(t=i[r]).$$is_string?n.push(e.$$smap[t]):n.push(t.value);return n},dt.$$arity=0),$&&"values"}(a[0],0,a)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var l=t.top,c=[],_=t.nil,u=(t.breaker,t.slice,t.klass),d=t.truthy,f=t.send,p=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),l.$require("corelib/numeric"),function(l,c,h){function g(){}var v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,_t,ut,dt,ft,pt,ht,gt,vt,mt,yt,bt,wt,kt,xt,Et,Ot,At,St,Rt=g=u(l,c,"Number",g),Mt=(Rt.$$proto,[Rt].concat(h));t.const_get_relative(Mt,"Opal").$bridge(Rt,Number),Number.prototype.$$is_number=!0,Rt.$$is_number_class=!0,t.defn(Rt,"$coerce",v=function(e){var n=this;if(e===_)n.$raise(t.const_get_relative(Mt,"TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[n.$Float(e),n];if(e["$respond_to?"]("to_f"))return[t.const_get_relative(Mt,"Opal")["$coerce_to!"](e,t.const_get_relative(Mt,"Float"),"to_f"),n];if(e.$$is_number)return[e,n];n.$raise(t.const_get_relative(Mt,"TypeError"),"can't convert "+e.$class()+" into Float")}},v.$$arity=1),t.defn(Rt,"$__id__",m=function(){return 2*this+1},m.$$arity=0),t.alias(Rt,"object_id","__id__"),t.defn(Rt,"$+",y=function(t){var e=this;return t.$$is_number?e+t:e.$__coerced__("+",t)},y.$$arity=1),t.defn(Rt,"$-",b=function(t){var e=this;return t.$$is_number?e-t:e.$__coerced__("-",t)},b.$$arity=1),t.defn(Rt,"$*",w=function(t){var e=this;return t.$$is_number?e*t:e.$__coerced__("*",t)},w.$$arity=1),t.defn(Rt,"$/",k=function(t){var e=this;return t.$$is_number?e/t:e.$__coerced__("/",t)},k.$$arity=1),t.alias(Rt,"fdiv","/"),t.defn(Rt,"$%",x=function(e){var n=this;return e.$$is_number?e==-1/0?e:0!=e?e<0||n<0?(n%e+e)%e:n%e:void n.$raise(t.const_get_relative(Mt,"ZeroDivisionError"),"divided by 0"):n.$__coerced__("%",e)},x.$$arity=1),t.defn(Rt,"$&",E=function(t){var e=this;return t.$$is_number?e&t:e.$__coerced__("&",t)},E.$$arity=1),t.defn(Rt,"$|",O=function(t){var e=this;return t.$$is_number?e|t:e.$__coerced__("|",t)},O.$$arity=1),t.defn(Rt,"$^",A=function(t){var e=this;return t.$$is_number?e^t:e.$__coerced__("^",t)},A.$$arity=1),t.defn(Rt,"$<",S=function(t){var e=this;return t.$$is_number?e<t:e.$__coerced__("<",t)},S.$$arity=1),t.defn(Rt,"$<=",R=function(t){var e=this;return t.$$is_number?e<=t:e.$__coerced__("<=",t)},R.$$arity=1),t.defn(Rt,"$>",M=function(t){var e=this;return t.$$is_number?e>t:e.$__coerced__(">",t)},M.$$arity=1),t.defn(Rt,"$>=",T=function(t){var e=this;return t.$$is_number?e>=t:e.$__coerced__(">=",t)},T.$$arity=1);var Tt=function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?_:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)};t.defn(Rt,"$<=>",I=function(e){var n=this;try{return Tt(n,e)}catch(e){if(!t.rescue(e,[t.const_get_relative(Mt,"ArgumentError")]))throw e;try{return _}finally{t.pop_exception()}}},I.$$arity=1),t.defn(Rt,"$<<",C=function(e){var n=this;return(e=t.const_get_relative(Mt,"Opal")["$coerce_to!"](e,t.const_get_relative(Mt,"Integer"),"to_int"))>0?n<<e:n>>-e},C.$$arity=1),t.defn(Rt,"$>>",q=function(e){var n=this;return(e=t.const_get_relative(Mt,"Opal")["$coerce_to!"](e,t.const_get_relative(Mt,"Integer"),"to_int"))>0?n>>e:n<<-e},q.$$arity=1),t.defn(Rt,"$[]",N=function(e){var n=this;return(e=t.const_get_relative(Mt,"Opal")["$coerce_to!"](e,t.const_get_relative(Mt,"Integer"),"to_int"))<0?0:e>=32?n<0?1:0:n>>e&1},N.$$arity=1),t.defn(Rt,"$+@",L=function(){return+this},L.$$arity=0),t.defn(Rt,"$-@",z=function(){return-this},z.$$arity=0),t.defn(Rt,"$~",P=function(){return~this},P.$$arity=0),t.defn(Rt,"$**",D=function(r){var i,a,$=this;return d(t.const_get_relative(Mt,"Integer")["$==="](r))?d(d(i=t.const_get_relative(Mt,"Integer")["$==="]($)["$!"]())?i:e(r,0))?Math.pow($,r):t.const_get_relative(Mt,"Rational").$new($,1)["$**"](r):d((i=n($,0))?d(a=t.const_get_relative(Mt,"Float")["$==="](r))?a:t.const_get_relative(Mt,"Rational")["$==="](r):n($,0))?t.const_get_relative(Mt,"Complex").$new($,0)["$**"](r.$to_f()):d(null!=r.$$is_number)?Math.pow($,r):$.$__coerced__("**",r)},D.$$arity=1),t.defn(Rt,"$===",B=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},B.$$arity=1),t.defn(Rt,"$==",j=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},j.$$arity=1),t.defn(Rt,"$abs",F=function(){var t=this;return Math.abs(t)},F.$$arity=0),t.defn(Rt,"$abs2",U=function(){var t=this;return Math.abs(t*t)},U.$$arity=0),t.defn(Rt,"$angle",G=function(){var t=this;return d(t["$nan?"]())?t:0==t?1/t>0?0:Math.PI:t<0?Math.PI:0},G.$$arity=0),t.alias(Rt,"arg","angle"),t.alias(Rt,"phase","angle"),t.defn(Rt,"$bit_length",H=function(){var e=this;if(d(t.const_get_relative(Mt,"Integer")["$==="](e))||e.$raise(t.const_get_relative(Mt,"NoMethodError").$new("undefined method `bit_length` for "+e+":Float","bit_length")),0===e||-1===e)return 0;for(var n=0,r=e<0?~e:e;0!=r;)n+=1,r>>>=1;return n},H.$$arity=0),t.defn(Rt,"$ceil",Y=function(){var t=this;return Math.ceil(t)},Y.$$arity=0),t.defn(Rt,"$chr",K=function(t){var e=this;return String.fromCharCode(e)},K.$$arity=-1),t.defn(Rt,"$denominator",W=function(){var e,n=this,r=W.$$p,i=_,a=_,$=_;for(r&&(W.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return d(d(e=n["$nan?"]())?e:n["$infinite?"]())?1:f(n,t.find_super_dispatcher(n,"denominator",W,!1),i,r)},W.$$arity=0),t.defn(Rt,"$downto",X=function(n){var a,$=this,o=X.$$p,s=o||_;if(o&&(X.$$p=null),s===_)return f($,"enum_for",["downto",n],(a=function(){var $=a.$$s||this;return d(t.const_get_relative(Mt,"Numeric")["$==="](n))||$.$raise(t.const_get_relative(Mt,"ArgumentError"),"comparison of "+$.$class()+" with "+n.$class()+" failed"),d(e(n,$))?0:r(i($,n),1)},a.$$s=$,a.$$arity=0,a));n.$$is_number||$.$raise(t.const_get_relative(Mt,"ArgumentError"),"comparison of "+$.$class()+" with "+n.$class()+" failed");for(var l=$;l>=n;l--)s(l);return $},X.$$arity=1),t.alias(Rt,"eql?","=="),t.defn(Rt,"$equal?",V=function(t){var e,n=this;return d(e=n["$=="](t))?e:isNaN(n)&&isNaN(t)},V.$$arity=1),t.defn(Rt,"$even?",J=function(){return this%2==0},J.$$arity=0),t.defn(Rt,"$floor",Z=function(){var t=this;return Math.floor(t)},Z.$$arity=0),t.defn(Rt,"$gcd",Q=function(e){var n=this;d(t.const_get_relative(Mt,"Integer")["$==="](e))||n.$raise(t.const_get_relative(Mt,"TypeError"),"not an integer");for(var r=Math.abs(n),i=Math.abs(e);r>0;){var a=r;r=i%r,i=a}return i},Q.$$arity=1),t.defn(Rt,"$gcdlcm",tt=function(t){var e=this;return[e.$gcd(),e.$lcm()]},tt.$$arity=1),t.defn(Rt,"$integer?",et=function(){return this%1==0},et.$$arity=0),t.defn(Rt,"$is_a?",nt=function(e){var n=this,r=nt.$$p,i=_,a=_,$=_;for(r&&(nt.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return!!d(e["$=="](t.const_get_relative(Mt,"Fixnum"))?t.const_get_relative(Mt,"Integer")["$==="](n):e["$=="](t.const_get_relative(Mt,"Fixnum")))||(!!d(e["$=="](t.const_get_relative(Mt,"Integer"))?t.const_get_relative(Mt,"Integer")["$==="](n):e["$=="](t.const_get_relative(Mt,"Integer")))||(!!d(e["$=="](t.const_get_relative(Mt,"Float"))?t.const_get_relative(Mt,"Float")["$==="](n):e["$=="](t.const_get_relative(Mt,"Float")))||f(n,t.find_super_dispatcher(n,"is_a?",nt,!1),i,r)))},nt.$$arity=1),t.alias(Rt,"kind_of?","is_a?"),t.defn(Rt,"$instance_of?",rt=function(e){var n=this,r=rt.$$p,i=_,a=_,$=_;for(r&&(rt.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return!!d(e["$=="](t.const_get_relative(Mt,"Fixnum"))?t.const_get_relative(Mt,"Integer")["$==="](n):e["$=="](t.const_get_relative(Mt,"Fixnum")))||(!!d(e["$=="](t.const_get_relative(Mt,"Integer"))?t.const_get_relative(Mt,"Integer")["$==="](n):e["$=="](t.const_get_relative(Mt,"Integer")))||(!!d(e["$=="](t.const_get_relative(Mt,"Float"))?t.const_get_relative(Mt,"Float")["$==="](n):e["$=="](t.const_get_relative(Mt,"Float")))||f(n,t.find_super_dispatcher(n,"instance_of?",rt,!1),i,r)))},rt.$$arity=1),t.defn(Rt,"$lcm",it=function(e){var n=this;return d(t.const_get_relative(Mt,"Integer")["$==="](e))||n.$raise(t.const_get_relative(Mt,"TypeError"),"not an integer"),0==n||0==e?0:Math.abs(n*e/n.$gcd(e))},it.$$arity=1),t.alias(Rt,"magnitude","abs"),t.alias(Rt,"modulo","%"),t.defn(Rt,"$next",at=function(){return this+1},at.$$arity=0),t.defn(Rt,"$nonzero?",$t=function(){var t=this;return 0==t?_:t},$t.$$arity=0),t.defn(Rt,"$numerator",ot=function(){var e,n=this,r=ot.$$p,i=_,a=_,$=_;for(r&&(ot.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return d(d(e=n["$nan?"]())?e:n["$infinite?"]())?n:f(n,t.find_super_dispatcher(n,"numerator",ot,!1),i,r)},ot.$$arity=0),t.defn(Rt,"$odd?",st=function(){return this%2!=0},st.$$arity=0),t.defn(Rt,"$ord",lt=function(){return this},lt.$$arity=0),t.defn(Rt,"$pred",ct=function(){return this-1},ct.$$arity=0),t.defn(Rt,"$quo",_t=function(e){var n=this,r=_t.$$p,i=_,$=_,o=_;for(r&&(_t.$$p=null),$=0,o=arguments.length,i=new Array(o);$<o;$++)i[$]=arguments[$];return d(t.const_get_relative(Mt,"Integer")["$==="](n))?f(n,t.find_super_dispatcher(n,"quo",_t,!1),i,r):a(n,e)},_t.$$arity=1),t.defn(Rt,"$rationalize",ut=function(e){var n,r,a=this,o=_,s=_;return arguments.length>1&&a.$raise(t.const_get_relative(Mt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d(t.const_get_relative(Mt,"Integer")["$==="](a))?t.const_get_relative(Mt,"Rational").$new(a,1):d(a["$infinite?"]())?a.$raise(t.const_get_relative(Mt,"FloatDomainError"),"Infinity"):d(a["$nan?"]())?a.$raise(t.const_get_relative(Mt,"FloatDomainError"),"NaN"):d(null==e)?(r=t.const_get_relative(Mt,"Math").$frexp(a),n=t.to_ary(r),o=null==n[0]?_:n[0],s=null==n[1]?_:n[1],o=t.const_get_relative(Mt,"Math").$ldexp(o,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"MANT_DIG")).$to_i(),s=i(s,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"MANT_DIG")),t.const_get_relative(Mt,"Rational").$new($(2,o),1["$<<"](i(1,s))).$rationalize(t.const_get_relative(Mt,"Rational").$new(1,1["$<<"](i(1,s))))):a.$to_r().$rationalize(e)},ut.$$arity=-1),t.defn(Rt,"$round",dt=function($){var l,c,u=this,f=_;if(d(t.const_get_relative(Mt,"Integer")["$==="](u))){if(d(null==$))return u;if(d(d(l=t.const_get_relative(Mt,"Float")["$==="]($))?$["$infinite?"]():l)&&u.$raise(t.const_get_relative(Mt,"RangeError"),"Infinity"),$=t.const_get_relative(Mt,"Opal")["$coerce_to!"]($,t.const_get_relative(Mt,"Integer"),"to_int"),d(n($,t.const_get_qualified(t.const_get_relative(Mt,"Integer"),"MIN")))&&u.$raise(t.const_get_relative(Mt,"RangeError"),"out of bounds"),d($>=0))return u;if(.415241*($=$["$-@"]())-.125>u.$size())return 0;var p=Math.pow(10,$),h=Math.floor((Math.abs(h)+p/2)/p)*p;return u<0?-h:h}if(d(d(l=u["$nan?"]())?null==$:l)&&u.$raise(t.const_get_relative(Mt,"FloatDomainError"),"NaN"),$=t.const_get_relative(Mt,"Opal")["$coerce_to!"]($||0,t.const_get_relative(Mt,"Integer"),"to_int"),d(o($,0)))d(u["$nan?"]())?u.$raise(t.const_get_relative(Mt,"RangeError"),"NaN"):d(u["$infinite?"]())&&u.$raise(t.const_get_relative(Mt,"FloatDomainError"),"Infinity");else{if($["$=="](0))return Math.round(u);if(d(d(l=u["$nan?"]())?l:u["$infinite?"]()))return u}return c=t.const_get_relative(Mt,"Math").$frexp(u),l=t.to_ary(c),null==l[0]?_:l[0],f=null==l[1]?_:l[1],d(s($,i(r(t.const_get_qualified(t.const_get_relative(Mt,"Float"),"DIG"),2),d(e(f,0))?a(f,4):i(a(f,3),1))))?u:d(n($,(d(e(f,0))?r(a(f,3),1):a(f,4))["$-@"]()))?0:Math.round(u*Math.pow(10,$))/Math.pow(10,$)},dt.$$arity=-1),t.defn(Rt,"$step",ft=function(e,n,r){function i(){0===v&&m.$raise(t.const_get_relative(Mt,"ArgumentError"),"step cannot be 0"),g=d(o=g)?o:u,v=d(o=v)?o:d(s=h)?s:1,g.$$is_number||m.$raise(t.const_get_relative(Mt,"ArgumentError"),"limit must be a number"),v.$$is_number||m.$raise(t.const_get_relative(Mt,"ArgumentError"),"step must be a number")}function a(){if(v>0&&m>g||v<0&&m<g)return 0;if(v===1/0||v===-1/0)return 1;var e=Math.abs,n=Math.floor,r=(e(m)+e(g)+e(g-m))/e(v)*t.const_get_qualified(t.const_get_relative(Mt,"Float"),"EPSILON");return r===1/0||r===-1/0?0:(r>.5&&(r=.5),n((g-m)/v+r)+1)}function $(){if(i(),0===v)return 1/0;if(v%1!=0)return a();if(v>0&&m>g||v<0&&m<g)return 0;var t=Math.ceil,e=Math.abs;return t((e(m-g)+1)/e(v))}var o,s,l,c,u,h,g,v,m=this,y=ft.$$p,b=y||_;if(c=t.slice.call(arguments,0,arguments.length),null==(r=t.extract_kwargs(c))||!r.$$is_hash){if(null!=r)throw t.ArgumentError.$new("expected kwargs");r=p([],{})}if(null==(u=r.$$smap.to)&&(u=_),null==(h=r.$$smap.by)&&(h=_),0<c.length&&(g=c.splice(0,1)[0]),null==g&&(g=_),0<c.length&&(v=c.splice(0,1)[0]),null==v&&(v=_),y&&(ft.$$p=null),g!==_&&u!==_&&m.$raise(t.const_get_relative(Mt,"ArgumentError"),"to is given twice"),v!==_&&h!==_&&m.$raise(t.const_get_relative(Mt,"ArgumentError"),"step is given twice"),b===_)return f(m,"enum_for",["step",g,v,p(["to","by"],{to:u,by:h})],(l=function(){l.$$s;return $()},l.$$s=m,l.$$arity=0,l));if(i(),0===v)for(;;)b(m);if(m%1!=0||g%1!=0||v%1!=0){var w=a();if(w>0)if(v===1/0||v===-1/0)b(m);else{var k,x=0;if(v>0)for(;x<w;)g<(k=x*v+m)&&(k=g),b(k),x+=1;else for(;x<w;)g>(k=x*v+m)&&(k=g),b(k),x+=1}}else{var E=m;if(v>0)for(;E<=g;)b(E),E+=v;else for(;E>=g;)b(E),E+=v}return m},ft.$$arity=-1),t.alias(Rt,"succ","next"),t.defn(Rt,"$times",pt=function(){var t,e=this,n=pt.$$p,r=n||_;if(n&&(pt.$$p=null),!d(r))return f(e,"enum_for",["times"],(t=function(){return t.$$s||this},t.$$s=e,t.$$arity=0,t));for(var i=0;i<e;i++)r(i);return e},pt.$$arity=0),t.defn(Rt,"$to_f",ht=function(){return this},ht.$$arity=0),t.defn(Rt,"$to_i",gt=function(){var t=this;return parseInt(t,10)},gt.$$arity=0),t.alias(Rt,"to_int","to_i"),t.defn(Rt,"$to_r",vt=function(){var e,n,r=this,a=_,o=_;return d(t.const_get_relative(Mt,"Integer")["$==="](r))?t.const_get_relative(Mt,"Rational").$new(r,1):(n=t.const_get_relative(Mt,"Math").$frexp(r),e=t.to_ary(n),a=null==e[0]?_:e[0],o=null==e[1]?_:e[1],a=t.const_get_relative(Mt,"Math").$ldexp(a,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"MANT_DIG")).$to_i(),o=i(o,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"MANT_DIG")),$(a,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"RADIX")["$**"](o)).$to_r())},vt.$$arity=0),t.defn(Rt,"$to_s",mt=function(r){var i,a=this;return null==r&&(r=10),d(d(i=n(r,2))?i:e(r,36))&&a.$raise(t.const_get_relative(Mt,"ArgumentError"),"base must be between 2 and 36"),a.toString(r)},mt.$$arity=-1),t.alias(Rt,"truncate","to_i"),t.alias(Rt,"inspect","to_s"),t.defn(Rt,"$divmod",yt=function(e){var n,r=this,i=yt.$$p,a=_,$=_,o=_;for(i&&(yt.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return d(d(n=r["$nan?"]())?n:e["$nan?"]())?r.$raise(t.const_get_relative(Mt,"FloatDomainError"),"NaN"):d(r["$infinite?"]())?r.$raise(t.const_get_relative(Mt,"FloatDomainError"),"Infinity"):f(r,t.find_super_dispatcher(r,"divmod",yt,!1),a,i)},yt.$$arity=1),t.defn(Rt,"$upto",bt=function(e){var a,$=this,o=bt.$$p,s=o||_;if(o&&(bt.$$p=null),s===_)return f($,"enum_for",["upto",e],(a=function(){var $=a.$$s||this;return d(t.const_get_relative(Mt,"Numeric")["$==="](e))||$.$raise(t.const_get_relative(Mt,"ArgumentError"),"comparison of "+$.$class()+" with "+e.$class()+" failed"),d(n(e,$))?0:r(i(e,$),1)},a.$$s=$,a.$$arity=0,a));e.$$is_number||$.$raise(t.const_get_relative(Mt,"ArgumentError"),"comparison of "+$.$class()+" with "+e.$class()+" failed");for(var l=$;l<=e;l++)s(l);return $},bt.$$arity=1),t.defn(Rt,"$zero?",wt=function(){return 0==this},wt.$$arity=0),t.defn(Rt,"$size",kt=function(){return 4},kt.$$arity=0),t.defn(Rt,"$nan?",xt=function(){var t=this;return isNaN(t)},xt.$$arity=0),t.defn(Rt,"$finite?",Et=function(){var t=this;return t!=1/0&&t!=-1/0&&!isNaN(t)},Et.$$arity=0),t.defn(Rt,"$infinite?",Ot=function(){var t=this;return t==1/0?1:t==-1/0?-1:_},Ot.$$arity=0),t.defn(Rt,"$positive?",At=function(){var t=this;return 0!=t&&(t==1/0||1/t>0)},At.$$arity=0),t.defn(Rt,"$negative?",St=function(){var t=this;return t==-1/0||1/t<0},St.$$arity=0)}(c[0],t.const_get_relative(c,"Numeric"),c),t.const_set(c[0],"Fixnum",t.const_get_relative(c,"Number")),function(e,n,r){function i(){}var a,$=i=u(e,n,"Integer",i),o=($.$$proto,[$].concat(r));$.$$is_number_class=!0,t.defs($,"$===",a=function(t){return!!t.$$is_number&&t%1==0},a.$$arity=1),t.const_set(o[0],"MAX",Math.pow(2,30)-1),t.const_set(o[0],"MIN",-Math.pow(2,30))}(c[0],t.const_get_relative(c,"Numeric"),c),function(e,n,r){function i(){}var a,$=i=u(e,n,"Float",i),o=($.$$proto,[$].concat(r));return $.$$is_number_class=!0,t.defs($,"$===",a=function(t){return!!t.$$is_number},a.$$arity=1),t.const_set(o[0],"INFINITY",1/0),t.const_set(o[0],"MAX",Number.MAX_VALUE),t.const_set(o[0],"MIN",Number.MIN_VALUE),t.const_set(o[0],"NAN",NaN),t.const_set(o[0],"DIG",15),t.const_set(o[0],"MANT_DIG",53),t.const_set(o[0],"RADIX",2),t.const_set(o[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(c[0],t.const_get_relative(c,"Numeric"),c)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var l=t.top,c=[],_=t.nil,u=(t.breaker,t.slice,t.klass),d=t.truthy,f=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),l.$require("corelib/enumerable"),function(l,c,p){function h(){}var g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N=h=u(l,null,"Range",h),L=N.$$proto,z=[N].concat(p);return L.begin=L.end=L.excl=_,N.$include(t.const_get_relative(z,"Enumerable")),L.$$is_range=!0,N.$attr_reader("begin","end"),t.defn(N,"$initialize",g=function(e,n,r){var i=this;return null==r&&(r=!1),d(i.begin)&&i.$raise(t.const_get_relative(z,"NameError"),"'initialize' called twice"),d(e["$<=>"](n))||i.$raise(t.const_get_relative(z,"ArgumentError"),"bad value for range"),i.begin=e,i.end=n,i.excl=r},g.$$arity=-3),t.defn(N,"$==",v=function(t){var e=this;return!!t.$$is_range&&(e.excl===t.excl&&e.begin==t.begin&&e.end==t.end)},v.$$arity=1),t.defn(N,"$===",m=function(t){return this["$include?"](t)},m.$$arity=1),t.defn(N,"$cover?",y=function(t){var r,i=this,a=_,$=_;return a=i.begin["$<=>"](t),!!d(d(r=a)?e(a,0):r)&&($=t["$<=>"](i.end),d(i.excl)?d(r=$)?n($,0):r:d(r=$)?e($,0):r)},y.$$arity=1),t.defn(N,"$each",b=function(){var e,r=this,i=b.$$p,a=i||_,$=_,o=_;if(i&&(b.$$p=null),a===_)return r.$enum_for("each");var s,l;if(r.begin.$$is_number&&r.end.$$is_number){for(r.begin%1==0&&r.end%1==0||r.$raise(t.const_get_relative(z,"TypeError"),"can't iterate from Float"),s=r.begin,l=r.end+(d(r.excl)?0:1);s<l;s++)a(s);return r}if(r.begin.$$is_string&&r.end.$$is_string)return f(r.begin,"upto",[r.end,r.excl],a.$to_proc()),r;for($=r.begin,o=r.end,d($["$respond_to?"]("succ"))||r.$raise(t.const_get_relative(z,"TypeError"),"can't iterate from "+$.$class());d(n($["$<=>"](o),0));)t.yield1(a,$),$=$.$succ();return d(d(e=r.excl["$!"]())?$["$=="](o):e)&&t.yield1(a,$),r},b.$$arity=0),t.defn(N,"$eql?",w=function(e){var n,r,i=this;return!!d(t.const_get_relative(z,"Range")["$==="](e))&&(d(n=d(r=i.excl["$==="](e["$exclude_end?"]()))?i.begin["$eql?"](e.$begin()):r)?i.end["$eql?"](e.$end()):n)},w.$$arity=1),t.defn(N,"$exclude_end?",k=function(){return this.excl},k.$$arity=0),t.defn(N,"$first",x=function(e){var n=this,r=x.$$p,i=_,a=_,$=_;for(r&&(x.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return d(null==e)?n.begin:f(n,t.find_super_dispatcher(n,"first",x,!1),i,r)},x.$$arity=-1),t.alias(N,"include?","cover?"),t.defn(N,"$last",E=function(t){var e=this;return d(null==t)?e.end:e.$to_a().$last(t)},E.$$arity=-1),t.defn(N,"$max",O=function(){var e,n=this,i=O.$$p,a=i||_,$=_,o=_,s=_;for(i&&(O.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return a!==_?f(n,t.find_super_dispatcher(n,"max",O,!1),$,i):d(r(n.begin,n.end))?_:d(d(e=n.excl)?n.begin["$=="](n.end):e)?_:n.excl?n.end-1:n.end},O.$$arity=0),t.alias(N,"member?","cover?"),t.defn(N,"$min",A=function(){var e,n=this,i=A.$$p,a=i||_,$=_,o=_,s=_;for(i&&(A.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return a!==_?f(n,t.find_super_dispatcher(n,"min",A,!1),$,i):d(r(n.begin,n.end))?_:d(d(e=n.excl)?n.begin["$=="](n.end):e)?_:n.begin},A.$$arity=0),t.defn(N,"$size",S=function(){var e,r=this,a=_,$=_,o=_;return a=r.begin,$=r.end,d(r.excl)&&($=i($,1)),d(d(e=t.const_get_relative(z,"Numeric")["$==="](a))?t.const_get_relative(z,"Numeric")["$==="]($):e)?d(n($,a))?0:(o=t.const_get_qualified(t.const_get_relative(z,"Float"),"INFINITY"),d(d(e=o["$=="](a.$abs()))?e:$.$abs()["$=="](o))?o:(Math.abs($-a)+1).$to_i()):_},S.$$arity=0),t.defn(N,"$step",R=function(e){function n(){e.$$is_number||(e=t.const_get_relative(z,"Opal")["$coerce_to!"](e,t.const_get_relative(z,"Integer"),"to_int")),e<0?p.$raise(t.const_get_relative(z,"ArgumentError"),"step can't be negative"):0===e&&p.$raise(t.const_get_relative(z,"ArgumentError"),"step can't be 0")}function i(){if(!p.begin["$respond_to?"]("succ"))return _;if(p.begin.$$is_string&&p.end.$$is_string)return _;if(e%1==0)return a(p.$size(),e).$ceil();var n,r=p.begin,i=p.end,$=Math.abs,o=Math.floor,s=($(r)+$(i)+$(i-r))/$(e)*t.const_get_qualified(t.const_get_relative(z,"Float"),"EPSILON");return s>.5&&(s=.5),p.excl?(n=o((i-r)/e-s))*e+r<i&&n++:n=o((i-r)/e+s)+1,n}var l,c,u,p=this,h=R.$$p,g=h||_,v=_;return null==e&&(e=1),h&&(R.$$p=null),g===_?f(p,"enum_for",["step",e],(l=function(){l.$$s;return n(),i()},l.$$s=p,l.$$arity=0,l)):(n(),d(p.begin.$$is_number&&p.end.$$is_number)?(v=0,function(){var n=t.new_brk();try{f(p,"loop",[],(c=function(){var i=c.$$s||this,a=_;return null==i.begin&&(i.begin=_),null==i.excl&&(i.excl=_),null==i.end&&(i.end=_),a=$(i.begin,o(v,e)),d(i.excl)?d(s(a,i.end))&&t.brk(_,n):d(r(a,i.end))&&t.brk(_,n),t.yield1(g,a),v=$(v,1)},c.$$s=p,c.$$brk=n,c.$$arity=0,c))}catch(t){if(t===n)return t.$v;throw t}}()):(p.begin.$$is_string&&p.end.$$is_string&&e%1!=0&&p.$raise(t.const_get_relative(z,"TypeError"),"no implicit conversion to float from string"),f(p,"each_with_index",[],(u=function(n,r){u.$$s;return null==n&&(n=_),null==r&&(r=_),r["$%"](e)["$=="](0)?t.yield1(g,n):_},u.$$s=p,u.$$arity=2,u))),p)},R.$$arity=-1),t.defn(N,"$bsearch",M=function(){var e=this,n=M.$$p,r=n||_;return n&&(M.$$p=null),r===_?e.$enum_for("bsearch"):(d(e.begin.$$is_number&&e.end.$$is_number)||e.$raise(t.const_get_relative(z,"TypeError"),"can't do binary search for "+e.begin.$class()),f(e.$to_a(),"bsearch",[],r.$to_proc()))},M.$$arity=0),t.defn(N,"$to_s",T=function(){var t=this;return t.begin+(d(t.excl)?"...":"..")+t.end},T.$$arity=0),t.defn(N,"$inspect",I=function(){var t=this;return t.begin.$inspect()+(d(t.excl)?"...":"..")+t.end.$inspect()},I.$$arity=0),t.defn(N,"$marshal_load",C=function(t){var e=this;return e.begin=t["$[]"]("begin"),e.end=t["$[]"]("end"),e.excl=t["$[]"]("excl")},C.$$arity=1),t.defn(N,"$hash",q=function(){var t=this;return[t.begin,t.end,t.excl].$hash()},q.$$arity=0),_&&"hash"}(c[0],0,c)},Opal.modules["corelib/proc"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice),i=t.klass,a=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,$,o){function s(){}var l,c,_,u,d,f,p,h,g,v,m=s=i(e,$,"Proc",s),y=m.$$proto,b=[m].concat(o);return y.$$is_proc=!0,y.$$is_lambda=!1,t.defs(m,"$new",l=function(){var e=this,r=l.$$p,i=r||n;return r&&(l.$$p=null),a(i)||e.$raise(t.const_get_relative(b,"ArgumentError"),"tried to create a Proc object without a block"),i},l.$$arity=0),t.defn(m,"$call",c=function(e){var r,i=this,a=c.$$p,$=a||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<o;l++)r[l-0]=arguments[l];a&&(c.$$p=null),$!==n&&(i.$$p=$);var _,u=i.$$brk;if(u)try{_=i.$$is_lambda?i.apply(null,r):t.yieldX(i,r)}catch(t){if(t===u)return u.$v;throw t}else _=i.$$is_lambda?i.apply(null,r):t.yieldX(i,r);return _},c.$$arity=-1),t.alias(m,"[]","call"),t.alias(m,"===","call"),t.alias(m,"yield","call"),t.defn(m,"$to_proc",_=function(){return this},_.$$arity=0),t.defn(m,"$lambda?",u=function(){return!!this.$$is_lambda},u.$$arity=0),t.defn(m,"$arity",d=function(){var t=this;return t.$$is_curried?-1:t.$$arity},d.$$arity=0),t.defn(m,"$source_location",f=function(){return this.$$is_curried,n},f.$$arity=0),t.defn(m,"$binding",p=function(){var e=this;return e.$$is_curried&&e.$raise(t.const_get_relative(b,"ArgumentError"),"Can't create Binding"),n},p.$$arity=0),t.defn(m,"$parameters",h=function(){var t=this;if(t.$$is_curried)return[["rest"]];if(t.$$parameters){if(t.$$is_lambda)return t.$$parameters;var e,n,r=[];for(e=0,n=t.$$parameters.length;e<n;e++){var i=t.$$parameters[e];"req"===i[0]&&(i=["opt",i[1]]),r.push(i)}return r}return[]},h.$$arity=0),t.defn(m,"$curry",g=function(e){function n(){var a,$=r.call(arguments),o=$.length;return o>e&&i.$$is_lambda&&!i.$$is_curried&&i.$raise(t.const_get_relative(b,"ArgumentError"),"wrong number of arguments ("+o+" for "+e+")"),o>=e?i.$call.apply(i,$):(a=function(){return n.apply(null,$.concat(r.call(arguments)))},a.$$is_lambda=i.$$is_lambda,a.$$is_curried=!0,a)}var i=this;return void 0===e?e=i.length:(e=t.const_get_relative(b,"Opal")["$coerce_to!"](e,t.const_get_relative(b,"Integer"),"to_int"),i.$$is_lambda&&e!==i.length&&i.$raise(t.const_get_relative(b,"ArgumentError"),"wrong number of arguments ("+e+" for "+i.length+")")),n.$$is_lambda=i.$$is_lambda,n.$$is_curried=!0,n},g.$$arity=-1),t.defn(m,"$dup",v=function(){var t=this,e=t.$$original_proc||t,n=function(){return e.apply(this,arguments)};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},v.$$arity=0),t.alias(m,"clone","dup")}(e[0],Function,e)},Opal.modules["corelib/method"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,a,$){function o(){}var s,l,c,_,u,d,f,p,h,g=o=r(e,null,"Method",o),v=g.$$proto,m=[g].concat($);v.method=v.receiver=v.owner=v.name=n,g.$attr_reader("owner","receiver","name"),t.defn(g,"$initialize",s=function(t,e,n,r){var i=this;return i.receiver=t,i.owner=e,i.name=r,i.method=n},s.$$arity=4),t.defn(g,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.defn(g,"$parameters",c=function(){return this.method.$$parameters},c.$$arity=0),t.defn(g,"$source_location",_=function(){var t;return i(t=this.method.$$source_location)?t:["(eval)",0]},_.$$arity=0),t.defn(g,"$comments",u=function(){var t;return i(t=this.method.$$comments)?t:[]},u.$$arity=0),t.defn(g,"$call",d=function(t){var e,r=this,i=d.$$p,a=i||n,$=arguments.length,o=$-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<$;s++)e[s-0]=arguments[s];return i&&(d.$$p=null),r.method.$$p=a,r.method.apply(r.receiver,e)},d.$$arity=-1),t.alias(g,"[]","call"),t.defn(g,"$unbind",f=function(){var e=this;return t.const_get_relative(m,"UnboundMethod").$new(e.receiver.$class(),e.owner,e.method,e.name)},f.$$arity=0),t.defn(g,"$to_proc",p=function(){var t=this,e=t.$call.bind(t);return e.$$unbound=t.method,e.$$is_lambda=!0,e},p.$$arity=0),t.defn(g,"$inspect",h=function(){var t=this;return"#<"+t.$class()+": "+t.receiver.$class()+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},h.$$arity=0)}(e[0],0,e),function(e,a,$){function o(){}var s,l,c,_,u,d,f,p=o=r(e,null,"UnboundMethod",o),h=p.$$proto,g=[p].concat($);return h.method=h.owner=h.name=h.source=n,p.$attr_reader("source","owner","name"),t.defn(p,"$initialize",s=function(t,e,n,r){var i=this;return i.source=t,i.owner=e,i.method=n,i.name=r},s.$$arity=4),t.defn(p,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.defn(p,"$parameters",c=function(){return this.method.$$parameters},c.$$arity=0),t.defn(p,"$source_location",_=function(){var t;return i(t=this.method.$$source_location)?t:["(eval)",0]},_.$$arity=0),t.defn(p,"$comments",u=function(){var t;return i(t=this.method.$$comments)?t:[]},u.$$arity=0),t.defn(p,"$bind",d=function(e){var n=this;if(n.owner.$$is_module||t.is_a(e,n.owner))return t.const_get_relative(g,"Method").$new(e,n.owner,n.method,n.name);n.$raise(t.const_get_relative(g,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+n.owner+" to be true)")},d.$$arity=1),t.defn(p,"$inspect",f=function(){var t=this;return"#<"+t.$class()+": "+t.source+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},f.$$arity=0),n&&"inspect"}(e[0],0,e)},Opal.modules["corelib/variables"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.gvars),i=t.hash2;return t.add_stubs(["$new"]),r["&"]=r["~"]=r["`"]=r["'"]=n,r.LOADED_FEATURES=r['"']=t.loaded_features,r.LOAD_PATH=r[":"]=[],r["/"]="\n",r[","]=n,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",t.const_get_relative(e,"Object").$new()),t.const_set(e[0],"ENV",i([],{})),r.VERBOSE=!1,r.DEBUG=!1,r.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,i){var a,$=a=r(e,"Opal"),o=($.$$proto,[$].concat(i));t.const_set(o[0],"REGEXP_START",t.const_get_relative(o,"RUBY_ENGINE")["$=="]("opal")?"^":n),t.const_set(o[0],"REGEXP_END",t.const_get_relative(o,"RUBY_ENGINE")["$=="]("opal")?"$":n),t.const_set(o[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(o[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(o[0],"INLINE_IDENTIFIER_REGEXP",t.const_get_relative(o,"Regexp").$new("[^"+t.const_get_relative(o,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+t.const_get_relative(o,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(o[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(o[0],"CONST_NAME_REGEXP",t.const_get_relative(o,"Regexp").$new(t.const_get_relative(o,"REGEXP_START")+"(::)?[A-Z][^"+t.const_get_relative(o,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+t.const_get_relative(o,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,a=[],$=t.nil,o=(t.breaker,t.slice,t.klass),s=t.send,l=t.truthy,c=t.gvars;return t.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),i.$require("corelib/string"),function(e,n,r){function i(){}var a,s=i=o(e,null,"String",i),l=(s.$$proto,[s].concat(r));t.defs(s,"$inherited",a=function(e){var n=$;n=t.const_get_relative(l,"Class").$new(t.const_get_qualified(t.const_get_relative(l,"String"),"Wrapper")),e.$$proto=n.$$proto,e.$$proto.$$class=e,e.$$alloc=n.$$alloc,e.$$parent=t.const_get_qualified(t.const_get_relative(l,"String"),"Wrapper"),e.$allocate=n.$allocate,e.$new=n.$new},a.$$arity=1)}(a[0],0,a),function(i,a,_){function u(){}var d,f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T=u=o(i,null,"Wrapper",u),I=T.$$proto;[T].concat(_);return I.literal=$,I.$$is_string=!0,t.defs(T,"$allocate",d=function(e){var n=this,r=d.$$p,i=$;return null==e&&(e=""),r&&(d.$$p=null),i=s(n,t.find_super_dispatcher(n,"allocate",d,!1,u),[],null),i.literal=e,i},d.$$arity=-1),t.defs(T,"$new",f=function(e){var n,r=this,i=f.$$p,a=i||$,o=$,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var _=0;_<l;_++)n[_-0]=arguments[_];return i&&(f.$$p=null),o=r.$allocate(),s(o,"initialize",t.to_a(n),a.$to_proc()),o},f.$$arity=-1),t.defs(T,"$[]",p=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return n.$allocate(e)},p.$$arity=-1),t.defn(T,"$initialize",h=function(t){var e=this;return null==t&&(t=""),e.literal=t},h.$$arity=-1),t.defn(T,"$method_missing",g=function(e){var n,r=this,i=g.$$p,a=i||$,o=$,c=arguments.length,_=c-0;_<0&&(_=0),n=new Array(_);for(var u=0;u<c;u++)n[u-0]=arguments[u];return i&&(g.$$p=null),o=s(r.literal,"__send__",t.to_a(n),a.$to_proc()),l(null!=o.$$is_string)?l(o==r.literal)?r:r.$class().$allocate(o):o},g.$$arity=-1),t.defn(T,"$initialize_copy",v=function(t){return this.literal=t.literal.$clone()},v.$$arity=1),t.defn(T,"$respond_to?",m=function(e,n){var r,i=this,a=m.$$p,o=$,c=$,_=$;for(a&&(m.$$p=null),c=0,_=arguments.length,o=new Array(_);c<_;c++)o[c]=arguments[c];return l(r=s(i,t.find_super_dispatcher(i,"respond_to?",m,!1),o,a))?r:i.literal["$respond_to?"](e)},m.$$arity=-2),t.defn(T,"$==",y=function(t){return this.literal["$=="](t)},y.$$arity=1),t.alias(T,"eql?","=="),t.alias(T,"===","=="),t.defn(T,"$to_s",b=function(){return this.literal},b.$$arity=0),t.alias(T,"to_str","to_s"),t.defn(T,"$inspect",w=function(){return this.literal.$inspect()},w.$$arity=0),t.defn(T,"$+",k=function(t){return e(this.literal,t)},k.$$arity=1),t.defn(T,"$*",x=function(t){var e=this,r=n(e.literal,t);return r.$$is_string?e.$class().$allocate(r):r},x.$$arity=1),t.defn(T,"$split",E=function(t,e){var n,r=this;return s(r.literal.$split(t,e),"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=$),e.$class().$allocate(t)},n.$$s=r,n.$$arity=1,n))},E.$$arity=-1),t.defn(T,"$replace",O=function(t){return this.literal=t},O.$$arity=1),t.defn(T,"$each_line",A=function(e){var n,r=this,i=A.$$p,a=i||$;return null==c["/"]&&(c["/"]=$),null==e&&(e=c["/"]),i&&(A.$$p=null),a===$?r.$enum_for("each_line",e):s(r.literal,"each_line",[e],(n=function(e){var r=n.$$s||this;return null==e&&(e=$),t.yield1(a,r.$class().$allocate(e))},n.$$s=r,n.$$arity=1,n))},A.$$arity=-1),t.defn(T,"$lines",S=function(t){var e=this,n=S.$$p,r=n||$,i=$;return null==c["/"]&&(c["/"]=$),null==t&&(t=c["/"]),n&&(S.$$p=null),i=s(e,"each_line",[t],r.$to_proc()),l(r)?e:i.$to_a()},S.$$arity=-1),t.defn(T,"$%",R=function(t){return this.literal["$%"](t)},R.$$arity=1),t.defn(T,"$instance_variables",M=function(){var e=this,n=M.$$p,i=$,a=$,o=$;for(n&&(M.$$p=null),a=0,o=arguments.length,i=new Array(o);a<o;a++)i[a]=arguments[a];return r(s(e,t.find_super_dispatcher(e,"instance_variables",M,!1),i,n),["@literal"])},M.$$arity=0),$&&"instance_variables"}(t.const_get_relative(a,"String"),0,a)},Opal.modules["corelib/string/encoding"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,i,a,$,o=t.top,s=[],l=t.nil,c=(t.breaker,t.slice,t.klass),_=t.truthy,u=t.send,d=t.hash2;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$constants","$const_get","$===","$==","$name","$include?","$names","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),o.$require("corelib/string"),function(n,r,i){function a(){}var $,o,s,f,p,h,g,v,m,y,b=a=c(n,null,"Encoding",a),w=b.$$proto,k=[b].concat(i);w.ascii=w.dummy=w.name=l,t.defs(b,"$register",$=function(n,r){var i,a,o=this,s=$.$$p,c=s||l,f=l,p=l;return null==r&&(r=d([],{})),s&&($.$$p=null),f=e([n],_(i=r["$[]"]("aliases"))?i:[]),p=u(t.const_get_relative(k,"Class"),"new",[o],c.$to_proc()).$new(n,f,!!_(i=r["$[]"]("ascii"))&&i,!!_(i=r["$[]"]("dummy"))&&i),u(f,"each",[],(a=function(t){var e=a.$$s||this;return null==t&&(t=l),e.$const_set(t.$sub("-","_"),p)},a.$$s=o,a.$$arity=1,a))},$.$$arity=-2),t.defs(b,"$find",o=function(e){try{var n,r=this,i=l;return i=e.$upcase(),u((t.Module.$$nesting=k,r.$constants()),"each",[],(n=function(e){var r,a=n.$$s||this,$=l;return null==e&&(e=l),$=a.$const_get(e),_(t.const_get_relative(k,"Encoding")["$==="]($))&&_(_(r=$.$name()["$=="](i))?r:$.$names()["$include?"](i))?void t.ret($):l},n.$$s=r,n.$$arity=1,n)),r.$raise(t.const_get_relative(k,"ArgumentError"),"unknown encoding name - "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},o.$$arity=1),function(t,e){t.$$proto,[t].concat(e);t.$attr_accessor("default_external")}(t.get_singleton_class(b),k),b.$attr_reader("name","names"),t.defn(b,"$initialize",s=function(t,e,n,r){var i=this;return i.name=t,i.names=e,i.ascii=n,i.dummy=r},s.$$arity=4),t.defn(b,"$ascii_compatible?",f=function(){return this.ascii},f.$$arity=0),t.defn(b,"$dummy?",p=function(){return this.dummy},p.$$arity=0),t.defn(b,"$to_s",h=function(){return this.name},h.$$arity=0),t.defn(b,"$inspect",g=function(){var t=this;return"#<Encoding:"+t.name+(_(t.dummy)?" (dummy)":l)+">"},g.$$arity=0),t.defn(b,"$each_byte",v=function(e){return this.$raise(t.const_get_relative(k,"NotImplementedError"))},v.$$arity=-1),t.defn(b,"$getbyte",m=function(e){return this.$raise(t.const_get_relative(k,"NotImplementedError"))},m.$$arity=-1),t.defn(b,"$bytesize",y=function(e){return this.$raise(t.const_get_relative(k,"NotImplementedError"))},y.$$arity=-1),function(t,e,n){function r(){}var i=r=c(t,e,"EncodingError",r);i.$$proto,[i].concat(n)}(k[0],t.const_get_relative(k,"StandardError"),k),function(t,e,n){function r(){}var i=r=c(t,e,"CompatibilityError",r);i.$$proto,[i].concat(n)}(k[0],t.const_get_relative(k,"EncodingError"),k)}(s[0],0,s),u(t.const_get_relative(s,"Encoding"),"register",["UTF-8",d(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++){var o=n.charCodeAt(a);if(o<=127)t.yield1(i,o);else for(var s=encodeURIComponent(n.charAt(a)).substr(1).split("%"),c=0,_=s.length;c<_;c++)t.yield1(i,parseInt(s[c],16))}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),l&&"bytesize"},n.$$s=o,n.$$arity=0,n)),u(t.const_get_relative(s,"Encoding"),"register",["UTF-16LE"],(r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++){var o=n.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),l&&"bytesize"},r.$$s=o,r.$$arity=0,r)),u(t.const_get_relative(s,"Encoding"),"register",["UTF-16BE"],(i=function(){var e,n,r=i.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++){var o=n.charCodeAt(a);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),l&&"bytesize"},i.$$s=o,i.$$arity=0,i)),u(t.const_get_relative(s,"Encoding"),"register",["UTF-32LE"],(a=function(){var e,n,r=a.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++){var o=n.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),l&&"bytesize"},a.$$s=o,a.$$arity=0,a)),u(t.const_get_relative(s,"Encoding"),"register",["ASCII-8BIT",d(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],($=function(){var e,n,r=$.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++)t.yield1(i,255&n.charCodeAt(a))},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),l&&"bytesize"},$.$$s=o,$.$$arity=0,$)),function(e,n,r){function i(){}var a,$,o,s,d,f,p,h,g=i=c(e,null,"String",i),v=g.$$proto,m=[g].concat(r);return v.encoding=l,String.prototype.encoding=t.const_get_qualified(t.const_get_relative(m,"Encoding"),"UTF_16LE"),t.defn(g,"$bytes",a=function(){return this.$each_byte().$to_a()},a.$$arity=0),t.defn(g,"$bytesize",$=function(){var t=this;return t.encoding.$bytesize(t)},$.$$arity=0),t.defn(g,"$each_byte",o=function(){var t=this,e=o.$$p,n=e||l;return e&&(o.$$p=null),n===l?t.$enum_for("each_byte"):(u(t.encoding,"each_byte",[t],n.$to_proc()),t)},o.$$arity=0),t.defn(g,"$encode",s=function(t){return this.$dup().$force_encoding(t)},s.$$arity=1),t.defn(g,"$encoding",d=function(){return this.encoding},d.$$arity=0),t.defn(g,"$force_encoding",f=function(e){var n=this;if(e===n.encoding)return n;if(e=t.const_get_relative(m,"Opal")["$coerce_to!"](e,t.const_get_relative(m,"String"),"to_s"),(e=t.const_get_relative(m,"Encoding").$find(e))["$=="](n.encoding))return n;_(e["$nil?"]())&&n.$raise(t.const_get_relative(m,"ArgumentError"),"unknown encoding name - "+e);var r=new String(n);return r.encoding=e,r},f.$$arity=1),t.defn(g,"$getbyte",p=function(t){var e=this;return e.encoding.$getbyte(e,t)},p.$$arity=1),t.defn(g,"$valid_encoding?",h=function(){return!0},h.$$arity=0),l&&"valid_encoding?"}(s[0],0,s)},Opal.modules["corelib/math"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}t.top;var r=[],i=(t.nil,t.breaker,t.slice,t.module),a=t.truthy;return t.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(r,$){var o,s,l,c,_,u,d,f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z=o=i(r,"Math"),P=(z.$$proto,[z].concat($));t.const_set(P[0],"E",Math.E),t.const_set(P[0],"PI",Math.PI),t.const_set(P[0],"DomainError",t.const_get_relative(P,"Class").$new(t.const_get_relative(P,"StandardError"))),t.defs(z,"$checked",s=function(e,n){var r,i=this,a=arguments.length,$=a-1;$<0&&($=0),r=new Array($);for(var o=1;o<a;o++)r[o-1]=arguments[o];if(isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var s=Math[e].apply(null,r);return isNaN(s)&&i.$raise(t.const_get_relative(P,"DomainError"),'Numerical argument is out of domain - "'+e+'"'),s},s.$$arity=-2),t.defs(z,"$float!",l=function(e){var n=this;try{return n.$Float(e)}catch(r){if(!t.rescue(r,[t.const_get_relative(P,"ArgumentError")]))throw r;try{return n.$raise(t.const_get_relative(P,"Opal").$type_error(e,t.const_get_relative(P,"Float")))}finally{t.pop_exception()}}},l.$$arity=1),t.defs(z,"$integer!",c=function(e){var n=this;try{return n.$Integer(e)}catch(r){if(!t.rescue(r,[t.const_get_relative(P,"ArgumentError")]))throw r;try{return n.$raise(t.const_get_relative(P,"Opal").$type_error(e,t.const_get_relative(P,"Integer")))}finally{t.pop_exception()}}},c.$$arity=1),z.$module_function(),t.defn(z,"$acos",_=function(e){return t.const_get_relative(P,"Math").$checked("acos",t.const_get_relative(P,"Math")["$float!"](e))},_.$$arity=1),a(void 0!==Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.defn(z,"$acosh",u=function(e){return t.const_get_relative(P,"Math").$checked("acosh",t.const_get_relative(P,"Math")["$float!"](e))},u.$$arity=1),t.defn(z,"$asin",d=function(e){return t.const_get_relative(P,"Math").$checked("asin",t.const_get_relative(P,"Math")["$float!"](e))},d.$$arity=1),a(void 0!==Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.defn(z,"$asinh",f=function(e){return t.const_get_relative(P,"Math").$checked("asinh",t.const_get_relative(P,"Math")["$float!"](e))},f.$$arity=1),t.defn(z,"$atan",p=function(e){return t.const_get_relative(P,"Math").$checked("atan",t.const_get_relative(P,"Math")["$float!"](e))},p.$$arity=1),t.defn(z,"$atan2",h=function(e,n){return t.const_get_relative(P,"Math").$checked("atan2",t.const_get_relative(P,"Math")["$float!"](e),t.const_get_relative(P,"Math")["$float!"](n))},h.$$arity=2),a(void 0!==Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.defn(z,"$atanh",g=function(e){return t.const_get_relative(P,"Math").$checked("atanh",t.const_get_relative(P,"Math")["$float!"](e))},g.$$arity=1),a(void 0!==Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,n=0;e<.125;)e*=8,n--;for(;e>1;)e*=.125,n++;for(e=(-.46946116*e+1.072302)*e+.3812513;n<0;)e*=.5,n++;for(;n>0;)e*=2,n--;return e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e)}),t.defn(z,"$cbrt",v=function(e){return t.const_get_relative(P,"Math").$checked("cbrt",t.const_get_relative(P,"Math")["$float!"](e))},v.$$arity=1),t.defn(z,"$cos",m=function(e){return t.const_get_relative(P,"Math").$checked("cos",t.const_get_relative(P,"Math")["$float!"](e))},m.$$arity=1),a(void 0!==Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.defn(z,"$cosh",y=function(e){return t.const_get_relative(P,"Math").$checked("cosh",t.const_get_relative(P,"Math")["$float!"](e))},y.$$arity=1),a(void 0!==Math.erf)||(Math.erf=function(t){var e=1;t<0&&(e=-1);var n=1/(1+.3275911*(t=Math.abs(t)));return e*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-t*t))}),t.defn(z,"$erf",b=function(e){return t.const_get_relative(P,"Math").$checked("erf",t.const_get_relative(P,"Math")["$float!"](e))},b.$$arity=1),a(void 0!==Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),n=1/(.5*e+1),r=-e*e-1.26551223+n*(n*(n*(n*(n*(n*(n*(n*(.17087277*n-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),i=n*Math.exp(r);return t<0?2-i:i}),t.defn(z,"$erfc",w=function(e){return t.const_get_relative(P,"Math").$checked("erfc",t.const_get_relative(P,"Math")["$float!"](e))},w.$$arity=1),t.defn(z,"$exp",k=function(e){return t.const_get_relative(P,"Math").$checked("exp",t.const_get_relative(P,"Math")["$float!"](e))},k.$$arity=1),t.defn(z,"$frexp",x=function(e){if(e=t.const_get_relative(P,"Math")["$float!"](e),isNaN(e))return[NaN,0];var n=Math.floor(Math.log(Math.abs(e))/Math.log(2))+1;return[e/Math.pow(2,n),n]},x.$$arity=1),t.defn(z,"$gamma",E=function(n){var r=this;n=t.const_get_relative(P,"Math")["$float!"](n);var i,a,$,o,s,l,c,_,u,d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(n))return NaN;if(0===n&&1/n<0)return-1/0;if(-1!==n&&n!==-1/0||r.$raise(t.const_get_relative(P,"DomainError"),'Numerical argument is out of domain - "gamma"'),t.const_get_relative(P,"Integer")["$==="](n)){if(n<=0)return isFinite(n)?1/0:NaN;if(n>171)return 1/0;for(o=n-2,s=n-1;o>1;)s*=o,o--;return 0==s&&(s=1),s}if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*t.const_get_relative(P,"Math").$gamma(e(1,n)));if(n>=171.35)return 1/0;if(n>85)return l=n*n,c=l*n,_=c*n,u=_*n,Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*l)-139/(51840*c)-571/(2488320*_)+163879/(209018880*u)+5246819/(75246796800*u*n));for(n-=1,$=d[0],i=1;i<d.length;++i)$+=d[i]/(n+i);return a=n+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(a,n+.5)*Math.exp(-a)*$},E.$$arity=1),a(void 0!==Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.defn(z,"$hypot",O=function(e,n){return t.const_get_relative(P,"Math").$checked("hypot",t.const_get_relative(P,"Math")["$float!"](e),t.const_get_relative(P,"Math")["$float!"](n))},O.$$arity=2),t.defn(z,"$ldexp",A=function(e,n){var r=this;return e=t.const_get_relative(P,"Math")["$float!"](e),n=t.const_get_relative(P,"Math")["$integer!"](n),isNaN(n)&&r.$raise(t.const_get_relative(P,"RangeError"),"float NaN out of range of integer"),e*Math.pow(2,n)},A.$$arity=2),t.defn(z,"$lgamma",S=function(e){return-1==e?[1/0,1]:[Math.log(Math.abs(t.const_get_relative(P,"Math").$gamma(e))),t.const_get_relative(P,"Math").$gamma(e)<0?-1:1]},S.$$arity=1),t.defn(z,"$log",R=function(e,r){var i=this;return a(t.const_get_relative(P,"String")["$==="](e))&&i.$raise(t.const_get_relative(P,"Opal").$type_error(e,t.const_get_relative(P,"Float"))),a(null==r)?t.const_get_relative(P,"Math").$checked("log",t.const_get_relative(P,"Math")["$float!"](e)):(a(t.const_get_relative(P,"String")["$==="](r))&&i.$raise(t.const_get_relative(P,"Opal").$type_error(r,t.const_get_relative(P,"Float"))),n(t.const_get_relative(P,"Math").$checked("log",t.const_get_relative(P,"Math")["$float!"](e)),t.const_get_relative(P,"Math").$checked("log",t.const_get_relative(P,"Math")["$float!"](r))))},R.$$arity=-2),a(void 0!==Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.defn(z,"$log10",M=function(e){var n=this;return a(t.const_get_relative(P,"String")["$==="](e))&&n.$raise(t.const_get_relative(P,"Opal").$type_error(e,t.const_get_relative(P,"Float"))),t.const_get_relative(P,"Math").$checked("log10",t.const_get_relative(P,"Math")["$float!"](e))},M.$$arity=1),a(void 0!==Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.defn(z,"$log2",T=function(e){var n=this;return a(t.const_get_relative(P,"String")["$==="](e))&&n.$raise(t.const_get_relative(P,"Opal").$type_error(e,t.const_get_relative(P,"Float"))),t.const_get_relative(P,"Math").$checked("log2",t.const_get_relative(P,"Math")["$float!"](e))},T.$$arity=1),t.defn(z,"$sin",I=function(e){return t.const_get_relative(P,"Math").$checked("sin",t.const_get_relative(P,"Math")["$float!"](e))},I.$$arity=1),a(void 0!==Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.defn(z,"$sinh",C=function(e){return t.const_get_relative(P,"Math").$checked("sinh",t.const_get_relative(P,"Math")["$float!"](e))},C.$$arity=1),t.defn(z,"$sqrt",q=function(e){return t.const_get_relative(P,"Math").$checked("sqrt",t.const_get_relative(P,"Math")["$float!"](e))},q.$$arity=1),t.defn(z,"$tan",N=function(e){return e=t.const_get_relative(P,"Math")["$float!"](e),a(e["$infinite?"]())?t.const_get_qualified(t.const_get_relative(P,"Float"),"NAN"):t.const_get_relative(P,"Math").$checked("tan",t.const_get_relative(P,"Math")["$float!"](e))},N.$$arity=1),a(void 0!==Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),t.defn(z,"$tanh",L=function(e){return t.const_get_relative(P,"Math").$checked("tanh",t.const_get_relative(P,"Math")["$float!"](e))},L.$$arity=1)}(r[0],r)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var $=t.top,o=[],s=t.nil,l=(t.breaker,t.slice,t.klass),c=t.truthy,_=t.module;return t.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$infinite?"]),$.$require("corelib/numeric"),function($,o,_){function u(){}var d,f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F=u=l($,o,"Complex",u),U=F.$$proto,G=[F].concat(_);U.real=U.imag=s,t.defs(F,"$rect",d=function(e,n){var r,i,a,$=this;return null==n&&(n=0),c(c(r=c(i=c(a=t.const_get_relative(G,"Numeric")["$==="](e))?e["$real?"]():a)?t.const_get_relative(G,"Numeric")["$==="](n):i)?n["$real?"]():r)||$.$raise(t.const_get_relative(G,"TypeError"),"not a real"),$.$new(e,n)},d.$$arity=-2),function(e,n){e.$$proto,[e].concat(n);t.alias(e,"rectangular","rect")}(t.get_singleton_class(F),G),t.defs(F,"$polar",f=function(n,r){var i,a,$,o=this;return null==r&&(r=0),c(c(i=c(a=c($=t.const_get_relative(G,"Numeric")["$==="](n))?n["$real?"]():$)?t.const_get_relative(G,"Numeric")["$==="](r):a)?r["$real?"]():i)||o.$raise(t.const_get_relative(G,"TypeError"),"not a real"),o.$new(e(n,t.const_get_relative(G,"Math").$cos(r)),e(n,t.const_get_relative(G,"Math").$sin(r)))},f.$$arity=-2),F.$attr_reader("real","imag"),t.defn(F,"$initialize",p=function(t,e){var n=this;return null==e&&(e=0),n.real=t,n.imag=e},p.$$arity=-2),t.defn(F,"$coerce",h=function(e){var n,r=this;return c(t.const_get_relative(G,"Complex")["$==="](e))?[e,r]:c(c(n=t.const_get_relative(G,"Numeric")["$==="](e))?e["$real?"]():n)?[t.const_get_relative(G,"Complex").$new(e,0),r]:r.$raise(t.const_get_relative(G,"TypeError"),e.$class()+" can't be coerced into Complex")},h.$$arity=1),t.defn(F,"$==",g=function(e){var n,r=this;return c(t.const_get_relative(G,"Complex")["$==="](e))?(n=r.real["$=="](e.$real()))?r.imag["$=="](e.$imag()):r.real["$=="](e.$real()):c(c(n=t.const_get_relative(G,"Numeric")["$==="](e))?e["$real?"]():n)?(n=r.real["$=="](e))?r.imag["$=="](0):r.real["$=="](e):e["$=="](r)},g.$$arity=1),t.defn(F,"$-@",v=function(){var t=this;return t.$Complex(t.real["$-@"](),t.imag["$-@"]())},v.$$arity=0),t.defn(F,"$+",m=function(e){var r,i=this;return c(t.const_get_relative(G,"Complex")["$==="](e))?i.$Complex(n(i.real,e.$real()),n(i.imag,e.$imag())):c(c(r=t.const_get_relative(G,"Numeric")["$==="](e))?e["$real?"]():r)?i.$Complex(n(i.real,e),i.imag):i.$__coerced__("+",e)},m.$$arity=1),t.defn(F,"$-",y=function(e){var n,i=this;return c(t.const_get_relative(G,"Complex")["$==="](e))?i.$Complex(r(i.real,e.$real()),r(i.imag,e.$imag())):c(c(n=t.const_get_relative(G,"Numeric")["$==="](e))?e["$real?"]():n)?i.$Complex(r(i.real,e),i.imag):i.$__coerced__("-",e)},y.$$arity=1),t.defn(F,"$*",b=function(i){var a,$=this;return c(t.const_get_relative(G,"Complex")["$==="](i))?$.$Complex(r(e($.real,i.$real()),e($.imag,i.$imag())),n(e($.real,i.$imag()),e($.imag,i.$real()))):c(c(a=t.const_get_relative(G,"Numeric")["$==="](i))?i["$real?"]():a)?$.$Complex(e($.real,i),e($.imag,i)):$.$__coerced__("*",i)},b.$$arity=1),t.defn(F,"$/",w=function(n){var r,a,$,o,s=this;return c(t.const_get_relative(G,"Complex")["$==="](n))?c(c(r=c(a=c($=c(o=t.const_get_relative(G,"Number")["$==="](s.real))?s.real["$nan?"]():o)?$:c(o=t.const_get_relative(G,"Number")["$==="](s.imag))?s.imag["$nan?"]():o)?a:c($=t.const_get_relative(G,"Number")["$==="](n.$real()))?n.$real()["$nan?"]():$)?r:c(a=t.const_get_relative(G,"Number")["$==="](n.$imag()))?n.$imag()["$nan?"]():a)?t.const_get_relative(G,"Complex").$new(t.const_get_qualified(t.const_get_relative(G,"Float"),"NAN"),t.const_get_qualified(t.const_get_relative(G,"Float"),"NAN")):i(e(s,n.$conj()),n.$abs2()):c(c(r=t.const_get_relative(G,"Numeric")["$==="](n))?n["$real?"]():r)?s.$Complex(s.real.$quo(n),s.imag.$quo(n)):s.$__coerced__("/",n)},w.$$arity=1),t.defn(F,"$**",k=function($){var o,l,_,u,d=this,f=s,p=s,h=s,g=s,v=s,m=s,y=s,b=s,w=s,k=s;if($["$=="](0))return t.const_get_relative(G,"Complex").$new(1,0);if(c(t.const_get_relative(G,"Complex")["$==="]($)))return l=d.$polar(),o=t.to_ary(l),f=null==o[0]?s:o[0],p=null==o[1]?s:o[1],h=$.$real(),g=$.$imag(),v=t.const_get_relative(G,"Math").$exp(r(e(h,t.const_get_relative(G,"Math").$log(f)),e(g,p))),m=n(e(p,h),e(g,t.const_get_relative(G,"Math").$log(f))),t.const_get_relative(G,"Complex").$polar(v,m);if(c(t.const_get_relative(G,"Integer")["$==="]($))){if(c(a($,0))){for(b=y=d,w=r($,1);c(w["$!="](0));){for(;c((u=w.$divmod(2),_=t.to_ary(u),k=null==_[0]?s:_[0],(null==_[1]?s:_[1])["$=="](0)));)y=d.$Complex(r(e(y.$real(),y.$real()),e(y.$imag(),y.$imag())),e(e(2,y.$real()),y.$imag())),w=k;b=e(b,y),w=r(w,1)}return b}return i(t.const_get_relative(G,"Rational").$new(1,1),d)["$**"]($["$-@"]())}return c(c(o=t.const_get_relative(G,"Float")["$==="]($))?o:t.const_get_relative(G,"Rational")["$==="]($))?(l=d.$polar(),o=t.to_ary(l),f=null==o[0]?s:o[0],p=null==o[1]?s:o[1],t.const_get_relative(G,"Complex").$polar(f["$**"]($),e(p,$))):d.$__coerced__("**",$)},k.$$arity=1),t.defn(F,"$abs",x=function(){var e=this;return t.const_get_relative(G,"Math").$hypot(e.real,e.imag)},x.$$arity=0),t.defn(F,"$abs2",E=function(){var t=this;return n(e(t.real,t.real),e(t.imag,t.imag))},E.$$arity=0),t.defn(F,"$angle",O=function(){var e=this;return t.const_get_relative(G,"Math").$atan2(e.imag,e.real)},O.$$arity=0),t.alias(F,"arg","angle"),t.defn(F,"$conj",A=function(){var t=this;return t.$Complex(t.real,t.imag["$-@"]())},A.$$arity=0),t.alias(F,"conjugate","conj"),t.defn(F,"$denominator",S=function(){var t=this;return t.real.$denominator().$lcm(t.imag.$denominator())},S.$$arity=0),t.alias(F,"divide","/"),t.defn(F,"$eql?",R=function(e){var n,r,i=this;return c(n=c(r=t.const_get_relative(G,"Complex")["$==="](e))?i.real.$class()["$=="](i.imag.$class()):r)?i["$=="](e):n},R.$$arity=1),t.defn(F,"$fdiv",M=function(e){var n=this;return c(t.const_get_relative(G,"Numeric")["$==="](e))||n.$raise(t.const_get_relative(G,"TypeError"),e.$class()+" can't be coerced into Complex"),i(n,e)},M.$$arity=1),t.defn(F,"$hash",T=function(){var t=this;return"Complex:"+t.real+":"+t.imag},T.$$arity=0),t.alias(F,"imaginary","imag"),t.defn(F,"$inspect",I=function(){return"("+this.$to_s()+")"},I.$$arity=0),t.alias(F,"magnitude","abs"),t.udef(F,"$negative?"),t.defn(F,"$numerator",C=function(){var t=this,n=s;return n=t.$denominator(),t.$Complex(e(t.real.$numerator(),i(n,t.real.$denominator())),e(t.imag.$numerator(),i(n,t.imag.$denominator())))},C.$$arity=0),t.alias(F,"phase","arg"),t.defn(F,"$polar",q=function(){var t=this;return[t.$abs(),t.$arg()]},q.$$arity=0),t.udef(F,"$positive?"),t.alias(F,"quo","/"),t.defn(F,"$rationalize",N=function(e){var n=this;return arguments.length>1&&n.$raise(t.const_get_relative(G,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),c(n.imag["$!="](0))&&n.$raise(t.const_get_relative(G,"RangeError"),"can't' convert "+n+" into Rational"),n.$real().$rationalize(e)},N.$$arity=-1),t.defn(F,"$real?",L=function(){return!1},L.$$arity=0),t.defn(F,"$rect",z=function(){var t=this;return[t.real,t.imag]},z.$$arity=0),t.alias(F,"rectangular","rect"),t.defn(F,"$to_f",P=function(){var e=this;return e.imag["$=="](0)||e.$raise(t.const_get_relative(G,"RangeError"),"can't convert "+e+" into Float"),e.real.$to_f()},P.$$arity=0),t.defn(F,"$to_i",D=function(){var e=this;return e.imag["$=="](0)||e.$raise(t.const_get_relative(G,"RangeError"),"can't convert "+e+" into Integer"),e.real.$to_i()},D.$$arity=0),t.defn(F,"$to_r",B=function(){var e=this;return e.imag["$=="](0)||e.$raise(t.const_get_relative(G,"RangeError"),"can't convert "+e+" into Rational"),e.real.$to_r()},B.$$arity=0),t.defn(F,"$to_s",j=function(){var e,r,i,a=this,$=s;return $=a.real.$inspect(),$=c(c(e=c(r=c(i=t.const_get_relative(G,"Number")["$==="](a.imag))?a.imag["$nan?"]():i)?r:a.imag["$positive?"]())?e:a.imag["$zero?"]())?n($,"+"):n($,"-"),$=n($,a.imag.$abs().$inspect()),c(c(e=t.const_get_relative(G,"Number")["$==="](a.imag))?c(r=a.imag["$nan?"]())?r:a.imag["$infinite?"]():e)&&($=n($,"*")),n($,"i")},j.$$arity=0),t.const_set(G[0],"I",F.$new(0,1))}(o[0],t.const_get_relative(o,"Numeric"),o),function(e,n){var r,i,a=r=_(e,"Kernel"),$=(a.$$proto,[a].concat(n));t.defn(a,"$Complex",i=function(e,n){return null==n&&(n=s),c(n)?t.const_get_relative($,"Complex").$new(e,n):t.const_get_relative($,"Complex").$new(e,0)},i.$$arity=-2)}(o[0],o)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=t.top,l=[],c=t.nil,_=(t.breaker,t.slice,t.klass),u=t.truthy,d=t.module;return t.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),s.$require("corelib/numeric"),function(s,l,d){function f(){}var p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j=f=_(s,l,"Rational",f),F=j.$$proto,U=[j].concat(d);F.num=F.den=c,t.defs(j,"$reduce",p=function(r,i){var a=this,$=c;if(r=r.$to_i(),(i=i.$to_i())["$=="](0))a.$raise(t.const_get_relative(U,"ZeroDivisionError"),"divided by 0");else if(u(e(i,0)))r=r["$-@"](),i=i["$-@"]();else if(i["$=="](1))return a.$new(r,i);return $=r.$gcd(i),a.$new(n(r,$),n(i,$))},p.$$arity=2),t.defs(j,"$convert",h=function(e,r){var i,a,$=this;return u(u(i=e["$nil?"]())?i:r["$nil?"]())&&$.$raise(t.const_get_relative(U,"TypeError"),"cannot convert nil into Rational"),u(u(i=t.const_get_relative(U,"Integer")["$==="](e))?t.const_get_relative(U,"Integer")["$==="](r):i)?$.$reduce(e,r):(u(u(i=u(a=t.const_get_relative(U,"Float")["$==="](e))?a:t.const_get_relative(U,"String")["$==="](e))?i:t.const_get_relative(U,"Complex")["$==="](e))&&(e=e.$to_r()),u(u(i=u(a=t.const_get_relative(U,"Float")["$==="](r))?a:t.const_get_relative(U,"String")["$==="](r))?i:t.const_get_relative(U,"Complex")["$==="](r))&&(r=r.$to_r()),u(u(i=r["$equal?"](1))?t.const_get_relative(U,"Integer")["$==="](e)["$!"]():i)?t.const_get_relative(U,"Opal")["$coerce_to!"](e,t.const_get_relative(U,"Rational"),"to_r"):u(u(i=t.const_get_relative(U,"Numeric")["$==="](e))?t.const_get_relative(U,"Numeric")["$==="](r):i)?n(e,r):$.$reduce(e,r))},h.$$arity=2),j.$attr_reader("numerator","denominator"),t.defn(j,"$initialize",g=function(t,e){var n=this;return n.num=t,n.den=e},g.$$arity=2),t.defn(j,"$numerator",v=function(){return this.num},v.$$arity=0),t.defn(j,"$denominator",m=function(){return this.den},m.$$arity=0),t.defn(j,"$coerce",y=function(e){var n=this,r=c;return r=e,t.const_get_relative(U,"Rational")["$==="](r)?[e,n]:t.const_get_relative(U,"Integer")["$==="](r)?[e.$to_r(),n]:t.const_get_relative(U,"Float")["$==="](r)?[e,n.$to_f()]:c},y.$$arity=1),t.defn(j,"$==",b=function(e){var n=this,r=c;return r=e,t.const_get_relative(U,"Rational")["$==="](r)?n.num["$=="](e.$numerator())?n.den["$=="](e.$denominator()):n.num["$=="](e.$numerator()):t.const_get_relative(U,"Integer")["$==="](r)?n.num["$=="](e)?n.den["$=="](1):n.num["$=="](e):t.const_get_relative(U,"Float")["$==="](r)?n.$to_f()["$=="](e):e["$=="](n)},b.$$arity=1),t.defn(j,"$<=>",w=function(e){var n=this,a=c;return a=e,t.const_get_relative(U,"Rational")["$==="](a)?r(i(n.num,e.$denominator()),i(n.den,e.$numerator()))["$<=>"](0):t.const_get_relative(U,"Integer")["$==="](a)?r(n.num,i(n.den,e))["$<=>"](0):t.const_get_relative(U,"Float")["$==="](a)?n.$to_f()["$<=>"](e):n.$__coerced__("<=>",e)},w.$$arity=1),t.defn(j,"$+",k=function(e){var n=this,r=c,$=c,o=c;return r=e,t.const_get_relative(U,"Rational")["$==="](r)?($=a(i(n.num,e.$denominator()),i(n.den,e.$numerator())),o=i(n.den,e.$denominator()),n.$Rational($,o)):t.const_get_relative(U,"Integer")["$==="](r)?n.$Rational(a(n.num,i(e,n.den)),n.den):t.const_get_relative(U,"Float")["$==="](r)?a(n.$to_f(),e):n.$__coerced__("+",e)},k.$$arity=1),t.defn(j,"$-",x=function(e){var n=this,a=c,$=c,o=c;return a=e,t.const_get_relative(U,"Rational")["$==="](a)?($=r(i(n.num,e.$denominator()),i(n.den,e.$numerator())),o=i(n.den,e.$denominator()),n.$Rational($,o)):t.const_get_relative(U,"Integer")["$==="](a)?n.$Rational(r(n.num,i(e,n.den)),n.den):t.const_get_relative(U,"Float")["$==="](a)?r(n.$to_f(),e):n.$__coerced__("-",e)},x.$$arity=1),t.defn(j,"$*",E=function(e){var n=this,r=c,a=c,$=c;return r=e,t.const_get_relative(U,"Rational")["$==="](r)?(a=i(n.num,e.$numerator()),$=i(n.den,e.$denominator()),n.$Rational(a,$)):t.const_get_relative(U,"Integer")["$==="](r)?n.$Rational(i(n.num,e),n.den):t.const_get_relative(U,"Float")["$==="](r)?i(n.$to_f(),e):n.$__coerced__("*",e)},E.$$arity=1),t.defn(j,"$/",O=function(e){var r=this,a=c,$=c,o=c;return a=e,t.const_get_relative(U,"Rational")["$==="](a)?($=i(r.num,e.$denominator()),o=i(r.den,e.$numerator()),r.$Rational($,o)):t.const_get_relative(U,"Integer")["$==="](a)?e["$=="](0)?n(r.$to_f(),0):r.$Rational(r.num,i(r.den,e)):t.const_get_relative(U,"Float")["$==="](a)?n(r.$to_f(),e):r.$__coerced__("/",e)},O.$$arity=1),t.defn(j,"$**",A=function(n){var r=this,i=c;return i=n,t.const_get_relative(U,"Integer")["$==="](i)?u(r["$=="](0)?e(n,0):r["$=="](0))?t.const_get_qualified(t.const_get_relative(U,"Float"),"INFINITY"):u($(n,0))?r.$Rational(r.num["$**"](n),r.den["$**"](n)):u(e(n,0))?r.$Rational(r.den["$**"](n["$-@"]()),r.num["$**"](n["$-@"]())):r.$Rational(1,1):t.const_get_relative(U,"Float")["$==="](i)?r.$to_f()["$**"](n):t.const_get_relative(U,"Rational")["$==="](i)?n["$=="](0)?r.$Rational(1,1):n.$denominator()["$=="](1)?u(e(n,0))?r.$Rational(r.den["$**"](n.$numerator().$abs()),r.num["$**"](n.$numerator().$abs())):r.$Rational(r.num["$**"](n.$numerator()),r.den["$**"](n.$numerator())):u(r["$=="](0)?e(n,0):r["$=="](0))?r.$raise(t.const_get_relative(U,"ZeroDivisionError"),"divided by 0"):r.$to_f()["$**"](n):r.$__coerced__("**",n)},A.$$arity=1),t.defn(j,"$abs",S=function(){var t=this;return t.$Rational(t.num.$abs(),t.den.$abs())},S.$$arity=0),t.defn(j,"$ceil",R=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?n(e.num["$-@"](),e.den)["$-@"]().$ceil():e.$with_precision("ceil",t)},R.$$arity=-1),t.alias(j,"divide","/"),t.defn(j,"$floor",M=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?n(e.num["$-@"](),e.den)["$-@"]().$floor():e.$with_precision("floor",t)},M.$$arity=-1),t.defn(j,"$hash",T=function(){var t=this;return"Rational:"+t.num+":"+t.den},T.$$arity=0),t.defn(j,"$inspect",I=function(){return"("+this.$to_s()+")"},I.$$arity=0),t.alias(j,"quo","/"),t.defn(j,"$rationalize",C=function(e){var i=this;if(arguments.length>1&&i.$raise(t.const_get_relative(U,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==e)return i;for(var $,s,l,c,_,u=e.$abs(),d=r(i,u),f=a(i,u),p=0,h=1,g=1,v=0;;){if(l=d.$ceil(),o(l,f))break;$=(c=l-1)*h+p,s=c*v+g,_=n(1,r(f,c)),f=n(1,r(d,c)),d=_,p=h,g=v,h=$,v=s}return i.$Rational(l*h+p,l*v+g)},C.$$arity=-1),t.defn(j,"$round",q=function(t){var r=this,$=c,o=c,s=c;return null==t&&(t=0),t["$=="](0)?r.num["$=="](0)?0:r.den["$=="](1)?r.num:($=a(i(r.num.$abs(),2),r.den),o=i(r.den,2),s=n($,o).$truncate(),u(e(r.num,0))?s["$-@"]():s):r.$with_precision("round",t)},q.$$arity=-1),t.defn(j,"$to_f",N=function(){var t=this;return n(t.num,t.den)},N.$$arity=0),t.defn(j,"$to_i",L=function(){return this.$truncate()},L.$$arity=0),t.defn(j,"$to_r",z=function(){return this},z.$$arity=0),t.defn(j,"$to_s",P=function(){var t=this;return t.num+"/"+t.den},P.$$arity=0),t.defn(j,"$truncate",D=function(t){var n=this;return null==t&&(t=0),t["$=="](0)?u(e(n.num,0))?n.$ceil():n.$floor():n.$with_precision("truncate",t)},D.$$arity=-1),t.defn(j,"$with_precision",B=function(r,a){var $=this,o=c,s=c;return u(t.const_get_relative(U,"Integer")["$==="](a))||$.$raise(t.const_get_relative(U,"TypeError"),"not an Integer"),o=10["$**"](a),s=i($,o),u(e(a,1))?n(s.$send(r),o).$to_i():$.$Rational(s.$send(r),o)},B.$$arity=2)}(l[0],t.const_get_relative(l,"Numeric"),l),function(e,n){var r,i,a=r=d(e,"Kernel"),$=(a.$$proto,[a].concat(n));t.defn(a,"$Rational",i=function(e,n){return null==n&&(n=1),t.const_get_relative($,"Rational").$convert(e,n)},i.$$arity=-2)}(l[0],l)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var o=t.top,s=[],l=t.nil,c=(t.breaker,t.slice),_=t.klass,u=t.truthy,d=t.range;return t.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),o.$require("corelib/comparable"),function(o,s,f){function p(){}function h(e,n,r,i,a,$){if(e=e.$$is_string?parseInt(e,10):t.const_get_relative($t,"Opal")["$coerce_to!"](e,t.const_get_relative($t,"Integer"),"to_int"),n===l)n=1;else if(!n.$$is_number)if(n["$respond_to?"]("to_str"))switch((n=n.$to_str()).toLowerCase()){case"jan":n=1;break;case"feb":n=2;break;case"mar":n=3;break;case"apr":n=4;break;case"may":n=5;break;case"jun":n=6;break;case"jul":n=7;break;case"aug":n=8;break;case"sep":n=9;break;case"oct":n=10;break;case"nov":n=11;break;case"dec":n=12;break;default:n=n.$to_i()}else n=t.const_get_relative($t,"Opal")["$coerce_to!"](n,t.const_get_relative($t,"Integer"),"to_int");return(n<1||n>12)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"month out of range: "+n),n-=1,((r=r===l?1:r.$$is_string?parseInt(r,10):t.const_get_relative($t,"Opal")["$coerce_to!"](r,t.const_get_relative($t,"Integer"),"to_int"))<1||r>31)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"day out of range: "+r),((i=i===l?0:i.$$is_string?parseInt(i,10):t.const_get_relative($t,"Opal")["$coerce_to!"](i,t.const_get_relative($t,"Integer"),"to_int"))<0||i>24)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"hour out of range: "+i),((a=a===l?0:a.$$is_string?parseInt(a,10):t.const_get_relative($t,"Opal")["$coerce_to!"](a,t.const_get_relative($t,"Integer"),"to_int"))<0||a>59)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"min out of range: "+a),$===l?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):t.const_get_relative($t,"Opal")["$coerce_to!"]($,t.const_get_relative($t,"Integer"),"to_int")),($<0||$>60)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"sec out of range: "+$),[e,n,r,i,a,$]}var g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt,it,at=p=_(o,s,"Time",p),$t=(at.$$proto,[at].concat(f));at.$include(t.const_get_relative($t,"Comparable"));var ot=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],st=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.defs(at,"$at",g=function(e,n){var r,i=this;return t.const_get_relative($t,"Time")["$==="](e)?(void 0!==n&&i.$raise(t.const_get_relative($t,"TypeError"),"can't convert Time into an exact number"),r=new Date(e.getTime()),r.is_utc=e.is_utc,r):(e.$$is_number||(e=t.const_get_relative($t,"Opal")["$coerce_to!"](e,t.const_get_relative($t,"Integer"),"to_int")),void 0===n?new Date(1e3*e):(n.$$is_number||(n=t.const_get_relative($t,"Opal")["$coerce_to!"](n,t.const_get_relative($t,"Integer"),"to_int")),new Date(1e3*e+n/1e3)))},g.$$arity=-2),t.defs(at,"$new",v=function(e,n,r,i,a,$,o){var s=this;null==n&&(n=l),null==r&&(r=l),null==i&&(i=l),null==a&&(a=l),null==$&&($=l),null==o&&(o=l);var c,_;return void 0===e?new Date:(o!==l&&s.$raise(t.const_get_relative($t,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),c=h(e,n,r,i,a,$),e=c[0],n=c[1],r=c[2],i=c[3],a=c[4],$=c[5],_=new Date(e,n,r,i,a,0,1e3*$),e<100&&_.setFullYear(e),_)},v.$$arity=-1),t.defs(at,"$local",m=function(t,e,n,r,i,a,$,o,s,_){null==e&&(e=l),null==n&&(n=l),null==r&&(r=l),null==i&&(i=l),null==a&&(a=l),null==$&&($=l),null==o&&(o=l),null==s&&(s=l),null==_&&(_=l);var u,d;return 10===arguments.length&&(t=(u=c.call(arguments))[5],e=u[4],n=u[3],r=u[2],i=u[1],a=u[0]),u=h(t,e,n,r,i,a),t=u[0],e=u[1],n=u[2],r=u[3],i=u[4],a=u[5],d=new Date(t,e,n,r,i,0,1e3*a),t<100&&d.setFullYear(t),d},m.$$arity=-2),t.defs(at,"$gm",y=function(t,e,n,r,i,a,$,o,s,_){null==e&&(e=l),null==n&&(n=l),null==r&&(r=l),null==i&&(i=l),null==a&&(a=l),null==$&&($=l),null==o&&(o=l),null==s&&(s=l),null==_&&(_=l);var u,d;return 10===arguments.length&&(t=(u=c.call(arguments))[5],e=u[4],n=u[3],r=u[2],i=u[1],a=u[0]),u=h(t,e,n,r,i,a),t=u[0],e=u[1],n=u[2],r=u[3],i=u[4],a=u[5],d=new Date(Date.UTC(t,e,n,r,i,0,1e3*a)),t<100&&d.setUTCFullYear(t),d.is_utc=!0,d},y.$$arity=-2),function(e,n){e.$$proto,[e].concat(n);t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class(at),$t),t.defs(at,"$now",b=function(){return this.$new()},b.$$arity=0),t.defn(at,"$+",w=function(e){var n=this;u(t.const_get_relative($t,"Time")["$==="](e))&&n.$raise(t.const_get_relative($t,"TypeError"),"time + time?"),e.$$is_number||(e=t.const_get_relative($t,"Opal")["$coerce_to!"](e,t.const_get_relative($t,"Integer"),"to_int"));var r=new Date(n.getTime()+1e3*e);return r.is_utc=n.is_utc,r},w.$$arity=1),t.defn(at,"$-",k=function(e){var n=this;if(u(t.const_get_relative($t,"Time")["$==="](e)))return(n.getTime()-e.getTime())/1e3;e.$$is_number||(e=t.const_get_relative($t,"Opal")["$coerce_to!"](e,t.const_get_relative($t,"Integer"),"to_int"));var r=new Date(n.getTime()-1e3*e);return r.is_utc=n.is_utc,r},k.$$arity=1),t.defn(at,"$<=>",x=function(r){var i=this,a=l;return u(t.const_get_relative($t,"Time")["$==="](r))?i.$to_f()["$<=>"](r.$to_f()):(a=r["$<=>"](i),u(a["$nil?"]())?l:u(e(a,0))?-1:u(n(a,0))?1:0)},x.$$arity=1),t.defn(at,"$==",E=function(e){var n,r=this;return u(n=t.const_get_relative($t,"Time")["$==="](e))?r.$to_f()===e.$to_f():n},E.$$arity=1),t.defn(at,"$asctime",O=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},O.$$arity=0),t.alias(at,"ctime","asctime"),t.defn(at,"$day",A=function(){var t=this;return t.is_utc?t.getUTCDate():t.getDate()},A.$$arity=0),t.defn(at,"$yday",S=function(){var e=this,n=l,$=l;return n=t.const_get_relative($t,"Time").$new(e.$year()).$to_i(),$=t.const_get_relative($t,"Time").$new(e.$year(),e.$month(),e.$day()).$to_i(),86400,r(i(a($,n),86400).$round(),1)},S.$$arity=0),t.defn(at,"$isdst",R=function(){var t=this,e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1);return t.getTimezoneOffset()<Math.max(e.getTimezoneOffset(),n.getTimezoneOffset())},R.$$arity=0),t.alias(at,"dst?","isdst"),t.defn(at,"$dup",M=function(){var t=this,e=l;return(e=new Date(t.getTime())).$copy_instance_variables(t),e.$initialize_dup(t),e},M.$$arity=0),t.defn(at,"$eql?",T=function(e){var n,r=this;return u(n=e["$is_a?"](t.const_get_relative($t,"Time")))?r["$<=>"](e)["$zero?"]():n},T.$$arity=1),t.defn(at,"$friday?",I=function(){return 5==this.$wday()},I.$$arity=0),t.defn(at,"$hash",C=function(){return"Time:"+this.getTime()},C.$$arity=0),t.defn(at,"$hour",q=function(){var t=this;return t.is_utc?t.getUTCHours():t.getHours()},q.$$arity=0),t.defn(at,"$inspect",N=function(){var t=this;return u(t["$utc?"]())?t.$strftime("%Y-%m-%d %H:%M:%S UTC"):t.$strftime("%Y-%m-%d %H:%M:%S %z")},N.$$arity=0),t.alias(at,"mday","day"),t.defn(at,"$min",L=function(){var t=this;return t.is_utc?t.getUTCMinutes():t.getMinutes()},L.$$arity=0),t.defn(at,"$mon",z=function(){var t=this;return(t.is_utc?t.getUTCMonth():t.getMonth())+1},z.$$arity=0),t.defn(at,"$monday?",P=function(){return 1==this.$wday()},P.$$arity=0),t.alias(at,"month","mon"),t.defn(at,"$saturday?",D=function(){return 6==this.$wday()},D.$$arity=0),t.defn(at,"$sec",B=function(){var t=this;return t.is_utc?t.getUTCSeconds():t.getSeconds()},B.$$arity=0),t.defn(at,"$succ",j=function(){var t=this,e=new Date(t.getTime()+1e3);return e.is_utc=t.is_utc,e},j.$$arity=0),t.defn(at,"$usec",F=function(){return 1e3*this.getMilliseconds()},F.$$arity=0),t.defn(at,"$zone",U=function(){var t,e=this.toString();return"GMT"==(t=-1==e.indexOf("(")?e.match(/[A-Z]{3,4}/)[0]:e.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(e)?RegExp.$1:t},U.$$arity=0),t.defn(at,"$getgm",G=function(){var t=this,e=new Date(t.getTime());return e.is_utc=!0,e},G.$$arity=0),t.alias(at,"getutc","getgm"),t.defn(at,"$gmtime",H=function(){var t=this;return t.is_utc=!0,t},H.$$arity=0),t.alias(at,"utc","gmtime"),t.defn(at,"$gmt?",Y=function(){return!0===this.is_utc},Y.$$arity=0),t.defn(at,"$gmt_offset",K=function(){return 60*-this.getTimezoneOffset()},K.$$arity=0),t.defn(at,"$strftime",W=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,n,r,i,a){var $="",o=-1!==n.indexOf("0"),s=-1===n.indexOf("-"),l=-1!==n.indexOf("_"),c=-1!==n.indexOf("^"),_=-1!==n.indexOf("#"),u=(n.match(":")||[]).length;switch(r=parseInt(r,10),o&&l&&(n.indexOf("0")<n.indexOf("_")?o=!1:l=!1),a){case"Y":$+=e.$year();break;case"C":o=!l,$+=Math.round(e.$year()/100);break;case"y":o=!l,$+=e.$year()%100;break;case"m":o=!l,$+=e.$mon();break;case"B":$+=ct[e.$mon()-1];break;case"b":case"h":l=!o,$+=lt[e.$mon()-1];break;case"d":o=!l,$+=e.$day();break;case"e":l=!o,$+=e.$day();break;case"j":$+=e.$yday();break;case"H":o=!l,$+=e.$hour();break;case"k":l=!o,$+=e.$hour();break;case"I":o=!l,$+=e.$hour()%12||12;break;case"l":l=!o,$+=e.$hour()%12||12;break;case"P":$+=e.$hour()>=12?"pm":"am";break;case"p":$+=e.$hour()>=12?"PM":"AM";break;case"M":o=!l,$+=e.$min();break;case"S":o=!l,$+=e.$sec();break;case"L":o=!l,r=isNaN(r)?3:r,$+=e.getMilliseconds();break;case"N":r=isNaN(r)?9:r,$=($+=e.getMilliseconds().toString().$rjust(3,"0")).$ljust(r,"0");break;case"z":var f=e.getTimezoneOffset(),p=Math.floor(Math.abs(f)/60),h=Math.abs(f)%60;$+=f<0?"+":"-",$+=p<10?"0":"",$+=p,u>0&&($+=":"),$+=h<10?"0":"",$+=h,u>1&&($+=":00");break;case"Z":$+=e.$zone();break;case"A":$+=ot[e.$wday()];break;case"a":$+=st[e.$wday()];break;case"u":$+=e.$wday()+1;break;case"w":$+=e.$wday();break;case"V":$+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":$+=e.$cweek_cyear()["$[]"](1);break;case"g":$+=e.$cweek_cyear()["$[]"](1)["$[]"](d(-2,-1,!1));break;case"s":$+=e.$to_i();break;case"n":$+="\n";break;case"t":$+="\t";break;case"%":$+="%";break;case"c":$+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":$+=e.$strftime("%m/%d/%y");break;case"F":$+=e.$strftime("%Y-%m-%d");break;case"v":$+=e.$strftime("%e-%^b-%4Y");break;case"r":$+=e.$strftime("%I:%M:%S %p");break;case"R":$+=e.$strftime("%H:%M");break;case"T":case"X":$+=e.$strftime("%H:%M:%S");break;default:return t}return c&&($=$.toUpperCase()),_&&($=$.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(o||l)&&($=$.$rjust(isNaN(r)?2:r,l?" ":"0")),$})},W.$$arity=1),t.defn(at,"$sunday?",X=function(){return 0==this.$wday()},X.$$arity=0),t.defn(at,"$thursday?",V=function(){return 4==this.$wday()},V.$$arity=0),t.defn(at,"$to_a",J=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},J.$$arity=0),t.defn(at,"$to_f",Z=function(){return this.getTime()/1e3},Z.$$arity=0),t.defn(at,"$to_i",Q=function(){var t=this;return parseInt(t.getTime()/1e3,10)},Q.$$arity=0),t.alias(at,"to_s","inspect"),t.defn(at,"$tuesday?",tt=function(){return 2==this.$wday()},tt.$$arity=0),t.alias(at,"tv_sec","to_i"),t.alias(at,"tv_usec","usec"),t.alias(at,"utc?","gmt?"),t.alias(at,"gmtoff","gmt_offset"),t.alias(at,"utc_offset","gmt_offset"),t.defn(at,"$wday",et=function(){var t=this;return t.is_utc?t.getUTCDay():t.getDay()},et.$$arity=0),t.defn(at,"$wednesday?",nt=function(){return 3==this.$wday()},nt.$$arity=0),t.defn(at,"$year",rt=function(){var t=this;return t.is_utc?t.getUTCFullYear():t.getFullYear()},rt.$$arity=0),t.defn(at,"$cweek_cyear",it=function(){var e,n=this,o=l,s=l,c=l,_=l,d=l,f=l;return o=t.const_get_relative($t,"Time").$new(n.$year(),1,1),s=o.$wday(),0,c=n.$year(),u(u(e=$(s,4))?s["$!="](0):e)?_=a(s,1):(_=a(a(s,7),1))["$=="](-8)&&(_=-1),d=i(r(n.$yday(),_),7).$ceil(),u($(d,0))?t.const_get_relative($t,"Time").$new(a(n.$year(),1),12,31).$cweek_cyear():(d["$=="](53)&&(f=t.const_get_relative($t,"Time").$new(n.$year(),12,31).$wday(),u(u(e=$(f,3))?f["$!="](0):e)&&(d=1,c=r(c,1))),[d,c])},it.$$arity=0),l&&"cweek_cyear"}(s[0],Date,s)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $=t.top,o=[],s=t.nil,l=(t.breaker,t.slice,t.klass),c=t.truthy,_=t.send,u=t.hash2;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]","$[]=","$-","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$each_pair","$inspect","$inject","$flatten","$to_a","$respond_to?","$dig"]),$.$require("corelib/enumerable"),function($,o,d){function f(){}var p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q=f=l($,null,"Struct",f),N=(q.$$proto,[q].concat(d));return q.$include(t.const_get_relative(N,"Enumerable")),t.defs(q,"$new",p=function(e,n){var r,i,a,$=this,o=p.$$p,l=o||s,u=s,d=arguments.length,f=d-1;f<0&&(f=0),a=new Array(f);for(var h=1;h<d;h++)a[h-1]=arguments[h];if(o&&(p.$$p=null),c(e))try{e=t.const_get_relative(N,"Opal")["$const_name!"](e)}catch(n){if(!t.rescue(n,[t.const_get_relative(N,"TypeError"),t.const_get_relative(N,"NameError")]))throw n;try{a.$unshift(e),e=s}finally{t.pop_exception()}}return _(a,"map",[],(r=function(e){r.$$s;return null==e&&(e=s),t.const_get_relative(N,"Opal")["$coerce_to!"](e,t.const_get_relative(N,"String"),"to_str")},r.$$s=$,r.$$arity=1,r)),u=_(t.const_get_relative(N,"Class"),"new",[$],(i=function(){var e,n=i.$$s||this;return _(a,"each",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=s),n.$define_struct_attribute(t)},e.$$s=n,e.$$arity=1,e)),function(e,n){var r;e.$$proto,[e].concat(n);return t.defn(e,"$new",r=function(e){var n,r=this,i=s,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];return i=r.$allocate(),i.$$data={},_(i,"initialize",t.to_a(n)),i},r.$$arity=-1),t.alias(e,"[]","new")}(t.get_singleton_class(n),N)},i.$$s=$,i.$$arity=0,i)),c(l)&&_(u,"module_eval",[],l.$to_proc()),c(e)&&t.const_get_relative(N,"Struct").$const_set(e,u),u},p.$$arity=-2),t.defs(q,"$define_struct_attribute",h=function(e){var n,r,i=this;return i["$=="](t.const_get_relative(N,"Struct"))&&i.$raise(t.const_get_relative(N,"ArgumentError"),"you cannot define attributes to the Struct class"),i.$members()["$<<"](e),_(i,"define_method",[e],(n=function(){return(n.$$s||this).$$data[e]},n.$$s=i,n.$$arity=0,n)),_(i,"define_method",[e+"="],(r=function(t){var n=r.$$s||this;return null==t&&(t=s),n.$$data[e]=t},r.$$s=i,r.$$arity=1,r))},h.$$arity=1),t.defs(q,"$members",g=function(){var e,n=this;return null==n.members&&(n.members=s),n["$=="](t.const_get_relative(N,"Struct"))&&n.$raise(t.const_get_relative(N,"ArgumentError"),"the Struct class has no members"),n.members=c(e=n.members)?e:[]},g.$$arity=0),t.defs(q,"$inherited",v=function(t){var e,n=this,r=s;return null==n.members&&(n.members=s),r=n.members,_(t,"instance_eval",[],(e=function(){return(e.$$s||this).members=r},e.$$s=n,e.$$arity=0,e))},v.$$arity=1),t.defn(q,"$initialize",m=function(r){var i,a,$=this,o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var u=0;u<o;u++)a[u-0]=arguments[u];return c(e(a.$length(),$.$class().$members().$length()))&&$.$raise(t.const_get_relative(N,"ArgumentError"),"struct size differs"),_($.$class().$members(),"each_with_index",[],(i=function(e,r){var $=i.$$s||this,o=s;return null==e&&(e=s),null==r&&(r=s),o=[e,a["$[]"](r)],_($,"[]=",t.to_a(o)),o[n(o.length,1)]},i.$$s=$,i.$$arity=2,i))},m.$$arity=-1),t.defn(q,"$members",y=function(){return this.$class().$members()},y.$$arity=0),t.defn(q,"$hash",b=function(){var e=this;return t.const_get_relative(N,"Hash").$new(e.$$data).$hash()},b.$$arity=0),t.defn(q,"$[]",w=function(e){var n=this;return c(t.const_get_relative(N,"Integer")["$==="](e))?(c(r(e,n.$class().$members().$size()["$-@"]()))&&n.$raise(t.const_get_relative(N,"IndexError"),"offset "+e+" too small for struct(size:"+n.$class().$members().$size()+")"),c(i(e,n.$class().$members().$size()))&&n.$raise(t.const_get_relative(N,"IndexError"),"offset "+e+" too large for struct(size:"+n.$class().$members().$size()+")"),e=n.$class().$members()["$[]"](e)):c(t.const_get_relative(N,"String")["$==="](e))?n.$$data.hasOwnProperty(e)||n.$raise(t.const_get_relative(N,"NameError").$new("no member '"+e+"' in struct",e)):n.$raise(t.const_get_relative(N,"TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=t.const_get_relative(N,"Opal")["$coerce_to!"](e,t.const_get_relative(N,"String"),"to_str"),n.$$data[e]},w.$$arity=1),t.defn(q,"$[]=",k=function(e,n){var a=this;return c(t.const_get_relative(N,"Integer")["$==="](e))?(c(r(e,a.$class().$members().$size()["$-@"]()))&&a.$raise(t.const_get_relative(N,"IndexError"),"offset "+e+" too small for struct(size:"+a.$class().$members().$size()+")"),c(i(e,a.$class().$members().$size()))&&a.$raise(t.const_get_relative(N,"IndexError"),"offset "+e+" too large for struct(size:"+a.$class().$members().$size()+")"),e=a.$class().$members()["$[]"](e)):c(t.const_get_relative(N,"String")["$==="](e))?c(a.$class().$members()["$include?"](e.$to_sym()))||a.$raise(t.const_get_relative(N,"NameError").$new("no member '"+e+"' in struct",e)):a.$raise(t.const_get_relative(N,"TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=t.const_get_relative(N,"Opal")["$coerce_to!"](e,t.const_get_relative(N,"String"),"to_str"),a.$$data[e]=n},k.$$arity=2),t.defn(q,"$==",x=function(e){function n(e,r){var $,o,s;i[e.$__id__()]=!0,a[r.$__id__()]=!0;for($ in e.$$data)if(o=e.$$data[$],s=r.$$data[$],t.const_get_relative(N,"Struct")["$==="](o)){if(!(i.hasOwnProperty(o.$__id__())&&a.hasOwnProperty(s.$__id__())||n(o,s)))return!1}else if(!o["$=="](s))return!1;return!0}var r=this;if(!c(e["$instance_of?"](r.$class())))return!1;var i={},a={};return n(r,e)},x.$$arity=1),t.defn(q,"$eql?",E=function(e){function n(e,r){var $,o,s;i[e.$__id__()]=!0,a[r.$__id__()]=!0;for($ in e.$$data)if(o=e.$$data[$],s=r.$$data[$],t.const_get_relative(N,"Struct")["$==="](o)){if(!(i.hasOwnProperty(o.$__id__())&&a.hasOwnProperty(s.$__id__())||n(o,s)))return!1}else if(!o["$eql?"](s))return!1;return!0}var r=this;if(!c(e["$instance_of?"](r.$class())))return!1;var i={},a={};return n(r,e)},E.$$arity=1),t.defn(q,"$each",O=function(){var e,n,r=this,i=O.$$p,a=i||s;return i&&(O.$$p=null),a===s?_(r,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=r,e.$$arity=0,e)):(_(r.$class().$members(),"each",[],(n=function(e){var r=n.$$s||this;return null==e&&(e=s),t.yield1(a,r["$[]"](e))},n.$$s=r,n.$$arity=1,n)),r)},O.$$arity=0),t.defn(q,"$each_pair",A=function(){var e,n,r=this,i=A.$$p,a=i||s;return i&&(A.$$p=null),a===s?_(r,"enum_for",["each_pair"],(e=function(){return(e.$$s||this).$size()},e.$$s=r,e.$$arity=0,e)):(_(r.$class().$members(),"each",[],(n=function(e){var r=n.$$s||this;return null==e&&(e=s),t.yield1(a,[e,r["$[]"](e)])},n.$$s=r,n.$$arity=1,n)),r)},A.$$arity=0),t.defn(q,"$length",S=function(){return this.$class().$members().$length()},S.$$arity=0),t.alias(q,"size","length"),t.defn(q,"$to_a",R=function(){var t,e=this;return _(e.$class().$members(),"map",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=s),n["$[]"](e)},t.$$s=e,t.$$arity=1,t))},R.$$arity=0),t.alias(q,"values","to_a"),t.defn(q,"$inspect",M=function(){var e,n,r=this,i=s;return i="#<struct ",c(c(e=t.const_get_relative(N,"Struct")["$==="](r))?r.$class().$name():e)&&(i=a(i,r.$class()+" ")),i=a(i,_(r.$each_pair(),"map",[],(n=function(t,e){n.$$s;return null==t&&(t=s),null==e&&(e=s),t+"="+e.$inspect()},n.$$s=r,n.$$arity=2,n)).$join(", ")),i=a(i,">")},M.$$arity=0),t.alias(q,"to_s","inspect"),t.defn(q,"$to_h",T=function(){var e,r=this;return _(r.$class().$members(),"inject",[u([],{})],(e=function(r,i){var a=e.$$s||this,$=s;return null==r&&(r=s),null==i&&(i=s),$=[i,a["$[]"](i)],_(r,"[]=",t.to_a($)),n($.length,1),r},e.$$s=r,e.$$arity=2,e))},T.$$arity=0),t.defn(q,"$values_at",I=function(e){var n,r,i=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];for(var l=[],c=0,u=(r=_(r,"map",[],(n=function(t){n.$$s;return null==t&&(t=s),t.$$is_range?t.$to_a():t},n.$$s=i,n.$$arity=1,n)).$flatten()).length;c<u;c++)r[c].$$is_number||i.$raise(t.const_get_relative(N,"TypeError"),"no implicit conversion of "+r[c].$class()+" into Integer"),l.push(i["$[]"](r[c]));return l},I.$$arity=-1),t.defn(q,"$dig",C=function(e,n){var r,i=this,a=s,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var l=1;l<$;l++)r[l-1]=arguments[l];return(a=c(e.$$is_string&&i.$$data.hasOwnProperty(e))?i.$$data[e]||s:s)===s||0===r.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(t.const_get_relative(N,"TypeError"),a.$class()+" does not have #dig method"),_(a,"dig",t.to_a(r)))},C.$$arity=-2),s&&"dig"}(o[0],0,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.module,$=t.send,o=t.gvars,s=t.truthy,l=r;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,n,l){function c(){}var _,u,d,f,p=c=i(e,null,"IO",c),h=p.$$proto,g=[p].concat(l);h.tty=h.closed=r,t.const_set(g[0],"SEEK_SET",0),t.const_set(g[0],"SEEK_CUR",1),t.const_set(g[0],"SEEK_END",2),t.defn(p,"$tty?",_=function(){return this.tty},_.$$arity=0),t.defn(p,"$closed?",u=function(){return this.closed},u.$$arity=0),p.$attr_accessor("write_proc"),t.defn(p,"$write",d=function(t){return this.write_proc(t),t.$size()},d.$$arity=1),p.$attr_accessor("sync","tty"),t.defn(p,"$flush",f=function(){return r},f.$$arity=0),function(e,n){var i,l,c,_,u=i=a(e,"Writable");u.$$proto,[u].concat(n);t.defn(u,"$<<",l=function(t){var e=this;return e.$write(t),e},l.$$arity=1),t.defn(u,"$print",c=function(t){var e,n,i=this;null==o[","]&&(o[","]=r);var a=arguments.length,s=a-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<a;l++)n[l-0]=arguments[l];return i.$write($(n,"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=r),n.$String(t)},e.$$s=i,e.$$arity=1,e)).$join(o[","])),r},c.$$arity=-1),t.defn(u,"$puts",_=function(t){var e,n,i=this,a=r;null==o["/"]&&(o["/"]=r);var l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var _=0;_<l;_++)n[_-0]=arguments[_];return a=o["/"],s(n["$empty?"]())?i.$write(o["/"]):i.$write($(n,"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=r),n.$String(t).$chomp()},e.$$s=i,e.$$arity=1,e)).$concat([r]).$join(a)),r},_.$$arity=-1)}(g[0],g),function(e,n){var i,$,s,l,c,_=i=a(e,"Readable"),u=(_.$$proto,[_].concat(n));t.defn(_,"$readbyte",$=function(){return this.$getbyte()},$.$$arity=0),t.defn(_,"$readchar",s=function(){return this.$getc()},s.$$arity=0),t.defn(_,"$readline",l=function(e){var n=this;return null==o["/"]&&(o["/"]=r),null==e&&(e=o["/"]),n.$raise(t.const_get_relative(u,"NotImplementedError"))},l.$$arity=-1),t.defn(_,"$readpartial",c=function(e,n){var i=this;return null==n&&(n=r),i.$raise(t.const_get_relative(u,"NotImplementedError"))},c.$$arity=-2)}(g[0],g)}(n[0],0,n),t.const_set(n[0],"STDERR",o.stderr=t.const_get_relative(n,"IO").$new()),t.const_set(n[0],"STDIN",o.stdin=t.const_get_relative(n,"IO").$new()),t.const_set(n[0],"STDOUT",o.stdout=t.const_get_relative(n,"IO").$new());var c=t.global.console;return l=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){c.log(t)}],$(t.const_get_relative(n,"STDOUT"),"write_proc=",t.to_a(l)),l[e(l.length,1)],l=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){c.warn(t)}],$(t.const_get_relative(n,"STDERR"),"write_proc=",t.to_a(l)),l[e(l.length,1)],t.const_get_relative(n,"STDOUT").$extend(t.const_get_qualified(t.const_get_relative(n,"IO"),"Writable")),t.const_get_relative(n,"STDERR").$extend(t.const_get_qualified(t.const_get_relative(n,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,n,r=t.top,i=[];t.nil,t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(r,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(r,"$include",n=function(e){return t.const_get_relative(i,"Object").$include(e)},n.$$arity=1)},Opal.modules["corelib/dir"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$[]"]),function(e,a,$){function o(){}var s=o=r(e,null,"Dir",o),l=(s.$$proto,[s].concat($));return function(e,r){e.$$proto;var a,$,o,s=[e].concat(r);return t.defn(e,"$chdir",a=function(e){var r=a.$$p,i=r||n,$=n;return r&&(a.$$p=null),function(){try{return $=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=$}}()},a.$$arity=1),t.defn(e,"$pwd",$=function(){return t.current_dir||"."},$.$$arity=0),t.alias(e,"getwd","pwd"),t.defn(e,"$home",o=function(){var e;return i(e=t.const_get_relative(s,"ENV")["$[]"]("HOME"))?e:"."},o.$$arity=0),n&&"home"}(t.get_singleton_class(s),l)}(e[0],0,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],i=t.nil,a=(t.breaker,t.slice,t.klass),$=t.send,o=t.truthy,s=t.range;return t.add_stubs(["$join","$compact","$split","$==","$first","$home","$[]=","$-","$pwd","$each","$pop","$<<","$respond_to?","$coerce_to!","$+","$basename","$empty?","$rindex","$[]","$nil?","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$end_with?","$start_with?","$sub"]),function(r,l,c){function _(){}var u=_=a(r,l,"File",_),d=(u.$$proto,[u].concat(c));return t.const_set(d[0],"Separator",t.const_set(d[0],"SEPARATOR","/")),t.const_set(d[0],"ALT_SEPARATOR",i),t.const_set(d[0],"PATH_SEPARATOR",":"),t.const_set(d[0],"FNM_SYSCASE",0),function(r,a){function l(e){return o(e["$respond_to?"]("to_path"))&&(e=e.$to_path()),e=t.const_get_relative(m,"Opal")["$coerce_to!"](e,t.const_get_relative(m,"String"),"to_str")}function c(){return t.const_get_relative(m,"ALT_SEPARATOR")===i?t.escape_regexp(t.const_get_relative(m,"SEPARATOR")):t.escape_regexp(n(t.const_get_relative(m,"SEPARATOR"),t.const_get_relative(m,"ALT_SEPARATOR")))}r.$$proto;var _,u,d,f,p,h,g,v,m=[r].concat(a);return t.defn(r,"$expand_path",_=function(n,r){var a,o=this,s=i,l=i,c=i;return null==r&&(r=i),n=[r,n].$compact().$join(t.const_get_relative(m,"SEPARATOR")),s=n.$split(t.const_get_relative(m,"SEPARATOR")),l=[],s.$first()["$=="]("~")&&(c=[0,t.const_get_relative(m,"Dir").$home()],$(s,"[]=",t.to_a(c)),c[e(c.length,1)]),s.$first()["$=="](".")&&(c=[0,t.const_get_relative(m,"Dir").$pwd()],$(s,"[]=",t.to_a(c)),c[e(c.length,1)]),$(s,"each",[],(a=function(t){a.$$s;return null==t&&(t=i),t["$=="]("..")?l.$pop():l["$<<"](t)},a.$$s=o,a.$$arity=1,a)),l.$join(t.const_get_relative(m,"SEPARATOR"))},_.$$arity=-2),t.alias(r,"realpath","expand_path"),t.defn(r,"$dirname",u=function(t){var e=i;e=c();var n=(t=l(t)).match(new RegExp("^["+e+"]"));return t=t.replace(new RegExp("["+e+"]+$"),""),t=t.replace(new RegExp("[^"+e+"]+$"),""),""===(t=t.replace(new RegExp("["+e+"]+$"),""))?n?"/":".":t},u.$$arity=1),t.defn(r,"$basename",d=function(e,n){var r=i;return null==n&&(n=i),r=c(),0==(e=l(e)).length?e:(n=n!==i?t.const_get_relative(m,"Opal")["$coerce_to!"](n,t.const_get_relative(m,"String"),"to_str"):null,e=e.replace(new RegExp("(.)["+r+"]*$"),"$1"),e=e.replace(new RegExp("^(?:.*["+r+"])?([^"+r+"]+)$"),"$1"),".*"===n?e=e.replace(/\.[^\.]+$/,""):null!==n&&(n=t.escape_regexp(n),e=e.replace(new RegExp(n+"$"),"")),e)},d.$$arity=-2),t.defn(r,"$extname",f=function(r){var a,$=this,c=i,_=i;return r=l(r),c=$.$basename(r),o(c["$empty?"]())?"":(_=c["$[]"](s(1,-1,!1)).$rindex("."),o(o(a=_["$nil?"]())?a:n(_,1)["$=="](e(c.$length(),1)))?"":c["$[]"](t.Range.$new(n(_,1),-1,!1)))},f.$$arity=1),t.defn(r,"$exist?",p=function(e){return null!=t.modules[e]},p.$$arity=1),t.alias(r,"exists?","exist?"),t.defn(r,"$directory?",h=function(e){var n,r=this,a=i;a=[];for(var o in t.modules)a.push(o);return e=e.$gsub(new RegExp("(^."+t.const_get_relative(m,"SEPARATOR")+"+|"+t.const_get_relative(m,"SEPARATOR")+"+$)")),$(a,"find",[],(n=function(t){n.$$s;return null==t&&(t=i),t["$=~"](new RegExp("^"+e))},n.$$s=r,n.$$arity=1,n))},h.$$arity=1),t.defn(r,"$join",g=function(e){var r,a,s,l,c=this,_=i,u=arguments.length,d=u-0;d<0&&(d=0),l=new Array(d);for(var f=0;f<u;f++)l[f-0]=arguments[f];return l.$length()["$=="](0)?"":(_="",l=$(l.$flatten().$each_with_index(),"map",[],(r=function(e,a){r.$$s;return null==e&&(e=i),null==a&&(a=i),o(a["$=="](0)?e["$empty?"]():a["$=="](0))?t.const_get_relative(m,"SEPARATOR"):o(l.$length()["$=="](n(a,1))?e["$empty?"]():l.$length()["$=="](n(a,1)))?t.const_get_relative(m,"SEPARATOR"):e},r.$$s=c,r.$$arity=2,r)),l=$(l,"reject",[],(a=function(t){a.$$s;return null==t&&(t=i),t["$empty?"]()},a.$$s=c,a.$$arity=1,a)),$(l,"each_with_index",[],(s=function(e,r){s.$$s;var a,$=i;return null==e&&(e=i),null==r&&(r=i),$=l["$[]"](n(r,1)),o($["$nil?"]())?_=""+_+e:(o(o(a=e["$end_with?"](t.const_get_relative(m,"SEPARATOR")))?$["$start_with?"](t.const_get_relative(m,"SEPARATOR")):a)&&(e=e.$sub(new RegExp(t.const_get_relative(m,"SEPARATOR")+"+$"),"")),_=o(o(a=e["$end_with?"](t.const_get_relative(m,"SEPARATOR")))?a:$["$start_with?"](t.const_get_relative(m,"SEPARATOR")))?""+_+e:""+_+e+t.const_get_relative(m,"SEPARATOR"))},s.$$s=c,s.$$arity=2,s)),_)},g.$$arity=-1),t.defn(r,"$split",v=function(e){return e.$split(t.const_get_relative(m,"SEPARATOR"))},v.$$arity=1),i&&"split"}(t.get_singleton_class(u),d)}(r[0],t.const_get_relative(r,"IO"),r)},Opal.modules["corelib/process"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,a,$){function o(){}var s,l,c,_,u=o=r(e,null,"Process",o),d=(u.$$proto,[u].concat($)),f=n;if(u.__clocks__=[],t.defs(u,"$__register_clock__",s=function(t,e){var r=this;return null==r.__clocks__&&(r.__clocks__=n),r.$const_set(t,r.__clocks__.$size()),r.__clocks__["$<<"](e)},s.$$arity=2),u.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),f=!1,t.global.performance)f=function(){return performance.now()};else if(t.global.process&&process.hrtime){var p=process.hrtime();f=function(){var t=process.hrtime(p),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}i(f)&&u.$__register_clock__("CLOCK_MONOTONIC",f),t.defs(u,"$pid",l=function(){return 0},l.$$arity=0),t.defs(u,"$times",c=function(){var e=n;return e=t.const_get_relative(d,"Time").$now().$to_f(),t.const_get_qualified(t.const_get_relative(d,"Benchmark"),"Tms").$new(e,e,e,e,e)},c.$$arity=0),t.defs(u,"$clock_gettime",_=function(e,r){var a=this,$=n;null==a.__clocks__&&(a.__clocks__=n),null==r&&(r="float_second"),i($=a.__clocks__["$[]"](e))||a.$raise(t.const_get_qualified(t.const_get_relative(d,"Errno"),"EINVAL"),"clock_gettime("+e+") "+a.__clocks__["$[]"](e));var o=$();switch(r){case"float_second":return o/1e3;case"float_millisecond":return o/1;case"float_microsecond":return 1e3*o;case"second":return o/1e3|0;case"millisecond":return o/1|0;case"microsecond":return 1e3*o|0;case"nanosecond":return 1e6*o|0;default:a.$raise(t.const_get_relative(d,"ArgumentError"),"unexpected unit: "+r)}},_.$$arity=-2)}(e[0],0,e),function(e,i,a){function $(){}var o,s=$=r(e,null,"Signal",$);s.$$proto,[s].concat(a);t.defs(s,"$trap",o=function(t){return n},o.$$arity=-1)}(e[0],0,e),function(e,i,a){function $(){}var o,s=$=r(e,null,"GC",$);s.$$proto,[s].concat(a);return t.defs(s,"$start",o=function(){return n},o.$$arity=0)}(e[0],0,e)},Opal.modules["corelib/random/seedrandom"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.klass);return function(t,e,r){function i(){}var a=i=n(t,null,"Random",i);a.$$proto,[a].concat(r);!function(t,e){function n(n,l,c){var g=[],v=$(a((l=1==l?{entropy:!0}:l||{}).entropy?[n,s(t)]:null==n?o():n,3),g),m=new r(g),y=function(){for(var t=m.g(u),e=f,n=0;t<p;)t=(t+n)*_,e*=_,n=m.g(1);for(;t>=h;)t/=2,e/=2,n>>>=1;return(t+n)/e};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y.double=y,$(s(m.S),t),(l.pass||c||function(t,n,r,a){return a&&(a.S&&i(a,m),t.state=function(){return i(m,{})}),r?(e[d]=t,n):t})(y,v,"global"in l?l.global:this==e,l.state)}function r(t){var e,n=t.length,r=this,i=0,a=r.i=r.j=0,$=r.S=[];for(n||(t=[n++]);i<_;)$[i]=i++;for(i=0;i<_;i++)$[i]=$[a=g&a+t[i%n]+(e=$[i])],$[a]=e;(r.g=function(t){for(var e,n=0,i=r.i,a=r.j,$=r.S;t--;)e=$[i=g&i+1],n=n*_+$[g&($[i]=$[a=g&a+e])+($[a]=e)];return r.i=i,r.j=a,n})(_)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function a(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)if(t.hasOwnProperty(n))try{r.push(a(t[n],e-1))}catch(t){}return r.length?r:"string"==i?t:t+"\0"}function $(t,e){for(var n,r=t+"",i=0;i<r.length;)e[g&i]=g&(n^=19*e[g&i])+r.charCodeAt(i++);return s(e)}function o(){try{if(l)return s(l.randomBytes(_));var e=new Uint8Array(_);return(c.crypto||c.msCrypto).getRandomValues(e),s(e)}catch(e){var n=c.navigator,r=n&&n.plugins;return[+new Date,c,r,c.screen,s(t)]}}function s(t){return String.fromCharCode.apply(0,t)}var l,c=this,_=256,u=6,d="random",f=e.pow(_,u),p=e.pow(2,52),h=2*p,g=_-1;if(e["seed"+d]=n,$(e.random(),t),"object"==typeof module&&module.exports){module.exports=n;try{l=require("crypto")}catch(t){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return n})}([],Math)}(e[0],0,e)},Opal.modules["corelib/random"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.truthy,$=t.send;return t.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$new","$===","$==","$state","$encode","$join","$map","$times","$chr","$raise"]),e.$require("corelib/random/seedrandom.js"),function(e,n,o){function s(){}var l,c,_,u,d,f,p,h,g=s=i(e,null,"Random",s),v=(g.$$proto,[g].concat(o));g.$attr_reader("seed","state"),t.defn(g,"$initialize",l=function(e){var n=this;return null==e&&(e=t.const_get_relative(v,"Random").$new_seed()),e=t.const_get_relative(v,"Opal")["$coerce_to!"](e,t.const_get_relative(v,"Integer"),"to_int"),n.state=e,n.$reseed(e)},l.$$arity=-1),t.defn(g,"$reseed",c=function(t){var e=this;return e.seed=t,e.$rng=new Math.seedrandom(t)},c.$$arity=1);var m=new Math.seedrandom("opal",{entropy:!0});return t.defs(g,"$new_seed",_=function(){return Math.abs(m.int32())},_.$$arity=0),t.defs(g,"$rand",u=function(e){return t.const_get_relative(v,"DEFAULT").$rand(e)},u.$$arity=-1),t.defs(g,"$srand",d=function(e){var n=r;return null==e&&(e=t.const_get_relative(v,"Random").$new_seed()),e=t.const_get_relative(v,"Opal")["$coerce_to!"](e,t.const_get_relative(v,"Integer"),"to_int"),n=t.const_get_relative(v,"DEFAULT").$seed(),t.const_get_relative(v,"DEFAULT").$reseed(e),n},d.$$arity=-1),t.const_set(v[0],"DEFAULT",g.$new(g.$new_seed())),t.defn(g,"$==",f=function(e){var n=this;return!!a(t.const_get_relative(v,"Random")["$==="](e))&&(n.$seed()["$=="](e.$seed())?n.$state()["$=="](e.$state()):n.$seed()["$=="](e.$seed()))},f.$$arity=1),t.defn(g,"$bytes",p=function(e){var n,r=this;return e=t.const_get_relative(v,"Opal")["$coerce_to!"](e,t.const_get_relative(v,"Integer"),"to_int"),$(e.$times(),"map",[],(n=function(){return(n.$$s||this).$rand(255).$chr()},n.$$s=r,n.$$arity=0,n)).$join().$encode(t.const_get_qualified(t.const_get_relative(v,"Encoding"),"ASCII_8BIT"))},p.$$arity=1),t.defn(g,"$rand",h=function(e){function n(){return a.state++,a.$rng.quick()}function i(){return Math.floor(n()*e)}var a=this;return null==e?n():e.$$is_range?function(){var t=e.begin,n=e.end;if(t===r||n===r)return r;var i=n-t;return i<0?r:0===i?t:(n%1!=0||t%1!=0||e.excl||i++,a.$rand(i)+t)}():e.$$is_number?(e<=0&&a.$raise(t.const_get_relative(v,"ArgumentError"),"invalid argument - "+e),e%1==0?i():n()*e):((e=t.const_get_relative(v,"Opal")["$coerce_to!"](e,t.const_get_relative(v,"Integer"),"to_int"))<=0&&a.$raise(t.const_get_relative(v,"ArgumentError"),"invalid argument - "+e),i())},h.$$arity=-1),r&&"rand"}(n[0],0,n)},Opal.modules["corelib/unsupported"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":t.const_get_relative($,"Kernel").$raise(t.const_get_relative($,"NotImplementedError"),e);break;case"warning":n(e)}}function n(t){c[t]||(c[t]=!0,a.$warn(t))}var r,i,a=t.top,$=[],o=t.nil,s=(t.breaker,t.slice,t.klass),l=t.module;t.add_stubs(["$raise","$warn","$%"]);var c={};return function(e,n,r){function i(){}var a,$,o,l,c,_,u,d,f,p,h,g,v,m,y,b,w,k,x=i=s(e,null,"String",i),E=(x.$$proto,[x].concat(r)),O="String#%s not supported. Mutable String methods are not supported in Opal.";t.defn(x,"$<<",a=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("<<"))},a.$$arity=-1),t.defn(x,"$capitalize!",$=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("capitalize!"))},$.$$arity=-1),t.defn(x,"$chomp!",o=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("chomp!"))},o.$$arity=-1),t.defn(x,"$chop!",l=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("chop!"))},l.$$arity=-1),t.defn(x,"$downcase!",c=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("downcase!"))},c.$$arity=-1),t.defn(x,"$gsub!",_=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("gsub!"))},_.$$arity=-1),t.defn(x,"$lstrip!",u=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("lstrip!"))},u.$$arity=-1),t.defn(x,"$next!",d=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("next!"))},d.$$arity=-1),t.defn(x,"$reverse!",f=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("reverse!"))},f.$$arity=-1),t.defn(x,"$slice!",p=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("slice!"))},p.$$arity=-1),t.defn(x,"$squeeze!",h=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("squeeze!"))},h.$$arity=-1),t.defn(x,"$strip!",g=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("strip!"))},g.$$arity=-1),t.defn(x,"$sub!",v=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("sub!"))},v.$$arity=-1),t.defn(x,"$succ!",m=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("succ!"))},m.$$arity=-1),t.defn(x,"$swapcase!",y=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("swapcase!"))},y.$$arity=-1),t.defn(x,"$tr!",b=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("tr!"))},b.$$arity=-1),t.defn(x,"$tr_s!",w=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("tr_s!"))},w.$$arity=-1),t.defn(x,"$upcase!",k=function(e){return this.$raise(t.const_get_relative(E,"NotImplementedError"),O["$%"]("upcase!"))},k.$$arity=-1)}($[0],0,$),function(n,r){var i,a,$,o=i=l(n,"Kernel"),s=(o.$$proto,[o].concat(r),"Object freezing is not supported by Opal");t.defn(o,"$freeze",a=function(){var t=this;return e(s),t},a.$$arity=0),t.defn(o,"$frozen?",$=function(){return e(s),!1},$.$$arity=0)}($[0],$),function(n,r){var i,a,$,o,s=i=l(n,"Kernel"),c=(s.$$proto,[s].concat(r),"Object tainting is not supported by Opal");t.defn(s,"$taint",a=function(){var t=this;return e(c),t},a.$$arity=0),t.defn(s,"$untaint",$=function(){var t=this;return e(c),t},$.$$arity=0),t.defn(s,"$tainted?",o=function(){return e(c),!1},o.$$arity=0)}($[0],$),function(e,n,r){function i(){}var a,$,l,c,_=i=s(e,null,"Module",i);_.$$proto,[_].concat(r);t.defn(_,"$public",a=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return 0===e.length&&(n.$$module_function=!1),o},a.$$arity=-1),t.alias(_,"private","public"),t.alias(_,"protected","public"),t.alias(_,"nesting","public"),t.defn(_,"$private_class_method",$=function(t){return this},$.$$arity=-1),t.alias(_,"public_class_method","private_class_method"),t.defn(_,"$private_method_defined?",l=function(t){return!1},l.$$arity=1),t.defn(_,"$private_constant",c=function(t){return o},c.$$arity=-1),t.alias(_,"protected_method_defined?","private_method_defined?"),t.alias(_,"public_instance_methods","instance_methods"),t.alias(_,"public_method_defined?","method_defined?")}($[0],0,$),function(e,n){var r,i,a=r=l(e,"Kernel");a.$$proto,[a].concat(n);t.defn(a,"$private_methods",i=function(t){return[]},i.$$arity=-1),t.alias(a,"private_instance_methods","private_methods")}($[0],$),function(e,n){var r,i,a=r=l(e,"Kernel"),$=(a.$$proto,[a].concat(n));t.defn(a,"$eval",i=function(e){return this.$raise(t.const_get_relative($,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+t.const_get_relative($,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},i.$$arity=-1)}($[0],$),t.defs(a,"$public",r=function(t){return o},r.$$arity=-1),t.defs(a,"$private",i=function(t){return o},i.$$arity=-1)},Opal.modules.opal=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")},Opal.require("opal")),function(t,e){"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("asciidoctor",["module"],function(t){return e(t.config())}):t.Asciidoctor=e}(this,function(t){Opal.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var i=[],a=t.nil,$=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.send,l=t.module;return t.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(i,l,c){function _(){}var u,d,f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B=_=$(i,null,"Set",_),j=B.$$proto,F=[B].concat(c);j.hash=a,B.$include(t.const_get_relative(F,"Enumerable")),t.defs(B,"$[]",u=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return n.$new(e)},u.$$arity=-1),t.defn(B,"$initialize",d=function(e){var n,r=this,i=d.$$p,$=i||a;return null==e&&(e=a),i&&(d.$$p=null),r.hash=t.const_get_relative(F,"Hash").$new(),o(e["$nil?"]())?a:(o(t.const_get_relative(F,"Enumerable")["$==="](e))||r.$raise(t.const_get_relative(F,"ArgumentError"),"value must be enumerable"),o($)?s(e,"each",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=a),e.$add($.$call(t))},n.$$s=r,n.$$arity=1,n)):r.$merge(e))},d.$$arity=-1),t.defn(B,"$dup",f=function(){var t=this;return t.$class().$new().$merge(t)},f.$$arity=0),t.defn(B,"$-",p=function(e){var n=this;return o(e["$respond_to?"]("each"))||n.$raise(t.const_get_relative(F,"ArgumentError"),"value must be enumerable"),n.$dup().$subtract(e)},p.$$arity=1),t.alias(B,"difference","-"),t.defn(B,"$inspect",h=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},h.$$arity=0),t.defn(B,"$==",g=function(e){var n,r,i=this;return!!o(i["$equal?"](e))||(o(e["$instance_of?"](i.$class()))?i.hash["$=="](e.$instance_variable_get("@hash")):!!o(o(n=e["$is_a?"](t.const_get_relative(F,"Set")))?i.$size()["$=="](e.$size()):n)&&s(e,"all?",[],(r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=a),null==t&&(t=a),e.hash["$include?"](t)},r.$$s=i,r.$$arity=1,r)))},g.$$arity=1),t.defn(B,"$add",v=function(n){var r=this,i=a;return i=[n,!0],s(r.hash,"[]=",t.to_a(i)),e(i.length,1),r},v.$$arity=1),t.alias(B,"<<","add"),t.defn(B,"$classify",m=function(){var n,r,i=this,$=m.$$p,o=$||a,l=a;return $&&(m.$$p=null),o===a?i.$enum_for("classify"):(l=s(t.const_get_relative(F,"Hash"),"new",[],(n=function(r,i){var $=n.$$s||this,o=a;return null==r&&(r=a),null==i&&(i=a),o=[i,$.$class().$new()],s(r,"[]=",t.to_a(o)),o[e(o.length,1)]},n.$$s=i,n.$$arity=2,n)),s(i,"each",[],(r=function(e){r.$$s;return null==e&&(e=a),l["$[]"](t.yield1(o,e)).$add(e)},r.$$s=i,r.$$arity=1,r)),l)},m.$$arity=0),t.defn(B,"$collect!",y=function(){var e,n=this,r=y.$$p,i=r||a,$=a;return r&&(y.$$p=null),i===a?n.$enum_for("collect!"):($=n.$class().$new(),s(n,"each",[],(e=function(n){e.$$s;return null==n&&(n=a),$["$<<"](t.yield1(i,n))},e.$$s=n,e.$$arity=1,e)),n.$replace($))},y.$$arity=0),t.alias(B,"map!","collect!"),t.defn(B,"$delete",b=function(t){var e=this;return e.hash.$delete(t),e},b.$$arity=1),t.defn(B,"$delete?",w=function(t){var e=this;return o(e["$include?"](t))?(e.$delete(t),e):a},w.$$arity=1),t.defn(B,"$delete_if",k=function(){try{var e,n,r=this,i=k.$$p,$=i||a;return i&&(k.$$p=null),o($!==a)||t.ret(r.$enum_for("delete_if")),s(s(r,"select",[],(e=function(n){e.$$s;return null==n&&(n=a),t.yield1($,n)},e.$$s=r,e.$$arity=1,e)),"each",[],(n=function(t){var e=n.$$s||this;return null==e.hash&&(e.hash=a),null==t&&(t=a),e.hash.$delete(t)},n.$$s=r,n.$$arity=1,n)),r}catch(e){if(e===t.returner)return e.$v;throw e}},k.$$arity=0),t.defn(B,"$add?",x=function(t){var e=this;return o(e["$include?"](t))?a:e.$add(t)},x.$$arity=1),t.defn(B,"$each",E=function(){var t=this,e=E.$$p,n=e||a;return e&&(E.$$p=null),n===a?t.$enum_for("each"):(s(t.hash,"each_key",[],n.$to_proc()),t)},E.$$arity=0),t.defn(B,"$empty?",O=function(){return this.hash["$empty?"]()},O.$$arity=0),t.defn(B,"$eql?",A=function(t){var e,n=this;return n.hash["$eql?"](s(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=a),t.hash},e.$$s=n,e.$$arity=0,e)))},A.$$arity=1),t.defn(B,"$clear",S=function(){var t=this;return t.hash.$clear(),t},S.$$arity=0),t.defn(B,"$include?",R=function(t){return this.hash["$include?"](t)},R.$$arity=1),t.alias(B,"member?","include?"),t.defn(B,"$merge",M=function(t){var e,n=this;return s(t,"each",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=a),n.$add(t)},e.$$s=n,e.$$arity=1,e)),n},M.$$arity=1),t.defn(B,"$replace",T=function(t){var e=this;return e.$clear(),e.$merge(t),e},T.$$arity=1),t.defn(B,"$size",I=function(){return this.hash.$size()},I.$$arity=0),t.alias(B,"length","size"),t.defn(B,"$subtract",C=function(t){var e,n=this;return s(t,"each",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=a),n.$delete(t)},e.$$s=n,e.$$arity=1,e)),n},C.$$arity=1),t.defn(B,"$|",q=function(e){var n=this;return o(e["$respond_to?"]("each"))||n.$raise(t.const_get_relative(F,"ArgumentError"),"value must be enumerable"),n.$dup().$merge(e)},q.$$arity=1),t.defn(B,"$superset?",N=function(e){var r,i=this;return o(e["$is_a?"](t.const_get_relative(F,"Set")))||i.$raise(t.const_get_relative(F,"ArgumentError"),"value must be a set"),!o(n(i.$size(),e.$size()))&&s(e,"all?",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=a),e["$include?"](t)},r.$$s=i,r.$$arity=1,r))},N.$$arity=1),t.alias(B,">=","superset?"),t.defn(B,"$proper_superset?",L=function(e){var n,i=this;return o(e["$is_a?"](t.const_get_relative(F,"Set")))||i.$raise(t.const_get_relative(F,"ArgumentError"),"value must be a set"),!o(r(i.$size(),e.$size()))&&s(e,"all?",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=a),e["$include?"](t)},n.$$s=i,n.$$arity=1,n))},L.$$arity=1),t.alias(B,">","proper_superset?"),t.defn(B,"$subset?",z=function(e){var r,i=this;return o(e["$is_a?"](t.const_get_relative(F,"Set")))||i.$raise(t.const_get_relative(F,"ArgumentError"),"value must be a set"),!o(n(e.$size(),i.$size()))&&s(i,"all?",[],(r=function(t){r.$$s;return null==t&&(t=a),e["$include?"](t)},r.$$s=i,r.$$arity=1,r))},z.$$arity=1),t.alias(B,"<=","subset?"),t.defn(B,"$proper_subset?",P=function(e){var n,i=this;return o(e["$is_a?"](t.const_get_relative(F,"Set")))||i.$raise(t.const_get_relative(F,"ArgumentError"),"value must be a set"),!o(r(e.$size(),i.$size()))&&s(i,"all?",[],(n=function(t){n.$$s;return null==t&&(t=a),e["$include?"](t)},n.$$s=i,n.$$arity=1,n))},P.$$arity=1),t.alias(B,"<","proper_subset?"),t.alias(B,"+","|"),t.alias(B,"union","|"),t.defn(B,"$to_a",D=function(){return this.hash.$keys()},D.$$arity=0)}(i[0],0,i),function(e,n){var r,i,$=r=l(e,"Enumerable"),o=($.$$proto,[$].concat(n));t.defn($,"$to_set",i=function(e,n){var r,$=this,l=i.$$p,c=l||a;null==e&&(e=t.const_get_relative(o,"Set"));var _=arguments.length,u=_-1;u<0&&(u=0),r=new Array(u);for(var d=1;d<_;d++)r[d-1]=arguments[d];return l&&(i.$$p=null),s(e,"new",[$].concat(t.to_a(r)),c.$to_proc())},i.$$arity=-1)}(i[0],i)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.module),i=t.send,a=t.klass,$=t.truthy,o=t.gvars;return t.add_stubs(["$new","$attr_reader","$delete","$gsub","$==","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split","$==="]),function(e,a){var $,o,s=$=r(e,"Kernel"),l=(s.$$proto,[s].concat(a));t.defn(s,"$open",o=function(e,r){var a,$=o.$$p,s=$||n,c=n,_=arguments.length,u=_-1;u<0&&(u=0),a=new Array(u);for(var d=1;d<_;d++)a[d-1]=arguments[d];return $&&(o.$$p=null),c=i(t.const_get_relative(l,"File"),"new",[e].concat(t.to_a(a))),s!==n?t.yield1(s,c):c},o.$$arity=-2)}(e[0],e),function(e,r,i){function s(){}var l,c,_,u,d,f,p,h,g=s=a(e,null,"File",s),v=g.$$proto,m=[g].concat(i);v.eof=v.path=n,g.$attr_reader("eof"),g.$attr_reader("lineno"),g.$attr_reader("path"),t.defn(g,"$initialize",l=function(e,r){var i=this,a=n;return null==r&&(r="r"),i.path=e,i.contents=n,i.eof=!1,i.lineno=0,r=r.$delete("b"),a=/:(.*)/,r=r.$gsub(a,""),i.flags=r,t.const_get_relative(m,"JAVASCRIPT_IO_MODULE")["$=="]("node")?i.fd=require("fs").openSync(e,r):n},l.$$arity=-2),t.defn(g,"$read",c=function(){var e=this,r=n;return $(e.eof)?"":(r=t.const_get_relative(m,"File").$read(e.path),e.eof=!0,e.lineno=r.$size(),r)},c.$$arity=0),t.defn(g,"$each_line",_=function(e){var r=this,i=_.$$p,a=i||n,s=n;if(null==o["/"]&&(o["/"]=n),null==e&&(e=o["/"]),i&&(_.$$p=null),$(r.eof))return a!==n?r:[].$to_enum();if(a!==n){s=t.const_get_relative(m,"File").$read(r.path),r.eof=!1,r.lineno=0;for(var l=s.$chomp(),c=s.length!=l.length,u=l.split(e),d=0,f=u.length;d<f;d++)r.lineno+=1,d<f-1||c?t.yield1(a,u[d]+e):t.yield1(a,u[d]);return r.eof=!0,r}return r.$read().$each_line()},_.$$arity=-1),t.defn(g,"$readlines",u=function(){var e=this;return t.const_get_relative(m,"File").$readlines(e.path)},u.$$arity=0),t.defs(g,"$readlines",d=function(e,r){return null==o["/"]&&(o["/"]=n),null==r&&(r=o["/"]),t.const_get_relative(m,"File").$read(e).$split(r)},d.$$arity=-2),t.defs(g,"$file?",f=function(t){return!0},f.$$arity=1),t.defs(g,"$readable?",p=function(t){return!0},p.$$arity=1),t.defs(g,"$read",h=function(e){var r=n;return function(){if(r=t.const_get_relative(m,"JAVASCRIPT_IO_MODULE"),"node"["$==="](r))return require("fs").readFileSync(e,"utf8");if("phantomjs"["$==="](r))return require("fs").read(e);if("java_nio"["$==="](r)){var n=Java.type("java.nio.file.Paths"),i=[];return Java.type("java.nio.file.Files").readAllLines(n.get(e),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(t){i.push(t)}),i.join("\n")}if("xmlhttprequest"["$==="](r)){var i="",a=-1;try{var $=new XMLHttpRequest;$.open("GET",e,!1),$.addEventListener("load",function(){0!=(a=this.status)&&200!=a||(i=this.responseText)}),$.overrideMimeType("text/plain"),$.send()}catch(t){a=0}if(404==a||0==a&&""==i)throw t.const_get_relative(m,"IOError").$new("No such file or directory: "+e);return i}return"spidermonkey"["$==="](r)?read(e):""}()},h.$$arity=1)}(e[0],0,e),function(e,n,r){function i(){}var $,o=i=a(e,null,"IO",i),s=(o.$$proto,[o].concat(r));return t.defs(o,"$read",$=function(e){return t.const_get_relative(s,"File").$read(e)},$.$$arity=1)}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$[]=","$-"]),function(n,$,o){function s(){}var l,c=s=i(n,null,"MatchData",s),_=c.$$proto;[c].concat(o);return _.matches=r,t.defn(c,"$[]=",l=function(n,i){var $=r;return $=[n,i],a(this.matches,"[]=",t.to_a($)),$[e($.length,1)]},l.$$arity=2),r&&"[]="}(n[0],0,n)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.module);return function(e,r){var i,a,$=i=n(e,"Kernel");$.$$proto,[$].concat(r);t.defn($,"$freeze",a=function(){return this},a.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.module),r=t.klass;return function(e,i){var a,$=a=n(e,"ThreadSafe"),o=($.$$proto,[$].concat(i));!function(t,e,n){function i(){}var a=i=r(t,e,"Cache",i);a.$$proto,[a].concat(n)}(o[0],t.const_get_qualified("::","Hash"),o)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.truthy,$=t.send;return t.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(n,o,s){function l(){}var c,_,u=l=i(n,null,"String",l);u.$$proto,[u].concat(s);return a(u["$method_defined?"]("limit_bytesize"))||t.defn(u,"$limit_bytesize",c=function(t){var n=this;return a(e(t,n.$bytes().$length()))?n.$byteslice(0,t).$to_s():n.$to_s()},c.$$arity=1),a(u["$method_defined?"]("limit"))||t.alias(u,"limit","limit_bytesize"),t.alias(u,"_original_unpack","unpack"),t.defn(u,"$unpack",_=function(t){var e,n=this;return t["$=="]("C3")?$(n["$[]"](0,3).$bytes().$select(),"with_index",[],(e=function(t,n){e.$$s;return null==t&&(t=r),null==n&&(n=r),n["$even?"]()},e.$$s=n,e.$$arity=2,e)):n.$_original_unpack(t)},_.$$arity=1),r&&"unpack"}(n[0],0,n)},Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=t.nil,r=(t.breaker,t.slice,t.send),i=t.gvars,a=n;return null==i.stdout&&(i.stdout=n),null==i.stderr&&(i.stderr=n),t.add_stubs(["$write_proc=","$-"]),a=[function(t){print(t)}],r(i.stdout,"write_proc=",t.to_a(a)),a[e(a.length,1)],a=[function(t){print(t)}],r(i.stderr,"write_proc=",t.to_a(a)),a[e(a.length,1)]},Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=t.nil,r=(t.breaker,t.slice,t.send),i=t.gvars,a=n;return null==i.stdout&&(i.stdout=n),null==i.stderr&&(i.stderr=n),t.add_stubs(["$write_proc=","$-"]),a=[function(t){console.log(t)}],r(i.stdout,"write_proc=",t.to_a(a)),a[e(a.length,1)],a=[function(t){console.error(t)}],r(i.stderr,"write_proc=",t.to_a(a)),a[e(a.length,1)]},Opal.modules["asciidoctor/js/opal_ext/node/file"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.klass),r=t.truthy;return t.add_stubs(["$exist?"]),function(e,i,a){function $(){}var o,s=$=n(e,null,"File",$);s.$$proto,[s].concat(a);return t.defs(s,"$readable?",o=function(t){return!!r(this["$exist?"](t))&&"\n      var fs = require('fs');\n      try {\n        fs.accessSync(path, fs.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},o.$$arity=1)}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext"]=function(e){var n=e.top,r=[],i=e.nil;e.breaker,e.slice;e.add_stubs(["$require","$=="]);var a,$,o,s,l="object"==typeof process&&"object"==typeof process.versions&&1!=process.browser,c="object"==typeof navigator&&"string"==typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),_="object"==typeof window,u="object"==typeof Java&&Java.type,d="object"==typeof java,f="object"==typeof window&&"object"==typeof window.phantom,p="function"==typeof importScripts,h="object"==typeof JSRuntime;if(e.load("pathname"),e.load("base64"),"object"==typeof t&&"object"==typeof t.runtime){var g=t.runtime;a=g.platform,$=g.engine,o=g.framework,s=g.ioModule}if(void 0===a&&(l?(a=a||"node",$=$||"v8",c&&(o=o||"electron")):u?(a=plaform||"java",$=$||"nashorn"):d?(a=a||"java",$=$||"rhino"):h?(a=a||"standalone",o=o||"spidermonkey"):_&&(a=a||"browser",f&&(o=o||"phantomjs")),p&&(o=o||"webworker")),void 0===a)throw new Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");if(void 0===o&&(o=""),void 0===$&&($=""),void 0!==s){if("spidermonkey"!=s&&"phantomjs"!=s&&"node"!=s&&"java_nio"!=s&&"xmlhttprequest"!=s)throw new Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest")}else if("spidermonkey"===o)s="spidermonkey";else if("phantomjs"===o)s="phantomjs";else if("node"===a)s="node";else if("nashorn"===$)s="java_nio";else{if("browser"!==a&&"undefined"==typeof XmlHTTPRequest)throw new Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");s="xmlhttprequest"}return e.const_set(r[0],"JAVASCRIPT_IO_MODULE",s),e.const_set(r[0],"JAVASCRIPT_PLATFORM",a),e.const_set(r[0],"JAVASCRIPT_ENGINE",$),e.const_set(r[0],"JAVASCRIPT_FRAMEWORK",o),n.$require("asciidoctor/js/opal_ext/file"),n.$require("asciidoctor/js/opal_ext/match_data"),n.$require("asciidoctor/js/opal_ext/kernel"),n.$require("asciidoctor/js/opal_ext/thread_safe"),n.$require("asciidoctor/js/opal_ext/string"),e.const_get_relative(r,"JAVASCRIPT_ENGINE")["$=="]("nashorn")&&n.$require("asciidoctor/js/opal_ext/nashorn/io"),e.const_get_relative(r,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&n.$require("asciidoctor/js/opal_ext/electron/io"),e.const_get_relative(r,"JAVASCRIPT_PLATFORM")["$=="]("node")?(n.$require("asciidoctor/js/opal_ext/node/file"),e.load("nodejs")):i},Opal.modules["asciidoctor/js/rx"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.module);return function(e,r){var i,a=i=n(e,"Asciidoctor"),$=(a.$$proto,[a].concat(r));t.const_set($[0],"P_L","A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"),t.const_set($[0],"P_Nl","------"),t.const_set($[0],"P_Nd","0-9------------------------------------"),t.const_set($[0],"P_Pc","_-"),t.const_set($[0],"CC_ALPHA",""+t.const_get_relative($,"P_L")+t.const_get_relative($,"P_Nl")),t.const_set($[0],"CG_ALPHA","["+t.const_get_relative($,"CC_ALPHA")+"]"),t.const_set($[0],"CC_ALNUM",""+t.const_get_relative($,"CC_ALPHA")+t.const_get_relative($,"P_Nd")),t.const_set($[0],"CG_ALNUM","["+t.const_get_relative($,"CC_ALNUM")+"]"),t.const_set($[0],"CC_WORD",""+t.const_get_relative($,"CC_ALNUM")+t.const_get_relative($,"P_Pc")),t.const_set($[0],"CG_WORD","["+t.const_get_relative($,"CC_WORD")+"]"),t.const_set($[0],"CG_BLANK","[ \\t]"),t.const_set($[0],"CC_EOL","(?=\\n|$)"),t.const_set($[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),t.const_set($[0],"CC_ALL","[\\s\\S]")}(e[0],e)},Opal.modules.strscan=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(n,$,o){function s(){}var l,c,_,u,d,f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q=s=i(n,null,"StringScanner",s),N=q.$$proto;[q].concat(o);return N.pos=N.string=N.working=N.matched=N.prev_pos=N.match=r,q.$attr_reader("pos"),q.$attr_reader("matched"),t.defn(q,"$initialize",l=function(t){var e=this;return e.string=t,e.pos=0,e.matched=r,e.working=t,e.match=[]},l.$$arity=1),q.$attr_reader("string"),t.defn(q,"$beginning_of_line?",c=function(){var t=this;return 0===t.pos||"\n"===t.string.charAt(t.pos-1)},c.$$arity=0),t.alias(q,"bol?","beginning_of_line?"),t.defn(q,"$scan",_=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);return null==n?e.matched=r:"object"==typeof n?(e.prev_pos=e.pos,e.pos+=n[0].length,e.working=e.working.substring(n[0].length),e.matched=n[0],e.match=n,n[0]):"string"==typeof n?(e.pos+=n.length,e.working=e.working.substring(n.length),n):r},_.$$arity=1),t.defn(q,"$scan_until",u=function(t){var e=this;t=e.$anchor(t);for(var n,i=e.pos,a=e.working;;){if(n=t.exec(a),i+=1,a=a.substr(1),null!=n)return e.matched=e.string.substr(e.pos,i-e.pos-1+n[0].length),e.prev_pos=i-1,e.pos=i,e.working=a.substr(n[0].length),e.matched;if(0===a.length)return e.matched=r}},u.$$arity=1),t.defn(q,"$[]",d=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length?r:null==e[t]?r:e[t]},d.$$arity=1),t.defn(q,"$check",f=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);return e.matched=null==n?r:n[0]},f.$$arity=1),t.defn(q,"$check_until",p=function(t){var e=this,n=e.prev_pos,i=e.pos,a=e.$scan_until(t);return a!==r&&(e.matched=a.substr(-1),e.working=e.string.substr(i)),e.prev_pos=n,e.pos=i,a},p.$$arity=1),t.defn(q,"$peek",h=function(t){return this.working.substring(0,t)},h.$$arity=1),t.defn(q,"$eos?",g=function(){return 0===this.working.length},g.$$arity=0),t.defn(q,"$exist?",v=function(t){var e=this,n=t.exec(e.working);return null==n?r:0==n.index?0:n.index+1},v.$$arity=1),t.defn(q,"$skip",m=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);if(null==n)return e.matched=r;var i=n[0],a=i.length;return e.matched=i,e.prev_pos=e.pos,e.pos+=a,e.working=e.working.substring(a),a},m.$$arity=1),t.defn(q,"$skip_until",y=function(t){var e=this,n=e.$scan_until(t);return n===r?r:(e.matched=n.substr(-1),n.length)},y.$$arity=1),t.defn(q,"$get_byte",b=function(){var t=this,e=r;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,e=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=r,e},b.$$arity=0),t.alias(q,"getch","get_byte"),t.defn(q,"$match?",w=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);return null==n?r:(e.prev_pos=e.pos,n[0].length)},w.$$arity=1),t.defn(q,"$pos=",k=function(t){var e=this;return t<0&&(t+=e.string.$length()),e.pos=t,e.working=e.string.slice(t)},k.$$arity=1),t.defn(q,"$matched_size",x=function(){var t=this;return t.matched===r?r:t.matched.length},x.$$arity=0),t.defn(q,"$post_match",E=function(){var t=this;return t.matched===r?r:t.string.substr(t.pos)},E.$$arity=0),t.defn(q,"$pre_match",O=function(){var t=this;return t.matched===r?r:t.string.substr(0,t.prev_pos)},O.$$arity=0),t.defn(q,"$reset",A=function(){var t=this;return t.working=t.string,t.matched=r,t.pos=0},A.$$arity=0),t.defn(q,"$rest",S=function(){return this.working},S.$$arity=0),t.defn(q,"$rest?",R=function(){return 0!==this.working.length},R.$$arity=0),t.defn(q,"$rest_size",M=function(){return this.$rest().$size()},M.$$arity=0),t.defn(q,"$terminate",T=function(){var n=this,i=r;return n.match=r,i=[n.string.$length()],a(n,"pos=",t.to_a(i)),i[e(i.length,1)]},T.$$arity=0),t.defn(q,"$unscan",I=function(){var t=this;return t.pos=t.prev_pos,t.prev_pos=r,t.match=r,t},I.$$arity=0),q.$private(),t.defn(q,"$anchor",C=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},C.$$arity=1),r&&"anchor"}(n[0],0,n)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/converter/base"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.module),i=t.klass,a=t.hash2,$=t.truthy;return t.add_stubs(["$include","$node_name","$empty?","$send","$content"]),function(e,o){var s,l=s=r(e,"Asciidoctor"),c=(l.$$proto,[l].concat(o));!function(t,e){var n,i=n=r(t,"Converter");i.$$proto,[i].concat(e)}(c[0],c),function(e,n,r){function a(){}var $=a=i(e,null,"Base",a),o=($.$$proto,[$].concat(r));$.$include(t.const_get_relative(o,"Converter"))}(t.const_get_relative(c,"Converter"),0,c),function(e,r,o){function s(){}var l,c,_,u,d=s=i(e,null,"BuiltIn",s);d.$$proto,[d].concat(o);t.defn(d,"$initialize",l=function(t,e){return null==e&&(e=a([],{})),n},l.$$arity=-2),t.defn(d,"$convert",c=function(t,e,r){var i,o=this;return null==e&&(e=n),null==r&&(r=a([],{})),e=$(i=e)?i:t.$node_name(),$(r["$empty?"]())?o.$send(e,t):o.$send(e,t,r)},c.$$arity=-2),t.alias(d,"handles?","respond_to?"),t.defn(d,"$content",_=function(t){return t.$content()},_.$$arity=1),t.alias(d,"pass","content"),t.defn(d,"$skip",u=function(t){return n},u.$$arity=1)}(t.const_get_relative(c,"Converter"),0,c)}(e[0],e)},Opal.modules["asciidoctor/converter/factory"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.module),a=t.klass,$=t.truthy,o=t.hash2,s=t.send;return t.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$key?"]),function(n,l){var c,_=c=i(n,"Asciidoctor"),u=(_.$$proto,[_].concat(l));!function(n,l){var c,_=c=i(n,"Converter"),u=(_.$$proto,[_].concat(l));!function(n,i,l){function c(){}var _,u,d,f,p,h=c=a(n,null,"Factory",c),g=h.$$proto,v=[h].concat(l);g.converters=g.star_converter=r,h.__default__=r,function(e,n){var i,a,s,l,c,_;e.$$proto,[e].concat(n);t.defn(e,"$default",i=function(e){var n,i,a=this;return null==a.__default__&&(a.__default__=r),null==e&&(e=!0),$(e)?a.__default__=$(n=a.__default__)?n:function(){try{return $((i=t.const_get_qualified("::","ThreadSafe","skip_raise"))?"constant":r)||a.$require("thread_safe".$to_s()),a.$new(t.const_get_qualified(t.const_get_qualified("::","ThreadSafe"),"Cache").$new())}catch(e){if(!t.rescue(e,[t.const_get_qualified("::","LoadError")]))throw e;try{return a.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),a.$new()}finally{t.pop_exception()}}}():$(n=a.__default__)?n:a.$new()},i.$$arity=-1),t.defn(e,"$register",a=function(t,e){var n=this;return null==e&&(e=["*"]),n.$default().$register(t,e)},a.$$arity=-2),t.defn(e,"$resolve",s=function(t){return this.$default().$resolve(t)},s.$$arity=1),t.defn(e,"$create",l=function(t,e){var n=this;return null==e&&(e=o([],{})),n.$default().$create(t,e)},l.$$arity=-2),t.defn(e,"$converters",c=function(){return this.$default().$converters()},c.$$arity=0),t.defn(e,"$unregister_all",_=function(){return this.$default().$unregister_all()},_.$$arity=0)}(t.get_singleton_class(h),v),h.$attr_reader("converters"),t.defn(h,"$initialize",_=function(t){var e,n=this;return null==t&&(t=r),n.converters=$(e=t)?e:o([],{}),n.star_converter=r},_.$$arity=-1),t.defn(h,"$register",u=function(n,i){var a,$=this;return null==i&&(i=["*"]),s(i,"each",[],(a=function(i){var $=a.$$s||this,o=r;return null==$.converters&&($.converters=r),null==i&&(i=r),o=[i,n],s($.converters,"[]=",t.to_a(o)),e(o.length,1),i["$=="]("*")?$.star_converter=n:r},a.$$s=$,a.$$arity=1,a)),r},u.$$arity=-2),t.defn(h,"$resolve",d=function(t){var e,n,r=this;return $(e=r.converters)?$(n=r.converters["$[]"](t))?n:r.star_converter:e},d.$$arity=1),t.defn(h,"$unregister_all",f=function(){var t=this;return t.converters.$clear(),t.star_converter=r},f.$$arity=0),t.defn(h,"$create",p=function(e,n){var i,a,s,l,c,_,u,d,f,p,h,g,m=this,y=r,b=r,w=r,k=r;return null==n&&(n=o([],{})),$(y=m.$resolve(e))?$(t.const_get_qualified("::","Class")["$==="](y))?y.$new(e,n):y:(w=e,b="html5"["$==="](w)?($((a=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(i=t.const_get_qualified(a,"Converter","skip_raise"))&&t.const_get_qualified(i,"Html5Converter","skip_raise")?"constant":r)||m.$require("asciidoctor/converter/html5".$to_s()),t.const_get_relative(v,"Html5Converter").$new(e,n)):"docbook5"["$==="](w)?($((l=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(s=t.const_get_qualified(l,"Converter","skip_raise"))&&t.const_get_qualified(s,"DocBook5Converter","skip_raise")?"constant":r)||m.$require("asciidoctor/converter/docbook5".$to_s()),t.const_get_relative(v,"DocBook5Converter").$new(e,n)):"docbook45"["$==="](w)?($((_=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(c=t.const_get_qualified(_,"Converter","skip_raise"))&&t.const_get_qualified(c,"DocBook45Converter","skip_raise")?"constant":r)||m.$require("asciidoctor/converter/docbook45".$to_s()),t.const_get_relative(v,"DocBook45Converter").$new(e,n)):"manpage"["$==="](w)?($((d=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(u=t.const_get_qualified(d,"Converter","skip_raise"))&&t.const_get_qualified(u,"ManPageConverter","skip_raise")?"constant":r)||m.$require("asciidoctor/converter/manpage".$to_s()),t.const_get_relative(v,"ManPageConverter").$new(e,n)):r,$(n["$key?"]("template_dirs"))?($((p=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(f=t.const_get_qualified(p,"Converter","skip_raise"))&&t.const_get_qualified(f,"TemplateConverter","skip_raise")?"constant":r)||m.$require("asciidoctor/converter/template".$to_s()),$((g=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(h=t.const_get_qualified(g,"Converter","skip_raise"))&&t.const_get_qualified(h,"CompositeConverter","skip_raise")?"constant":r)||m.$require("asciidoctor/converter/composite".$to_s()),k=t.const_get_relative(v,"TemplateConverter").$new(e,n["$[]"]("template_dirs"),n),t.const_get_relative(v,"CompositeConverter").$new(e,k,b)):b)},p.$$arity=-2)}(u[0],0,u)}(u[0],u)}(n[0],n)},Opal.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,r=[],i=t.nil,a=(t.breaker,t.slice,t.module),$=t.send,o=t.truthy,s=t.range,l=t.hash2;return t.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$open","$require"]),function(n,r){var c,_=c=a(n,"Asciidoctor"),u=(_.$$proto,[_].concat(r));!function(n,r){var c,_,u,d=c=a(n,"Converter"),f=(d.$$proto,[d].concat(r));!function(e,n){var r,o,s=r=a(e,"Config"),l=(s.$$proto,[s].concat(n));t.defn(s,"$register_for",o=function(e){var n,r,a,o=this,s=i,c=arguments.length,_=c-0;_<0&&(_=0),a=new Array(_);for(var u=0;u<c;u++)a[u-0]=arguments[u];return t.const_get_relative(l,"Factory").$register(o,a),s=function(t,e){t.$$proto,[t].concat(e);return t}(t.get_singleton_class(o),l),a["$=="](["*"])?$(s,"send",["define_method","converts?"],(n=function(t){n.$$s;return null==t&&(t=i),!0},n.$$s=o,n.$$arity=1,n)):$(s,"send",["define_method","converts?"],(r=function(t){r.$$s;return null==t&&(t=i),a["$include?"](t)},r.$$s=o,r.$$arity=1,r)),i},o.$$arity=-1)}(f[0],f),function(n,r){var c,_,u,d,f,p,h,g=c=a(n,"BackendInfo"),v=(g.$$proto,[g].concat(r));t.defn(g,"$backend_info",_=function(){var t,e=this;return null==e.backend_info&&(e.backend_info=i),e.backend_info=o(t=e.backend_info)?t:e.$setup_backend_info()},_.$$arity=0),t.defn(g,"$setup_backend_info",u=function(){var e=this,n=i,r=i,a=i,$=i;return null==e.backend&&(e.backend=i),o(e.backend)||e.$raise(t.const_get_qualified("::","ArgumentError"),"Cannot determine backend for converter: "+e.$class()),n=e.backend.$sub(t.const_get_relative(v,"TrailingDigitsRx"),""),o(r=t.const_get_relative(v,"DEFAULT_EXTENSIONS")["$[]"](n))?a=r["$[]"](s(1,-1,!1)):(n="html",r=".html",a="html",$="html"),l(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:n,outfilesuffix:r,filetype:a,htmlsyntax:$})},u.$$arity=0),t.defn(g,"$filetype",d=function(n){var r=this,a=i;return null==n&&(n=i),o(n)?(a=["filetype",n],$(r.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):r.$backend_info()["$[]"]("filetype")},d.$$arity=-1),t.defn(g,"$basebackend",f=function(n){var r=this,a=i;return null==n&&(n=i),o(n)?(a=["basebackend",n],$(r.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):r.$backend_info()["$[]"]("basebackend")},f.$$arity=-1),t.defn(g,"$outfilesuffix",p=function(n){var r=this,a=i;return null==n&&(n=i),o(n)?(a=["outfilesuffix",n],$(r.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):r.$backend_info()["$[]"]("outfilesuffix")},p.$$arity=-1),t.defn(g,"$htmlsyntax",h=function(n){var r=this,a=i;return null==n&&(n=i),o(n)?(a=["htmlsyntax",n],$(r.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):r.$backend_info()["$[]"]("htmlsyntax")},h.$$arity=-1)}(f[0],f),function(e,n){e.$$proto;var r,i=[e].concat(n);t.defn(e,"$included",r=function(e){return e.$extend(t.const_get_relative(i,"Config"))},r.$$arity=1)}(t.get_singleton_class(d),f),d.$include(t.const_get_relative(f,"Config")),d.$include(t.const_get_relative(f,"BackendInfo")),t.defn(d,"$initialize",_=function(t,e){var n=this;return null==e&&(e=l([],{})),n.backend=t,n.$setup_backend_info()},_.$$arity=-2),t.defn(d,"$convert",u=function(e,n,r){var a=this;return null==n&&(n=i),null==r&&(r=l([],{})),a.$raise(t.const_get_qualified("::","NotImplementedError"))},u.$$arity=-2),t.alias(d,"convert_with_options","convert")}(u[0],u),function(e,n){var r,s,l=r=a(e,"Writer"),c=(l.$$proto,[l].concat(n));t.defn(l,"$write",s=function(e,n){var r,a=this;return o(n["$respond_to?"]("write"))?(n.$write(e.$chomp()),n.$write(t.const_get_relative(c,"EOL"))):$(t.const_get_qualified("::","File"),"open",[n,"w"],(r=function(t){r.$$s;return null==t&&(t=i),t.$write(e)},r.$$s=a,r.$$arity=1,r)),i},s.$$arity=2)}(u[0],u),function(e,n){var r,$,o=r=a(e,"VoidWriter"),s=(o.$$proto,[o].concat(n));o.$include(t.const_get_relative(s,"Writer")),t.defn(o,"$write",$=function(t,e){return i},$.$$arity=2)}(u[0],u)}(r[0],r),n.$require("asciidoctor/converter/base"),n.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/converter/composite"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.module),a=t.klass,$=t.send,o=t.truthy,s=t.hash2;return t.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$find_converter","$[]=","$-","$handles?","$raise"]),function(n,l){var c,_=c=i(n,"Asciidoctor"),u=(_.$$proto,[_].concat(l));!function(n,i,l){function c(){}var _,u,d,f,p=c=a(n,i,"CompositeConverter",c),h=p.$$proto;[p].concat(l);h.converter_map=h.converters=r,p.$attr_reader("converters"),t.defn(p,"$initialize",_=function(t,e){var n,i,a=this,l=arguments.length,c=l-1;c<0&&(c=0),i=new Array(c);for(var _=1;_<l;_++)i[_-1]=arguments[_];return a.backend=t,$(a.converters=i.$flatten().$compact(),"each",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=r),o(t["$respond_to?"]("composed"))?t.$composed(e):r},n.$$s=a,n.$$arity=1,n)),a.converter_map=s([],{})},_.$$arity=-2),t.defn(p,"$convert",u=function(t,e,n){var i,a=this;return null==e&&(e=r),null==n&&(n=s([],{})),e=o(i=e)?i:t.$node_name(),a.$converter_for(e).$convert(t,e,n)},u.$$arity=-2),t.alias(p,"convert_with_options","convert"),t.defn(p,"$converter_for",d=function(n){var i,a=this,s=r;return o(i=a.converter_map["$[]"](n))?i:(s=[n,a.$find_converter(n)],$(a.converter_map,"[]=",t.to_a(s)),s[e(s.length,1)])},d.$$arity=1),t.defn(p,"$find_converter",f=function(e){try{var n,i=this;return $(i.converters,"each",[],(n=function(i){n.$$s;if(null==i&&(i=r),!o(i["$handles?"](e)))return r;t.ret(i)},n.$$s=i,n.$$arity=1,n)),i.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},f.$$arity=1)}(t.const_get_relative(u,"Converter"),t.const_get_qualified(t.const_get_relative(u,"Converter"),"Base"),u)}(n[0],n)},Opal.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var s=[],l=t.nil,c=(t.breaker,t.slice,t.module),_=t.klass,u=t.send,d=t.hash2,f=t.truthy;return t.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$doctitle","$include?","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$document","$sections","$level","$special","$numbered","$caption","$<=","$sectnum","$<","$captioned_title","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$each_with_index","$items","$text?","$blocks?","$chomp","$read_svg_contents","$image_uri","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$select","$rows","$colspan","$rowspan","$role?","$insert","$split","$target","$type","$attributes","$references","$join","$map","$chop","$read_contents","$sub","$gsub","$match","$length"]),function(s,p){var h,g=h=c(s,"Asciidoctor"),v=(g.$$proto,[g].concat(p));!function(s,c,p){function h(){}var g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt=h=_(s,c,"Html5Converter",h),it=rt.$$proto,at=[rt].concat(p),$t=l;it.xml_mode=it.void_element_slash=it.stylesheets=l,$t=[[l,l,l]],u(t.const_set(at[0],"QUOTE_TAGS",d(["emphasis","strong","monospaced","superscript","subscript","double","single","mark","asciimath","latexmath"],{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",t.to_a($t)),e($t.length,1),t.const_set(at[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m),t.const_set(at[0],"SvgStartTagRx",/^<svg[^>]*>/),t.const_set(at[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),t.defn(rt,"$initialize",g=function(e,n){var r=this;return null==n&&(n=d([],{})),r.xml_mode=n["$[]"]("htmlsyntax")["$=="]("xml"),r.void_element_slash=f(r.xml_mode)?"/":l,r.stylesheets=t.const_get_relative(at,"Stylesheets").$instance()},g.$$arity=-2),t.defn(rt,"$document",v=function(e){var a,$,o,s,c,_=this,p=l,h=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l,E=l,O=l,A=l,S=l,R=l,M=l,T=l,I=l,C=l,q=l,N=l;return p=[],h=_.void_element_slash,g="<br"+h+">",f((v=e.$attr("asset-uri-scheme","https"))["$empty?"]())||(v+=":"),m=v+"//cdnjs.cloudflare.com/ajax/libs",y=f(a=n(e.$safe(),t.const_get_qualified(t.const_get_relative(at,"SafeMode"),"SECURE")))?a:e["$attr?"]("linkcss"),p["$<<"]("<!DOCTYPE html>"),b=f(e["$attr?"]("nolang"))?l:' lang="'+e.$attr("lang","en")+'"',p["$<<"]("<html"+(f(_.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':l)+b+">"),p["$<<"]('<head>\n<meta charset="'+e.$attr("encoding","UTF-8")+'"'+h+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+h+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+h+'>\n<meta name="generator" content="Asciidoctor '+e.$attr("asciidoctor-version")+'"'+h+">"),f(e["$attr?"]("app-name"))&&p["$<<"]('<meta name="application-name" content="'+e.$attr("app-name")+'"'+h+">"),f(e["$attr?"]("description"))&&p["$<<"]('<meta name="description" content="'+e.$attr("description")+'"'+h+">"),f(e["$attr?"]("keywords"))&&p["$<<"]('<meta name="keywords" content="'+e.$attr("keywords")+'"'+h+">"),f(e["$attr?"]("authors"))&&p["$<<"]('<meta name="author" content="'+e.$attr("authors")+'"'+h+">"),f(e["$attr?"]("copyright"))&&p["$<<"]('<meta name="copyright" content="'+e.$attr("copyright")+'"'+h+">"),p["$<<"]("<title>"+e.$doctitle(d(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),f(t.const_get_relative(at,"DEFAULT_STYLESHEET_KEYS")["$include?"](e.$attr("stylesheet")))?(f(w=e.$attr("webfonts"))&&p["$<<"]('<link rel="stylesheet" href="'+v+"//fonts.googleapis.com/css?family="+(f(w["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":w)+'"'+h+">"),f(y)?p["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(t.const_get_relative(at,"DEFAULT_STYLESHEET_NAME"),e.$attr("stylesdir",""),!1)+'"'+h+">"):p["$<<"](_.stylesheets.$embed_primary_stylesheet())):f(e["$attr?"]("stylesheet"))&&(f(y)?p["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(e.$attr("stylesheet"),e.$attr("stylesdir",""))+'"'+h+">"):p["$<<"]("<style>\n"+e.$read_asset(e.$normalize_system_path(e.$attr("stylesheet"),e.$attr("stylesdir","")),d(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>")),f(e["$attr?"]("icons","font"))&&(f(e["$attr?"]("iconfont-remote"))?p["$<<"]('<link rel="stylesheet" href="'+e.$attr("iconfont-cdn",m+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+h+">"):(k=e.$attr("iconfont-name","font-awesome")+".css",p["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(k,e.$attr("stylesdir",""),!1)+'"'+h+">"))),x=E=e.$attr("source-highlighter"),"coderay"["$==="](x)?e.$attr("coderay-css","class")["$=="]("class")&&(f(y)?p["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(_.stylesheets.$coderay_stylesheet_name(),e.$attr("stylesdir",""),!1)+'"'+h+">"):p["$<<"](_.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](x)&&e.$attr("pygments-css","class")["$=="]("class")&&(O=e.$attr("pygments-style"),f(y)?p["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(_.stylesheets.$pygments_stylesheet_name(O),e.$attr("stylesdir",""),!1)+'"'+h+">"):p["$<<"](_.stylesheets.$embed_pygments_stylesheet(O))),f((A=e.$docinfo())["$empty?"]())||p["$<<"](A),p["$<<"]("</head>"),S=[],f(e.$id())&&S["$<<"]('id="'+e.$id()+'"'),f(f(a=f($=f(o=R=e["$sections?"]())?e["$attr?"]("toc-class"):o)?e["$attr?"]("toc"):$)?e["$attr?"]("toc-placement","auto"):a)?S["$<<"]('class="'+e.$doctype()+" "+e.$attr("toc-class")+" toc-"+e.$attr("toc-position","header")+'"'):S["$<<"]('class="'+e.$doctype()+'"'),f(e["$attr?"]("max-width"))&&S["$<<"]('style="max-width: '+e.$attr("max-width")+';"'),p["$<<"]("<body "+r(S," ")+">"),f(e.$noheader())||(p["$<<"]('<div id="header">'),e.$doctype()["$=="]("manpage")?(p["$<<"]("<h1>"+e.$doctitle()+" Manual Page</h1>"),f(f(a=f($=R)?e["$attr?"]("toc"):$)?e["$attr?"]("toc-placement","auto"):a)&&p["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+_.$outline(e)+"\n</div>"),p["$<<"]("<h2>"+e.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("manname")+" - "+e.$attr("manpurpose")+"</p>\n</div>")):(f(e["$has_header?"]())&&(f(e.$notitle())||p["$<<"]("<h1>"+e.$header().$title()+"</h1>"),M=[],f(e["$attr?"]("author"))&&(M["$<<"]('<span id="author" class="author">'+e.$attr("author")+"</span>"+g),f(e["$attr?"]("email"))&&M["$<<"]('<span id="email" class="email">'+e.$sub_macros(e.$attr("email"))+"</span>"+g),f(i(T=e.$attr("authorcount").$to_i(),1))&&u(t.Range.$new(2,T,!1),"each",[],(s=function(t){s.$$s;return null==t&&(t=l),M["$<<"]('<span id="author'+t+'" class="author">'+e.$attr("author_"+t)+"</span>"+g),f(e["$attr?"]("email_"+t))?M["$<<"]('<span id="email'+t+'" class="email">'+e.$sub_macros(e.$attr("email_"+t))+"</span>"+g):l},s.$$s=_,s.$$arity=1,s))),f(e["$attr?"]("revnumber"))&&M["$<<"]('<span id="revnumber">'+(f(a=e.$attr("version-label"))?a:"").$downcase()+" "+e.$attr("revnumber")+(f(e["$attr?"]("revdate"))?",":"")+"</span>"),f(e["$attr?"]("revdate"))&&M["$<<"]('<span id="revdate">'+e.$attr("revdate")+"</span>"),f(e["$attr?"]("revremark"))&&M["$<<"](g+'<span id="revremark">'+e.$attr("revremark")+"</span>"),f(M["$empty?"]())||(p["$<<"]('<div class="details">'),p.$concat(M),p["$<<"]("</div>"))),f(f(a=f($=R)?e["$attr?"]("toc"):$)?e["$attr?"]("toc-placement","auto"):a)&&p["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+_.$outline(e)+"\n</div>")),p["$<<"]("</div>")),p["$<<"]('<div id="content">\n'+e.$content()+"\n</div>"),f(f(a=e["$footnotes?"]())?e["$attr?"]("nofootnotes")["$!"]():a)&&(p["$<<"]('<div id="footnotes">\n<hr'+h+">"),u(e.$footnotes(),"each",[],(c=function(t){c.$$s;return null==t&&(t=l),p["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")},c.$$s=_,c.$$arity=1,c)),p["$<<"]("</div>")),f(e.$nofooter())||(p["$<<"]('<div id="footer">'),p["$<<"]('<div id="footer-text">'),f(e["$attr?"]("revnumber"))&&p["$<<"](e.$attr("version-label")+" "+e.$attr("revnumber")+g),f(f(a=e["$attr?"]("last-update-label"))?e["$attr?"]("reproducible")["$!"]():a)&&p["$<<"](e.$attr("last-update-label")+" "+e.$attr("docdatetime")),p["$<<"]("</div>"),p["$<<"]("</div>")),f((A=e.$docinfo("footer"))["$empty?"]())||p["$<<"](A),x=E,"highlightjs"["$==="](x)||"highlight.js"["$==="](x)?(I=e.$attr("highlightjsdir",m+"/highlight.js/8.9.1"),p["$<<"]('<link rel="stylesheet" href="'+I+"/styles/"+e.$attr("highlightjs-theme","github")+'.min.css"'+h+">"),p["$<<"]('<script src="'+I+'/highlight.min.js"><\/script>\n<script>hljs.initHighlighting()<\/script>')):"prettify"["$==="](x)&&(C=e.$attr("prettifydir",m+"/prettify/r298"),p["$<<"]('<link rel="stylesheet" href="'+C+"/"+e.$attr("prettify-theme","prettify")+'.min.css"'+h+">"),p["$<<"]('<script src="'+C+'/prettify.min.js"><\/script>\n<script>prettyPrint()<\/script>')),f(e["$attr?"]("stem"))&&(q=e.$attr("eqnums","none"),f(q["$empty?"]())&&(q="AMS"),N=' equationNumbers: { autoNumber: "'+q+'" } ',p["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+t.const_get_relative(at,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+t.const_get_relative(at,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+t.const_get_relative(at,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+N+'}\n});\n<\/script>\n<script src="'+m+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),p["$<<"]("</body>"),p["$<<"]("</html>"),r(p,t.const_get_relative(at,"EOL"))},v.$$arity=1),t.defn(rt,"$embedded",m=function(e){var n,i,a,$,o=this,s=l,c=l,_=l;return s=[],e.$doctype()["$=="]("manpage")?(f(e.$notitle())||(c=f(e.$id())?' id="'+e.$id()+'"':l,s["$<<"]("<h1"+c+">"+e.$doctitle()+" Manual Page</h1>")),s["$<<"]("<h2>"+e.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("manname")+" - "+e.$attr("manpurpose")+"</p>\n</div>")):f(f(n=e["$has_header?"]())?e.$notitle()["$!"]():n)&&(c=f(e.$id())?' id="'+e.$id()+'"':l,s["$<<"]("<h1"+c+">"+e.$header().$title()+"</h1>")),f(f(n=f(i=f(a=e["$sections?"]())?e["$attr?"]("toc"):a)?(_=e.$attr("toc-placement"))["$!="]("macro"):i)?_["$!="]("preamble"):n)&&s["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+o.$outline(e)+"\n</div>"),s["$<<"](e.$content()),f(f(n=e["$footnotes?"]())?e["$attr?"]("nofootnotes")["$!"]():n)&&(s["$<<"]('<div id="footnotes">\n<hr'+o.void_element_slash+">"),u(e.$footnotes(),"each",[],($=function(t){$.$$s;return null==t&&(t=l),s["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")},$.$$s=o,$.$$arity=1,$)),s["$<<"]("</div>")),r(s,t.const_get_relative(at,"EOL"))},m.$$arity=1),t.defn(rt,"$outline",y=function(e,n){var i,o,s=this,c=l,_=l,p=l,h=l,g=l,v=l;return null==n&&(n=d([],{})),f(e["$sections?"]())?(c=f(i=n["$[]"]("sectnumlevels"))?i:e.$document().$attr("sectnumlevels",3).$to_i(),_=f(i=n["$[]"]("toclevels"))?i:e.$document().$attr("toclevels",2).$to_i(),p=[],h=e.$sections(),g=(v=h["$[]"](0)).$level(),f((i=g["$=="](0))?v.$special():g["$=="](0))&&(g=1),p["$<<"]('<ul class="sectlevel'+g+'">'),u(h,"each",[],(o=function(t){var e,n,r=o.$$s||this,i=l,s=l;return null==t&&(t=l),i=f(f(e=f(n=t.$numbered())?t.$caption()["$!"]():n)?a(t.$level(),c):e)?t.$sectnum()+" ":l,f(f(e=$(t.$level(),_))?s=r.$outline(t,d(["toclevels","secnumlevels"],{toclevels:_,secnumlevels:c})):e)?(p["$<<"]('<li><a href="#'+t.$id()+'">'+i+t.$captioned_title()+"</a>"),p["$<<"](s),p["$<<"]("</li>")):p["$<<"]('<li><a href="#'+t.$id()+'">'+i+t.$captioned_title()+"</a></li>")},o.$$s=s,o.$$arity=1,o)),p["$<<"]("</ul>"),r(p,t.const_get_relative(at,"EOL"))):l},y.$$arity=-2),t.defn(rt,"$section",b=function(t){var e,n,r=l,i=l,$=l,s=l,c=l,_=l,u=l,d=l,p=l,h=l,g=l;return r=t.$level(),f((e=r["$=="](0))?t.$special():r["$=="](0))&&(r=1),i="h"+o(r,1),$=s=c=_=l,f(t.$id())&&($=' id="'+(u=t.$id())+'"',f((d=t.$document())["$attr?"]("sectanchors"))&&(s='<a class="anchor" href="#'+u+'"></a>'),f(d["$attr?"]("sectlinks"))&&(c='<a class="link" href="#'+u+'">',_="</a>")),r["$=="](0)?"<h1"+$+' class="sect0">'+s+c+t.$title()+_+"</h1>\n"+t.$content():(p=f(h=t.$role())?' class="sect'+r+" "+h+'"':' class="sect'+r+'"',g=f(f(e=f(n=t.$numbered())?t.$caption()["$!"]():n)?a(r,t.$document().$attr("sectnumlevels",3).$to_i()):e)?t.$sectnum()+" ":l,"<div"+p+">\n<"+i+$+">"+s+c+g+t.$captioned_title()+_+"</"+i+">\n"+(r["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>")},b.$$arity=1),t.defn(rt,"$admonition",w=function(t){var e,n=this,r=l,i=l,a=l,$=l,o=l;return r=f(t.$id())?' id="'+t.$id()+'"':l,i=t.$attr("name"),a=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l,$=f(t.$document()["$attr?"]("icons"))?f(f(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+i+'" title="'+t.$caption()+'"></i>':'<img src="'+t.$icon_uri(i)+'" alt="'+t.$caption()+'"'+n.void_element_slash+">":'<div class="title">'+t.$caption()+"</div>","<div"+r+' class="admonitionblock '+i+(f(e=o=t.$role())?" "+o:e)+'">\n<table>\n<tr>\n<td class="icon">\n'+$+'\n</td>\n<td class="content">\n'+a+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},w.$$arity=1),t.defn(rt,"$audio",k=function(t){var e=this,n=l,i=l,a=l,$=l,o=l;return n=e.xml_mode,i=f(t.$id())?' id="'+t.$id()+'"':l,a=["audioblock",t.$role()].$compact(),$=' class="'+r(a," ")+'"',o=f(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":l,"<div"+i+$+">\n"+o+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+'"'+(f(t["$option?"]("autoplay"))?e.$append_boolean_attribute("autoplay",n):l)+(f(t["$option?"]("nocontrols"))?l:e.$append_boolean_attribute("controls",n))+(f(t["$option?"]("loop"))?e.$append_boolean_attribute("loop",n):l)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},k.$$arity=1),t.defn(rt,"$colist",x=function(e){var n,i,a=this,$=l,s=l,c=l,_=l,d=l;return $=[],s=f(e.$id())?' id="'+e.$id()+'"':l,c=["colist",e.$style(),e.$role()].$compact(),_=' class="'+r(c," ")+'"',$["$<<"]("<div"+s+_+">"),f(e["$title?"]())&&$["$<<"]('<div class="title">'+e.$title()+"</div>"),f(e.$document()["$attr?"]("icons"))?($["$<<"]("<table>"),d=e.$document()["$attr?"]("icons","font"),u(e.$items(),"each_with_index",[],(n=function(t,r){var i=n.$$s||this,a=l,s=l;return null==i.void_element_slash&&(i.void_element_slash=l),null==t&&(t=l),null==r&&(r=l),a=o(r,1),s=f(d)?'<i class="conum" data-value="'+a+'"></i><b>'+a+"</b>":'<img src="'+e.$icon_uri("callouts/"+a)+'" alt="'+a+'"'+i.void_element_slash+">",$["$<<"]("<tr>\n<td>"+s+"</td>\n<td>"+t.$text()+"</td>\n</tr>")},n.$$s=a,n.$$arity=2,n)),$["$<<"]("</table>")):($["$<<"]("<ol>"),u(e.$items(),"each",[],(i=function(t){i.$$s;return null==t&&(t=l),$["$<<"]("<li>\n<p>"+t.$text()+"</p>\n</li>")},i.$$s=a,i.$$arity=1,i)),$["$<<"]("</ol>")),$["$<<"]("</div>"),r($,t.const_get_relative(at,"EOL"))},x.$$arity=1),t.defn(rt,"$dlist",E=function(e){var n,i,a,$,o=this,s=l,c=l,_=l,d=l,p=l,h=l,g=l,v=l;return s=[],c=f(e.$id())?' id="'+e.$id()+'"':l,_=(d=e.$style(),"qanda"["$==="](d)?["qlist","qanda",e.$role()]:"horizontal"["$==="](d)?["hdlist",e.$role()]:["dlist",e.$style(),e.$role()]).$compact(),p=' class="'+r(_," ")+'"',s["$<<"]("<div"+c+p+">"),f(e["$title?"]())&&s["$<<"]('<div class="title">'+e.$title()+"</div>"),d=e.$style(),"qanda"["$==="](d)?(s["$<<"]("<ol>"),u(e.$items(),"each",[],(n=function(e,r){var i,a=n.$$s||this;return null==e&&(e=l),null==r&&(r=l),s["$<<"]("<li>"),u([].concat(t.to_a(e)),"each",[],(i=function(t){i.$$s;return null==t&&(t=l),s["$<<"]("<p><em>"+t.$text()+"</em></p>")},i.$$s=a,i.$$arity=1,i)),f(r)&&(f(r["$text?"]())&&s["$<<"]("<p>"+r.$text()+"</p>"),f(r["$blocks?"]())&&s["$<<"](r.$content())),s["$<<"]("</li>")},n.$$s=o,n.$$arity=2,n)),s["$<<"]("</ol>")):"horizontal"["$==="](d)?(h=o.void_element_slash,s["$<<"]("<table>"),f(f(i=e["$attr?"]("labelwidth"))?i:e["$attr?"]("itemwidth"))&&(s["$<<"]("<colgroup>"),g=f(e["$attr?"]("labelwidth"))?' style="width: '+e.$attr("labelwidth").$chomp("%")+'%;"':l,s["$<<"]("<col"+g+h+">"),g=f(e["$attr?"]("itemwidth"))?' style="width: '+e.$attr("itemwidth").$chomp("%")+'%;"':l,s["$<<"]("<col"+g+h+">"),s["$<<"]("</colgroup>")),u(e.$items(),"each",[],(a=function(n,r){var i,$=a.$$s||this,o=l,c=l;return null==n&&(n=l),null==r&&(r=l),s["$<<"]("<tr>"),s["$<<"]('<td class="hdlist1'+(f(e["$option?"]("strong"))?" strong":l)+'">'),o=[].concat(t.to_a(n)),c=o["$[]"](-1),u(o,"each",[],(i=function(t){i.$$s;return null==t&&(t=l),s["$<<"](t.$text()),f(t["$!="](c))?s["$<<"]("<br"+h+">"):l},i.$$s=$,i.$$arity=1,i)),s["$<<"]("</td>"),s["$<<"]('<td class="hdlist2">'),f(r)&&(f(r["$text?"]())&&s["$<<"]("<p>"+r.$text()+"</p>"),f(r["$blocks?"]())&&s["$<<"](r.$content())),s["$<<"]("</td>"),s["$<<"]("</tr>")},a.$$s=o,a.$$arity=2,a)),s["$<<"]("</table>")):(s["$<<"]("<dl>"),v=f(e.$style())?l:' class="hdlist1"',u(e.$items(),"each",[],($=function(e,n){var r,i=$.$$s||this;return null==e&&(e=l),null==n&&(n=l),u([].concat(t.to_a(e)),"each",[],(r=function(t){r.$$s;return null==t&&(t=l),s["$<<"]("<dt"+v+">"+t.$text()+"</dt>")},r.$$s=i,r.$$arity=1,r)),f(n)?(s["$<<"]("<dd>"),f(n["$text?"]())&&s["$<<"]("<p>"+n.$text()+"</p>"),f(n["$blocks?"]())&&s["$<<"](n.$content()),s["$<<"]("</dd>")):l},$.$$s=o,$.$$arity=2,$)),s["$<<"]("</dl>")),s["$<<"]("</div>"),r(s,t.const_get_relative(at,"EOL"))},E.$$arity=1),t.defn(rt,"$example",O=function(t){var e=l,n=l,i=l;return e=f(t.$id())?' id="'+t.$id()+'"':l,n=f(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":l,"<div"+e+' class="'+(f(i=t.$role())?r(["exampleblock",i]," "):"exampleblock")+'">\n'+n+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},O.$$arity=1),t.defn(rt,"$floating_title",A=function(t){var e=l,n=l,i=l;return e="h"+o(t.$level(),1),n=f(t.$id())?' id="'+t.$id()+'"':l,i=[t.$style(),t.$role()].$compact(),"<"+e+n+' class="'+r(i," ")+'">'+t.$title()+"</"+e+">"},A.$$arity=1),t.defn(rt,"$image",S=function(e){var n,i,a,o=this,s=l,c=l,_=l,u=l,d=l,p=l,h=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l;return s=e.$attr("target"),c=f(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':l,_=f(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':l,f(f(n=f(i=f(a=e["$attr?"]("format","svg",!1))?a:s["$include?"](".svg"))?$(e.$document().$safe(),t.const_get_qualified(t.const_get_relative(at,"SafeMode"),"SECURE")):i)?f(i=u=e["$option?"]("inline"))?i:d=e["$option?"]("interactive"):n)&&(f(u)?p=f(n=o.$read_svg_contents(e,s))?n:'<span class="alt">'+e.$attr("alt")+"</span>":f(d)&&(h=f(e["$attr?"]("fallback"))?'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+e.$attr("alt")+'"'+c+_+o.void_element_slash+">":'<span class="alt">'+e.$attr("alt")+"</span>",p='<object type="image/svg+xml" data="'+e.$image_uri(s)+'"'+c+_+">"+h+"</object>")),p=f(n=p)?n:'<img src="'+e.$image_uri(s)+'" alt="'+e.$attr("alt")+'"'+c+_+o.void_element_slash+">",f(g=e.$attr("link"))&&(p='<a class="image" href="'+g+'">'+p+"</a>"),v=f(e.$id())?' id="'+e.$id()+'"':l,m=["imageblock",e.$role()].$compact(),y=' class="'+r(m," ")+'"',b=[],f(e["$attr?"]("align"))&&b["$<<"]("text-align: "+e.$attr("align")),f(e["$attr?"]("float"))&&b["$<<"]("float: "+e.$attr("float")),w=f(b["$empty?"]())?l:' style="'+r(b,";")+'"',k=f(e["$title?"]())?'\n<div class="title">'+e.$captioned_title()+"</div>":l,"<div"+v+y+w+'>\n<div class="content">\n'+p+"\n</div>"+k+"\n</div>"},S.$$arity=1),t.defn(rt,"$listing",R=function(t){var e,n=l,r=l,i=l,a=l,$=l,o=l,s=l,c=l,_=l,u=l;return n=f(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),t.$style()["$=="]("source")?(i=f(r=t.$attr("language",l,!1))?' data-lang="'+r+'"':l,a=t.$document().$attr("source-highlighter"),"coderay"["$==="](a)?$=' class="CodeRay highlight'+(f(n)?" nowrap":l)+'"':"pygments"["$==="](a)?$=' class="pygments highlight'+(f(n)?" nowrap":l)+'"':"highlightjs"["$==="](a)||"highlight.js"["$==="](a)?($=' class="highlightjs highlight'+(f(n)?" nowrap":l)+'"',f(r)&&(i=' class="language-'+r+'"'+i)):"prettify"["$==="](a)?($=' class="prettyprint highlight'+(f(n)?" nowrap":l)+(f(t["$attr?"]("linenums"))?" linenums":l)+'"',f(r)&&(i=' class="language-'+r+'"'+i)):"html-pipeline"["$==="](a)?($=f(r)?' lang="'+r+'"':l,i=l):($=' class="highlight'+(f(n)?" nowrap":l)+'"',f(r)&&(i=' class="language-'+r+'"'+i)),o="<pre"+$+"><code"+i+">",s="</code></pre>"):(o="<pre"+(f(n)?' class="nowrap"':l)+">",s="</pre>"),c=f(t.$id())?' id="'+t.$id()+'"':l,_=f(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":l,"<div"+c+' class="listingblock'+(f(e=u=t.$role())?" "+u:e)+'">\n'+_+'<div class="content">\n'+o+t.$content()+s+"\n</div>\n</div>"},R.$$arity=1),t.defn(rt,"$literal",M=function(t){var e,n=l,r=l,i=l,a=l;return n=f(t.$id())?' id="'+t.$id()+'"':l,r=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l,i=f(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+n+' class="literalblock'+(f(e=a=t.$role())?" "+a:e)+'">\n'+r+'<div class="content">\n<pre'+(f(i)?' class="nowrap"':l)+">"+t.$content()+"</pre>\n</div>\n</div>"},M.$$arity=1),t.defn(rt,"$stem",T=function(e){var n,i,a=l,$=l,o=l,s=l,c=l,_=l;return a=f(e.$id())?' id="'+e.$id()+'"':l,$=f(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":l,i=t.const_get_relative(at,"BLOCK_MATH_DELIMITERS")["$[]"](e.$style().$to_sym()),n=t.to_ary(i),o=null==n[0]?l:n[0],s=null==n[1]?l:n[1],f(f(n=(c=e.$content())["$start_with?"](o))?c["$end_with?"](s):n)||(c=""+o+c+s),"<div"+a+' class="'+(f(_=e.$role())?r(["stemblock",_]," "):"stemblock")+'">\n'+$+'<div class="content">\n'+c+"\n</div>\n</div>"},T.$$arity=1),t.defn(rt,"$olist",I=function(e){var n,i=this,a=l,$=l,o=l,s=l,c=l,_=l,d=l,p=l;return a=[],$=f(e.$id())?' id="'+e.$id()+'"':l,o=["olist",e.$style(),e.$role()].$compact(),s=' class="'+r(o," ")+'"',a["$<<"]("<div"+$+s+">"),f(e["$title?"]())&&a["$<<"]('<div class="title">'+e.$title()+"</div>"),c=f(_=e.$list_marker_keyword())?' type="'+_+'"':l,d=f(e["$attr?"]("start"))?' start="'+e.$attr("start")+'"':l,p=f(e["$option?"]("reversed"))?i.$append_boolean_attribute("reversed",i.xml_mode):l,a["$<<"]('<ol class="'+e.$style()+'"'+c+d+p+">"),u(e.$items(),"each",[],(n=function(t){n.$$s;return null==t&&(t=l),a["$<<"]("<li>"),a["$<<"]("<p>"+t.$text()+"</p>"),f(t["$blocks?"]())&&a["$<<"](t.$content()),a["$<<"]("</li>")},n.$$s=i,n.$$arity=1,n)),a["$<<"]("</ol>"),a["$<<"]("</div>"),r(a,t.const_get_relative(at,"EOL"))},I.$$arity=1),t.defn(rt,"$open",C=function(t){var e,n,r,a=this,$=l,o=l,s=l,c=l;return($=t.$style())["$=="]("abstract")?f((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(a.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(o=f(t.$id())?' id="'+t.$id()+'"':l,s=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l,"<div"+o+' class="quoteblock abstract'+(f(e=c=t.$role())?" "+c:e)+'">\n'+s+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):f((e=$["$=="]("partintro"))?f(n=f(r=i(t.$level(),0))?r:t.$parent().$context()["$!="]("section"))?n:t.$document().$doctype()["$!="]("book"):$["$=="]("partintro"))?(a.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),""):(o=f(t.$id())?' id="'+t.$id()+'"':l,s=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l,"<div"+o+' class="openblock'+(f(f(e=$)?$["$!="]("open"):e)?" "+$:"")+(f(e=c=t.$role())?" "+c:e)+'">\n'+s+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},C.$$arity=1),t.defn(rt,"$page_break",q=function(t){return'<div style="page-break-after: always;"></div>'},q.$$arity=1),t.defn(rt,"$paragraph",N=function(t){var e=l,n=l;return e=f(t.$role())?'class="paragraph '+t.$role()+'"':'class="paragraph"',n=f(t.$id())?'id="'+t.$id()+'" '+e:e,f(t["$title?"]())?"<div "+n+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div "+n+">\n<p>"+t.$content()+"</p>\n</div>"},N.$$arity=1),t.defn(rt,"$preamble",L=function(t){var e,n,r=this,i=l,a=l;return a=f(f(e=f(n=(i=t.$document())["$attr?"]("toc-placement","preamble"))?i["$sections?"]():n)?i["$attr?"]("toc"):e)?'\n<div id="toc" class="'+i.$attr("toc-class","toc")+'">\n<div id="toctitle">'+i.$attr("toc-title")+"</div>\n"+r.$outline(i)+"\n</div>":l,'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+a+"\n</div>"},L.$$arity=1),t.defn(rt,"$quote",z=function(t){var e,n=this,i=l,a=l,$=l,o=l,s=l,c=l,_=l,u=l;return i=f(t.$id())?' id="'+t.$id()+'"':l,a=["quoteblock",t.$role()].$compact(),$=' class="'+r(a," ")+'"',o=f(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":l,s=f(t["$attr?"]("attribution"))?t.$attr("attribution"):l,c=f(t["$attr?"]("citetitle"))?t.$attr("citetitle"):l,f(f(e=s)?e:c)?(_=f(c)?"<cite>"+c+"</cite>":l,u='\n<div class="attribution">\n'+(f(s)?"&#8212; "+s+(f(c)?"<br"+n.void_element_slash+">\n":l):l)+_+"\n</div>"):u=l,"<div"+i+$+">"+o+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+u+"\n</div>"},z.$$arity=1),t.defn(rt,"$thematic_break",P=function(t){return"<hr"+this.void_element_slash+">"},P.$$arity=1),t.defn(rt,"$sidebar",D=function(t){var e=l,n=l,i=l;return e=f(t.$id())?' id="'+t.$id()+'"':l,n=f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l,"<div"+e+' class="'+(f(i=t.$role())?r(["sidebarblock",i]," "):"sidebarblock")+'">\n<div class="content">\n'+n+t.$content()+"\n</div>\n</div>"},D.$$arity=1),t.defn(rt,"$table",B=function(e){var n,a,$,o,s,c=this,_=l,d=l,p=l,h=l,g=l,v=l,m=l,y=l,b=l;return _=[],d=f(e.$id())?' id="'+e.$id()+'"':l,p=["tableblock","frame-"+e.$attr("frame","all"),"grid-"+e.$attr("grid","all")],h=[],f(f(n=e["$option?"]("autowidth"))?e["$attr?"]("width",l,!1)["$!"]():n)||(f(e["$attr?"]("tablepcwidth",100))?p["$<<"]("spread"):h["$<<"]("width: "+e.$attr("tablepcwidth")+"%;")),f(g=e.$role())&&p["$<<"](g),v=' class="'+r(p," ")+'"',f(e["$attr?"]("float"))&&h["$<<"]("float: "+e.$attr("float")+";"),m=f(h["$empty?"]())?l:' style="'+r(h," ")+'"',_["$<<"]("<table"+d+v+m+">"),f(e["$title?"]())&&_["$<<"]('<caption class="title">'+e.$captioned_title()+"</caption>"),f(i(e.$attr("rowcount"),0))&&(y=c.void_element_slash,_["$<<"]("<colgroup>"),f(e["$option?"]("autowidth"))?(b="<col"+y+">",u(e.$columns().$size(),"times",[],(a=function(){a.$$s;return _["$<<"](b)},a.$$s=c,a.$$arity=0,a))):u(e.$columns(),"each",[],($=function(t){$.$$s;return null==t&&(t=l),_["$<<"]('<col style="width: '+t.$attr("colpcwidth")+'%;"'+y+">")},$.$$s=c,$.$$arity=1,$)),_["$<<"]("</colgroup>"),u(u(["head","foot","body"],"select",[],(o=function(t){o.$$s;return null==t&&(t=l),e.$rows()["$[]"](t)["$empty?"]()["$!"]()},o.$$s=c,o.$$arity=1,o)),"each",[],(s=function(t){var n,r=s.$$s||this;return null==t&&(t=l),_["$<<"]("<t"+t+">"),u(e.$rows()["$[]"](t),"each",[],(n=function(r){var i,a=n.$$s||this;return null==r&&(r=l),_["$<<"]("<tr>"),u(r,"each",[],(i=function(n){var r,a,$=i.$$s||this,o=l,s=l,c=l,d=l,p=l,h=l,g=l;return null==n&&(n=l),t["$=="]("head")?o=n.$text():(s=n.$style(),"asciidoc"["$==="](s)?o="<div>"+n.$content()+"</div>":"verse"["$==="](s)?o='<div class="verse">'+n.$text()+"</div>":"literal"["$==="](s)?o='<div class="literal"><pre>'+n.$text()+"</pre></div>":(o="",u(n.$content(),"each",[],(r=function(t){r.$$s;return null==t&&(t=l),o=o+'<p class="tableblock">'+t+"</p>"},r.$$s=$,r.$$arity=1,r)))),c=f(f(a=t["$=="]("head"))?a:n.$style()["$=="]("header"))?"th":"td",d=' class="tableblock halign-'+n.$attr("halign")+" valign-"+n.$attr("valign")+'"',p=f(n.$colspan())?' colspan="'+n.$colspan()+'"':l,h=f(n.$rowspan())?' rowspan="'+n.$rowspan()+'"':l,g=f(e.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+e.$document().$attr("cellbgcolor")+';"':l,_["$<<"]("<"+c+d+p+h+g+">"+o+"</"+c+">")},i.$$s=a,i.$$arity=1,i)),_["$<<"]("</tr>")},n.$$s=r,n.$$arity=1,n)),_["$<<"]("</t"+t+">")},s.$$s=c,s.$$arity=1,s))),_["$<<"]("</table>"),r(_,t.const_get_relative(at,"EOL"))},B.$$arity=1),t.defn(rt,"$toc",j=function(t){var e,n,r=this,i=l,a=l,$=l,o=l,s=l,c=l;return f(f(e=f(n=(i=t.$document())["$attr?"]("toc-placement","macro"))?i["$sections?"]():n)?i["$attr?"]("toc"):e)?(f(t.$id())?(a=' id="'+t.$id()+'"',$=' id="'+t.$id()+'title"'):(a=' id="toc"',$=' id="toctitle"'),o=f(t["$title?"]())?t.$title():i.$attr("toc-title"),s=f(t["$attr?"]("levels"))?t.$attr("levels").$to_i():l,c=f(t["$role?"]())?t.$role():i.$attr("toc-class","toc"),"<div"+a+' class="'+c+'">\n<div'+$+' class="title">'+o+"</div>\n"+r.$outline(i,d(["toclevels"],{toclevels:s}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"},j.$$arity=1),t.defn(rt,"$ulist",F=function(e){var n,i=this,a=l,$=l,o=l,s=l,c=l,_=l,d=l;return a=[],$=f(e.$id())?' id="'+e.$id()+'"':l,o=["ulist",e.$style(),e.$role()].$compact(),s=l,c=l,f(_=e["$option?"]("checklist"))?(o.$insert(1,"checklist"),d=' class="checklist"',f(e["$option?"]("interactive"))?f(i.xml_mode)?(s='<input type="checkbox" data-item-complete="1" checked="checked"/> ',c='<input type="checkbox" data-item-complete="0"/> '):(s='<input type="checkbox" data-item-complete="1" checked> ',c='<input type="checkbox" data-item-complete="0"> '):f(e.$document()["$attr?"]("icons","font"))?(s='<i class="fa fa-check-square-o"></i> ',c='<i class="fa fa-square-o"></i> '):(s="&#10003; ",c="&#10063; ")):d=f(e.$style())?' class="'+e.$style()+'"':l,a["$<<"]("<div"+$+' class="'+r(o," ")+'">'),f(e["$title?"]())&&a["$<<"]('<div class="title">'+e.$title()+"</div>"),a["$<<"]("<ul"+d+">"),u(e.$items(),"each",[],(n=function(t){var e;n.$$s;return null==t&&(t=l),a["$<<"]("<li>"),f(f(e=_)?t["$attr?"]("checkbox"):e)?a["$<<"]("<p>"+(f(t["$attr?"]("checked"))?s:c)+t.$text()+"</p>"):a["$<<"]("<p>"+t.$text()+"</p>"),f(t["$blocks?"]())&&a["$<<"](t.$content()),a["$<<"]("</li>")},n.$$s=i,n.$$arity=1,n)),a["$<<"]("</ul>"),a["$<<"]("</div>"),r(a,t.const_get_relative(at,"EOL"))},F.$$arity=1),t.defn(rt,"$verse",U=function(t){var e,n=this,i=l,a=l,$=l,o=l,s=l,c=l,_=l,u=l;return i=f(t.$id())?' id="'+t.$id()+'"':l,a=["verseblock",t.$role()].$compact(),$=' class="'+r(a," ")+'"',o=f(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":l,s=f(t["$attr?"]("attribution"))?t.$attr("attribution"):l,c=f(t["$attr?"]("citetitle"))?t.$attr("citetitle"):l,f(f(e=s)?e:c)?(_=f(c)?"<cite>"+c+"</cite>":l,u='\n<div class="attribution">\n'+(f(s)?"&#8212; "+s+(f(c)?"<br"+n.void_element_slash+">\n":l):l)+_+"\n</div>"):u=l,"<div"+i+$+">"+o+'\n<pre class="content">'+t.$content()+"</pre>"+u+"\n</div>"},U.$$arity=1),t.defn(rt,"$video",G=function(e){var n,i,a=this,$=l,o=l,s=l,c=l,_=l,u=l,d=l,p=l,h=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l,E=l,O=l,A=l,S=l,R=l,M=l,T=l,I=l,C=l,q=l,N=l,L=l,z=l,P=l;return $=a.xml_mode,o=f(e.$id())?' id="'+e.$id()+'"':l,s=["videoblock",e.$role()].$compact(),c=' class="'+r(s," ")+'"',_=f(e["$title?"]())?'\n<div class="title">'+e.$captioned_title()+"</div>":l,u=f(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':l,d=f(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':l,p=e.$attr("poster"),"vimeo"["$==="](p)?(f((h=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(h+=":"),g=f(e["$attr?"]("start",l,!1))?"#at="+e.$attr("start"):l,v="?",m=f(e["$option?"]("autoplay"))?v+"autoplay=1":l,f(m)&&(v="&amp;"),y=f(e["$option?"]("loop"))?v+"loop=1":l,"<div"+o+c+">"+_+'\n<div class="content">\n<iframe'+u+d+' src="'+h+"//player.vimeo.com/video/"+e.$attr("target")+g+m+y+'" frameborder="0"'+(f(e["$option?"]("nofullscreen"))?l:a.$append_boolean_attribute("allowfullscreen",$))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](p)?(f((h=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(h+=":"),b=f(e["$option?"]("related"))?1:0,w=f(e["$attr?"]("start",l,!1))?"&amp;start="+e.$attr("start"):l,k=f(e["$attr?"]("end",l,!1))?"&amp;end="+e.$attr("end"):l,m=f(e["$option?"]("autoplay"))?"&amp;autoplay=1":l,y=f(e["$option?"]("loop"))?"&amp;loop=1":l,x=f(e["$option?"]("nocontrols"))?"&amp;controls=0":l,f(e["$option?"]("nofullscreen"))?(E="&amp;fs=0",O=l):(E=l,O=a.$append_boolean_attribute("allowfullscreen",$)),A=f(e["$option?"]("modest"))?"&amp;modestbranding=1":l,S=f(e["$attr?"]("theme",l,!1))?"&amp;theme="+e.$attr("theme"):l,R=f(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):l,i=e.$attr("target").$split("/",2),n=t.to_ary(i),M=null==n[0]?l:n[0],T=null==n[1]?l:n[1],f(T=f(n=T)?n:e.$attr("list",l,!1))?I="&amp;list="+T:(i=M.$split(",",2),n=t.to_ary(i),M=null==n[0]?l:n[0],C=null==n[1]?l:n[1],I=f(C=f(n=C)?n:e.$attr("playlist",l,!1))?"&amp;playlist="+C:f(y)?"&amp;playlist="+M:l),"<div"+o+c+">"+_+'\n<div class="content">\n<iframe'+u+d+' src="'+h+"//www.youtube.com/embed/"+M+"?rel="+b+w+k+m+y+x+I+E+A+S+R+'" frameborder="0"'+O+"></iframe>\n</div>\n</div>"):(q=f((""+(N=e.$attr("poster")))["$empty?"]())?l:' poster="'+e.$media_uri(N)+'"',L=e.$attr("start",l,!1),z=e.$attr("end",l,!1),P=f(f(n=L)?n:z)?"#t="+L+(f(z)?",":l)+z:l,"<div"+o+c+">"+_+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+P+'"'+u+d+q+(f(e["$option?"]("autoplay"))?a.$append_boolean_attribute("autoplay",$):l)+(f(e["$option?"]("nocontrols"))?l:a.$append_boolean_attribute("controls",$))+(f(e["$option?"]("loop"))?a.$append_boolean_attribute("loop",$):l)+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},G.$$arity=1),t.defn(rt,"$inline_anchor",H=function(t){var e,n,r=this,i=l,a=l,$=l,o=l,s=l,c=l;return i=t.$target(),a=t.$type(),"xref"["$==="](a)?($=f(e=t.$attributes()["$[]"]("refid"))?e:i,o=f(e=t.$text())?e:f(n=t.$document().$references()["$[]"]("ids")["$[]"]($))?n:"["+$+"]",'<a href="'+i+'">'+o+"</a>"):"ref"["$==="](a)?'<a id="'+i+'"></a>':"link"["$==="](a)?(s=[],f(t.$id())&&s["$<<"](' id="'+t.$id()+'"'),f(c=t.$role())&&s["$<<"](' class="'+c+'"'),f(t["$attr?"]("title",l,!1))&&s["$<<"](' title="'+t.$attr("title")+'"'),f(t["$attr?"]("window",l,!1))&&s["$<<"](' target="'+t.$attr("window")+'"'),'<a href="'+i+'"'+s.$join()+">"+t.$text()+"</a>"):"bibref"["$==="](a)?'<a id="'+i+'"></a>['+i+"]":r.$warn("asciidoctor: WARNING: unknown anchor type: "+t.$type().$inspect())},H.$$arity=1),t.defn(rt,"$inline_break",Y=function(t){var e=this;return t.$text()+"<br"+e.void_element_slash+">"},Y.$$arity=1),t.defn(rt,"$inline_button",K=function(t){return'<b class="button">'+t.$text()+"</b>"},K.$$arity=1),t.defn(rt,"$inline_callout",W=function(t){var e=this;return f(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":f(t.$document()["$attr?"]("icons"))?'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+e.void_element_slash+">":'<b class="conum">('+t.$text()+")</b>"},W.$$arity=1),t.defn(rt,"$inline_footnote",X=function(t){var e=l;return f(e=t.$attr("index"))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":'<sup class="footnote"'+(f(t.$id())?' id="_footnote_'+t.$id()+'"':l)+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":l},X.$$arity=1),t.defn(rt,"$inline_image",V=function(e){var n,r,i,a,o,s,c=this,_=l,p=l,h=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l,E=l;return f((n=(_=e.$type())["$=="]("icon"))?e.$document()["$attr?"]("icons","font"):(_=e.$type())["$=="]("icon"))?(p="fa fa-"+e.$target(),u(d(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(r=function(t,n){r.$$s;return null==t&&(t=l),null==n&&(n=l),f(e["$attr?"](t))?p=p+" "+n+e.$attr(t):l},r.$$s=c,r.$$arity=2,r)),h=f(e["$attr?"]("title"))?' title="'+e.$attr("title")+'"':l,g='<i class="'+p+'"'+h+"></i>"):f((n=_["$=="]("icon"))?e.$document()["$attr?"]("icons")["$!"]():_["$=="]("icon"))?g="["+e.$attr("alt")+"]":(v=e.$target(),m=u(["width","height","title"],"map",[],(i=function(t){i.$$s;return null==t&&(t=l),f(e["$attr?"](t))?" "+t+'="'+e.$attr(t)+'"':l},i.$$s=c,i.$$arity=1,i)).$join(),f(f(n=f(a=f(o=_["$!="]("icon"))?f(s=e["$attr?"]("format","svg",!1))?s:v["$include?"](".svg"):o)?$(e.$document().$safe(),t.const_get_qualified(t.const_get_relative(at,"SafeMode"),"SECURE")):a)?f(a=y=e["$option?"]("inline"))?a:b=e["$option?"]("interactive"):n)&&(f(y)?g=f(n=c.$read_svg_contents(e,v))?n:'<span class="alt">'+e.$attr("alt")+"</span>":f(b)&&(w=f(e["$attr?"]("fallback"))?'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+e.$attr("alt")+'"'+m+c.void_element_slash+">":'<span class="alt">'+e.$attr("alt")+"</span>",g='<object type="image/svg+xml" data="'+e.$image_uri(v)+'"'+m+">"+w+"</object>")),g=f(n=g)?n:'<img src="'+(_["$=="]("icon")?e.$icon_uri(v):e.$image_uri(v))+'" alt="'+e.$attr("alt")+'"'+m+c.void_element_slash+">"),f(e["$attr?"]("link"))&&(k=f(e["$attr?"]("window"))?' target="'+e.$attr("window")+'"':l,g='<a class="image" href="'+e.$attr("link")+'"'+k+">"+g+"</a>"),p=f(x=e.$role())?_+" "+x:_,E=f(e["$attr?"]("float"))?' style="float: '+e.$attr("float")+'"':l,'<span class="'+p+'"'+E+">"+g+"</span>"},V.$$arity=1),t.defn(rt,"$inline_indexterm",J=function(t){return t.$type()["$=="]("visible")?t.$text():""},J.$$arity=1),t.defn(rt,"$inline_kbd",Z=function(t){var e,n=this,r=l;return(r=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+r["$[]"](0)+"</kbd>":'<span class="keyseq">'+u(r,"map",[],(e=function(t){e.$$s;return null==t&&(t=l),"<kbd>"+t+"</kbd>+"},e.$$s=n,e.$$arity=1,e)).$join().$chop()+"</span>"},Z.$$arity=1),t.defn(rt,"$inline_menu",Q=function(t){var e,n=this,r=l,i=l,a=l,$=l;return r=t.$attr("menu"),f((i=t.$attr("submenus"))["$empty?"]()["$!"]())?(a=u(i,"map",[],(e=function(t){e.$$s;return null==t&&(t=l),'<span class="submenu">'+t+"</span>&#160;&#9656; "},e.$$s=n,e.$$arity=1,e)).$join().$chop(),'<span class="menuseq"><span class="menu">'+r+"</span>&#160;&#9656; "+a+' <span class="menuitem">'+t.$attr("menuitem")+"</span></span>"):f($=t.$attr("menuitem"))?'<span class="menuseq"><span class="menu">'+r+'</span>&#160;&#9656; <span class="menuitem">'+$+"</span></span>":'<span class="menu">'+r+"</span>"},Q.$$arity=1),t.defn(rt,"$inline_quoted",tt=function(e){var n,r,i=l,a=l,$=l,o=l,s=l;return r=t.const_get_relative(at,"QUOTE_TAGS")["$[]"](e.$type()),n=t.to_ary(r),i=null==n[0]?l:n[0],a=null==n[1]?l:n[1],$=null==n[2]?l:n[2],s=f(o=e.$role())?f($)?i.$chop()+' class="'+o+'">'+e.$text()+a:'<span class="'+o+'">'+i+e.$text()+a+"</span>":""+i+e.$text()+a,f(e.$id())?'<a id="'+e.$id()+'"></a>'+s:s},tt.$$arity=1),t.defn(rt,"$append_boolean_attribute",et=function(t,e){return f(e)?" "+t+'="'+t+'"':" "+t},et.$$arity=2),t.defn(rt,"$read_svg_contents",nt=function(e,n){var r,i=this,a=l,$=l,o=l;return f(a=e.$read_contents(n,d(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(f(a["$start_with?"]("<svg"))||(a=a.$sub(t.const_get_relative(at,"SvgPreambleRx"),"")),$=o=l,u(["width","height"],"each",[],(r=function(n){r.$$s;return null==n&&(n=l),f(e["$attr?"](n))?(f(o)||(o=($=a.$match(t.const_get_relative(at,"SvgStartTagRx"))["$[]"](0)).$gsub(t.const_get_relative(at,"DimensionAttributeRx"),"")),o=o.$chop()+" "+n+'="'+e.$attr(n)+'px">'):l},r.$$s=i,r.$$arity=1,r)),f(o)&&(a=""+o+a["$[]"](t.Range.$new($.$length(),-1,!1)))),a},nt.$$arity=2)}(t.const_get_relative(v,"Converter"),t.const_get_qualified(t.const_get_relative(v,"Converter"),"BuiltIn"),v)}(s[0],s)},Opal.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var a=[],$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.truthy,c=t.hash2,_=t.send,u=t.range,d=t.hash;return t.add_stubs(["$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$new","$create_block","$===","$has_more_lines?","$next_block","$dup","$<<","$each","$define_method","$send","$insert","$call","$attr_accessor","$[]","$option","$to_set","$flatten","$resolve_regexp","$==","$attr","$method","$register","$+","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$!","$any?","$select","$add_syntax_processor","$to_sym","$include?","$private","$tr","$to_s","$join","$map","$split","$upcase","$chr","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$class_for_name","$<","$update_config","$unshift","$as_symbol","$name=","$pop","$size","$>","$fill","$-@","$next_auto_id","$generate_name","$length","$empty?","$const_defined?"]),function(a,f){var p,h=p=o(a,"Asciidoctor"),g=(h.$$proto,[h].concat(f));!function(a,f){var p,h=p=o(a,"Extensions"),g=(h.$$proto,[h].concat(f));!function(n,r,i){function a(){}var o,u,d,f,p,h,g,v,m=a=s(n,null,"Processor",a),y=m.$$proto,b=[m].concat(i);y.config=$,function(n,r){n.$$proto;var i,a,o,s=[n].concat(r);t.defn(n,"$config",i=function(){var t,e=this;return null==e.config&&(e.config=$),e.config=l(t=e.config)?t:c([],{})},i.$$arity=0),t.defn(n,"$option",a=function(n,r){var i=$;return i=[n,r],_(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},a.$$arity=2),t.defn(n,"$use_dsl",o=function(){var e=this;return l(e.$name()["$nil_or_empty?"]())?l((t.Module.$$nesting=s,e.$constants()).$grep("DSL"))?e.$include(e.$const_get("DSL")):$:l((t.Module.$$nesting=s,e.$constants()).$grep("DSL"))?e.$extend(e.$const_get("DSL")):$},o.$$arity=0),t.alias(n,"extend_dsl","use_dsl"),t.alias(n,"include_dsl","use_dsl")}(t.get_singleton_class(m),b),m.$attr_reader("config"),t.defn(m,"$initialize",o=function(t){var e=this;return null==t&&(t=c([],{})),e.config=e.$class().$config().$merge(t)},o.$$arity=-1),t.defn(m,"$update_config",u=function(t){return this.config.$update(t)},u.$$arity=1),t.defn(m,"$process",d=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return r.$raise(t.const_get_qualified("::","NotImplementedError"))},d.$$arity=-1),t.defn(m,"$create_block",f=function(e,n,r,i,a){return null==a&&(a=c([],{})),t.const_get_relative(b,"Block").$new(e,n,c(["source","attributes"],{source:r,attributes:i}).$merge(a))},f.$$arity=-5),t.defn(m,"$create_image_block",p=function(t,e,n){var r=this;return null==n&&(n=c([],{})),r.$create_block(t,"image",$,e,n)},p.$$arity=-3),t.defn(m,"$create_inline",h=function(e,n,r,i){return null==i&&(i=c([],{})),t.const_get_relative(b,"Inline").$new(e,n,r,i)},h.$$arity=-4),t.defn(m,"$parse_content",g=function(e,n,r){var i=$,a=$;for(null==r&&(r=$),i=l(t.const_get_relative(b,"Reader")["$==="](n))?n:t.const_get_relative(b,"Reader").$new(n);l(i["$has_more_lines?"]());)a=t.const_get_relative(b,"Parser").$next_block(i,e,l(r)?r.$dup():c([],{})),l(a)&&e["$<<"](a);return e},g.$$arity=-3),_([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(v=function(e,n,r){var i,a=v.$$s||this;return null==e&&(e=$),null==n&&(n=$),null==r&&(r=$),_(a,"define_method",[e],(i=function(e){var a,$=i.$$s||this,o=arguments.length,s=o-0;s<0&&(s=0),a=new Array(s);for(var l=0;l<o;l++)a[l-0]=arguments[l];return _($,"send",[n].concat(t.to_a(a.$dup().$insert(1,r))))},i.$$s=a,i.$$arity=-1,i))},v.$$s=m,v.$$arity=3,v))}(g[0],0,g),function(n,r){var i,a,s,c,u=i=o(n,"ProcessorDsl");u.$$proto,[u].concat(r);t.defn(u,"$option",a=function(n,r){var i=$;return i=[n,r],_(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},a.$$arity=2),t.defn(u,"$process",s=function(e){var n,r=this,i=s.$$p,a=i||$;null==r.process_block&&(r.process_block=$);var o=arguments.length,c=o-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<o;u++)n[u-0]=arguments[u];return i&&(s.$$p=null),a!==$?r.process_block=a:l(r.process_block)?_(r.process_block,"call",t.to_a(n)):r.$raise(t.const_get_qualified("::","NotImplementedError"))},s.$$arity=-1),t.defn(u,"$process_block_given?",c=function(){var t;return null!=(t=this.process_block)&&t!==$?"instance-variable":$},c.$$arity=0)}(g[0],g),function(e,n,r){function i(){}var a,$=i=s(e,n,"Preprocessor",i);$.$$proto,[$].concat(r);t.defn($,"$process",a=function(e,n){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},a.$$arity=2)}(g[0],t.const_get_relative(g,"Processor"),g),t.const_set(t.const_get_relative(g,"Preprocessor"),"DSL",t.const_get_relative(g,"ProcessorDsl")),function(e,n,r){function i(){}var a,$=i=s(e,n,"Treeprocessor",i);$.$$proto,[$].concat(r);t.defn($,"$process",a=function(e){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},a.$$arity=1)}(g[0],t.const_get_relative(g,"Processor"),g),t.const_set(t.const_get_relative(g,"Treeprocessor"),"DSL",t.const_get_relative(g,"ProcessorDsl")),function(e,n,r){function i(){}var a,$=i=s(e,n,"Postprocessor",i);$.$$proto,[$].concat(r);t.defn($,"$process",a=function(e,n){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},a.$$arity=2)}(g[0],t.const_get_relative(g,"Processor"),g),t.const_set(t.const_get_relative(g,"Postprocessor"),"DSL",t.const_get_relative(g,"ProcessorDsl")),function(e,n,r){function i(){}var a,$,o=i=s(e,n,"IncludeProcessor",i);o.$$proto,[o].concat(r);t.defn(o,"$process",a=function(e,n,r,i){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},a.$$arity=4),t.defn(o,"$handles?",$=function(t){return!0},$.$$arity=1)}(g[0],t.const_get_relative(g,"Processor"),g),t.const_set(t.const_get_relative(g,"IncludeProcessor"),"DSL",t.const_get_relative(g,"ProcessorDsl")),function(n,r,i){function a(){}var o,u,d=a=s(n,r,"DocinfoProcessor",a),f=d.$$proto;[d].concat(i);f.config=$,d.$attr_accessor("location"),t.defn(d,"$initialize",o=function(n){var r,i=this,a=o.$$p,s=$;return null==n&&(n=c([],{})),a&&(o.$$p=null),_(i,t.find_super_dispatcher(i,"initialize",o,!1),[n],null),l(r=i.config["$[]"]("location"))?r:(s=["location","head"],_(i.config,"[]=",t.to_a(s)),s[e(s.length,1)])},o.$$arity=-1),t.defn(d,"$process",u=function(e){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},u.$$arity=1)}(g[0],t.const_get_relative(g,"Processor"),g),function(e,n){var r,i,a=r=o(e,"DocinfoProcessorDsl"),$=(a.$$proto,[a].concat(n));a.$include(t.const_get_relative($,"ProcessorDsl")),t.defn(a,"$at_location",i=function(t){return this.$option("location",t)},i.$$arity=1)}(g[0],g),t.const_set(t.const_get_relative(g,"DocinfoProcessor"),"DSL",t.const_get_relative(g,"DocinfoProcessorDsl")),function(n,r,i){function a(){}var o,u,d=a=s(n,r,"BlockProcessor",a),f=d.$$proto;[d].concat(i);f.config=$,d.$attr_accessor("name"),t.defn(d,"$initialize",o=function(n,r){var i,a=this,s=o.$$p,u=$,d=$;return null==n&&(n=$),null==r&&(r=c([],{})),s&&(o.$$p=null),_(a,t.find_super_dispatcher(a,"initialize",o,!1),[r],null),a.name=l(i=n)?i:a.config["$[]"]("name"),u=a.config["$[]"]("contexts"),t.const_get_qualified("::","NilClass")["$==="](u)?l(i=a.config["$[]"]("contexts"))||(d=["contexts",["open","paragraph"].$to_set()],_(a.config,"[]=",t.to_a(d)),d[e(d.length,1)]):t.const_get_qualified("::","Symbol")["$==="](u)?(d=["contexts",[a.config["$[]"]("contexts")].$to_set()],_(a.config,"[]=",t.to_a(d)),d[e(d.length,1)]):(d=["contexts",a.config["$[]"]("contexts").$to_set()],_(a.config,"[]=",t.to_a(d)),d[e(d.length,1)]),l(i=a.config["$[]"]("content_model"))?i:(d=["content_model","compound"],_(a.config,"[]=",t.to_a(d)),d[e(d.length,1)])},o.$$arity=-1),t.defn(d,"$process",u=function(e,n,r){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},u.$$arity=3)}(g[0],t.const_get_relative(g,"Processor"),g),function(e,n){var r,i,a,$,s,c,_=r=o(e,"BlockProcessorDsl"),u=(_.$$proto,[_].concat(n));_.$include(t.const_get_relative(u,"ProcessorDsl")),t.defn(_,"$named",i=function(e){var n=this;return l(t.const_get_relative(u,"Processor")["$==="](n))?n.name=e:n.$option("name",e)},i.$$arity=1),t.alias(_,"match_name","named"),t.alias(_,"bind_to","named"),t.defn(_,"$contexts",a=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return n.$option("contexts",e.$flatten())},a.$$arity=-1),t.alias(_,"on_contexts","contexts"),t.alias(_,"on_context","contexts"),t.defn(_,"$content_model",$=function(t){return this.$option("content_model",t)},$.$$arity=1),t.alias(_,"parse_content_as","content_model"),t.defn(_,"$positional_attributes",s=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return n.$option("pos_attrs",e.$flatten())},s.$$arity=-1),t.alias(_,"pos_attrs","positional_attributes"),t.alias(_,"name_attributes","positional_attributes"),t.alias(_,"name_positional_attributes","positional_attributes"),t.defn(_,"$default_attrs",c=function(t){return this.$option("default_attrs",t)},c.$$arity=1),t.alias(_,"seed_attributes_with","default_attrs")}(g[0],g),t.const_set(t.const_get_relative(g,"BlockProcessor"),"DSL",t.const_get_relative(g,"BlockProcessorDsl")),function(n,r,i){function a(){}var o,u,d=a=s(n,r,"MacroProcessor",a),f=d.$$proto;[d].concat(i);f.config=$,d.$attr_accessor("name"),t.defn(d,"$initialize",o=function(n,r){var i,a=this,s=o.$$p,u=$;return null==n&&(n=$),null==r&&(r=c([],{})),s&&(o.$$p=null),_(a,t.find_super_dispatcher(a,"initialize",o,!1),[r],null),a.name=l(i=n)?i:a.config["$[]"]("name"),l(i=a.config["$[]"]("content_model"))?i:(u=["content_model","attributes"],_(a.config,"[]=",t.to_a(u)),u[e(u.length,1)])},o.$$arity=-1),t.defn(d,"$process",u=function(e,n,r){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},u.$$arity=3)}(g[0],t.const_get_relative(g,"Processor"),g),function(e,n){var r,i,a,$,s,c=r=o(e,"MacroProcessorDsl"),_=(c.$$proto,[c].concat(n));c.$include(t.const_get_relative(_,"ProcessorDsl")),t.defn(c,"$named",i=function(e){var n=this;return l(t.const_get_relative(_,"Processor")["$==="](n))?n.name=e:n.$option("name",e)},i.$$arity=1),t.alias(c,"match_name","named"),t.alias(c,"bind_to","named"),t.defn(c,"$content_model",a=function(t){return this.$option("content_model",t)},a.$$arity=1),t.alias(c,"parse_content_as","content_model"),t.defn(c,"$positional_attributes",$=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return n.$option("pos_attrs",e.$flatten())},$.$$arity=-1),t.alias(c,"pos_attrs","positional_attributes"),t.alias(c,"name_attributes","positional_attributes"),t.alias(c,"name_positional_attributes","positional_attributes"),t.defn(c,"$default_attrs",s=function(t){return this.$option("default_attrs",t)},s.$$arity=1),t.alias(c,"seed_attributes_with","default_attrs")}(g[0],g),function(t,e,n){function r(){}var i=r=s(t,e,"BlockMacroProcessor",r);i.$$proto,[i].concat(n)}(g[0],t.const_get_relative(g,"MacroProcessor"),g),t.const_set(t.const_get_relative(g,"BlockMacroProcessor"),"DSL",t.const_get_relative(g,"MacroProcessorDsl")),function(n,r,i){function a(){}var o,c,u=a=s(n,r,"InlineMacroProcessor",a),d=u.$$proto;[u].concat(i);d.config=d.name=$,t.defn(u,"$regexp",o=function(){var n,r=this,i=$;return l(n=r.config["$[]"]("regexp"))?n:(i=["regexp",r.$resolve_regexp(r.name,r.config["$[]"]("format"))],_(r.config,"[]=",t.to_a(i)),i[e(i.length,1)])},o.$$arity=0),t.defn(u,"$resolve_regexp",c=function(t,e){return e["$=="]("short")?new RegExp("\\\\?"+t+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+t+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},c.$$arity=2)}(g[0],t.const_get_relative(g,"MacroProcessor"),g),function(e,n){var r,i,a,$=r=o(e,"InlineMacroProcessorDsl"),s=($.$$proto,[$].concat(n));$.$include(t.const_get_relative(s,"MacroProcessorDsl")),t.defn($,"$using_format",i=function(t){return this.$option("format",t)},i.$$arity=1),t.defn($,"$match",a=function(t){return this.$option("regexp",t)},a.$$arity=1)}(g[0],g),t.const_set(t.const_get_relative(g,"InlineMacroProcessor"),"DSL",t.const_get_relative(g,"InlineMacroProcessorDsl")),function(e,n,r){function i(){}var a,$=i=s(e,null,"Extension",i);$.$$proto,[$].concat(r);$.$attr("kind"),$.$attr("config"),$.$attr("instance"),t.defn($,"$initialize",a=function(t,e,n){var r=this;return r.kind=t,r.instance=e,r.config=n},a.$$arity=3)}(g[0],0,g),function(e,n,r){function i(){}var a,o=i=s(e,n,"ProcessorExtension",i);o.$$proto,[o].concat(r);o.$attr("process_method"),t.defn(o,"$initialize",a=function(e,n,r){var i,o=this,s=a.$$p;return null==r&&(r=$),s&&(a.$$p=null),_(o,t.find_super_dispatcher(o,"initialize",a,!1),[e,n,n.$config()],null),o.process_method=l(i=r)?i:n.$method("process")},a.$$arity=-3)}(g[0],t.const_get_relative(g,"Extension"),g),function(e,n,r){function i(){}var a,o=i=s(e,null,"Group",i),l=(o.$$proto,[o].concat(r));(function(e,n){e.$$proto;var r,i=[e].concat(n);t.defn(e,"$register",r=function(e){var n=this;return null==e&&(e=$),t.const_get_relative(i,"Extensions").$register(e,n)},r.$$arity=-1)})(t.get_singleton_class(o),l),t.defn(o,"$activate",a=function(e){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},a.$$arity=1)}(g[0],0,g),function(a,o,d){function f(){}var p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X=f=s(a,null,"Registry",f),V=X.$$proto,J=[X].concat(d);V.groups=V.preprocessor_extensions=V.treeprocessor_extensions=V.postprocessor_extensions=V.include_processor_extensions=V.docinfo_processor_extensions=V.block_extensions=V.block_macro_extensions=V.inline_macro_extensions=$,X.$attr_reader("document"),X.$attr_reader("groups"),t.defn(X,"$initialize",p=function(t){var e=this;return null==t&&(t=c([],{})),e.groups=t,e.preprocessor_extensions=e.treeprocessor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=$,e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=$,e.document=$},p.$$arity=-1),t.defn(X,"$activate",h=function(e){var r,i=this;return i.document=e,_(n(t.const_get_relative(J,"Extensions").$groups().$values(),i.groups.$values()),"each",[],(r=function(e){var n=r.$$s||this,i=$;return null==e&&(e=$),i=e,t.const_get_qualified("::","Proc")["$==="](i)?(i=e.$arity(),(0)["$==="](i)||(-1)["$==="](i)?_(n,"instance_exec",[],e.$to_proc()):1["$==="](i)?e.$call(n):$):t.const_get_qualified("::","Class")["$==="](i)?e.$new().$activate(n):e.$activate(n)},r.$$s=i,r.$$arity=1,r)),i},h.$$arity=1),t.defn(X,"$preprocessor",g=function(t){var e,n=this,r=g.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(g.$$p=null),_(n,"add_document_processor",["preprocessor",e],i.$to_proc())},g.$$arity=-1),t.defn(X,"$preprocessors?",v=function(){return this.preprocessor_extensions["$!"]()["$!"]()},v.$$arity=0),t.defn(X,"$preprocessors",m=function(){return this.preprocessor_extensions},m.$$arity=0),t.defn(X,"$treeprocessor",y=function(t){var e,n=this,r=y.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(y.$$p=null),_(n,"add_document_processor",["treeprocessor",e],i.$to_proc())},y.$$arity=-1),t.defn(X,"$treeprocessors?",b=function(){return this.treeprocessor_extensions["$!"]()["$!"]()},b.$$arity=0),t.defn(X,"$treeprocessors",w=function(){return this.treeprocessor_extensions},w.$$arity=0),t.defn(X,"$postprocessor",k=function(t){var e,n=this,r=k.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(k.$$p=null),_(n,"add_document_processor",["postprocessor",e],i.$to_proc())},k.$$arity=-1),t.defn(X,"$postprocessors?",x=function(){return this.postprocessor_extensions["$!"]()["$!"]()},x.$$arity=0),t.defn(X,"$postprocessors",E=function(){return this.postprocessor_extensions},E.$$arity=0),t.defn(X,"$include_processor",O=function(t){var e,n=this,r=O.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(O.$$p=null),_(n,"add_document_processor",["include_processor",e],i.$to_proc())},O.$$arity=-1),t.defn(X,"$include_processors?",A=function(){return this.include_processor_extensions["$!"]()["$!"]()},A.$$arity=0),t.defn(X,"$include_processors",S=function(){return this.include_processor_extensions},S.$$arity=0),t.defn(X,"$docinfo_processor",R=function(t){var e,n=this,r=R.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(R.$$p=null),_(n,"add_document_processor",["docinfo_processor",e],i.$to_proc())},R.$$arity=-1),t.defn(X,"$docinfo_processors?",M=function(t){var e,n=this;return null==t&&(t=$),!!l(n.docinfo_processor_extensions)&&(!l(t)||_(n.docinfo_processor_extensions,"any?",[],(e=function(n){e.$$s;return null==n&&(n=$),n.$config()["$[]"]("location")["$=="](t)},e.$$s=n,e.$$arity=1,e)))},M.$$arity=-1),t.defn(X,"$docinfo_processors",T=function(t){var e,n=this;return null==t&&(t=$),l(n.docinfo_processor_extensions)?l(t)?_(n.docinfo_processor_extensions,"select",[],(e=function(n){e.$$s;return null==n&&(n=$),n.$config()["$[]"]("location")["$=="](t)},e.$$s=n,e.$$arity=1,e)):n.docinfo_processor_extensions:$},T.$$arity=-1),t.defn(X,"$block",I=function(t){var e,n=this,r=I.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(I.$$p=null),_(n,"add_syntax_processor",["block",e],i.$to_proc())},I.$$arity=-1),t.defn(X,"$blocks?",C=function(){return this.block_extensions["$!"]()["$!"]()},C.$$arity=0),t.defn(X,"$registered_for_block?",q=function(t,e){var n=$;return!!l(n=this.block_extensions["$[]"](t.$to_sym()))&&(!!l(n.$config()["$[]"]("contexts")["$include?"](e))&&n)},q.$$arity=2),t.defn(X,"$find_block_extension",N=function(t){return this.block_extensions["$[]"](t.$to_sym())},N.$$arity=1),t.defn(X,"$block_macro",L=function(t){var e,n=this,r=L.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(L.$$p=null),_(n,"add_syntax_processor",["block_macro",e],i.$to_proc())},L.$$arity=-1),t.defn(X,"$block_macros?",z=function(){return this.block_macro_extensions["$!"]()["$!"]()},z.$$arity=0),t.defn(X,"$registered_for_block_macro?",P=function(t){var e=$;return!!l(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},P.$$arity=1),t.defn(X,"$find_block_macro_extension",D=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},D.$$arity=1),t.defn(X,"$inline_macro",B=function(t){var e,n=this,r=B.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(B.$$p=null),_(n,"add_syntax_processor",["inline_macro",e],i.$to_proc())},B.$$arity=-1),t.defn(X,"$inline_macros?",j=function(){return this.inline_macro_extensions["$!"]()["$!"]()},j.$$arity=0),t.defn(X,"$registered_for_inline_macro?",F=function(t){var e=$;return!!l(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},F.$$arity=1),t.defn(X,"$find_inline_macro_extension",U=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},U.$$arity=1),t.defn(X,"$inline_macros",G=function(){return this.inline_macro_extensions.$values()},G.$$arity=0),X.$private(),t.defn(X,"$add_document_processor",H=function(e,n){var i,a,o,s=this,c=H.$$p,d=c||$,f=$,p=$,h=$,g=$,v=$,m=$,y=$,b=$,w=$;return c&&(H.$$p=null),f=e.$to_s().$tr("_"," "),p=_(f.$split(" "),"map",[],(i=function(t){i.$$s;return null==t&&(t=$),""+t.$chr().$upcase()+t["$[]"](u(1,-1,!1))},i.$$s=s,i.$$arity=1,i)).$join().$to_sym(),h=t.const_get_relative(J,"Extensions").$const_get(p),g=l(t.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":$)?t.const_get_qualified(t.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(p):$,v=l(a=s.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?a:s.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),(m=d!==$?(y=s.$resolve_args(n,1),b=h.$new(y),l(h.$constants().$grep("DSL"))&&b.$extend(h.$const_get("DSL")),_(b,"instance_exec",[],d.$to_proc()),b.$freeze(),l(b["$process_block_given?"]())||s.$raise(t.const_get_qualified("::","ArgumentError").$new("No block specified to process "+f+" extension at "+d.$source_location())),t.const_get_relative(J,"ProcessorExtension").$new(e,b)):(o=s.$resolve_args(n,2),a=t.to_ary(o),b=null==a[0]?$:a[0],y=null==a[1]?$:a[1],l(l(a=t.const_get_qualified("::","Class")["$==="](b))?a:l(o=t.const_get_qualified("::","String")["$==="](b))?b=t.const_get_relative(J,"Extensions").$class_for_name(b):o)?(l(l(a=r(b,h))?a:l(o=g)?r(b,g):o)||s.$raise(t.const_get_qualified("::","ArgumentError").$new("Invalid type for "+f+" extension: "+b)),(w=b.$new(y)).$freeze(),t.const_get_relative(J,"ProcessorExtension").$new(e,w)):l(l(a=h["$==="](b))?a:l(o=g)?g["$==="](b):o)?(b.$update_config(y),b.$freeze(),t.const_get_relative(J,"ProcessorExtension").$new(e,b)):s.$raise(t.const_get_qualified("::","ArgumentError").$new("Invalid arguments specified for registering "+f+" extension: "+n)))).$config()["$[]"]("position")["$=="](">>")?v.$unshift(m):v["$<<"](m)},H.$$arity=2),t.defn(X,"$add_syntax_processor",Y=function(n,i){var a,o,s,d=this,f=Y.$$p,p=f||$,h=$,g=$,v=$,m=$,y=$,b=$,w=$,k=$,x=$,E=$,O=$;return f&&(Y.$$p=null),h=n.$to_s().$tr("_"," "),g=_(h.$split(" "),"map",[],(a=function(t){a.$$s;return null==t&&(t=$),""+t.$chr().$upcase()+t["$[]"](u(1,-1,!1))},a.$$s=d,a.$$arity=1,a)).$join(),v=(g+"Processor").$to_sym(),m=t.const_get_relative(J,"Extensions").$const_get(v),y=l(t.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":$)?t.const_get_qualified(t.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(v):$,b=l(o=d.$instance_variable_get(("@"+n+"_extensions").$to_sym()))?o:d.$instance_variable_set(("@"+n+"_extensions").$to_sym(),c([],{})),p!==$?(s=d.$resolve_args(i,2),o=t.to_ary(s),w=null==o[0]?$:o[0],k=null==o[1]?$:o[1],x=m.$new(d.$as_symbol(w),k),l(m.$constants().$grep("DSL"))&&x.$extend(m.$const_get("DSL")),p.$arity()["$=="](1)?t.yield1(p,x):_(x,"instance_exec",[],p.$to_proc()),l(w=d.$as_symbol(x.$name()))||d.$raise(t.const_get_qualified("::","ArgumentError").$new("No name specified for "+h+" extension at "+p.$source_location())),l(x["$process_block_given?"]())||d.$raise(t.const_get_qualified("::","NoMethodError").$new("No block specified to process "+h+" extension at "+p.$source_location())),x.$freeze(),E=[w,t.const_get_relative(J,"ProcessorExtension").$new(n,x)],_(b,"[]=",t.to_a(E)),E[e(E.length,1)]):(s=d.$resolve_args(i,3),o=t.to_ary(s),x=null==o[0]?$:o[0],w=null==o[1]?$:o[1],k=null==o[2]?$:o[2],l(l(o=t.const_get_qualified("::","Class")["$==="](x))?o:l(s=t.const_get_qualified("::","String")["$==="](x))?x=t.const_get_relative(J,"Extensions").$class_for_name(x):s)?(l(l(o=r(x,m))?o:l(s=y)?r(x,y):s)||d.$raise(t.const_get_qualified("::","ArgumentError").$new("Class specified for "+h+" extension does not inherit from "+m+": "+x)),O=x.$new(d.$as_symbol(w),k),l(w=d.$as_symbol(O.$name()))||d.$raise(t.const_get_qualified("::","ArgumentError").$new("No name specified for "+h+" extension: "+x)),x.$freeze(),E=[w,t.const_get_relative(J,"ProcessorExtension").$new(n,O)],_(b,"[]=",t.to_a(E)),E[e(E.length,1)]):l(l(o=m["$==="](x))?o:l(s=y)?y["$==="](x):s)?(x.$update_config(k),l(w=l(w)?(E=[d.$as_symbol(w)],_(x,"name=",t.to_a(E)),E[e(E.length,1)]):d.$as_symbol(x.$name()))||d.$raise(t.const_get_qualified("::","ArgumentError").$new("No name specified for "+h+" extension: "+x)),x.$freeze(),E=[w,t.const_get_relative(J,"ProcessorExtension").$new(n,x)],_(b,"[]=",t.to_a(E)),E[e(E.length,1)]):d.$raise(t.const_get_qualified("::","ArgumentError").$new("Invalid arguments specified for registering "+h+" extension: "+i)))},Y.$$arity=2),t.defn(X,"$resolve_args",K=function(n,a){var o=$,s=$,_=$;return o=l(t.const_get_qualified("::","Hash")["$==="](n["$[]"](-1)))?n.$pop():c([],{}),a["$=="](1)?o:(s=n.$size(),l(i(_=e(e(a,1),s),0))?n.$fill($,s,_):l(r(_,0))&&n.$pop(_["$-@"]()),n["$<<"](o),n)},K.$$arity=2),t.defn(X,"$as_symbol",W=function(t){return l(t)?t.$to_sym():$},W.$$arity=1)}(g[0],0,g),function(r,i){r.$$proto;var a,o,s,u,f,p,h,g,v=[r].concat(i);t.defn(r,"$generate_name",a=function(){return"extgrp"+this.$next_auto_id()},a.$$arity=0),t.defn(r,"$next_auto_id",o=function(){var t,e=this;return null==e.auto_id&&(e.auto_id=$),e.auto_id=l(t=e.auto_id)?t:-1,e.auto_id=n(e.auto_id,1)},o.$$arity=0),t.defn(r,"$groups",s=function(){var t,e=this;return null==e.groups&&(e.groups=$),e.groups=l(t=e.groups)?t:c([],{})},s.$$arity=0),t.defn(r,"$build_registry",u=function(e){var n,r=this,i=u.$$p,a=i||$;return null==e&&(e=$),i&&(u.$$p=null),a!==$?(e=l(n=e)?n:r.$generate_name(),t.const_get_relative(v,"Registry").$new(d(e,a))):t.const_get_relative(v,"Registry").$new()},u.$$arity=-1),t.defn(r,"$register",f=function(n){var r,i,a=this,o=f.$$p,s=o||$,c=$,u=$,d=$,p=$,h=$,g=$,v=arguments.length,m=v-0;m<0&&(m=0),i=new Array(m);for(var y=0;y<v;y++)i[y-0]=arguments[y];return o&&(f.$$p=null),c=i.$length(),u=s!==$?s:l((d=i.$pop())["$!"]())?a.$raise(t.const_get_qualified("::","ArgumentError").$new("Extension group to register not specified")):(p=d,t.const_get_qualified("::","Class")["$==="](p)?d:t.const_get_qualified("::","String")["$==="](p)?a.$class_for_name(d):t.const_get_qualified("::","Symbol")["$==="](p)?a.$class_for_name(d.$to_s()):d),h=l(r=i.$pop())?r:a.$generate_name(),l(i["$empty?"]())||a.$raise(t.const_get_qualified("::","ArgumentError").$new("Wrong number of arguments ("+c+" for 1..2)")),g=[h,u],_(a.$groups(),"[]=",t.to_a(g)),g[e(g.length,1)]},f.$$arity=-1),t.defn(r,"$unregister_all",p=function(){return this.groups=c([],{})},p.$$arity=0),t.defn(r,"$resolve_class",h=function(e){var n=this;return l(t.const_get_qualified("::","Class")["$==="](e))?e:n.$class_for_name(e.$to_s())},h.$$arity=1),t.defn(r,"$class_for_name",g=function(e){var n,r=this,i=$;return i=t.const_get_qualified("::","Object"),_(e.$split("::"),"each",[],(n=function(t){var r=n.$$s||this;return null==t&&(t=$),l(t["$empty?"]())?$:l(i["$const_defined?"](t))?i=i.$const_get(t):r.$raise("Could not resolve class for name: "+e)},n.$$s=r,n.$$arity=1,n)),i},g.$$arity=1)}(t.get_singleton_class(h),g)}(g[0],g)}(a[0],a)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions")},Opal.modules["asciidoctor/opal_ext"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js"),e.$require("asciidoctor/converter"),e.$require("asciidoctor/js/postscript")},Opal.modules["asciidoctor/version"]=function(t){t.top;var e=[],n=(t.nil,t.breaker,t.slice,t.module);return function(e,r){var i,a=i=n(e,"Asciidoctor"),$=(a.$$proto,[a].concat(r));t.const_set($[0],"VERSION","1.5.5")}(e[0],e)},Opal.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var i=[],a=t.nil,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.hash2,l=t.send,c=t.truthy,_=t.gvars;return t.add_stubs(["$now","$[]=","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),function(i,u){var d,f=d=$(i,"Asciidoctor"),p=(f.$$proto,[f].concat(u));!function(i,$,u){function d(){}var f,p,h,g,v,m,y,b,w=d=o(i,null,"Timings",d),k=w.$$proto;[w].concat(u);k.timers=k.log=a,t.defn(w,"$initialize",f=function(){var t=this;return t.log=s([],{}),t.timers=s([],{})},f.$$arity=0),t.defn(w,"$start",p=function(n){var r=this,i=a;return i=[n,t.const_get_qualified("::","Time").$now()],l(r.timers,"[]=",t.to_a(i)),i[e(i.length,1)]},p.$$arity=1),t.defn(w,"$record",h=function(n){var r=this,i=a;return i=[n,e(t.const_get_qualified("::","Time").$now(),r.timers.$delete(n))],l(r.log,"[]=",t.to_a(i)),i[e(i.length,1)]},h.$$arity=1),t.defn(w,"$read_parse",g=function(){var t,e=this,i=a;return c(n(i=r(c(t=e.log["$[]"]("read"))?t:0,c(t=e.log["$[]"]("parse"))?t:0),0))?i:a},g.$$arity=0),t.defn(w,"$convert",v=function(){var t;return c(t=this.log["$[]"]("convert"))?t:0},v.$$arity=0),t.defn(w,"$read_parse_convert",m=function(){var t,e=this,i=a;return c(n(i=r(r(c(t=e.log["$[]"]("read"))?t:0,c(t=e.log["$[]"]("parse"))?t:0),c(t=e.log["$[]"]("convert"))?t:0),0))?i:a},m.$$arity=0),t.defn(w,"$total",y=function(){var t,e=this,i=a;return c(n(i=r(r(r(c(t=e.log["$[]"]("read"))?t:0,c(t=e.log["$[]"]("parse"))?t:0),c(t=e.log["$[]"]("convert"))?t:0),c(t=e.log["$[]"]("write"))?t:0),0))?i:a},y.$$arity=0),t.defn(w,"$print_report",b=function(t,e){var n=this;return null==_.stdout&&(_.stdout=a),null==t&&(t=_.stdout),null==e&&(e=a),c(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](n.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](n.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](n.$read_parse_convert().$to_f()))},b.$$arity=-1)}(p[0],0,p)}(i[0],i)},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,n,a){function $(){}var o=$=r(e,null,"NilClass",$);o.$$proto,[o].concat(a);i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","nil?")}(e[0],0,e),function(e,n,a){function $(){}var o=$=r(e,null,"String",$);o.$$proto,[o].concat(a);i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(e[0],0,e),function(e,n,a){function $(){}var o=$=r(e,null,"Array",$);o.$$proto,[o].concat(a);i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(e[0],0,e),function(e,n,a){function $(){}var o=$=r(e,null,"Hash",$);o.$$proto,[o].concat(a);i(o["$method_defined?"]("nil_or_empty?"))||t.alias(o,"nil_or_empty?","empty?")}(e[0],0,e),function(e,a,$){function o(){}var s=o=r(e,null,"Numeric",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?n:t.alias(s,"nil_or_empty?","nil?")}(e[0],0,e)},Opal.modules["asciidoctor/core_ext/string/limit"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],i=t.nil,a=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(r,o,s){function l(){}var c,_=l=a(r,null,"String",l);_.$$proto,[_].concat(s);return $(_["$method_defined?"]("limit"))?i:(t.defn(_,"$limit",c=function(r){var a=this,o=i;if(!$(e(r,a.$bytesize())))return a;for(;!$((o=a.$byteslice(0,r)).$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)r=n(r,1);return o},c.$$arity=1),i&&"limit")}(r[0],0,r)},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.truthy);return t.add_stubs(["$require","$!="]),e.$require("asciidoctor/core_ext/nil_or_empty"),i(t.const_get_relative(n,"RUBY_MIN_VERSION_1_9"))?e.$require("asciidoctor/core_ext/string/limit"):(i(t.const_get_relative(n,"RUBY_ENGINE")["$!="]("opal")),r)},Opal.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.module),a=t.truthy,$=t.range,o=t.send,s=t.gvars;return t.add_stubs(["$require","$==","$===","$fail","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$to_a","$bytes","$[]","$map","$lines","$encode","$force_encoding","$join","$rstrip","$[]=","$-","$encoding","$nil_or_empty?","$each_line","$include?","$=~","$gsub","$each_byte","$sprintf","$extname","$-@","$length","$basename","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),function(n,l){var c,_=c=i(n,"Asciidoctor"),u=(_.$$proto,[_].concat(l));!function(n,l){var c,_,u,d,f,p,h,g,v,m,y,b=c=i(n,"Helpers"),w=(b.$$proto,[b].concat(l));t.defs(b,"$require_library",_=function(e,n,i){var $=this,o=r,s=r;null==n&&(n=!0),null==i&&(i="abort");try{return $.$require(e)}catch(l){if(!t.rescue(l,[t.const_get_qualified("::","LoadError")]))throw l;o=l;try{return a(n)?(n["$=="](!0)&&(n=e),s=i,"abort"["$==="](s)?$.$fail("asciidoctor: FAILED: required gem '"+n+"' is not installed. Processing aborted."):"warn"["$==="](s)?$.$warn("asciidoctor: WARNING: optional gem '"+n+"' is not installed. Functionality disabled."):r):(s=i,"abort"["$==="](s)?$.$fail("asciidoctor: FAILED: "+o.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](s)?$.$warn("asciidoctor: WARNING: "+o.$message().$chomp(".")+". Functionality disabled."):r)}finally{t.pop_exception()}}},_.$$arity=-2),t.defs(b,"$normalize_lines",u=function(e){var n=this;return e.$class()["$=="](t.const_get_qualified("::","String"))?n.$normalize_lines_from_string(e):n.$normalize_lines_array(e)},u.$$arity=1),t.defs(b,"$normalize_lines_array",d=function(n){var i,s,l,c,_=this,u=r,d=r,f=r,p=r,h=r;return a(n["$empty?"]())?[]:(u=(d=n["$[]"](0))["$[]"]($(0,2,!1)).$bytes().$to_a(),a(t.const_get_relative(w,"COERCE_ENCODING"))?(f=t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8"),(p=u["$[]"]($(0,1,!1)))["$=="](t.const_get_relative(w,"BOM_BYTES_UTF_16LE"))?o(n.$join().$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"]($(1,-1,!1)).$encode(f).$lines(),"map",[],(i=function(t){i.$$s;return null==t&&(t=r),t.$rstrip()},i.$$s=_,i.$$arity=1,i)):p["$=="](t.const_get_relative(w,"BOM_BYTES_UTF_16BE"))?(h=[0,d.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"]($(1,-1,!1))],o(n,"[]=",t.to_a(h)),h[e(h.length,1)],o(n,"map",[],(s=function(e){s.$$s;return null==e&&(e=r),""+e.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16BE")).$encode(f).$rstrip()},s.$$s=_,s.$$arity=1,s))):(u["$[]"]($(0,2,!1))["$=="](t.const_get_relative(w,"BOM_BYTES_UTF_8"))&&(h=[0,d.$force_encoding(f)["$[]"]($(1,-1,!1))],o(n,"[]=",t.to_a(h)),h[e(h.length,1)]),o(n,"map",[],(l=function(t){l.$$s;return null==t&&(t=r),t.$encoding()["$=="](f)?t.$rstrip():t.$force_encoding(f).$rstrip()},l.$$s=_,l.$$arity=1,l)))):(u["$=="](t.const_get_relative(w,"BOM_BYTES_UTF_8"))&&(h=[0,d["$[]"]($(3,-1,!1))],o(n,"[]=",t.to_a(h)),h[e(h.length,1)]),o(n,"map",[],(c=function(t){c.$$s;return null==t&&(t=r),t.$rstrip()},c.$$s=_,c.$$arity=1,c))))},d.$$arity=1),t.defs(b,"$normalize_lines_from_string",f=function(e){var n,i=this,s=r,l=r,c=r;return a(e["$nil_or_empty?"]())?[]:(a(t.const_get_relative(w,"COERCE_ENCODING"))?(s=t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8"),(c=(l=e["$[]"]($(0,2,!1)).$bytes().$to_a())["$[]"]($(0,1,!1)))["$=="](t.const_get_relative(w,"BOM_BYTES_UTF_16LE"))?e=e.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"]($(1,-1,!1)).$encode(s):c["$=="](t.const_get_relative(w,"BOM_BYTES_UTF_16BE"))?e=e.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"]($(1,-1,!1)).$encode(s):l["$[]"]($(0,2,!1))["$=="](t.const_get_relative(w,"BOM_BYTES_UTF_8"))?e=e.$encoding()["$=="](s)?e["$[]"]($(1,-1,!1)):e.$force_encoding(s)["$[]"]($(1,-1,!1)):e.$encoding()["$=="](s)||(e=e.$force_encoding(s))):e["$[]"]($(0,2,!1)).$bytes().$to_a()["$=="](t.const_get_relative(w,"BOM_BYTES_UTF_8"))&&(e=e["$[]"]($(3,-1,!1))),o(e.$each_line(),"map",[],(n=function(t){n.$$s;return null==t&&(t=r),t.$rstrip()},n.$$s=i,n.$$arity=1,n)))},f.$$arity=1),t.defs(b,"$uriish?",p=function(e){var n;return a(n=e["$include?"](":"))?e["$=~"](t.const_get_relative(w,"UriSniffRx")):n},p.$$arity=1),t.defs(b,"$uri_prefix",h=function(e){var n;return a(a(n=e["$include?"](":"))?e["$=~"](t.const_get_relative(w,"UriSniffRx")):n)?(n=s["~"])===r?r:n["$[]"](0):r},h.$$arity=1),t.const_set(w[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),t.defs(b,"$encode_uri",g=function(e){var n,i=this;return o(e,"gsub",[t.const_get_relative(w,"REGEXP_ENCODE_URI_CHARS")],(n=function(){var t,e,i=n.$$s||this;return o(((t=s["~"])===r?r:t["$[]"](0)).$each_byte(),"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=r),n.$sprintf("%%%02X",t)},e.$$s=i,e.$$arity=1,e)).$join()},n.$$s=i,n.$$arity=0,n))},g.$$arity=1),t.defs(b,"$rootname",v=function(e){var n=r;return a((n=t.const_get_qualified("::","File").$extname(e))["$empty?"]())?e:e["$[]"](t.Range.$new(0,n.$length()["$-@"](),!0))},v.$$arity=1),t.defs(b,"$basename",m=function(e,n){return null==n&&(n=!1),a(n)?t.const_get_qualified("::","File").$basename(e,t.const_get_qualified("::","File").$extname(e)):t.const_get_qualified("::","File").$basename(e)},m.$$arity=-2),t.defs(b,"$mkdir_p",y=function(e){var n,i=this,$=r;return a(t.const_get_qualified("::","File")["$directory?"](e))?r:($=t.const_get_qualified("::","File").$dirname(e),a(a(n=t.const_get_qualified("::","File")["$directory?"]($=t.const_get_qualified("::","File").$dirname(e))["$!"]())?$["$!="]("."):n)&&i.$mkdir_p($),t.const_get_qualified("::","Dir").$mkdir(e))},y.$$arity=1)}(u[0],u)}(n[0],n)},Opal.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var a=[],$=t.nil,o=(t.breaker,t.slice),s=t.module,l=t.hash2,c=t.truthy,_=t.send,u=t.gvars,d=t.range;return t.add_stubs(["$join","$keys","$[]","$+","$attr_reader","$!","$==","$===","$each","$has_key?","$<<","$empty?","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$nil_or_empty?","$size","$unescape_brackets","$resolve_pass_subs","$[]=","$-","$>","$end_with?","$parse_attributes","$start_with?","$to_sym","$attributes","$document","$basebackend?","$to_i","$convert","$new","$clear","$convert_quoted_text","$do_replacement","$tr","$length","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$unescape_bracketed_text","$inject","$strip","$map","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$config","$process_method","$register","$basename","$split_simple_csv","$normalize_string","$!=","$!~","$delete","$chop","$attr?","$sub","$chomp","$encode_uri","$sub_inline_xrefs","$sub_inline_anchors","$find","$references","$id","$index","$text","$rootname","$key","$escape","$attr","$read_next_id","$callouts","$push","$parse_quoted_text_attributes","$shorthand_property_syntax","$shift","$concat","$parse_into","$parse","$each_char","$=~","$chr","$dup","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$to_a","$uniq","$sort","$option?","$resolve_block_subs"]),function(a,f){var p,h=p=s(a,"Asciidoctor"),g=(h.$$proto,[h].concat(f));!function(a,f){var p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y=p=s(a,"Substitutors"),K=(Y.$$proto,[Y].concat(f));t.const_set(K[0],"SPECIAL_CHARS",l(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"})),t.const_set(K[0],"SPECIAL_CHARS_PATTERN",new RegExp("["+t.const_get_relative(K,"SPECIAL_CHARS").$keys().$join()+"]")),t.const_set(K[0],"SUBS",l(["basic","normal","verbatim","title","header","pass"],{basic:["specialcharacters"],normal:["specialcharacters","quotes","attributes","replacements","macros","post_replacements"],verbatim:["specialcharacters","callouts"],title:["specialcharacters","quotes","replacements","macros","attributes","post_replacements"],header:["specialcharacters","attributes"],pass:[]})),t.const_set(K[0],"COMPOSITE_SUBS",l(["none","normal","verbatim","specialchars"],{none:[],normal:t.const_get_relative(K,"SUBS")["$[]"]("normal"),verbatim:t.const_get_relative(K,"SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]})),t.const_set(K[0],"SUB_SYMBOLS",l(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(K[0],"SUB_OPTIONS",l(["block","inline"],{block:e(e(t.const_get_relative(K,"COMPOSITE_SUBS").$keys(),t.const_get_relative(K,"SUBS")["$[]"]("normal")),["callouts"]),inline:e(t.const_get_relative(K,"COMPOSITE_SUBS").$keys(),t.const_get_relative(K,"SUBS")["$[]"]("normal"))})),t.const_set(K[0],"SUB_HIGHLIGHT",["coderay","pygments"]),t.const_set(K[0],"PASS_START",""),t.const_set(K[0],"PASS_END",""),t.const_set(K[0],"PASS_MATCH",/\u0096(\d+)\u0097/),t.const_set(K[0],"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/),Y.$attr_reader("passthroughs"),t.defn(Y,"$apply_subs",h=function(r,i,a){var o,s,l,u=this,d=$,f=$,p=$,h=$;return null==u.passthroughs&&(u.passthroughs=$),null==i&&(i="normal"),null==a&&(a=!1),c(i["$!"]())?r:(i["$=="]("normal")?i=t.const_get_relative(K,"SUBS")["$[]"]("normal"):c(a)&&(c(t.const_get_qualified("::","Symbol")["$==="](i))?i=c(o=t.const_get_relative(K,"COMPOSITE_SUBS")["$[]"](i))?o:[i]:(d=[],_(i,"each",[],(s=function(n){s.$$s;return null==n&&(n=$),c(t.const_get_relative(K,"COMPOSITE_SUBS")["$has_key?"](n))?d=e(d,t.const_get_relative(K,"COMPOSITE_SUBS")["$[]"](n)):d["$<<"](n)},s.$$s=u,s.$$arity=1,s)),i=d)),c(i["$empty?"]())?r:(f=c(p=t.const_get_qualified("::","Array")["$==="](r))?n(r,t.const_get_relative(K,"EOL")):r,c(h=i["$include?"]("macros"))&&(f=u.$extract_passthroughs(f),c(u.passthroughs["$empty?"]())&&(h=!1)),_(i,"each",[],(l=function(e){var r=l.$$s||this,a=$;return null==e&&(e=$),a=e,"specialcharacters"["$==="](a)?f=r.$sub_specialchars(f):"quotes"["$==="](a)?f=r.$sub_quotes(f):"attributes"["$==="](a)?f=n(r.$sub_attributes(f.$split(t.const_get_relative(K,"EOL"))),t.const_get_relative(K,"EOL")):"replacements"["$==="](a)?f=r.$sub_replacements(f):"macros"["$==="](a)?f=r.$sub_macros(f):"highlight"["$==="](a)?f=r.$highlight_source(f,i["$include?"]("callouts")):"callouts"["$==="](a)?c(i["$include?"]("highlight"))?$:f=r.$sub_callouts(f):"post_replacements"["$==="](a)?f=r.$sub_post_replacements(f):r.$warn("asciidoctor: WARNING: unknown substitution type "+e)},l.$$s=u,l.$$arity=1,l)),c(h)&&(f=u.$restore_passthroughs(f)),c(p)?f.$split(t.const_get_relative(K,"EOL")):f))},h.$$arity=-2),t.defn(Y,"$apply_normal_subs",g=function(e){return this.$apply_subs(c(t.const_get_qualified("::","Array")["$==="](e))?n(e,t.const_get_relative(K,"EOL")):e)},g.$$arity=1),t.defn(Y,"$apply_title_subs",v=function(e){return this.$apply_subs(e,t.const_get_relative(K,"SUBS")["$[]"]("title"))},v.$$arity=1),t.defn(Y,"$apply_header_subs",m=function(e){return this.$apply_subs(e,t.const_get_relative(K,"SUBS")["$[]"]("header"))},m.$$arity=1),t.defn(Y,"$extract_passthroughs",y=function(e){var a,o,s,f,p,h=this,g=$,v=$,m=$,y=$;return null==h.document&&(h.document=$),g=h.document.$compat_mode(),c(c(a=c(o=e["$include?"]("++"))?o:e["$include?"]("$$"))?a:e["$include?"]("ss:"))&&(e=_(e,"gsub",[t.const_get_relative(K,"PassInlineMacroRx")],(s=function(){var e,a=s.$$s||this,o=$,f=$,p=$,h=$,v=$,m=$,y=$,b=$,w=$,k=$;if(null==a.passthroughs&&(a.passthroughs=$),null==u["~"]&&(u["~"]=$),o=u["~"],f=$,c((p=o["$[]"](4))["$nil_or_empty?"]())){if(o["$[]"](6)["$=="]("\\"))return o["$[]"](0)["$[]"](d(1,-1,!1));h=[v=a.passthroughs.$size(),l(["text","subs"],{text:a.$unescape_brackets(o["$[]"](8)),subs:c(o["$[]"](7)["$nil_or_empty?"]())?[]:a.$resolve_pass_subs(o["$[]"](7))})],_(a.passthroughs,"[]=",t.to_a(h)),h[r(h.length,1)]}else{if(c(c(e=g)?p["$=="]("++"):e))return c(o["$[]"](2)["$nil_or_empty?"]())?""+o["$[]"](1)+o["$[]"](3)+"++"+a.$extract_passthroughs(o["$[]"](5))+"++":o["$[]"](1)+"["+o["$[]"](2)+"]"+o["$[]"](3)+"++"+a.$extract_passthroughs(o["$[]"](5))+"++";if(m=o["$[]"](2),c(t.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&m["$=="]("")&&(m=$),y=o["$[]"](3).$size(),b=o["$[]"](5),w=!1,c(m)){if(c(i(y,0)))return o["$[]"](1)+"["+m+"]"+n("\\",r(y,1))+p+o["$[]"](5)+p+")";o["$[]"](1)["$=="]("\\")?(f="["+m+"]",m=$):(c((e=p["$=="]("++"))?m["$end_with?"]("x-"):p["$=="]("++"))&&(w=!0,m=m["$[]"](d(0,-2,!0))),m=a.$parse_attributes(m))}else if(c(i(y,0)))return o["$[]"](1)+"["+m+"]"+n("\\",r(y,1))+p+o["$[]"](5)+p;k=p["$=="]("+++")?[]:["specialcharacters"],v=a.passthroughs.$size(),c(m)?c(w)?(h=[v,l(["text","subs","type","attributes"],{text:b,subs:t.const_get_relative(K,"SUBS")["$[]"]("normal"),type:"monospaced",attributes:m})],_(a.passthroughs,"[]=",t.to_a(h)),h[r(h.length,1)]):(h=[v,l(["text","subs","type","attributes"],{text:b,subs:k,type:"unquoted",attributes:m})],_(a.passthroughs,"[]=",t.to_a(h)),h[r(h.length,1)]):(h=[v,l(["text","subs"],{text:b,subs:k})],_(a.passthroughs,"[]=",t.to_a(h)),h[r(h.length,1)])}return""+f+t.const_get_relative(K,"PASS_START")+v+t.const_get_relative(K,"PASS_END")},s.$$s=h,s.$$arity=0,s))),o=t.const_get_relative(K,"PassInlineRx")["$[]"](g),a=t.to_ary(o),v=null==a[0]?$:a[0],m=null==a[1]?$:a[1],y=null==a[2]?$:a[2],c(c(a=e["$include?"](v))?a:c(o=m)?e["$include?"](m):o)&&(e=_(e,"gsub",[y],(f=function(){var e,n=f.$$s||this,i=$,a=$,o=$,s=$,p=$,h=$,v=$,m=$,y=$,b=$;if(null==n.passthroughs&&(n.passthroughs=$),null==u["~"]&&(u["~"]=$),i=u["~"],a=i["$[]"](1),o=i["$[]"](2),s=c(i["$[]"](3)["$start_with?"]("\\"))?"\\":$,p=i["$[]"](4),h=i["$[]"](5),c(t.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&o["$=="]("")&&(o=$),c(g)?v=!0:c(v=c(e=o)?o["$end_with?"]("x-"):e)&&(o=o["$[]"](d(0,-2,!0))),c(o)){if(c((e=p["$=="]("`"))?v["$!"]():p["$=="]("`")))return a+"["+o+"]"+s+"`"+n.$extract_passthroughs(h)+"`";if(c(s))return a+"["+o+"]"+i["$[]"](3)["$[]"](d(1,-1,!1));a["$=="]("\\")?(a="["+o+"]",o=$):o=n.$parse_attributes(o)}else{if(c((e=p["$=="]("`"))?v["$!"]():p["$=="]("`")))return""+a+s+"`"+n.$extract_passthroughs(h)+"`";if(c(s))return""+a+i["$[]"](3)["$[]"](d(1,-1,!1))}return m=n.passthroughs.$size(),c(g)?(y=[m,l(["text","subs","attributes","type"],{text:h,subs:["specialcharacters"],attributes:o,type:"monospaced"})],_(n.passthroughs,"[]=",t.to_a(y)),y[r(y.length,1)]):c(o)?c(v)?(b=p["$=="]("`")?["specialcharacters"]:t.const_get_relative(K,"SUBS")["$[]"]("normal"),y=[m,l(["text","subs","attributes","type"],{text:h,subs:b,attributes:o,type:"monospaced"})],_(n.passthroughs,"[]=",t.to_a(y)),y[r(y.length,1)]):(y=[m,l(["text","subs","attributes","type"],{text:h,subs:["specialcharacters"],attributes:o,type:"unquoted"})],_(n.passthroughs,"[]=",t.to_a(y)),y[r(y.length,1)]):(y=[m,l(["text","subs"],{text:h,subs:["specialcharacters"]})],_(n.passthroughs,"[]=",t.to_a(y)),y[r(y.length,1)]),""+a+t.const_get_relative(K,"PASS_START")+m+t.const_get_relative(K,"PASS_END")},f.$$s=h,f.$$arity=0,f))),c(c(a=e["$include?"](":"))?c(o=e["$include?"]("stem:"))?o:e["$include?"]("math:"):a)&&(e=_(e,"gsub",[t.const_get_relative(K,"StemInlineMacroRx")],(p=function(){var e=p.$$s||this,n=$,i=$,a=$,o=$,s=$,f=$,h=$;return null==e.document&&(e.document=$),null==e.passthroughs&&(e.passthroughs=$),null==u["~"]&&(u["~"]=$),n=u["~"],c(n["$[]"](0)["$start_with?"]("\\"))?n["$[]"](0)["$[]"](d(1,-1,!1)):((i=n["$[]"](1).$to_sym())["$=="]("stem")&&(i=(c((a=e.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":a).$to_sym()),o=e.$unescape_brackets(n["$[]"](3)),s=c(n["$[]"](2)["$nil_or_empty?"]())?c(e.document["$basebackend?"]("html"))?["specialcharacters"]:[]:e.$resolve_pass_subs(n["$[]"](2)),f=[h=e.passthroughs.$size(),l(["text","subs","type"],{text:o,subs:s,type:i})],_(e.passthroughs,"[]=",t.to_a(f)),r(f.length,1),""+t.const_get_relative(K,"PASS_START")+h+t.const_get_relative(K,"PASS_END"))},p.$$s=h,p.$$arity=0,p))),e},y.$$arity=1),t.defn(Y,"$restore_passthroughs",b=function(e,n){var r,i,a,o=this;return null==o.passthroughs&&(o.passthroughs=$),null==n&&(n=!0),function(){try{return c(c(r=n)?c(i=o.passthroughs["$empty?"]())?i:e["$include?"](t.const_get_relative(K,"PASS_START"))["$!"]():r)?e:_(e,"gsub",[t.const_get_relative(K,"PASS_MATCH")],(a=function(){var e=a.$$s||this,n=$,r=$,i=$,o=$;return null==e.passthroughs&&(e.passthroughs=$),null==u["~"]&&(u["~"]=$),n=e.passthroughs["$[]"](u["~"]["$[]"](1).$to_i()),r=c(i=n["$[]"]("subs"))?e.$apply_subs(n["$[]"]("text"),i):n["$[]"]("text"),c(o=n["$[]"]("type"))&&(r=t.const_get_relative(K,"Inline").$new(e,"quoted",r,l(["type","attributes"],{type:o,attributes:n["$[]"]("attributes")})).$convert()),c(r["$include?"](t.const_get_relative(K,"PASS_START")))?e.$restore_passthroughs(r,!1):r},a.$$s=o,a.$$arity=0,a))}finally{c(n)&&o.passthroughs.$clear()}}()},b.$$arity=-2),t.defn(Y,"$sub_specialchars",w=function(e){var n,r=this;return c(t.const_get_relative(K,"SUPPORTS_GSUB_RESULT_HASH"))?e.$gsub(t.const_get_relative(K,"SPECIAL_CHARS_PATTERN"),t.const_get_relative(K,"SPECIAL_CHARS")):_(e,"gsub",[t.const_get_relative(K,"SPECIAL_CHARS_PATTERN")],(n=function(){var e;n.$$s;return t.const_get_relative(K,"SPECIAL_CHARS")["$[]"]((e=u["~"])===$?$:e["$[]"](0))},n.$$s=r,n.$$arity=0,n))},w.$$arity=1),t.alias(Y,"sub_specialcharacters","sub_specialchars"),t.const_get_relative(K,"RUBY_ENGINE")["$=="]("opal")&&(t.defn(Y,"$sub_quotes",k=function(e){var n,r=this;return null==r.document&&(r.document=$),_(t.const_get_relative(K,"QUOTE_SUBS")["$[]"](r.document.$compat_mode()),"each",[],(n=function(t,r,i){var a,o=n.$$s||this;return null==t&&(t=$),null==r&&(r=$),null==i&&(i=$),e=_(e,"gsub",[i],(a=function(){var e=a.$$s||this;return null==u["~"]&&(u["~"]=$),e.$convert_quoted_text(u["~"],t,r)},a.$$s=o,a.$$arity=0,a))},n.$$s=r,n.$$arity=3,n)),e},k.$$arity=1),t.defn(Y,"$sub_replacements",x=function(e){var n,r=this;return _(t.const_get_relative(K,"REPLACEMENTS"),"each",[],(n=function(t,r,i){var a,o=n.$$s||this;return null==t&&(t=$),null==r&&(r=$),null==i&&(i=$),e=_(e,"gsub",[t],(a=function(){var t=a.$$s||this;return null==u["~"]&&(u["~"]=$),t.$do_replacement(u["~"],r,i)},a.$$s=o,a.$$arity=0,a))},n.$$s=r,n.$$arity=3,n)),e},x.$$arity=1)),t.defn(Y,"$do_replacement",E=function(t,e,n){var r=$,i=$;return c((r=t["$[]"](0))["$include?"]("\\"))?r.$tr("\\",""):(i=n,"none"["$==="](i)?e:"leading"["$==="](i)?""+t["$[]"](1)+e:"bounding"["$==="](i)?""+t["$[]"](1)+e+t["$[]"](2):$)},E.$$arity=3),t.defn(Y,"$sub_attributes",O=function(r,i){var a,o=this,s=$,d=$,f=$,p=$;return null==o.document&&(o.document=$),null==i&&(i=l([],{})),c(r["$nil_or_empty?"]())?r:(c(s=t.const_get_qualified("::","String")["$==="](r))&&(r=[r]),d=o.document.$attributes(),f=$,p=[],function(){var n=t.new_brk();try{_(r,"each",[],(a=function(n){var r,o,s,l=a.$$s||this,h=$,g=$;return null==n&&(n=$),h=!1,g=!1,c(n["$include?"]("{"))&&(n=function(){var a=t.new_brk();try{return _(n,"gsub",[t.const_get_relative(K,"AttributeReferenceRx")],(r=function(){var n,o,s,l=r.$$s||this,_=$,p=$,v=$,m=$,y=$,b=$,w=$,k=$,x=$;return null==l.document&&(l.document=$),null==u["~"]&&(u["~"]=$),_=u["~"],c(c(n=_["$[]"](1)["$=="]("\\"))?n:_["$[]"](4)["$=="]("\\"))?"{"+_["$[]"](2)+"}":c(_["$[]"](3)["$nil_or_empty?"]()["$!"]())?(p=e((v=_["$[]"](3)).$length(),1),m=_["$[]"](2)["$[]"](t.Range.$new(p,-1,!1)),y=v,"set"["$==="](y)?(b=m.$split(":"),o=t.const_get_relative(K,"Parser").$store_attribute(b["$[]"](0),c(s=b["$[]"](1))?s:"",l.document),n=t.to_ary(o),null==n[0]?$:n[0],w=null==n[1]?$:n[1],c(w)||d.$fetch("attribute-undefined",t.const_get_relative(K,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(h=!0,t.brk("",a)),g=!0,""):"counter"["$==="](y)||"counter2"["$==="](y)?(b=m.$split(":"),k=l.document.$counter(b["$[]"](0),b["$[]"](1)),v["$=="]("counter2")?(g=!0,""):k):(l.$warn("asciidoctor: WARNING: illegal attribute directive: "+_["$[]"](3)),_["$[]"](0))):c(d["$key?"](x=_["$[]"](2).$downcase()))?d["$[]"](x):c(t.const_get_relative(K,"INTRINSIC_ATTRIBUTES")["$key?"](x))?t.const_get_relative(K,"INTRINSIC_ATTRIBUTES")["$[]"](x):(y=f=c(n=f)?n:c(o=i["$[]"]("attribute_missing"))?o:d.$fetch("attribute-missing",t.const_get_relative(K,"Compliance").$attribute_missing()),"skip"["$==="](y)?_["$[]"](0):"drop-line"["$==="](y)?(l.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+x),h=!0,void t.brk("",a)):"warn"["$==="](y)?(l.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+x),_["$[]"](0)):(g=!0,""))},r.$$s=l,r.$$brk=a,r.$$arity=0,r))}catch(t){if(t===a)return t.$v;throw t}}()),c(c(o=h)?o:c(s=g)?n["$empty?"]():s)?$:p["$<<"](n)},a.$$s=o,a.$$brk=n,a.$$arity=1,a))}catch(t){if(t===n)return t.$v;throw t}}(),c(s)?n(p,t.const_get_relative(K,"EOL")):p)},O.$$arity=-2),t.defn(Y,"$sub_macros",A=function(e){var n,i,a,s,f,p,h,g,v,m,y,b,w=this,k=$,x=$,E=$,O=$,A=$,S=$,R=$;return null==w.document&&(w.document=$),c(e["$nil_or_empty?"]())?e:(k=l([],{}),x=["square_bracket",e["$include?"]("[")],_(k,"[]=",t.to_a(x)),x[r(x.length,1)],x=["round_bracket",e["$include?"]("(")],_(k,"[]=",t.to_a(x)),x[r(x.length,1)],x=["colon",E=e["$include?"](":")],_(k,"[]=",t.to_a(x)),x[r(x.length,1)],x=["macroish",c(n=k["$[]"]("square_bracket"))?E:n],_(k,"[]=",t.to_a(x)),x[r(x.length,1)],x=["macroish_short_form",c(n=c(i=k["$[]"]("square_bracket"))?E:i)?e["$include?"](":["):n],_(k,"[]=",t.to_a(x)),x[r(x.length,1)],O=w.document.$attributes()["$has_key?"]("linkattrs"),A=w.document.$attributes()["$has_key?"]("experimental"),S=""+e,c(A)&&(c(c(n=k["$[]"]("macroish_short_form"))?c(i=S["$include?"]("kbd:"))?i:S["$include?"]("btn:"):n)&&(S=_(S,"gsub",[t.const_get_relative(K,"KbdBtnInlineMacroRx")],(a=function(){var e,n=a.$$s||this,r=$,i=$,o=$,s=$;return null==u["~"]&&(u["~"]=$),r=u["~"],c((i=r["$[]"](0))["$start_with?"]("\\"))?i["$[]"](d(1,-1,!1)):c(i["$start_with?"]("kbd"))?(o=n.$unescape_bracketed_text(r["$[]"](1)),o=o["$=="]("+")?["+"]:_(o.$split(t.const_get_relative(K,"KbdDelimiterRx")),"inject",[[]],(e=function(t,n){e.$$s;return null==t&&(t=$),null==n&&(n=$),c(n["$end_with?"]("++"))?(t["$<<"](n["$[]"](d(0,-3,!1)).$strip()),t["$<<"]("+")):t["$<<"](n.$strip()),t},e.$$s=n,e.$$arity=2,e)),t.const_get_relative(K,"Inline").$new(n,"kbd",$,l(["attributes"],{attributes:l(["keys"],{keys:o})})).$convert()):c(i["$start_with?"]("btn"))?(s=n.$unescape_bracketed_text(r["$[]"](1)),t.const_get_relative(K,"Inline").$new(n,"button",s).$convert()):$},a.$$s=w,a.$$arity=0,a))),c(c(n=k["$[]"]("macroish"))?S["$include?"]("menu:"):n)&&(S=_(S,"gsub",[t.const_get_relative(K,"MenuInlineMacroRx")],(s=function(){var e,n=s.$$s||this,r=$,i=$,a=$,o=$,f=$,p=$,h=$;return null==u["~"]&&(u["~"]=$),r=u["~"],c((i=r["$[]"](0))["$start_with?"]("\\"))?i["$[]"](d(1,-1,!1)):(a=r["$[]"](1),o=r["$[]"](2),c(o["$!"]())?(f=[],p=$):c(h=c(o["$include?"]("&gt;"))?"&gt;":c(o["$include?"](","))?",":$)?p=(f=_(o.$split(h),"map",[],(e=function(t){e.$$s;return null==t&&(t=$),t.$strip()},e.$$s=n,e.$$arity=1,e))).$pop():(f=[],p=o.$rstrip()),t.const_get_relative(K,"Inline").$new(n,"menu",$,l(["attributes"],{attributes:l(["menu","submenus","menuitem"],{menu:a,submenus:f,menuitem:p})})).$convert())},s.$$s=w,s.$$arity=0,s))),c(c(n=S["$include?"]('"'))?S["$include?"]("&gt;"):n)&&(S=_(S,"gsub",[t.const_get_relative(K,"MenuInlineRx")],(f=function(){var e,n,r,i=f.$$s||this,a=$,s=$,p=$,h=$,g=$,v=$;return null==u["~"]&&(u["~"]=$),a=u["~"],c((s=a["$[]"](0))["$start_with?"]("\\"))?s["$[]"](d(1,-1,!1)):(p=a["$[]"](1),n=_(p.$split("&gt;"),"map",[],(r=function(t){r.$$s;return null==t&&(t=$),t.$strip()},r.$$s=i,r.$$arity=1,r)),e=t.to_ary(n),h=null==e[0]?$:e[0],g=o.call(e,1),v=g.$pop(),t.const_get_relative(K,"Inline").$new(i,"menu",$,l(["attributes"],{attributes:l(["menu","submenus","menuitem"],{menu:h,submenus:g,menuitem:v})})).$convert())},f.$$s=w,f.$$arity=0,f)))),c(c(n=R=w.document.$extensions())?R["$inline_macros?"]():n)&&_(R.$inline_macros(),"each",[],(p=function(t){var e,n=p.$$s||this;return null==t&&(t=$),S=_(S,"gsub",[t.$instance().$regexp()],(e=function(){var n,r=e.$$s||this,i=$,a=$,o=$;return null==u["~"]&&(u["~"]=$),i=u["~"],c(i["$[]"](0)["$start_with?"]("\\"))?i["$[]"](0)["$[]"](d(1,-1,!1)):(a=i["$[]"](1),o=t.$config()["$[]"]("format")["$=="]("short")?l([],{}):t.$config()["$[]"]("content_model")["$=="]("attributes")?r.$parse_attributes(i["$[]"](2),c(n=t.$config()["$[]"]("pos_attrs"))?n:[],l(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):l(["text"],{text:r.$unescape_bracketed_text(i["$[]"](2))}),t.$process_method()["$[]"](r,a,o))},e.$$s=n,e.$$arity=0,e))},p.$$s=w,p.$$arity=1,p)),c(c(n=k["$[]"]("macroish"))?c(i=S["$include?"]("image:"))?i:S["$include?"]("icon:"):n)&&(S=_(S,"gsub",[t.const_get_relative(K,"ImageInlineMacroRx")],(h=function(){var e=h.$$s||this,n=$,i=$,a=$,o=$,s=$,f=$;return null==e.document&&(e.document=$),null==u["~"]&&(u["~"]=$),n=u["~"],c(n["$[]"](0)["$start_with?"]("\\"))?n["$[]"](0)["$[]"](d(1,-1,!1)):(i=e.$unescape_bracketed_text(n["$[]"](2)),c(n["$[]"](0)["$start_with?"]("icon:"))?(a="icon",o=["size"]):(a="image",o=["alt","width","height"]),s=e.$sub_attributes(n["$[]"](1)),a["$=="]("icon")||e.document.$register("images",s),f=e.$parse_attributes(i,o),c(f["$[]"]("alt"))||(x=["alt",t.const_get_relative(K,"Helpers").$basename(s,!0).$tr("_-"," ")],_(f,"[]=",t.to_a(x)),x[r(x.length,1)]),t.const_get_relative(K,"Inline").$new(e,"image",$,l(["type","target","attributes"],{type:a,target:s,attributes:f})).$convert())},h.$$s=w,h.$$arity=0,h))),c(c(n=k["$[]"]("macroish_short_form"))?n:k["$[]"]("round_bracket"))&&(S=_(S,"gsub",[t.const_get_relative(K,"IndextermInlineMacroRx")],(g=function(){var e,n=g.$$s||this,i=$,a=$,o=$,s=$,f=$,p=$;return null==n.document&&(n.document=$),null==u["~"]&&(u["~"]=$),i=u["~"],c(i["$[]"](0)["$start_with?"]("\\"))?i["$[]"](0)["$[]"](d(1,-1,!1)):(c(t.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&i["$[]"](1)["$=="]("")&&(x=[1,$],_(i,"[]=",t.to_a(x)),x[r(x.length,1)]),a=0,o=$,c(s=i["$[]"](1))||(o=i["$[]"](3),c(c(e=o["$start_with?"]("("))?o["$end_with?"](")"):e)?(o=o["$[]"](d(1,-1,!0)),a=3):a=2),c(c(e=s["$=="]("indexterm"))?e:a["$=="](3))?(f=c(s["$!"]())?n.$split_simple_csv(n.$normalize_string(o)):n.$split_simple_csv(n.$normalize_string(i["$[]"](2),!0)),n.document.$register("indexterms",[].concat(t.to_a(f))),t.const_get_relative(K,"Inline").$new(n,"indexterm",$,l(["attributes"],{attributes:l(["terms"],{terms:f})})).$convert()):(p=c(s["$!"]())?n.$normalize_string(o):n.$normalize_string(i["$[]"](2),!0),n.document.$register("indexterms",[p]),t.const_get_relative(K,"Inline").$new(n,"indexterm",p,l(["type"],{type:"visible"})).$convert()))},g.$$s=w,g.$$arity=0,g))),c(c(n=E)?S["$include?"]("://"):n)&&(S=_(S,"gsub",[t.const_get_relative(K,"LinkInlineRx")],(v=function(){var e,n,i,a=v.$$s||this,o=$,s=$,f=$,p=$,h=$,g=$,m=$,y=$;return null==a.document&&(a.document=$),null==u["~"]&&(u["~"]=$),o=u["~"],c(o["$[]"](2)["$start_with?"]("\\"))?""+o["$[]"](1)+o["$[]"](2)["$[]"](d(1,-1,!1))+o["$[]"](3):(c(t.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&o["$[]"](3)["$=="]("")&&(x=[3,$],_(o,"[]=",t.to_a(x)),x[r(x.length,1)]),c((e=o["$[]"](1)["$=="]("link:"))?o["$[]"](3)["$!"]():o["$[]"](1)["$=="]("link:"))?o["$[]"](0):(s=c(o["$[]"](1)["$!="]("link:"))?o["$[]"](1):"",f=o["$[]"](2),p="",c(c(e=o["$[]"](3))?e:f["$!~"](t.const_get_relative(K,"UriTerminator")))||(h=u["~"]["$[]"](0),")"["$==="](h)?(f=f["$[]"](d(0,-2,!1)),p=")"):";"["$==="](h)?c(c(e=s["$start_with?"]("&lt;"))?f["$end_with?"]("&gt;"):e)?(s=s["$[]"](d(4,-1,!1)),f=f["$[]"](d(0,-5,!1))):c(f["$end_with?"](");"))?(f=f["$[]"](d(0,-3,!1)),p=");"):(f=f["$[]"](d(0,-2,!1)),p=";"):":"["$==="](h)&&(c(f["$end_with?"]("):"))?(f=f["$[]"](d(0,-3,!1)),p="):"):(f=f["$[]"](d(0,-2,!1)),p=":"))),a.document.$register("links",f),g=l(["type","target"],{type:"link",target:f}),m=$,c(o["$[]"](3)["$nil_or_empty?"]())?y="":(c(c(e=O)?c(n=o["$[]"](3)["$start_with?"]('"'))?n:c(i=o["$[]"](3)["$include?"](","))?o["$[]"](3)["$include?"]("="):i:e)?(m=a.$parse_attributes(a.$sub_attributes(o["$[]"](3).$gsub("\\]","]")),[]),c(m["$has_key?"]("id"))&&(x=["id",m.$delete("id")],_(g,"[]=",t.to_a(x)),x[r(x.length,1)]),y=c(e=m["$[]"](1))?e:""):y=a.$sub_attributes(o["$[]"](3).$gsub("\\]","]")),c(y["$end_with?"]("^"))&&(y=y.$chop(),c(m)?c(e=m["$[]"]("window"))||(x=["window","_blank"],_(m,"[]=",t.to_a(x)),x[r(x.length,1)]):m=l(["window"],{window:"_blank"}))),c(y["$empty?"]())&&(y=c(a.document["$attr?"]("hide-uri-scheme"))?f.$sub(t.const_get_relative(K,"UriSniffRx"),""):f,c(m)?(x=["role",("bare "+m["$[]"]("role")).$chomp(" ")],_(m,"[]=",t.to_a(x)),x[r(x.length,1)]):m=l(["role"],{role:"bare"})),c(m)&&(x=["attributes",m],_(g,"[]=",t.to_a(x)),x[r(x.length,1)]),""+s+t.const_get_relative(K,"Inline").$new(a,"anchor",y,g).$convert()+p))},v.$$s=w,v.$$arity=0,v))),c(c(n=c(i=k["$[]"]("macroish"))?S["$include?"]("link:"):i)?n:S["$include?"]("mailto:"))&&(S=_(S,"gsub",[t.const_get_relative(K,"LinkInlineMacroRx")],(m=function(){var e,n,i=m.$$s||this,a=$,o=$,s=$,f=$,p=$,h=$,g=$;return null==i.document&&(i.document=$),null==u["~"]&&(u["~"]=$),a=u["~"],c(a["$[]"](0)["$start_with?"]("\\"))?a["$[]"](0)["$[]"](d(1,-1,!1)):(o=a["$[]"](1),s=a["$[]"](0)["$start_with?"]("mailto:"),f=c(s)?"mailto:"+o:o,p=l(["type","target"],{type:"link",target:f}),h=$,g=c(c(e=O)?c(n=a["$[]"](2)["$start_with?"]('"'))?n:a["$[]"](2)["$include?"](","):e)?(h=i.$parse_attributes(i.$sub_attributes(a["$[]"](2).$gsub("\\]","]")),[]),c(h["$key?"]("id"))&&(x=["id",h.$delete("id")],_(p,"[]=",t.to_a(x)),x[r(x.length,1)]),c(s)&&c(h["$key?"](2))&&(x=["target",f+"?subject="+t.const_get_relative(K,"Helpers").$encode_uri(h["$[]"](2))],_(p,"[]=",t.to_a(x)),f=x[r(x.length,1)],c(h["$key?"](3))&&(x=["target",f+"&amp;body="+t.const_get_relative(K,"Helpers").$encode_uri(h["$[]"](3))],_(p,"[]=",t.to_a(x)),f=x[r(x.length,1)])),h["$[]"](1)):i.$sub_attributes(a["$[]"](2).$gsub("\\]","]")),i.document.$register("links",f),c(g["$end_with?"]("^"))&&(g=g.$chop(),c(h)?c(e=h["$[]"]("window"))||(x=["window","_blank"],_(h,"[]=",t.to_a(x)),x[r(x.length,1)]):h=l(["window"],{window:"_blank"})),c(g["$empty?"]())&&(c(s)?g=o:(g=c(i.document["$attr?"]("hide-uri-scheme"))?o.$sub(t.const_get_relative(K,"UriSniffRx"),""):o,c(h)?(x=["role",("bare "+h["$[]"]("role")).$chomp(" ")],_(h,"[]=",t.to_a(x)),x[r(x.length,1)]):h=l(["role"],{role:"bare"}))),c(h)&&(x=["attributes",h],_(p,"[]=",t.to_a(x)),x[r(x.length,1)]),t.const_get_relative(K,"Inline").$new(i,"anchor",g,p).$convert())},m.$$s=w,m.$$arity=0,m))),c(S["$include?"]("@"))&&(S=_(S,"gsub",[t.const_get_relative(K,"EmailInlineMacroRx")],(y=function(){var e=y.$$s||this,n=$,r=$,i=$,a=$,o=$;return null==e.document&&(e.document=$),null==u["~"]&&(u["~"]=$),n=u["~"],r=n["$[]"](0),c(i=n["$[]"](1))?(a=i,"\\"["$==="](a)?r["$[]"](d(1,-1,!1)):r):(o="mailto:"+r,e.document.$register("links",o),t.const_get_relative(K,"Inline").$new(e,"anchor",r,l(["type","target"],{type:"link",target:o})).$convert())},y.$$s=w,y.$$arity=0,y))),c(c(n=k["$[]"]("macroish_short_form"))?S["$include?"]("footnote"):n)&&(S=_(S,"gsub",[t.const_get_relative(K,"FootnoteInlineMacroRx")],(b=function(){var e,n,r,i=b.$$s||this,a=$,o=$,s=$,f=$,p=$,h=$,g=$;return null==i.document&&(i.document=$),null==u["~"]&&(u["~"]=$),a=u["~"],c(a["$[]"](0)["$start_with?"]("\\"))?a["$[]"](0)["$[]"](d(1,-1,!1)):(a["$[]"](1)["$=="]("footnote")?(o=$,s=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(a["$[]"](2),!0))),!1),f=i.document.$counter("footnote-number"),i.document.$register("footnotes",t.const_get_qualified(t.const_get_relative(K,"Document"),"Footnote").$new(f,o,s)),p=$,h=$):(n=a["$[]"](2).$split(",",2),e=t.to_ary(n),o=null==e[0]?$:e[0],s=null==e[1]?$:e[1],o=o.$strip(),c(s["$nil_or_empty?"]())?(c(g=_(i.document.$references()["$[]"]("footnotes"),"find",[],(r=function(t){r.$$s;return null==t&&(t=$),t.$id()["$=="](o)},r.$$s=i,r.$$arity=1,r)))?(f=g.$index(),s=g.$text()):(f=$,s=o),h=o,o=$,p="xref"):(s=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(s,!0))),!1),f=i.document.$counter("footnote-number"),i.document.$register("footnotes",t.const_get_qualified(t.const_get_relative(K,"Document"),"Footnote").$new(f,o,s)),p="ref",h=$)),t.const_get_relative(K,"Inline").$new(i,"footnote",s,l(["attributes","id","target","type"],{attributes:l(["index"],{index:f}),id:o,target:h,type:p})).$convert())},b.$$s=w,b.$$arity=0,b))),w.$sub_inline_xrefs(w.$sub_inline_anchors(S,k),k))},A.$$arity=1),t.defn(Y,"$sub_inline_anchors",S=function(e,n){var i,a,o,s,f,p=this;return null==n&&(n=$),c(c(i=c(a=n["$!"]())?a:n["$[]"]("square_bracket"))?e["$include?"]("[[["):i)&&(e=_(e,"gsub",[t.const_get_relative(K,"InlineBiblioAnchorRx")],(o=function(){var e=o.$$s||this,n=$,r=$,i=$;return null==u["~"]&&(u["~"]=$),n=u["~"],c(n["$[]"](0)["$start_with?"]("\\"))?n["$[]"](0)["$[]"](d(1,-1,!1)):(r=i=n["$[]"](1),t.const_get_relative(K,"Inline").$new(e,"anchor",i,l(["type","target"],{type:"bibref",target:r})).$convert())},o.$$s=p,o.$$arity=0,o))),c(c(i=c(a=c(s=n["$!"]())?s:n["$[]"]("square_bracket"))?e["$include?"]("[["):a)?i:c(a=c(s=n["$!"]())?s:n["$[]"]("macroish"))?e["$include?"]("anchor:"):a)&&(e=_(e,"gsub",[t.const_get_relative(K,"InlineAnchorRx")],(f=function(){var e,n,i=f.$$s||this,a=$,o=$,s=$,p=$;return null==u["~"]&&(u["~"]=$),a=u["~"],c(a["$[]"](0)["$start_with?"]("\\"))?a["$[]"](0)["$[]"](d(1,-1,!1)):(c(t.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&(a["$[]"](1)["$=="]("")&&(o=[1,$],_(a,"[]=",t.to_a(o)),o[r(o.length,1)]),a["$[]"](2)["$=="]("")&&(o=[2,$],_(a,"[]=",t.to_a(o)),o[r(o.length,1)]),a["$[]"](4)["$=="]("")&&(o=[4,$],_(a,"[]=",t.to_a(o)),o[r(o.length,1)])),s=c(e=a["$[]"](1))?e:a["$[]"](3),p=c(e=c(n=a["$[]"](2))?n:a["$[]"](4))?e:"["+s+"]",t.const_get_relative(K,"Inline").$new(i,"anchor",p,l(["type","target"],{type:"ref",target:s})).$convert())},f.$$s=p,f.$$arity=0,f))),e},S.$$arity=-2),t.defn(Y,"$sub_inline_xrefs",R=function(e,n){var i,a,o,s=this;return null==n&&(n=$),c(c(i=c(a=n["$!"]())?a:n["$[]"]("macroish"))?i:e["$include?"]("&lt;&lt;"))&&(e=_(e,"gsub",[t.const_get_relative(K,"XrefInlineMacroRx")],(o=function(){var e,n,i,a,s=o.$$s||this,f=$,p=$,h=$,g=$,v=$,m=$,y=$,b=$,w=$;return null==s.document&&(s.document=$),null==u["~"]&&(u["~"]=$),f=u["~"],c(f["$[]"](0)["$start_with?"]("\\"))?f["$[]"](0)["$[]"](d(1,-1,!1)):(c(t.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&f["$[]"](1)["$=="]("")&&(p=[1,$],_(f,"[]=",t.to_a(p)),p[r(p.length,1)]),c(f["$[]"](1))?(n=_(f["$[]"](1).$split(",",2),"map",[],(i=function(t){i.$$s;return null==t&&(t=$),t.$strip()},i.$$s=s,i.$$arity=1,i)),h=null==(e=t.to_ary(n))[0]?$:e[0],g=null==e[1]?$:e[1],h=h.$sub(t.const_get_relative(K,"DoubleQuotedRx"),"\\2"),g=c(g["$nil_or_empty?"]())?$:g.$sub(t.const_get_relative(K,"DoubleQuotedMultiRx"),"\\2")):(h=f["$[]"](2),c(f["$[]"](3)["$nil_or_empty?"]())||(g=f["$[]"](3))),c(h["$include?"]("#"))?(n=h.$split("#"),e=t.to_ary(n),v=null==e[0]?$:e[0],m=null==e[1]?$:e[1]):(v=$,m=h),c(v)?(v=t.const_get_relative(K,"Helpers").$rootname(v),c(c(e=s.document.$attributes()["$[]"]("docname")["$=="](v))?e:s.document.$references()["$[]"]("includes")["$include?"](v))?(y=m,v=$,b="#"+m):(y=c(m)?v+"#"+m:v,v=""+s.document.$attributes()["$[]"]("relfileprefix")+v+s.document.$attributes().$fetch("outfilesuffix",".html"),b=c(m)?v+"#"+m:v)):(c(c(e=c(n=s.document.$references()["$[]"]("ids")["$has_key?"](m)["$!"]())?c(a=m["$include?"](" "))?a:m.$downcase()["$!="](m):n)?w=c(t.const_get_relative(K,"RUBY_MIN_VERSION_1_9"))?s.document.$references()["$[]"]("ids").$key(m):s.document.$references()["$[]"]("ids").$index(m):e)&&(m=w),y=m,b="#"+m),t.const_get_relative(K,"Inline").$new(s,"anchor",g,l(["type","target","attributes"],{type:"xref",target:b,attributes:l(["path","fragment","refid"],{path:v,fragment:m,refid:y})})).$convert())},o.$$s=s,o.$$arity=0,o))),e},R.$$arity=-2),t.defn(Y,"$sub_callouts",M=function(e){var n,r=this,i=$;return i=c(r["$attr?"]("line-comment"))?new RegExp("(?:"+t.const_get_qualified("::","Regexp").$escape(r.$attr("line-comment"))+" )?"+t.const_get_relative(K,"CalloutSourceRxt")):t.const_get_relative(K,"CalloutSourceRx"),_(e,"gsub",[i],(n=function(){var e=n.$$s||this,r=$;return null==e.document&&(e.document=$),null==u["~"]&&(u["~"]=$),(r=u["~"])["$[]"](1)["$=="]("\\")?r["$[]"](0).$sub("\\",""):t.const_get_relative(K,"Inline").$new(e,"callout",r["$[]"](3),l(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()},n.$$s=r,n.$$arity=0,n))},M.$$arity=1),t.defn(Y,"$sub_post_replacements",T=function(e){var r,i,a,o=this,s=$,d=$;return null==o.document&&(o.document=$),null==o.attributes&&(o.attributes=$),c(c(r=o.document.$attributes()["$has_key?"]("hardbreaks"))?r:o.attributes["$has_key?"]("hardbreaks-option"))?(s=e.$split(t.const_get_relative(K,"EOL"))).$size()["$=="](1)?e:(d=s.$pop(),n(_(s,"map",[],(i=function(e){var n=i.$$s||this;return null==e&&(e=$),t.const_get_relative(K,"Inline").$new(n,"break",e.$rstrip().$chomp(t.const_get_relative(K,"LINE_BREAK")),l(["type"],{type:"line"})).$convert()},i.$$s=o,i.$$arity=1,i)).$push(d),t.const_get_relative(K,"EOL"))):c(e["$include?"]("+"))?_(e,"gsub",[t.const_get_relative(K,"LineBreakRx")],(a=function(){var e=a.$$s||this;return null==u["~"]&&(u["~"]=$),t.const_get_relative(K,"Inline").$new(e,"break",u["~"]["$[]"](1),l(["type"],{type:"line"})).$convert()},a.$$s=o,a.$$arity=0,a)):e},T.$$arity=1),t.defn(Y,"$convert_quoted_text",I=function(e,n,r){var i=this,a=$,o=$,s=$,_=$;if(a=$,c(e["$[]"](0)["$start_with?"]("\\"))){if(!c(r["$=="]("constrained")?(o=e["$[]"](2))["$nil_or_empty?"]()["$!"]():r["$=="]("constrained")))return e["$[]"](0)["$[]"](d(1,-1,!1));a="["+o+"]"}return r["$=="]("constrained")?c(a)?""+a+t.const_get_relative(K,"Inline").$new(i,"quoted",e["$[]"](3),l(["type"],{type:n})).$convert():(c(s=i.$parse_quoted_text_attributes(e["$[]"](2)))?(_=s.$delete("id"),n["$=="]("mark")&&(n="unquoted")):_=$,""+e["$[]"](1)+t.const_get_relative(K,"Inline").$new(i,"quoted",e["$[]"](3),l(["type","id","attributes"],{type:n,id:_,attributes:s})).$convert()):(c(s=i.$parse_quoted_text_attributes(e["$[]"](1)))?(_=s.$delete("id"),n["$=="]("mark")&&(n="unquoted")):_=$,t.const_get_relative(K,"Inline").$new(i,"quoted",e["$[]"](2),l(["type","id","attributes"],{type:n,id:_,attributes:s})).$convert())},I.$$arity=3),t.defn(Y,"$parse_quoted_text_attributes",C=function(e){var a,s,u=this,d=$,f=$,p=$,h=$,g=$,v=$;return c(e)?c(e["$empty?"]())?l([],{}):(c(e["$include?"]("{"))&&(e=u.$sub_attributes(e)),e=e.$strip(),c(e["$include?"](","))&&(s=e.$split(",",2),e=null==(a=t.to_ary(s))[0]?$:a[0],null==a[1]?$:a[1]),c(e["$empty?"]())?l([],{}):c(c(a=c(s=e["$start_with?"]("."))?s:e["$start_with?"]("#"))?t.const_get_relative(K,"Compliance").$shorthand_property_syntax():a)?(d=e.$split("#",2),c(i(d.$length(),1))?(s=d["$[]"](1).$split("."),f=null==(a=t.to_ary(s))[0]?$:a[0],p=o.call(a,1)):(f=$,p=[]),h=c(d["$[]"](0)["$empty?"]())?[]:d["$[]"](0).$split("."),c(i(h.$length(),1))&&h.$shift(),c(i(p.$length(),0))&&h.$concat(p),g=l([],{}),c(f)&&(v=["id",f],_(g,"[]=",t.to_a(v)),v[r(v.length,1)]),c(h["$empty?"]())||(v=["role",n(h," ")],_(g,"[]=",t.to_a(v)),v[r(v.length,1)]),g):l(["role"],{role:e})):$},C.$$arity=1),t.defn(Y,"$parse_attributes",q=function(e,n,r){var i=this,a=$,o=$;return null==i.document&&(i.document=$),null==n&&(n=["role"]),null==r&&(r=l([],{})),c(e)?c(e["$empty?"]())?l([],{}):(c(r["$[]"]("sub_input"))&&(e=i.document.$sub_attributes(e)),c(r["$[]"]("unescape_input"))&&(e=i.$unescape_bracketed_text(e)),a=$,c(r.$fetch("sub_result",!0))&&(a=i),c(o=r["$[]"]("into"))?t.const_get_relative(K,"AttributeList").$new(e,a).$parse_into(o,n):t.const_get_relative(K,"AttributeList").$new(e,a).$parse(n)):$},q.$$arity=-2),t.defn(Y,"$unescape_bracketed_text",N=function(e){return c(e["$empty?"]())?"":e.$strip().$tr(t.const_get_relative(K,"EOL")," ").$gsub("\\]","]")},N.$$arity=1),t.defn(Y,"$normalize_string",L=function(e,n){var r=this;return null==n&&(n=!1),c(e["$empty?"]())?"":c(n)?r.$unescape_brackets(e.$strip().$tr(t.const_get_relative(K,"EOL")," ")):e.$strip().$tr(t.const_get_relative(K,"EOL")," ")},L.$$arity=-2),t.defn(Y,"$unescape_brackets",z=function(t){return c(t["$empty?"]())?"":t.$gsub("\\]","]")},z.$$arity=1),t.defn(Y,"$split_simple_csv",P=function(t){var e,n,r=this,i=$,a=$,o=$;return c(t["$empty?"]())?i=[]:c(t["$include?"]('"'))?(i=[],a=[],o=!1,_(t,"each_char",[],(e=function(t){e.$$s;var n=$;return null==t&&(t=$),n=t,","["$==="](n)?c(o)?a.$push(t):(i["$<<"](a.$join().$strip()),a=[]):'"'["$==="](n)?o=o["$!"]():a.$push(t)},e.$$s=r,e.$$arity=1,e)),i["$<<"](a.$join().$strip())):i=_(t.$split(","),"map",[],(n=function(t){n.$$s;return null==t&&(t=$),t.$strip()},n.$$s=r,n.$$arity=1,n)),i},P.$$arity=1),t.defn(Y,"$resolve_subs",D=function(a,o,s,l){var u,f=this,p=$,h=$,g=$,v=$;return null==o&&(o="block"),null==s&&(s=$),null==l&&(l=$),c(a["$nil_or_empty?"]())?[]:(p=$,h=t.const_get_relative(K,"SubModifierSniffRx")["$=~"](a),_(a.$tr(" ","").$split(","),"each",[],(u=function(n){u.$$s;var i,a,l=$,_=$,f=$,g=$,v=$,m=$;return null==n&&(n=$),l=$,c(h)&&((_=n.$chr())["$=="]("+")?(l="append",n=n["$[]"](d(1,-1,!1))):_["$=="]("-")?(l="remove",n=n["$[]"](d(1,-1,!1))):c(n["$end_with?"]("+"))&&(l="prepend",n=n.$chop())),n=n.$to_sym(),c((i=o["$=="]("inline"))?c(a=n["$=="]("verbatim"))?a:n["$=="]("v"):o["$=="]("inline"))?f=["specialcharacters"]:c(t.const_get_relative(K,"COMPOSITE_SUBS")["$key?"](n))?f=t.const_get_relative(K,"COMPOSITE_SUBS")["$[]"](n):c(c(i=(a=o["$=="]("inline"))?n.$length()["$=="](1):o["$=="]("inline"))?t.const_get_relative(K,"SUB_SYMBOLS")["$key?"](n):i)?(g=t.const_get_relative(K,"SUB_SYMBOLS")["$[]"](n),f=c(v=t.const_get_relative(K,"COMPOSITE_SUBS")["$[]"](g))?v:[g]):f=[n],c(l)?(p=c(i=p)?i:c(s)?s.$dup():[],m=l,"append"["$==="](m)?p=e(p,f):"prepend"["$==="](m)?p=e(f,p):"remove"["$==="](m)?p=r(p,f):$):(p=c(i=p)?i:[],p=e(p,f))},u.$$s=f,u.$$arity=1,u)),g=p["$&"](t.const_get_relative(K,"SUB_OPTIONS")["$[]"](o)),c(r(p,g)["$empty?"]())||(v=r(p,g),f.$warn("asciidoctor: WARNING: invalid substitution type"+(c(i(v.$size(),1))?"s":"")+(c(l)?" for ":$)+l+": "+n(v,", "))),g)},D.$$arity=-2),t.defn(Y,"$resolve_block_subs",B=function(t,e,n){return this.$resolve_subs(t,"block",e,n)},B.$$arity=3),t.defn(Y,"$resolve_pass_subs",j=function(t){return this.$resolve_subs(t,"inline",$,"passthrough macro")},j.$$arity=1),t.defn(Y,"$highlight_source",F=function(i,a,o){var s,d,f,p=this,h=$,g=$,v=$,m=$,y=$,b=$,w=$,k=$,x=$,E=$,O=$,A=$,S=$,R=$;return null==p.document&&(p.document=$),null==p.passthroughs&&(p.passthroughs=$),null==o&&(o=$),h=o=c(s=o)?s:p.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](h)?c(c(s=g=t.const_get_qualified("::","CodeRay","skip_raise")?"constant":$)?s:p.document.$attributes()["$[]"]("coderay-unavailable"))||(c(t.const_get_relative(K,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?p.document.$set_attr("coderay-unavailable",""):g=!0):"pygments"["$==="](h)?c(c(s=g=t.const_get_qualified("::","Pygments","skip_raise")?"constant":$)?s:p.document.$attributes()["$[]"]("pygments-unavailable"))||(c(t.const_get_relative(K,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?p.document.$set_attr("pygments-unavailable",""):g=!0):g=!1,c(g)?(v=0,m=!1,c(a)?(y=l([],{}),b=-1,w=c(p["$attr?"]("line-comment"))?new RegExp("(?:"+t.const_get_qualified("::","Regexp").$escape(p.$attr("line-comment"))+" )?"+t.const_get_relative(K,"CalloutExtractRxt")):t.const_get_relative(K,"CalloutExtractRx"),i=n(_(i.$split(t.const_get_relative(K,"EOL")),"map",[],(d=function(n){var i,a=d.$$s||this;return null==n&&(n=$),v=e(v,1),_(n,"gsub",[w],(i=function(){i.$$s;var e,n=$,a=$;return null==u["~"]&&(u["~"]=$),(n=u["~"])["$[]"](1)["$=="]("\\")?n["$[]"](0).$sub("\\",""):((c(e=y["$[]"](v))?e:(a=[v,[]],_(y,"[]=",t.to_a(a)),a[r(a.length,1)]))["$<<"](n["$[]"](3)),b=v,$)},i.$$s=a,i.$$arity=0,i))},d.$$s=p,d.$$arity=1,d)),t.const_get_relative(K,"EOL")),m=b["$=="](v),c(y["$empty?"]())&&(y=$)):y=$,k=$,x=$,h=o,"coderay"["$==="](h)?(c(k=c(p["$attr?"]("linenums"))?(c(s=p.document.$attributes()["$[]"]("coderay-linenums-mode"))?s:"table").$to_sym():$)&&c(p["$attr?"]("highlight",$,!1))&&(x=p.$resolve_highlight_lines(p.$attr("highlight",$,!1))),E=t.const_get_qualified(t.const_get_qualified("::","CodeRay"),"Duo")["$[]"](p.$attr("language","text",!1).$to_sym(),"html",l(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(c(s=p.document.$attributes()["$[]"]("coderay-css"))?s:"class").$to_sym(),line_numbers:k,line_number_anchors:!1,highlight_lines:x,bold_every:!1})).$highlight(i)):"pygments"["$==="](h)&&(O=c(s=t.const_get_qualified(t.const_get_qualified("::","Pygments"),"Lexer")["$[]"](p.$attr("language",$,!1)))?s:t.const_get_qualified(t.const_get_qualified("::","Pygments"),"Lexer")["$[]"]("text"),A=l(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),(c(s=p.document.$attributes()["$[]"]("pygments-css"))?s:"class")["$=="]("class")||(S=["noclasses",!0],_(A,"[]=",t.to_a(S)),S[r(S.length,1)],S=["style",c(s=p.document.$attributes()["$[]"]("pygments-style"))?s:t.const_get_qualified(t.const_get_relative(K,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],_(A,"[]=",t.to_a(S)),S[r(S.length,1)]),c(p["$attr?"]("highlight",$,!1))&&(c((x=p.$resolve_highlight_lines(p.$attr("highlight",$,!1)))["$empty?"]())||(S=["hl_lines",n(x," ")],_(A,"[]=",t.to_a(S)),S[r(S.length,1)])),c(p["$attr?"]("linenums"))?(S=["linenos",c(s=p.document.$attributes()["$[]"]("pygments-linenums-mode"))?s:"table"],_(A,"[]=",t.to_a(S)),S[r(S.length,1)])["$=="]("table")?(k="table",E=O.$highlight(i,l(["options"],{options:A})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):E=O.$highlight(i,l(["options"],{options:A})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1"):(S=["nowrap",!0],_(A,"[]=",t.to_a(S)),S[r(S.length,1)],E=O.$highlight(i,l(["options"],{options:A})))),c(p.passthroughs["$empty?"]())||(E=E.$gsub(t.const_get_relative(K,"PASS_MATCH_HI"),t.const_get_relative(K,"PASS_START")+"\\1"+t.const_get_relative(K,"PASS_END"))),c(c(s=a)?y:s)?(v=0,R=k["$!="]("table"),n(_(E.$split(t.const_get_relative(K,"EOL")),"map",[],(f=function(r){var i,a,o=f.$$s||this,s=$,u=$,d=$,p=$;if(null==o.document&&(o.document=$),null==r&&(r=$),c(R));else{if(!c(r["$include?"]('<td class="code">')))return r;R=!0}return v=e(v,1),c(s=y.$delete(v))?(u=$,c(c(i=m)?y["$empty?"]():i)&&(c(d=r.$index("</pre>"))?(u=r["$[]"](t.Range.$new(d,-1,!1)),r=r["$[]"](t.Range.$new(0,d,!0)).$chomp(" ")+" "):r=r.$chomp(" ")+" "),s.$size()["$=="](1)?""+r+t.const_get_relative(K,"Inline").$new(o,"callout",s["$[]"](0),l(["id"],{id:o.document.$callouts().$read_next_id()})).$convert()+u:(p=n(_(s,"map",[],(a=function(e){var n=a.$$s||this;return null==n.document&&(n.document=$),null==e&&(e=$),t.const_get_relative(K,"Inline").$new(n,"callout",e,l(["id"],{id:n.document.$callouts().$read_next_id()})).$convert()},a.$$s=o,a.$$arity=1,a))," "),""+r+p+u)):r},f.$$s=p,f.$$arity=1,f)),t.const_get_relative(K,"EOL"))):E):p.$sub_source(i,a)},F.$$arity=-3),t.defn(Y,"$resolve_highlight_lines",U=function(e){var n,i=this,a=$;return a=[],_(e.$delete(" ").$split(t.const_get_relative(K,"DataDelimiterRx")),"map",[],(n=function(e){n.$$s;var i,o,s=$,l=$,_=$,u=$;return null==e&&(e=$),s=!1,c(e["$start_with?"]("!"))&&(e=e["$[]"](d(1,-1,!1)),s=!0),c(e["$include?"]("-"))?(o=e.$split("-",2),i=t.to_ary(o),l=null==i[0]?$:i[0],_=null==i[1]?$:i[1],u=t.Range.$new(l.$to_i(),_.$to_i(),!1).$to_a(),c(s)?a=r(a,u):a.$concat(u)):c(s)?a.$delete(e.$to_i()):a["$<<"](e.$to_i())},n.$$s=i,n.$$arity=1,n)),a.$sort().$uniq()},U.$$arity=1),t.defn(Y,"$sub_source",G=function(t,e){var n=this;return c(e)?n.$sub_callouts(n.$sub_specialchars(t)):n.$sub_specialchars(t)},G.$$arity=2),t.defn(Y,"$lock_in_subs",H=function(){var e,n,r,i,a=this,o=$,s=$,l=$;if(null==a.default_subs&&(a.default_subs=$),null==a.content_model&&(a.content_model=$),null==a.context&&(a.context=$),null==a.attributes&&(a.attributes=$),null==a.style&&(a.style=$),null==a.document&&(a.document=$),null==a.subs&&(a.subs=$),c(a.default_subs))o=a.default_subs;else if(s=a.content_model,"simple"["$==="](s))o=t.const_get_relative(K,"SUBS")["$[]"]("normal");else if("verbatim"["$==="](s))o=c(c(e=a.context["$=="]("listing"))?e:(n=a.context["$=="]("literal"))?a["$option?"]("listparagraph")["$!"]():a.context["$=="]("literal"))?t.const_get_relative(K,"SUBS")["$[]"]("verbatim"):a.context["$=="]("verse")?t.const_get_relative(K,"SUBS")["$[]"]("normal"):t.const_get_relative(K,"SUBS")["$[]"]("basic");else{if(!"raw"["$==="](s))return $;o=a.context["$=="]("stem")?t.const_get_relative(K,"SUBS")["$[]"]("basic"):t.const_get_relative(K,"SUBS")["$[]"]("pass")}return c(l=a.attributes["$[]"]("subs"))?a.subs=a.$resolve_block_subs(l,o,a.context):a.subs=o.$dup(),c(c(e=c(n=c(r=a.context["$=="]("listing")?a.style["$=="]("source"):a.context["$=="]("listing"))?a.attributes["$[]"]("language"):r)?a.document["$basebackend?"]("html"):n)?t.const_get_relative(K,"SUB_HIGHLIGHT")["$include?"](a.document.$attributes()["$[]"]("source-highlighter")):e)?a.subs=_(a.subs,"map",[],(i=function(t){i.$$s;return null==t&&(t=$),t["$=="]("specialcharacters")?"highlight":t},i.$$s=a,i.$$arity=1,i)):$},H.$$arity=0)}(g[0],g)}(a[0],a)},Opal.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var i=[],a=t.nil,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.truthy,l=t.hash2,c=t.send,_=t.range;return t.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$raise","$===","$attributes","$nil?","$has_key?","$[]=","$-","$update","$converter","$include?","$split","$*","$push","$delete","$attr?","$empty?","$extname","$image_uri","$attr","$normalize_web_path","$<","$safe","$uriish?","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$respond_to?","$binread","$open","$read","$encode64","$require_library","$!","$content_type","$web_path","$new","$open_uri","$normalize_lines_from_string","$fetch","$read_asset","$!=","$is_root?","$join","$base_dir","$system_path"]),function(i,u){var d,f=d=$(i,"Asciidoctor"),p=(f.$$proto,[f].concat(u));!function(i,$,u){function d(){}var f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G=d=o(i,null,"AbstractNode",d),H=G.$$proto,Y=[G].concat(u);H.document=H.attributes=H.path_resolver=a,G.$include(t.const_get_relative(Y,"Substitutors")),G.$attr_reader("parent"),G.$attr_reader("document"),G.$attr_reader("context"),G.$attr_reader("node_name"),G.$attr_accessor("id"),G.$attr_reader("attributes"),t.defn(G,"$initialize",f=function(t,e,n){var r=this;return null==n&&(n=l([],{})),e["$=="]("document")?r.document=t:s(t)?(r.parent=t,r.document=t.$document()):(r.parent=a,r.document=a),r.context=e,r.node_name=e.$to_s(),r.attributes=s(n["$key?"]("attributes"))?n["$[]"]("attributes").$dup():l([],{}),r.passthroughs=l([],{})},f.$$arity=-3),t.defn(G,"$parent=",p=function(t){var e=this;return e.parent=t,e.document=t.$document(),a},p.$$arity=1),t.defn(G,"$inline?",h=function(){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},h.$$arity=0),t.defn(G,"$block?",g=function(){return this.$raise(t.const_get_qualified("::","NotImplementedError"))},g.$$arity=0),t.defn(G,"$attr",v=function(e,n,r){var i,$,o=this;return null==n&&(n=a),null==r&&(r=!0),s(t.const_get_qualified("::","Symbol")["$==="](e))&&(e=e.$to_s()),o["$=="](o.document)&&(r=!1),s(r)?s(i=s($=o.attributes["$[]"](e))?$:o.document.$attributes()["$[]"](e))?i:n:s(i=o.attributes["$[]"](e))?i:n},v.$$arity=-2),t.defn(G,"$attr?",m=function(e,n,r){var i,$,o=this;return null==n&&(n=a),null==r&&(r=!0),s(t.const_get_qualified("::","Symbol")["$==="](e))&&(e=e.$to_s()),o["$=="](o.document)&&(r=!1),s(n["$nil?"]())?s(i=o.attributes["$has_key?"](e))?i:s($=r)?o.document.$attributes()["$has_key?"](e):$:s(r)?n["$=="](s(i=o.attributes["$[]"](e))?i:o.document.$attributes()["$[]"](e)):n["$=="](o.attributes["$[]"](e))},m.$$arity=-2),t.defn(G,"$set_attr",y=function(n,r,i){var $=this,o=a;return null==i&&(i=!0),!s(i["$=="](!1)?$.attributes["$key?"](n):i["$=="](!1))&&(o=[n,r],c($.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],!0)},y.$$arity=-3),t.defn(G,"$set_option",b=function(n){var r=this,i=a;return s(r.attributes["$has_key?"]("options"))?(i=["options",r.attributes["$[]"]("options")+","+n],c(r.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]):(i=["options",n],c(r.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]),i=[n+"-option",""],c(r.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]},b.$$arity=1),t.defn(G,"$option?",w=function(t){return this.attributes["$has_key?"](t+"-option")},w.$$arity=1),t.defn(G,"$update_attributes",k=function(t){return this.attributes.$update(t),a},k.$$arity=1),t.defn(G,"$converter",x=function(){return this.document.$converter()},x.$$arity=0),t.defn(G,"$role?",E=function(t){var e,n=this;return null==t&&(t=a),s(t)?t["$=="](s(e=n.attributes["$[]"]("role"))?e:n.document.$attributes()["$[]"]("role")):s(e=n.attributes["$has_key?"]("role"))?e:n.document.$attributes()["$has_key?"]("role")},E.$$arity=-1),t.defn(G,"$role",O=function(){var t,e=this;return s(t=e.attributes["$[]"]("role"))?t:e.document.$attributes()["$[]"]("role")},O.$$arity=0),t.defn(G,"$has_role?",A=function(t){var e,n=this,r=a;return!!s(r=s(e=n.attributes["$[]"]("role"))?e:n.document.$attributes()["$[]"]("role"))&&r.$split(" ")["$include?"](t)},A.$$arity=1),t.defn(G,"$roles",S=function(){var t,e=this,n=a;return s(n=s(t=e.attributes["$[]"]("role"))?t:e.document.$attributes()["$[]"]("role"))?n.$split(" "):[]},S.$$arity=0),t.defn(G,"$add_role",R=function(r){var i,$=this,o=a,l=a;return s((o=(s(i=$.attributes["$[]"]("role"))?i:"").$split(" "))["$include?"](r))?a:(l=["role",n(o.$push(r)," ")],c($.attributes,"[]=",t.to_a(l)),l[e(l.length,1)])},R.$$arity=1),t.defn(G,"$remove_role",M=function(r){var i,$=this,o=a,l=a;return s((o=(s(i=$.attributes["$[]"]("role"))?i:"").$split(" "))["$include?"](r))?(o.$delete(r),l=["role",n(o," ")],c($.attributes,"[]=",t.to_a(l)),l[e(l.length,1)]):a},M.$$arity=1),t.defn(G,"$reftext?",T=function(){var t,e=this;return s(t=e.attributes["$has_key?"]("reftext"))?t:e.document.$attributes()["$has_key?"]("reftext")},T.$$arity=0),t.defn(G,"$reftext",I=function(){var t,e=this;return s(t=e.attributes["$[]"]("reftext"))?t:e.document.$attributes()["$[]"]("reftext")},I.$$arity=0),t.defn(G,"$icon_uri",C=function(e){var n=this,r=a;return s(n["$attr?"]("icon"))?s(t.const_get_qualified("::","File").$extname(r=n.$image_uri(n.$attr("icon"),"iconsdir"))["$empty?"]())?r+"."+n.document.$attr("icontype","png"):r:n.$image_uri(e+"."+n.document.$attr("icontype","png"),"iconsdir")},C.$$arity=1),t.defn(G,"$media_uri",q=function(t,e){var n=this;return null==e&&(e="imagesdir"),n.$normalize_web_path(t,s(e)?n.document.$attr(e):a)},q.$$arity=-2),t.defn(G,"$image_uri",N=function(e,n){var i,$,o,l,c=this,_=a,u=a;return null==n&&(n="imagesdir"),s(s(i=r((_=c.document).$safe(),t.const_get_qualified(t.const_get_relative(Y,"SafeMode"),"SECURE")))?_["$attr?"]("data-uri"):i)?s(s(i=t.const_get_relative(Y,"Helpers")["$uriish?"](e))?i:s($=s(o=s(l=n)?u=_.$attr(n):l)?t.const_get_relative(Y,"Helpers")["$uriish?"](u):o)?e=c.$normalize_web_path(e,u,!1):$)?s(_["$attr?"]("allow-uri-read"))?c.$generate_data_uri_from_uri(e,_["$attr?"]("cache-uri")):e:c.$generate_data_uri(e,n):c.$normalize_web_path(e,s(n)?_.$attr(n):a)},N.$$arity=-2),t.defn(G,"$generate_data_uri",L=function(e,n){var r,i=this,$=a,o=a,u=a,d=a;return null==n&&(n=a),$=t.const_get_qualified("::","File").$extname(e),o=$["$=="](".svg")?"image/svg+xml":"image/"+$["$[]"](_(1,-1,!1)),u=s(n)?i.$normalize_system_path(e,i.document.$attr(n),a,l(["target_name"],{target_name:"image"})):i.$normalize_system_path(e),s(t.const_get_qualified("::","File")["$readable?"](u))?(d=a,d=s(t.const_get_qualified("::","IO")["$respond_to?"]("binread"))?t.const_get_qualified("::","IO").$binread(u):c(t.const_get_qualified("::","File"),"open",[u,"rb"],(r=function(t){r.$$s;return null==t&&(t=a),t.$read()},r.$$s=i,r.$$arity=1,r)),"data:"+o+";base64,"+t.const_get_qualified("::","Base64").$encode64(d).$delete(t.const_get_relative(Y,"EOL"))):(i.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+u),"data:"+o+":base64,")},L.$$arity=-2),t.defn(G,"$generate_data_uri_from_uri",z=function(e,n){var r,i=this,$=a,o=a;null==n&&(n=!1),s(n)?t.const_get_relative(Y,"Helpers").$require_library("open-uri/cached","open-uri-cached"):s(t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&t.const_get_qualified("::","OpenURI");try{return $=a,o=c(i,"open",[e,"rb"],(r=function(t){r.$$s;return null==t&&(t=a),$=t.$content_type(),t.$read()},r.$$s=i,r.$$arity=1,r)),"data:"+$+";base64,"+t.const_get_qualified("::","Base64").$encode64(o).$delete(t.const_get_relative(Y,"EOL"))}catch(n){if(!t.rescue(n,[t.const_get_relative(Y,"StandardError")]))throw n;try{return i.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},z.$$arity=-2),t.defn(G,"$read_contents",P=function(e,r){var i,$,o,_,u=this,d=a,f=a,p=a;if(null==r&&(r=l([],{})),d=u.document,s(s(i=t.const_get_relative(Y,"Helpers")["$uriish?"](e))?i:s($=s(o=f=r["$[]"]("start"))?t.const_get_relative(Y,"Helpers")["$uriish?"](f):o)?e=(u.path_resolver=s(o=u.path_resolver)?o:t.const_get_relative(Y,"PathResolver").$new()).$web_path(e,f):$))if(s(d["$attr?"]("allow-uri-read"))){s(d["$attr?"]("cache-uri"))&&t.const_get_relative(Y,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{p=c(t.const_get_qualified("::","OpenURI"),"open_uri",[e],(_=function(t){_.$$s;return null==t&&(t=a),t.$read()},_.$$s=u,_.$$arity=1,_)),s(r["$[]"]("normalize"))&&(p=n(t.const_get_relative(Y,"Helpers").$normalize_lines_from_string(p),t.const_get_relative(Y,"EOL")))}catch(n){if(!t.rescue(n,[t.const_get_relative(Y,"StandardError")]))throw n;try{s(r.$fetch("warn_on_failure",!0))&&u.$warn("asciidoctor: WARNING: could not retrieve contents of "+(s(i=r["$[]"]("label"))?i:"asset")+" at URI: "+e),p=a}finally{t.pop_exception()}}}else s(r.$fetch("warn_on_failure",!0))&&u.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(s(i=r["$[]"]("label"))?i:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),p=a;else e=u.$normalize_system_path(e,r["$[]"]("start"),a,l(["target_name"],{target_name:s(i=r["$[]"]("label"))?i:"asset"})),p=u.$read_asset(e,l(["normalize","warn_on_failure"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0)}));return p},P.$$arity=-2),t.defn(G,"$read_asset",D=function(e,r){var i=this;return null==r&&(r=l([],{})),s(t.const_get_qualified("::","Hash")["$==="](r))||(r=l(["warn_on_failure"],{warn_on_failure:r["$!="](!1)})),s(t.const_get_qualified("::","File")["$readable?"](e))?s(r["$[]"]("normalize"))?n(t.const_get_relative(Y,"Helpers").$normalize_lines_from_string(t.const_get_qualified("::","IO").$read(e)),t.const_get_relative(Y,"EOL")):t.const_get_qualified("::","IO").$read(e):(s(r["$[]"]("warn_on_failure"))&&i.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+e),a)},D.$$arity=-2),t.defn(G,"$normalize_web_path",B=function(e,n,r){var i,$=this;return null==n&&(n=a),null==r&&(r=!0),s(s(i=r)?t.const_get_relative(Y,"Helpers")["$uriish?"](e):i)?e:($.path_resolver=s(i=$.path_resolver)?i:t.const_get_relative(Y,"PathResolver").$new()).$web_path(e,n)},B.$$arity=-2),t.defn(G,"$normalize_system_path",j=function(e,n,i,$){var o,c=this,_=a,u=a;return null==n&&(n=a),null==i&&(i=a),null==$&&($=l([],{})),_=c.path_resolver=s(o=c.path_resolver)?o:t.const_get_relative(Y,"PathResolver").$new(),s(r((u=c.document).$safe(),t.const_get_qualified(t.const_get_relative(Y,"SafeMode"),"SAFE")))?s(n)?s(_["$is_root?"](n))||(n=t.const_get_qualified("::","File").$join(u.$base_dir(),n)):n=u.$base_dir():(s(n)||(n=u.$base_dir()),s(i)||(i=u.$base_dir())),_.$system_path(e,n,i,$)},j.$$arity=-2),t.defn(G,"$normalize_asset_path",F=function(t,e,n){var r=this;return null==e&&(e="path"),null==n&&(n=!0),r.$normalize_system_path(t,r.document.$base_dir(),a,l(["target_name","recover"],{target_name:e,recover:n}))},F.$$arity=-2),t.defn(G,"$is_uri?",U=function(e){return t.const_get_relative(Y,"Helpers")["$uriish?"](e)},U.$$arity=1)}(p[0],0,p)}(i[0],i)},Opal.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var a=[],$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.send,c=t.truthy,_=t.hash2;return t.add_stubs(["$attr_accessor","$attr_reader","$attr_writer","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$!","$nil_or_empty?","$apply_title_subs","$title","$empty?","$<<","$select","$context","$>","$[]","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$delete","$title?","$attributes","$counter_increment","$index=","$-","$+","$sectname","$counter","$numbered","$number=","$attr","$caption=","$special","$doctype","$assign_index","$reindex_sections"]),function(a,u){var d,f=d=o(a,"Asciidoctor"),p=(f.$$proto,[f].concat(u));!function(a,o,u){function d(){}var f,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L=d=s(a,o,"AbstractBlock",d),z=L.$$proto,P=[L].concat(u);z.document=z.attributes=z.blocks=z.source_location=z.subs=z.title=z.subbed_title=z.caption=z.next_section_index=z.context=z.style=z.id=z.header=z.next_section_number=$,L.$attr_accessor("content_model"),L.$attr_reader("subs"),L.$attr_reader("blocks"),L.$attr_accessor("level"),L.$attr_writer("title"),L.$attr_accessor("style"),L.$attr_accessor("caption"),L.$attr_accessor("source_location"),t.defn(L,"$initialize",f=function(e,n,r){var i,a=this,o=f.$$p,s=$,u=$,d=$;for(null==r&&(r=_([],{})),o&&(f.$$p=null),u=0,d=arguments.length,s=new Array(d);u<d;u++)s[u]=arguments[u];return l(a,t.find_super_dispatcher(a,"initialize",f,!1),s,o),a.content_model="compound",a.subs=[],a.default_subs=$,a.blocks=[],a.id=$,a.title=$,a.caption=$,a.style=$,a.level=n["$=="]("document")?0:c(c(i=e)?n["$!="]("section"):i)?e.$level():$,a.next_section_index=0,a.next_section_number=1,a.source_location=$},f.$$arity=-3),t.defn(L,"$block?",p=function(){return!0},p.$$arity=0),t.defn(L,"$inline?",h=function(){return!1},h.$$arity=0),t.defn(L,"$context=",g=function(t){var e=this;return e.context=t,e.node_name=t.$to_s()},g.$$arity=1),t.defn(L,"$convert",v=function(){var t=this;return t.document.$playback_attributes(t.attributes),t.$converter().$convert(t)},v.$$arity=0),t.alias(L,"render","convert"),t.defn(L,"$content",m=function(){var n,r=this;return e(l(r.blocks,"map",[],(n=function(t){n.$$s;return null==t&&(t=$),t.$convert()},n.$$s=r,n.$$arity=1,n)),t.const_get_relative(P,"EOL"))},m.$$arity=0),t.defn(L,"$file",y=function(){var t=this;return c(t.source_location)?t.source_location.$file():$},y.$$arity=0),t.defn(L,"$lineno",b=function(){var t=this;return c(t.source_location)?t.source_location.$lineno():$},b.$$arity=0),t.defn(L,"$sub?",w=function(t){return this.subs["$include?"](t)},w.$$arity=1),t.defn(L,"$title?",k=function(){return this.title["$nil_or_empty?"]()["$!"]()},k.$$arity=0),t.defn(L,"$title",x=function(){var t,e=this;return c(null!=(t=e.subbed_title)&&t!==$?"instance-variable":$)?e.subbed_title:c(e.title)?e.subbed_title=e.$apply_title_subs(e.title):e.title},x.$$arity=0),t.defn(L,"$captioned_title",E=function(){var t=this;return""+t.caption+t.$title()},E.$$arity=0),t.defn(L,"$blocks?",O=function(){return this.blocks["$empty?"]()["$!"]()},O.$$arity=0),t.defn(L,"$<<",A=function(t){var e=this;return e.blocks["$<<"](t),e},A.$$arity=1),t.alias(L,"append","<<"),t.defn(L,"$sections",S=function(){var t,e=this;return l(e.blocks,"select",[],(t=function(e){t.$$s;return null==e&&(e=$),e.$context()["$=="]("section")},t.$$s=e,t.$$arity=1,t))},S.$$arity=0),t.defn(L,"$sections?",R=function(){return n(this.next_section_index,0)},R.$$arity=0),t.defn(L,"$find_by",M=function(e){var n,r,i,a,o,s,u=this,d=M.$$p,f=d||$,p=$,h=$,g=$,v=$,m=$,y=$;if(null==e&&(e=_([],{})),d&&(M.$$p=null),p=[],c(c(n=c(r=c(i=c(a=h=(g=e["$[]"]("context"))["$!"]())?a:g["$=="](u.context))?c(a=(v=e["$[]"]("style"))["$!"]())?a:v["$=="](u.style):i)?c(i=(m=e["$[]"]("role"))["$!"]())?i:u["$has_role?"](m):r)?c(r=(y=e["$[]"]("id"))["$!"]())?r:y["$=="](u.id):n)){if(c(y))return f!==$?c(t.yield1(f,u))?[u]:p:[u];f!==$?c(t.yield1(f,u))&&p["$<<"](u):p["$<<"](u)}return c(c(n=(r=u.context["$=="]("document"))?c(i=h)?i:g["$=="]("section"):u.context["$=="]("document"))?u["$header?"]():n)&&p.$concat(l(u.header,"find_by",[e],f.$to_proc())),g["$=="]("document")||(u.context["$=="]("dlist")?c(c(n=h)?n:g["$!="]("section"))&&l(u.blocks.$flatten(),"each",[],(o=function(t){o.$$s;return null==t&&(t=$),c(t)?p.$concat(l(t,"find_by",[e],f.$to_proc())):$},o.$$s=u,o.$$arity=1,o)):c(l(u.blocks,"each",[],(s=function(t){s.$$s;return null==t&&(t=$),c(g["$=="]("section")?t.$context()["$!="]("section"):g["$=="]("section"))?$:p.$concat(l(t,"find_by",[e],f.$to_proc()))},s.$$s=u,s.$$arity=1,s)))),p},M.$$arity=-1),t.alias(L,"query","find_by"),t.defn(L,"$remove_sub",T=function(t){return this.subs.$delete(t),$},T.$$arity=1),t.defn(L,"$assign_caption",I=function(t,e){var n,r=this,i=$,a=$,o=$,s=$;return null==t&&(t=$),null==e&&(e=$),c(c(n=r["$title?"]())?n:r.caption["$!"]())?(c(t)?r.caption=t:c(i=r.document.$attributes()["$[]"]("caption"))?r.caption=i:c(r["$title?"]())&&(a=(e=c(n=e)?n:r.context.$to_s())+"-caption",c(o=r.document.$attributes()["$[]"](a))&&(s=r.document.$counter_increment(e+"-number",r),r.caption=o+" "+s+". ")),$):$},I.$$arity=-1),t.defn(L,"$list_marker_keyword",C=function(e){var n,r=this;return null==e&&(e=$),t.const_get_relative(P,"ORDERED_LIST_KEYWORDS")["$[]"](c(n=e)?n:r.style)},C.$$arity=-1),t.defn(L,"$assign_index",q=function(e){var n,a,o=this,s=$,_=$,u=$;return s=[o.next_section_index],l(e,"index=",t.to_a(s)),s[r(s.length,1)],o.next_section_index=i(o.next_section_index,1),e.$sectname()["$=="]("appendix")?(_=o.document.$counter("appendix-number","A"),c(e.$numbered())&&(s=[_],l(e,"number=",t.to_a(s)),s[r(s.length,1)]),c((u=o.document.$attr("appendix-caption",""))["$empty?"]())?(s=[_+". "],l(e,"caption=",t.to_a(s)),s[r(s.length,1)]):(s=[u+" "+_+": "],l(e,"caption=",t.to_a(s)),s[r(s.length,1)])):c(e.$numbered())?c(c(n=c(a=e.$level()["$=="](1))?a:e.$level()["$=="](0)?e.$special():e.$level()["$=="](0))?o.document.$doctype()["$=="]("book"):n)?(s=[o.document.$counter("chapter-number",1)],l(e,"number=",t.to_a(s)),s[r(s.length,1)]):(s=[o.next_section_number],l(e,"number=",t.to_a(s)),s[r(s.length,1)],o.next_section_number=i(o.next_section_number,1)):$},q.$$arity=1),t.defn(L,"$reindex_sections",N=function(){var t,e=this;return e.next_section_index=0,e.next_section_number=0,l(e.blocks,"each",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=$),e.$context()["$=="]("section")?(n.$assign_index(e),e.$reindex_sections()):$},t.$$s=e,t.$$arity=1,t))},N.$$arity=0)}(p[0],t.const_get_relative(p,"AbstractNode"),p)}(a[0],a)},Opal.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var i=[],a=t.nil,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.hash2,l=t.truthy,c=t.send;return t.add_stubs(["$==","$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$each","$split","$tr","$empty?","$apply_normal_subs","$scan_to_quote","$gsub","$skip","$scan"]),function(i,_){var u,d=u=$(i,"Asciidoctor"),f=(d.$$proto,[d].concat(_));!function(i,$,_){function u(){}var d,f,p,h,g,v,m,y,b,w,k,x,E=u=o(i,null,"AttributeList",u),O=E.$$proto,A=[E].concat(_);O.attributes=O.scanner=O.delimiter=O.block=O.delimiter_skip_pattern=O.delimiter_boundary_pattern=a,t.const_get_qualified("::","RUBY_ENGINE")["$=="]("opal")&&(t.const_set(A[0],"CG_BLANK","[ \\t]"),t.const_set(A[0],"CC_WORD","a-zA-Z0-9_"),t.const_set(A[0],"CG_WORD","[a-zA-Z0-9_]")),t.const_set(A[0],"BoundaryRxs",s(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+t.const_get_relative(A,"CG_BLANK")+"*(,|$))")})),t.const_set(A[0],"EscapedQuoteRxs",s(['"',"'"],{'"':/\\"/,"'":/\\'/})),t.const_set(A[0],"NameRx",new RegExp(t.const_get_relative(A,"CG_WORD")+"["+t.const_get_relative(A,"CC_WORD")+"\\-.]*")),t.const_set(A[0],"BlankRx",new RegExp(t.const_get_relative(A,"CG_BLANK")+"+")),t.const_set(A[0],"SkipRxs",s(["blank",","],{blank:t.const_get_relative(A,"BlankRx"),",":new RegExp(t.const_get_relative(A,"CG_BLANK")+"*(,|$)")})),t.defn(E,"$initialize",d=function(e,n,r){var i=this;return null==n&&(n=a),null==r&&(r=","),i.scanner=t.const_get_qualified("::","StringScanner").$new(e),i.block=n,i.delimiter=r,i.delimiter_skip_pattern=t.const_get_relative(A,"SkipRxs")["$[]"](r),i.delimiter_boundary_pattern=t.const_get_relative(A,"BoundaryRxs")["$[]"](r),i.attributes=a},d.$$arity=-2),t.defn(E,"$parse_into",f=function(t,e){var n=this;return null==e&&(e=[]),t.$update(n.$parse(e))},f.$$arity=-2),t.defn(E,"$parse",p=function(t){var n=this,r=a;if(null==t&&(t=[]),l(n.attributes))return n.attributes;for(n.attributes=s([],{}),r=0;l(n.$parse_attribute(r,t))&&!l(n.scanner["$eos?"]());)n.$skip_delimiter(),r=e(r,1);return n.attributes},p.$$arity=-1),t.defn(E,"$rekey",h=function(e){var n=this;return t.const_get_relative(A,"AttributeList").$rekey(n.attributes,e)},h.$$arity=1),t.defs(E,"$rekey",g=function(r,i){var $,o=this;return c(i,"each_with_index",[],($=function(i,o){$.$$s;var s=a,_=a,u=a;return null==i&&(i=a),null==o&&(o=a),l(i)?(s=e(o,1),l(_=r["$[]"](s))?(u=[i,_],c(r,"[]=",t.to_a(u)),u[n(u.length,1)]):a):a},$.$$s=o,$.$$arity=2,$)),r},g.$$arity=2),t.defn(E,"$parse_attribute",v=function(i,$){var o,s,_,u=this,d=a,f=a,p=a,h=a,g=a,v=a,m=a,y=a,b=a,w=a;if(null==i&&(i=0),null==$&&($=[]),d=!1,u.$skip_blank(),(f=u.scanner.$peek(1))["$=="]('"'))p=u.$parse_attribute_value(u.scanner.$get_byte()),h=a;else if(f["$=="]("'"))p=u.$parse_attribute_value(u.scanner.$get_byte()),h=a,d=!0;else{if(p=u.$scan_name(),g=0,v=a,l(u.scanner["$eos?"]())){if(!l(p))return!1}else g=l(o=u.$skip_blank())?o:0,v=u.scanner.$get_byte();if(l(l(o=v["$!"]())?o:v["$=="](u.delimiter)))h=a;else if(l(l(o=v["$!="]("="))?o:p["$!"]()))p=""+p+r(" ",g)+v+u.$scan_to_delimiter(),h=a;else if(u.$skip_blank(),l(u.scanner.$peek(1)))if((v=u.scanner.$get_byte())["$=="]('"'))h=u.$parse_attribute_value(v);else if(v["$=="]("'"))h=u.$parse_attribute_value(v),d=!0;else if(v["$=="](u.delimiter))h=a;else if((h=""+v+u.$scan_to_delimiter())["$=="]("None"))return!0}return l(h)?(m=p,"options"["$==="](m)||"opts"["$==="](m)?(p="options",c(h.$tr(" ","").$split(","),"each",[],(s=function(e){var r=s.$$s||this,i=a;return null==r.attributes&&(r.attributes=a),null==e&&(e=a),i=[e+"-option",""],c(r.attributes,"[]=",t.to_a(i)),i[n(i.length,1)]},s.$$s=u,s.$$arity=1,s)),y=[p,h],c(u.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]):"title"["$==="](m)?(y=[p,h],c(u.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]):(y=[p,l(l(o=l(_=d)?h["$empty?"]()["$!"]():_)?u.block:o)?u.block.$apply_normal_subs(h):h],c(u.attributes,"[]=",t.to_a(y)),y[n(y.length,1)])):(b=l(l(o=l(_=d)?p["$empty?"]()["$!"]():_)?u.block:o)?u.block.$apply_normal_subs(p):p,l(w=$["$[]"](i))&&(y=[w,b],c(u.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]),y=[e(i,1),b],c(u.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]),!0},v.$$arity=-1),t.defn(E,"$parse_attribute_value",m=function(e){var n=this,r=a;return n.scanner.$peek(1)["$=="](e)?(n.scanner.$get_byte(),""):l(r=n.$scan_to_quote(e))?(n.scanner.$get_byte(),r.$gsub(t.const_get_relative(A,"EscapedQuoteRxs")["$[]"](e),e)):""+e+n.$scan_to_delimiter()},m.$$arity=1),t.defn(E,"$skip_blank",y=function(){return this.scanner.$skip(t.const_get_relative(A,"BlankRx"))},y.$$arity=0),t.defn(E,"$skip_delimiter",b=function(){var t=this;return t.scanner.$skip(t.delimiter_skip_pattern)},b.$$arity=0),t.defn(E,"$scan_name",w=function(){return this.scanner.$scan(t.const_get_relative(A,"NameRx"))},w.$$arity=0),t.defn(E,"$scan_to_delimiter",k=function(){var t=this;return t.scanner.$scan(t.delimiter_boundary_pattern)},k.$$arity=0),t.defn(E,"$scan_to_quote",x=function(e){return this.scanner.$scan(t.const_get_relative(A,"BoundaryRxs")["$[]"](e))},x.$$arity=1)}(f[0],0,f)}(i[0],i)},Opal.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var i=[],a=t.nil,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),function(i,_){var u,d=u=$(i,"Asciidoctor"),f=(d.$$proto,[d].concat(_));!function(i,$,_){function u(){}var d,f,p,h,g=u=o(i,$,"Block",u),v=g.$$proto,m=[g].concat(_),y=a;v.attributes=v.content_model=v.lines=v.subs=v.blocks=v.context=v.style=a,y=["simple"],s(t.const_set(m[0],"DEFAULT_CONTENT_MODEL",l(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",t.to_a(y)),e(y.length,1),t.alias(g,"blockname","context"),g.$attr_accessor("lines"),t.defn(g,"$initialize",d=function(n,r,i){var $,o=this,_=d.$$p,u=a,f=a,p=a,h=a,g=a,v=a;for(null==i&&(i=l([],{})),_&&(d.$$p=null),g=0,v=arguments.length,h=new Array(v);g<v;g++)h[g]=arguments[g];return s(o,t.find_super_dispatcher(o,"initialize",d,!1),h,_),o.content_model=c($=i["$[]"]("content_model"))?$:t.const_get_relative(m,"DEFAULT_CONTENT_MODEL")["$[]"](r),c(i["$key?"]("subs"))?c(u=i["$[]"]("subs"))?(u["$=="]("default")?o.default_subs=i["$[]"]("default_subs"):c(t.const_get_qualified("::","Array")["$==="](u))?(o.default_subs=u.$dup(),o.attributes.$delete("subs")):(o.default_subs=a,f=["subs",""+u],s(o.attributes,"[]=",t.to_a(f)),f[e(f.length,1)]),o.$lock_in_subs()):(o.subs=[],o.default_subs=[],o.attributes.$delete("subs")):(o.subs=[],o.default_subs=a),c((p=i["$[]"]("source"))["$nil_or_empty?"]())?o.lines=[]:c(t.const_get_qualified("::","String")["$==="](p))?o.lines=t.const_get_relative(m,"Helpers").$normalize_lines_from_string(p):o.lines=p.$dup()},d.$$arity=-3),t.defn(g,"$content",f=function(){var e,i=this,$=f.$$p,o=a,l=a,_=a,u=a,d=a,p=a,h=a;for($&&(f.$$p=null),p=0,h=arguments.length,d=new Array(h);p<h;p++)d[p]=arguments[p];return function(){if(o=i.content_model,"compound"["$==="](o))return s(i,t.find_super_dispatcher(i,"content",f,!1),d,$);if("simple"["$==="](o))return i.$apply_subs(n(i.lines,t.const_get_relative(m,"EOL")),i.subs);if("verbatim"["$==="](o)||"raw"["$==="](o)){if(l=i.$apply_subs(i.lines,i.subs),c(r(l.$size(),2)))return l["$[]"](0);for(;c(c(e=_=l["$[]"](0))?_.$rstrip()["$empty?"]():e);)l.$shift();for(;c(c(e=u=l["$[]"](-1))?u.$rstrip()["$empty?"]():e);)l.$pop();return n(l,t.const_get_relative(m,"EOL"))}return i.content_model["$=="]("empty")||i.$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),a}()},f.$$arity=0),t.defn(g,"$source",p=function(){return n(this.lines,t.const_get_relative(m,"EOL"))},p.$$arity=0),t.defn(g,"$to_s",h=function(){var t=this,e=a;return e=t.content_model["$=="]("compound")?"blocks: "+t.blocks.$size():"lines: "+t.lines.$size(),"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", content_model: "+t.content_model.$inspect()+", style: "+t.style.$inspect()+", "+e+"}>"},h.$$arity=0)}(f[0],t.const_get_relative(f,"AbstractBlock"),f)}(i[0],i)},Opal.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var a=[],$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.hash2,c=t.truthy,_=t.send;return t.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),function(a,u){var d,f=d=o(a,"Asciidoctor"),p=(f.$$proto,[f].concat(u));!function(a,o,u){function d(){}var f,p,h,g,v,m,y,b,w,k=d=s(a,null,"Callouts",d),x=k.$$proto;[k].concat(u);x.co_index=x.lists=x.list_index=$,t.defn(k,"$initialize",f=function(){var t=this;return t.lists=[],t.list_index=0,t.$next_list()},f.$$arity=0),t.defn(k,"$register",p=function(t){var n=this,r=$;return n.$current_list()["$<<"](l(["ordinal","id"],{ordinal:t.$to_i(),id:r=n.$generate_next_callout_id()})),n.co_index=e(n.co_index,1),r},p.$$arity=1),t.defn(k,"$read_next_id",h=function(){var t=this,i=$,a=$;return i=$,a=t.$current_list(),c(n(t.co_index,a.$size()))&&(i=a["$[]"](r(t.co_index,1))["$[]"]("id")),t.co_index=e(t.co_index,1),i},h.$$arity=0),t.defn(k,"$callout_ids",g=function(t){var e,n=this;return _(n.$current_list(),"map",[],(e=function(n){e.$$s;return null==n&&(n=$),n["$[]"]("ordinal")["$=="](t)?n["$[]"]("id")+" ":$},e.$$s=n,e.$$arity=1,e)).$join().$chop()},g.$$arity=1),t.defn(k,"$current_list",v=function(){var t=this;return t.lists["$[]"](r(t.list_index,1))},v.$$arity=0),t.defn(k,"$next_list",m=function(){var t=this;return t.list_index=e(t.list_index,1),c(i(t.lists.$size(),t.list_index))&&t.lists["$<<"]([]),t.co_index=1,$},m.$$arity=0),t.defn(k,"$rewind",y=function(){var t=this;return t.list_index=1,t.co_index=1,$},y.$$arity=0),t.defn(k,"$generate_next_callout_id",b=function(){var t=this;return t.$generate_callout_id(t.list_index,t.co_index)},b.$$arity=0),t.defn(k,"$generate_callout_id",w=function(t,e){return"CO"+t+"-"+e},w.$$arity=2)}(p[0],0,p)}(a[0],a)},Opal.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var a=[],$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.truthy,c=t.send,_=t.hash2,u=t.range;return t.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$tr_s","$gsub","$empty?","$!","$rpartition","$delete","$base_dir","$inject","$references","$==","$callouts","$dup","$attributes","$each","$safe","$compat_mode","$sourcemap","$converter","$extensions","$start_with?","$end_with?","$chop","$downcase","$===","$const_get","$upcase","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$find","$constants","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$now","$strftime","$join","$build_registry","$to_proc","$activate","$preprocessors?","$preprocessors","$process_method","$treeprocessors?","$treeprocessors","$!=","$nil_or_empty?","$nextval","$counter","$save_to","$chr","$ord","$source","$source_lines","$title=","$title","$first_section","$title?","$merge","$has_header?","$context","$assign_index","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$has_key?","$rewind","$name","$negate","$value","$limit","$apply_attribute_value_subs","$delete?","$update_doctype_attributes","$match","$resolve_pass_subs","$apply_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$backend","$default","$create","$fail","$doctype","$content_model","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$open","$map","$split","$&","$normalize_system_path","$read_asset","$resolve_docinfo_subs","$sub_attributes","$docinfo_processors?","$*","$compact","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),function(a,d){var f,p=f=o(a,"Asciidoctor"),h=(p.$$proto,[p].concat(d));!function(a,o,d){function f(){}var p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot=f=s(a,o,"Document",f),st=ot.$$proto,lt=[ot].concat(d);st.attributes=st.safe=st.reader=st.base_dir=st.parsed=st.parent_document=st.extensions=st.options=st.counters=st.references=st.doctype=st.backend=st.header=st.blocks=st.attributes_modified=st.id=st.callouts=st.header_attributes=st.max_attribute_value_size=st.attribute_overrides=st.converter=st.outfilesuffix=st.docinfo_processor_extensions=st.document=$,t.const_set(lt[0],"Footnote",t.const_get_qualified("::","Struct").$new("index","id","text")),function(n,r,i){function a(){}var o,_,u=a=s(n,null,"AttributeEntry",a);u.$$proto,[u].concat(i);u.$attr_reader("name","value","negate"),t.defn(u,"$initialize",o=function(t,e,n){var r=this;return null==n&&(n=$),r.name=t,r.value=e,r.negate=l(n["$nil?"]())?e["$nil?"]():n},o.$$arity=-3),t.defn(u,"$save_to",_=function(n){var r,i=this,a=$;return(l(r=n["$[]"]("attribute_entries"))?r:(a=["attribute_entries",[]],c(n,"[]=",t.to_a(a)),a[e(a.length,1)]))["$<<"](i)},_.$$arity=1)}(lt[0],0,lt),function(e,n,r){function i(){}var a,o,c,u,d=i=s(e,null,"Title",i),f=d.$$proto,p=[d].concat(r);f.sanitized=f.subtitle=f.combined=$,d.$attr_reader("main"),t.alias(d,"title","main"),d.$attr_reader("subtitle"),d.$attr_reader("combined"),t.defn(d,"$initialize",a=function(e,n){var r,i,a=this,o=$;return null==n&&(n=_([],{})),l(l(r=a.sanitized=n["$[]"]("sanitize"))?e["$include?"]("<"):r)&&(e=e.$gsub(t.const_get_relative(p,"XmlSanitizeRx"),"").$tr_s(" "," ").$strip()),l(l(r=(o=l(i=n["$[]"]("separator"))?i:":")["$empty?"]())?r:e["$include?"](o+=" ")["$!"]())?(a.main=e,a.subtitle=$):(i=e.$rpartition(o),r=t.to_ary(i),a.main=null==r[0]?$:r[0],null==r[1]?$:r[1],a.subtitle=null==r[2]?$:r[2]),a.combined=e},a.$$arity=-2),t.defn(d,"$sanitized?",o=function(){return this.sanitized},o.$$arity=0),t.defn(d,"$subtitle?",c=function(){return this.subtitle["$!"]()["$!"]()},c.$$arity=0),t.defn(d,"$to_s",u=function(){return this.combined},u.$$arity=0)}(lt[0],0,lt),ot.$attr_reader("safe"),ot.$attr_reader("compat_mode"),ot.$attr_reader("sourcemap"),ot.$attr_reader("references"),ot.$attr_reader("counters"),ot.$attr_reader("callouts"),ot.$attr_reader("header"),ot.$attr_reader("base_dir"),ot.$attr_reader("options"),ot.$attr_reader("outfilesuffix"),ot.$attr_reader("parent_document"),ot.$attr_reader("reader"),ot.$attr_reader("converter"),ot.$attr_reader("extensions"),t.defn(ot,"$initialize",p=function(i,a){var o,s,d,f,h,g,v,m,y,b=this,w=p.$$p,k=$,x=$,E=$,O=$,A=$,S=$,R=$,M=$,T=$,I=$,C=$,q=$,N=$,L=$,z=$,P=$;if(null==i&&(i=$),null==a&&(a=_([],{})),w&&(p.$$p=null),c(b,t.find_super_dispatcher(b,"initialize",p,!1),[b,"document"],null),l(k=a.$delete("parent")))b.parent_document=k,l(o=a["$[]"]("base_dir"))||(x=["base_dir",k.$base_dir()],c(a,"[]=",t.to_a(x)),x[e(x.length,1)]),b.references=c(k.$references(),"inject",[_([],{})],(s=function(n,r){var i,a,o;s.$$s;return null==r&&(r=$),r=t.to_ary(r),i=t.slice.call(r,0,r.length),null==(a=i.splice(0,1)[0])&&(a=$),null==(o=i.splice(0,1)[0])&&(o=$),null==n&&(n=$),a["$=="]("footnotes")?(x=["footnotes",[]],c(n,"[]=",t.to_a(x)),x[e(x.length,1)]):(x=[a,o],c(n,"[]=",t.to_a(x)),x[e(x.length,1)]),n},s.$$s=b,s.$$arity=2,s.$$has_top_level_mlhs_arg=!0,s)),b.callouts=k.$callouts(),E=k.$attributes().$dup(),c(["doctype","compat-mode","toc","toc-placement","toc-position"],"each",[],(d=function(t){d.$$s;return null==t&&(t=$),E.$delete(t)},d.$$s=b,d.$$arity=1,d)),b.attribute_overrides=E,b.safe=k.$safe(),b.compat_mode=k.$compat_mode(),b.sourcemap=k.$sourcemap(),b.converter=k.$converter(),O=!1,b.extensions=k.$extensions();else{if(b.parent_document=$,b.references=_(["ids","footnotes","links","images","indexterms","includes"],{ids:_([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:t.const_get_qualified("::","Set").$new()}),b.callouts=t.const_get_relative(lt,"Callouts").$new(),E=_([],{}),c(l(o=a["$[]"]("attributes"))?o:_([],{}),"each",[],(f=function(n,r){f.$$s;return null==n&&(n=$),null==r&&(r=$),l(n["$start_with?"]("!"))?(n=n["$[]"](u(1,-1,!1)),r=$):l(n["$end_with?"]("!"))&&(n=n.$chop(),r=$),x=[n.$downcase(),r],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]},f.$$s=b,f.$$arity=2,f)),b.attribute_overrides=E,l((A=a["$[]"]("safe"))["$!"]()))b.safe=t.const_get_qualified(t.const_get_relative(lt,"SafeMode"),"SECURE");else if(l(t.const_get_qualified("::","Integer")["$==="](A)))b.safe=A;else try{b.safe=t.const_get_relative(lt,"SafeMode").$const_get(A.$to_s().$upcase())}catch(e){if(!t.rescue(e,[t.const_get_relative(lt,"StandardError")]))throw e;try{b.safe=t.const_get_qualified(t.const_get_relative(lt,"SafeMode"),"SECURE")}finally{t.pop_exception()}}b.compat_mode=E["$key?"]("compat-mode"),b.sourcemap=a["$[]"]("sourcemap"),b.converter=$,O=(h=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(o=t.const_get_qualified(h,"Extensions","skip_raise"))?"constant":$,b.extensions=$}if(b.parsed=!1,b.header=$,b.counters=_([],{}),b.attributes_modified=t.const_get_qualified("::","Set").$new(),b.options=a,b.docinfo_processor_extensions=_([],{}),S=l(g=a["$[]"]("header_footer"))?g:(x=["header_footer",!1],c(a,"[]=",t.to_a(x)),x[e(x.length,1)]),a.$freeze(),R=b.attributes,x=["sectids",""],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],l(S)||(x=["notitle",""],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),x=["toc-placement","auto"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["stylesheet",""],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["webfonts",""],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],l(S)&&(x=["copycss",""],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),x=["prewrap",""],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["attribute-undefined",t.const_get_relative(lt,"Compliance").$attribute_undefined()],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["attribute-missing",t.const_get_relative(lt,"Compliance").$attribute_missing()],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["iconfont-remote",""],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["caution-caption","Caution"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["important-caption","Important"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["note-caption","Note"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["tip-caption","Tip"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["warning-caption","Warning"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["appendix-caption","Appendix"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["example-caption","Example"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["figure-caption","Figure"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["table-caption","Table"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["toc-title","Table of Contents"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["manname-title","NAME"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["untitled-label","Untitled"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["version-label","Version"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["last-update-label","Last updated"],c(R,"[]=",t.to_a(x)),x[e(x.length,1)],x=["asciidoctor",""],c(E,"[]=",t.to_a(x)),x[e(x.length,1)],x=["asciidoctor-version",t.const_get_relative(lt,"VERSION")],c(E,"[]=",t.to_a(x)),x[e(x.length,1)],M=c(t.const_get_relative(lt,"SafeMode").$constants(),"find",[],(v=function(e){var n=v.$$s||this;return null==n.safe&&(n.safe=$),null==e&&(e=$),t.const_get_relative(lt,"SafeMode").$const_get(e)["$=="](n.safe)},v.$$s=b,v.$$arity=1,v)).$to_s().$downcase(),x=["safe-mode-name",M],c(E,"[]=",t.to_a(x)),x[e(x.length,1)],x=["safe-mode-"+M,""],c(E,"[]=",t.to_a(x)),x[e(x.length,1)],x=["safe-mode-level",b.safe],c(E,"[]=",t.to_a(x)),x[e(x.length,1)],x=["embedded",l(S)?$:""],c(E,"[]=",t.to_a(x)),x[e(x.length,1)],l(g=E["$[]"]("max-include-depth"))||(x=["max-include-depth",64],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(g=E["$[]"]("allow-uri-read"))||(x=["allow-uri-read",$],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),x=["user-home",t.const_get_relative(lt,"USER_HOME")],c(E,"[]=",t.to_a(x)),x[e(x.length,1)],l(E["$key?"]("numbered"))&&(x=["sectnums",E.$delete("numbered")],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(a["$[]"]("base_dir"))?b.base_dir=(x=["docdir",t.const_get_qualified("::","File").$expand_path(a["$[]"]("base_dir"))],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]):l(E["$[]"]("docdir"))?b.base_dir=(x=["docdir",t.const_get_qualified("::","File").$expand_path(E["$[]"]("docdir"))],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]):b.base_dir=(x=["docdir",t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","Dir").$pwd())],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(T=a["$[]"]("backend"))&&(x=["backend",""+T],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(I=a["$[]"]("doctype"))&&(x=["doctype",""+I],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(n(b.safe,t.const_get_qualified(t.const_get_relative(lt,"SafeMode"),"SERVER")))&&(l(g=E["$[]"]("copycss"))||(x=["copycss",$],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(g=E["$[]"]("source-highlighter"))||(x=["source-highlighter",$],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(g=E["$[]"]("backend"))||(x=["backend",t.const_get_relative(lt,"DEFAULT_BACKEND")],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(l(g=k["$!"]())?E["$key?"]("docfile"):g)&&(x=["docfile",E["$[]"]("docfile")["$[]"](t.Range.$new(r(E["$[]"]("docdir").$length(),1),-1,!1))],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),x=["docdir",""],c(E,"[]=",t.to_a(x)),x[e(x.length,1)],x=["user-home","."],c(E,"[]=",t.to_a(x)),x[e(x.length,1)],l(n(b.safe,t.const_get_qualified(t.const_get_relative(lt,"SafeMode"),"SECURE")))&&(l(E["$key?"]("max-attribute-value-size"))||(x=["max-attribute-value-size",4096],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(E.$fetch("linkcss","")["$nil?"]())||(x=["linkcss",""],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]),l(g=E["$[]"]("icons"))||(x=["icons",$],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]))),b.max_attribute_value_size=l(C=l(g=E["$[]"]("max-attribute-value-size"))?g:(x=["max-attribute-value-size",$],c(E,"[]=",t.to_a(x)),x[e(x.length,1)]))?C.$to_i().$abs():$,c(E,"delete_if",[],(m=function(n,r){m.$$s;var i,a=$;return null==n&&(n=$),null==r&&(r=$),a=!1,l(r["$nil?"]())?R.$delete(n):(l(l(i=t.const_get_qualified("::","String")["$==="](r))?r["$end_with?"]("@"):i)&&(r=r.$chop(),a=!0),x=[n,r],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),a},m.$$s=b,m.$$arity=2,m)),l(k))return l(g=R["$[]"]("doctype"))||(x=["doctype",t.const_get_relative(lt,"DEFAULT_DOCTYPE")],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),b.reader=t.const_get_relative(lt,"Reader").$new(i,a["$[]"]("cursor")),t.const_get_relative(lt,"Parser").$parse(b.reader,b),b.$restore_attributes(),b.parsed=!0;if((l(g=R["$[]"]("backend"))?g:(x=["backend",t.const_get_relative(lt,"DEFAULT_BACKEND")],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]))["$=="]("manpage")?(x=["doctype",(x=["doctype","manpage"],c(E,"[]=",t.to_a(x)),x[e(x.length,1)])],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]):l(g=R["$[]"]("doctype"))||(x=["doctype",t.const_get_relative(lt,"DEFAULT_DOCTYPE")],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),b.$update_backend_attributes(R["$[]"]("backend"),!0),q=l(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?t.const_get_qualified("::","Time").$at(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc():t.const_get_qualified("::","Time").$now(),N=l(g=R["$[]"]("localdate"))?g:(x=["localdate",q.$strftime("%Y-%m-%d")],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),l(L=R["$[]"]("localtime")));else try{x=["localtime",q.$strftime("%H:%M:%S %Z")],c(R,"[]=",t.to_a(x)),L=x[e(x.length,1)]}catch(n){if(!t.rescue(n,[t.const_get_relative(lt,"StandardError")]))throw n;try{x=["localtime",q.$strftime("%H:%M:%S %z")],c(R,"[]=",t.to_a(x)),L=x[e(x.length,1)]}finally{t.pop_exception()}}return l(g=R["$[]"]("localdatetime"))||(x=["localdatetime",N+" "+L],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),l(g=R["$[]"]("docdate"))||(x=["docdate",N],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),l(g=R["$[]"]("doctime"))||(x=["doctime",L],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),l(g=R["$[]"]("docdatetime"))||(x=["docdatetime",N+" "+L],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),l(g=R["$[]"]("stylesdir"))||(x=["stylesdir","."],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),l(g=R["$[]"]("iconsdir"))||(x=["iconsdir",t.const_get_qualified("::","File").$join(R.$fetch("imagesdir","./images"),"icons")],c(R,"[]=",t.to_a(x)),x[e(x.length,1)]),l(O)&&(l(z=a["$[]"]("extensions_registry"))?l(l(g=t.const_get_qualified(t.const_get_relative(lt,"Extensions"),"Registry")["$==="](z))?g:l(y=t.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?t.const_get_qualified(t.const_get_qualified(t.const_get_qualified("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](z):y)||(z=t.const_get_qualified(t.const_get_relative(lt,"Extensions"),"Registry").$new()):z=l(t.const_get_qualified("::","Proc")["$==="](P=a["$[]"]("extensions")))?c(t.const_get_relative(lt,"Extensions"),"build_registry",[],P.$to_proc()):t.const_get_qualified(t.const_get_relative(lt,"Extensions"),"Registry").$new(),b.extensions=z.$activate(b)),b.reader=t.const_get_relative(lt,"PreprocessorReader").$new(b,i,t.const_get_qualified(t.const_get_relative(lt,"Reader"),"Cursor").$new(R["$[]"]("docfile"),b.base_dir))},p.$$arity=-1),t.defn(ot,"$parse",h=function(e){var n,r,i,a=this,o=$,s=$;return null==e&&(e=$),l(a.parsed)?a:(o=a,l(e)&&(a.reader=t.const_get_relative(lt,"PreprocessorReader").$new(o,e,t.const_get_qualified(t.const_get_relative(lt,"Reader"),"Cursor").$new(a.attributes["$[]"]("docfile"),a.base_dir))),l(l(n=s=l(a.parent_document)?$:a.extensions)?s["$preprocessors?"]():n)&&c(s.$preprocessors(),"each",[],(r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=$),null==t&&(t=$),n.reader=l(e=t.$process_method()["$[]"](o,n.reader))?e:n.reader},r.$$s=a,r.$$arity=1,r)),t.const_get_relative(lt,"Parser").$parse(a.reader,o,_(["header_only"],{header_only:a.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),a.$restore_attributes(),l(l(n=s)?s["$treeprocessors?"]():n)&&c(s.$treeprocessors(),"each",[],(i=function(e){i.$$s;var n,r,a=$;return null==e&&(e=$),l(l(n=l(r=a=e.$process_method()["$[]"](o))?t.const_get_relative(lt,"Document")["$==="](a):r)?a["$!="](o):n)?o=a:$},i.$$s=a,i.$$arity=1,i)),a.parsed=!0,o)},h.$$arity=-1),t.defn(ot,"$counter",g=function(n,r){var i,a=this,o=$,s=$,_=$;return null==r&&(r=$),l(l(i=o=(s=a.attributes["$[]"](n))["$nil_or_empty?"]()["$!"]())?a.counters["$key?"](n):i)?(_=[n,a.$nextval(s)],c(a.counters,"[]=",t.to_a(_)),_[e(_.length,1)]):(l(r["$nil?"]())?r=a.$nextval(l(o)?s:0):r.$to_i().$to_s()["$=="](r)&&(r=r.$to_i()),_=[n,r],c(a.counters,"[]=",t.to_a(_)),_[e(_.length,1)]),_=[n,a.counters["$[]"](n)],c(a.attributes,"[]=",t.to_a(_)),_[e(_.length,1)]},g.$$arity=-2),t.defn(ot,"$counter_increment",v=function(e,n){var r=$;return r=this.$counter(e),t.const_get_relative(lt,"AttributeEntry").$new(e,r).$save_to(n.$attributes()),r},v.$$arity=2),t.defn(ot,"$nextval",m=function(e){var n=$;return l(t.const_get_qualified("::","Integer")["$==="](e))?r(e,1):(n=e.$to_i(),l(n.$to_s()["$!="](e.$to_s()))?r(e["$[]"](0).$ord(),1).$chr():r(n,1))},m.$$arity=1),t.defn(ot,"$register",y=function(n,i,a){var o,s=this,_=$,u=$,d=$,f=$,p=$;return null==a&&(a=!1),_=n,"ids"["$==="](_)?(o=[].concat(t.to_a(i)),u=null==o[0]?$:o[0],d=null==o[1]?$:o[1],d=l(o=d)?o:r(r("[",u),"]"),l(a)?(f=[u,d],c(s.references["$[]"]("ids"),"[]=",t.to_a(f)),f[e(f.length,1)]):(p=s.references["$[]"]("ids"),l(o=p["$[]"](u))?o:(f=[u,d],c(p,"[]=",t.to_a(f)),f[e(f.length,1)]))):"footnotes"["$==="](_)||"indexterms"["$==="](_)?s.references["$[]"](n)["$<<"](i):l(s.options["$[]"]("catalog_assets"))?s.references["$[]"](n)["$<<"](i):$},y.$$arity=-3),t.defn(ot,"$footnotes?",b=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},b.$$arity=0),t.defn(ot,"$footnotes",w=function(){return this.references["$[]"]("footnotes")},w.$$arity=0),t.defn(ot,"$nested?",k=function(){return this.parent_document["$!"]()["$!"]()},k.$$arity=0),t.defn(ot,"$embedded?",x=function(){return this.attributes["$key?"]("embedded")},x.$$arity=0),t.defn(ot,"$extensions?",E=function(){return this.extensions["$!"]()["$!"]()},E.$$arity=0),t.defn(ot,"$source",O=function(){var t=this;return l(t.reader)?t.reader.$source():$},O.$$arity=0),t.defn(ot,"$source_lines",A=function(){var t=this;return l(t.reader)?t.reader.$source_lines():$},A.$$arity=0),t.defn(ot,"$doctype",S=function(){var t,e=this;return e.doctype=l(t=e.doctype)?t:e.attributes["$[]"]("doctype")},S.$$arity=0),t.defn(ot,"$backend",R=function(){var t,e=this;return e.backend=l(t=e.backend)?t:e.attributes["$[]"]("backend")},R.$$arity=0),t.defn(ot,"$basebackend?",M=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},M.$$arity=1),t.defn(ot,"$title",T=function(){return this.attributes["$[]"]("title")},T.$$arity=0),t.defn(ot,"$title=",I=function(n){var r,i=this,a=$;return i.header=l(r=i.header)?r:t.const_get_relative(lt,"Section").$new(i,0),a=[n],c(i.header,"title=",t.to_a(a)),a[e(a.length,1)]},I.$$arity=1),t.defn(ot,"$doctitle",C=function(e){var n,r=this,i=$,a=$,o=$;if(null==e&&(e=_([],{})),l((i=r.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))i=r.$title();else if(l(l(n=a=r.$first_section())?a["$title?"]():n))i=a.$title();else if(!l(l(n=e["$[]"]("use_fallback"))?i=r.attributes["$[]"]("untitled-label"):n))return $;return l(o=e["$[]"]("partition"))?t.const_get_relative(lt,"Title").$new(i,e.$merge(_(["separator"],{separator:o["$=="](!0)?r.attributes["$[]"]("title-separator"):o}))):l(l(n=e["$[]"]("sanitize"))?i["$include?"]("<"):n)?i.$gsub(t.const_get_relative(lt,"XmlSanitizeRx"),"").$tr_s(" "," ").$strip():i},C.$$arity=-1),t.alias(ot,"name","doctitle"),t.defn(ot,"$author",q=function(){return this.attributes["$[]"]("author")},q.$$arity=0),t.defn(ot,"$revdate",N=function(){return this.attributes["$[]"]("revdate")},N.$$arity=0),t.defn(ot,"$notitle",L=function(){var t,e=this;return l(t=e.attributes["$key?"]("showtitle")["$!"]())?e.attributes["$key?"]("notitle"):t},L.$$arity=0),t.defn(ot,"$noheader",z=function(){return this.attributes["$key?"]("noheader")},z.$$arity=0),t.defn(ot,"$nofooter",P=function(){return this.attributes["$key?"]("nofooter")},P.$$arity=0),t.defn(ot,"$first_section",D=function(){var t,e,n=this;return l(n["$has_header?"]())?n.header:c(l(t=n.blocks)?t:[],"find",[],(e=function(t){e.$$s;return null==t&&(t=$),t.$context()["$=="]("section")},e.$$s=n,e.$$arity=1,e))},D.$$arity=0),t.defn(ot,"$has_header?",B=function(){return!!l(this.header)},B.$$arity=0),t.alias(ot,"header?","has_header?"),t.defn(ot,"$<<",j=function(e){var n=this,r=j.$$p,i=$,a=$,o=$;for(r&&(j.$$p=null),a=0,o=arguments.length,i=new Array(o);a<o;a++)i[a]=arguments[a];return e.$context()["$=="]("section")&&n.$assign_index(e),c(n,t.find_super_dispatcher(n,"<<",j,!1),i,r)},j.$$arity=1),t.defn(ot,"$finalize_header",F=function(n,r){var i=this,a=$;return null==r&&(r=!0),i.$clear_playback_attributes(n),i.$save_attributes(),l(r)||(a=["invalid-header",!0],c(n,"[]=",t.to_a(a)),a[e(a.length,1)]),n},F.$$arity=-2),t.defn(ot,"$save_attributes",U=function(){var n,r,i,a=this,o=$,s=$,_=$,u=$,d=$,f=$,p=$,h=$,g=$,v=$;return(o=a.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(l(l(n=a["$attribute_locked?"]("toc"))?n:a.attributes_modified["$include?"]("toc"))||(s=["toc",""],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]),l(l(n=a["$attribute_locked?"]("sectnums"))?n:a.attributes_modified["$include?"]("sectnums"))||(s=["sectnums",""],c(o,"[]=",t.to_a(s)),s[e(s.length,1)])),l(l(n=o["$key?"]("doctitle"))?n:(_=a.$doctitle())["$!"]())||(s=["doctitle",_],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]),l(a.id)||(a.id=o["$[]"]("css-signature")),u=l(d=l(o.$delete("toc2"))?"left":o["$[]"]("toc"))?l(l(n=f=o.$fetch("toc-placement","macro"))?f["$!="]("auto"):n)?f:o["$[]"]("toc-position"):$,l(l(n=d)?l(r=d["$empty?"]()["$!"]())?r:u["$nil_or_empty?"]()["$!"]():n)&&(p="left",h="toc2",g=l(u["$nil_or_empty?"]()["$!"]())?u:l(d["$empty?"]()["$!"]())?d:p,s=["toc",""],c(o,"[]=",t.to_a(s)),s[e(s.length,1)],s=["toc-placement","auto"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)],v=g,"left"["$==="](v)||"<"["$==="](v)||"&lt;"["$==="](v)?(s=["toc-position","left"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]):"right"["$==="](v)||">"["$==="](v)||"&gt;"["$==="](v)?(s=["toc-position","right"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]):"top"["$==="](v)||"^"["$==="](v)?(s=["toc-position","top"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]):"bottom"["$==="](v)||"v"["$==="](v)?(s=["toc-position","bottom"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]):"preamble"["$==="](v)||"macro"["$==="](v)?(s=["toc-position","content"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)],s=["toc-placement",g],c(o,"[]=",t.to_a(s)),s[e(s.length,1)],h=$):(o.$delete("toc-position"),h=$),l(h)&&(l(n=o["$[]"]("toc-class"))||(s=["toc-class",h],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]))),l(o["$key?"]("compat-mode"))?(l(o["$has_key?"]("language"))&&(s=["source-language",o["$[]"]("language")],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]),a.compat_mode=!0):a.compat_mode=!1,a.outfilesuffix=o["$[]"]("outfilesuffix"),a.header_attributes=o.$dup(),l(a.parent_document)?$:c(t.const_get_relative(lt,"FLEXIBLE_ATTRIBUTES"),"each",[],(i=function(t){var e,n=i.$$s||this;return null==n.attribute_overrides&&(n.attribute_overrides=$),null==t&&(t=$),l(l(e=n.attribute_overrides["$key?"](t))?n.attribute_overrides["$[]"](t):e)?n.attribute_overrides.$delete(t):$},i.$$s=a,i.$$arity=1,i))},U.$$arity=0),t.defn(ot,"$restore_attributes",G=function(){var t=this;return l(t.parent_document)||t.callouts.$rewind(),t.attributes=t.header_attributes},G.$$arity=0),t.defn(ot,"$clear_playback_attributes",H=function(t){return t.$delete("attribute_entries")},H.$$arity=1),t.defn(ot,"$playback_attributes",Y=function(n){var r,i=this;return l(n["$key?"]("attribute_entries"))?c(n["$[]"]("attribute_entries"),"each",[],(r=function(n){var i=r.$$s||this,a=$,o=$;return null==i.attributes&&(i.attributes=$),null==n&&(n=$),a=n.$name(),l(n.$negate())?(i.attributes.$delete(a),a["$=="]("compat-mode")?i.compat_mode=!1:$):(o=[a,n.$value()],c(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],a["$=="]("compat-mode")?i.compat_mode=!0:$)},r.$$s=i,r.$$arity=1,r)):$},Y.$$arity=1),t.defn(ot,"$set_attribute",K=function(n,r){var i=this,a=$,o=$,s=$;return!l(i["$attribute_locked?"](n))&&(a=l(i.max_attribute_value_size)?i.$apply_attribute_value_subs(r).$limit(i.max_attribute_value_size):i.$apply_attribute_value_subs(r),o=n,"backend"["$==="](o)?i.$update_backend_attributes(a,i.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]()):"doctype"["$==="](o)?i.$update_doctype_attributes(a):(s=[n,a],c(i.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]),i.attributes_modified["$<<"](n),!0)},K.$$arity=2),t.defn(ot,"$delete_attribute",W=function(t){var e=this;return!l(e["$attribute_locked?"](t))&&(e.attributes.$delete(t),e.attributes_modified["$<<"](t),!0)},W.$$arity=1),t.defn(ot,"$attribute_locked?",X=function(t){return this.attribute_overrides["$key?"](t)},X.$$arity=1),t.defn(ot,"$apply_attribute_value_subs",V=function(e){var n=this,r=$,i=$;return l(r=t.const_get_relative(lt,"AttributeEntryPassMacroRx").$match(e))?l(r["$[]"](1)["$empty?"]()["$!"]())?(i=n.$resolve_pass_subs(r["$[]"](1)),l(i["$empty?"]())?r["$[]"](2):n.$apply_subs(r["$[]"](2),i)):r["$[]"](2):n.$apply_header_subs(e)},V.$$arity=1),t.defn(ot,"$update_backend_attributes",J=function(n,r){var i,a,o=this,s=$,_=$,d=$,f=$,p=$,h=$,g=$,v=$,m=$,y=$,b=$;return null==r&&(r=!1),l(l(i=r)?i:l(a=n)?n["$!="](o.attributes["$[]"]("backend")):a)?(s=o.attributes,_=s["$[]"]("backend"),d=s["$[]"]("basebackend"),f=s["$[]"]("doctype"),l(n["$start_with?"]("xhtml"))?(p=["htmlsyntax","xml"],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],n=n["$[]"](u(1,-1,!1))):l(n["$start_with?"]("html"))&&(s["$[]"]("htmlsyntax")["$=="]("xml")||(p=["htmlsyntax","html"],c(s,"[]=",t.to_a(p)),p[e(p.length,1)])),l(h=t.const_get_relative(lt,"BACKEND_ALIASES")["$[]"](n))&&(n=h),l(_)&&(s.$delete("backend-"+_),l(f)&&s.$delete("backend-"+_+"-doctype-"+f)),l(f)&&(p=["doctype-"+f,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],p=["backend-"+n+"-doctype-"+f,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)]),p=["backend",n],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],p=["backend-"+n,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],l(t.const_get_qualified(t.const_get_relative(lt,"Converter"),"BackendInfo")["$==="](o.converter=o.$create_converter()))?(g=o.converter.$basebackend(),l(o["$attribute_locked?"]("outfilesuffix"))||(p=["outfilesuffix",o.converter.$outfilesuffix()],c(s,"[]=",t.to_a(p)),p[e(p.length,1)]),v=o.converter.$filetype()):(g=n.$sub(t.const_get_relative(lt,"TrailingDigitsRx"),""),v=(m=l(i=t.const_get_relative(lt,"DEFAULT_EXTENSIONS")["$[]"](g))?i:".html")["$[]"](u(1,-1,!1)),l(o["$attribute_locked?"]("outfilesuffix"))||(p=["outfilesuffix",m],c(s,"[]=",t.to_a(p)),p[e(p.length,1)])),l(y=s["$[]"]("filetype"))&&s.$delete("filetype-"+y),p=["filetype",v],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],p=["filetype-"+v,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],l(b=t.const_get_relative(lt,"DEFAULT_PAGE_WIDTHS")["$[]"](g))?(p=["pagewidth",b],c(s,"[]=",t.to_a(p)),p[e(p.length,1)]):s.$delete("pagewidth"),l(g["$!="](d))&&(l(d)&&(s.$delete("basebackend-"+d),l(f)&&s.$delete("basebackend-"+d+"-doctype-"+f)),p=["basebackend",g],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],p=["basebackend-"+g,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],l(f)&&(p=["basebackend-"+g+"-doctype-"+f,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)])),o.backend=$):$},J.$$arity=-2),t.defn(ot,"$update_doctype_attributes",Z=function(n){var r,i=this,a=$,o=$,s=$,_=$,u=$;return l(l(r=n)?n["$!="](i.attributes["$[]"]("doctype")):r)?(a=i.attributes,o=a["$[]"]("doctype"),s=a["$[]"]("backend"),_=a["$[]"]("basebackend"),l(o)&&(a.$delete("doctype-"+o),l(s)&&a.$delete("backend-"+s+"-doctype-"+o),l(_)&&a.$delete("basebackend-"+_+"-doctype-"+o)),u=["doctype",n],c(a,"[]=",t.to_a(u)),u[e(u.length,1)],u=["doctype-"+n,""],c(a,"[]=",t.to_a(u)),u[e(u.length,1)],l(s)&&(u=["backend-"+s+"-doctype-"+n,""],c(a,"[]=",t.to_a(u)),u[e(u.length,1)]),l(_)&&(u=["basebackend-"+_+"-doctype-"+n,""],c(a,"[]=",t.to_a(u)),u[e(u.length,1)]),i.doctype=$):$},Z.$$arity=1),t.defn(ot,"$create_converter",Q=function(){var n=this,r=$,i=$,a=$,o=$,s=$;return r=_([],{}),i=["htmlsyntax",n.attributes["$[]"]("htmlsyntax")],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],a=l(o=n.options["$[]"]("template_dir"))?(i=["template_dirs",[o]],c(r,"[]=",t.to_a(i)),i[e(i.length,1)]):l(a=n.options["$[]"]("template_dirs"))?(i=["template_dirs",a],c(r,"[]=",t.to_a(i)),i[e(i.length,1)]):$,l(a)&&(i=["template_cache",n.options.$fetch("template_cache",!0)],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],i=["template_engine",n.options["$[]"]("template_engine")],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],i=["template_engine_options",n.options["$[]"]("template_engine_options")],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],i=["eruby",n.options["$[]"]("eruby")],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],i=["safe",n.safe],c(r,"[]=",t.to_a(i)),i[e(i.length,1)]),(l(s=n.options["$[]"]("converter"))?t.const_get_qualified(t.const_get_relative(lt,"Converter"),"Factory").$new(t.const_get_qualified("::","Hash")["$[]"](n.$backend(),s)):t.const_get_qualified(t.const_get_relative(lt,"Converter"),"Factory").$default(!1)).$create(n.$backend(),r)},Q.$$arity=0),t.defn(ot,"$convert",tt=function(r){var i,a,o=this,s=$,u=$,d=$,f=$,p=$;return null==r&&(r=_([],{})),l(o.parsed)||o.$parse(),l(l(i=n(o.safe,t.const_get_qualified(t.const_get_relative(lt,"SafeMode"),"SERVER")))?i:r["$empty?"]())||(l((s=["outfile",r["$[]"]("outfile")],c(o.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]))||o.attributes.$delete("outfile"),l((s=["outdir",r["$[]"]("outdir")],c(o.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]))||o.attributes.$delete("outdir")),l(o.converter)||o.$fail("asciidoctor: FAILED: missing converter for backend '"+o.$backend()+"'. Processing aborted."),o.$doctype()["$=="]("inline")?d=l(l(i=u=o.blocks["$[]"](0))?u.$content_model()["$!="]("compound"):i)?u.$content():$:(f=l(l(r["$key?"]("header_footer"))?r["$[]"]("header_footer"):o.options["$[]"]("header_footer"))?"document":"embedded",d=o.converter.$convert(o,f)),l(o.parent_document)||l(l(i=p=o.extensions)?p["$postprocessors?"]():i)&&c(p.$postprocessors(),"each",[],(a=function(t){var e=a.$$s||this;return null==t&&(t=$),d=t.$process_method()["$[]"](e,d)},a.$$s=o,a.$$arity=1,a)),d},tt.$$arity=-1),t.alias(ot,"render","convert"),t.defn(ot,"$write",et=function(e,n){var r,i=this;return l(t.const_get_relative(lt,"Writer")["$==="](i.converter))?i.converter.$write(e,n):(l(n["$respond_to?"]("write"))?l(e["$nil_or_empty?"]())||(n.$write(e.$chomp()),n.$write(t.const_get_relative(lt,"EOL"))):c(t.const_get_qualified("::","File"),"open",[n,"w"],(r=function(t){r.$$s;return null==t&&(t=$),t.$write(e)},r.$$s=i,r.$$arity=1,r)),$)},et.$$arity=2),t.defn(ot,"$content",nt=function(){var e=this,n=nt.$$p,r=$,i=$,a=$;for(n&&(nt.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return e.attributes.$delete("title"),c(e,t.find_super_dispatcher(e,"content",nt,!1),r,n)},nt.$$arity=0),t.defn(ot,"$docinfo",rt=function(e,r){var a,o,s=this,u=$,d=$,f=$,p=$,h=$,g=$,v=$,m=$,y=$;return null==e&&(e="head"),null==r&&(r=$),l(n(s.$safe(),t.const_get_qualified(t.const_get_relative(lt,"SafeMode"),"SECURE")))?"":(u=e["$=="]("head")?$:"-"+e,l(r)||(r=s.outfilesuffix),d=s.attributes["$[]"]("docinfodir"),f=$,p=l((p=s.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?l(s.attributes["$key?"]("docinfo2"))?["private","shared"]:l(s.attributes["$key?"]("docinfo1"))?["shared"]:l(p)?["private"]:$:c(p.$split(","),"map",[],"strip".$to_proc()),l(p)&&(h="docinfo"+u+r,l(p["$&"](["shared","shared-"+e])["$empty?"]())||(g=s.$normalize_system_path(h,d),l(f=s.$read_asset(g,_(["normalize"],{normalize:!0})))&&l(v=l(a=v)?a:s.$resolve_docinfo_subs())&&(f=l(v["$=="]("attributes"))?s.$sub_attributes(f):s.$apply_subs(f,v))),l(l(a=s.attributes["$[]"]("docname")["$nil_or_empty?"]())?a:p["$&"](["private","private-"+e])["$empty?"]())||(g=s.$normalize_system_path(s.attributes["$[]"]("docname")+"-"+h,d),l(m=s.$read_asset(g,_(["normalize"],{normalize:!0})))&&(l(v=l(a=v)?a:s.$resolve_docinfo_subs())&&(m=l(v["$=="]("attributes"))?s.$sub_attributes(m):s.$apply_subs(m,v)),f=l(f)?""+f+t.const_get_relative(lt,"EOL")+m:m))),l(l(a=s.extensions)?s["$docinfo_processors?"](e):a)&&(y=i(c(s.docinfo_processor_extensions["$[]"](e),"map",[],(o=function(t){var e=o.$$s||this;return null==t&&(t=$),t.$process_method()["$[]"](e)},o.$$s=s,o.$$arity=1,o)).$compact(),t.const_get_relative(lt,"EOL")),f=l(f)?""+f+t.const_get_relative(lt,"EOL")+y:y),""+f)},rt.$$arity=-1),t.defn(ot,"$resolve_docinfo_subs",it=function(){var t=this,e=$;return l(t.attributes["$key?"]("docinfosubs"))?(e=t.$resolve_subs(t.attributes["$[]"]("docinfosubs"),"block",$,"docinfo"),l(e["$empty?"]())?$:e):"attributes"},it.$$arity=0),t.defn(ot,"$docinfo_processors?",at=function(n){var r,i=this,a=$;return null==n&&(n="head"),l(i.docinfo_processor_extensions["$key?"](n))?i.docinfo_processor_extensions["$[]"](n)["$!="](!1):l(l(r=i.extensions)?i.document.$extensions()["$docinfo_processors?"](n):r)?(a=[n,i.document.$extensions().$docinfo_processors(n)],c(i.docinfo_processor_extensions,"[]=",t.to_a(a)),a[e(a.length,1)])["$!"]()["$!"]():(a=[n,!1],c(i.docinfo_processor_extensions,"[]=",t.to_a(a)),a[e(a.length,1)])},at.$$arity=-1),t.defn(ot,"$to_s",$t=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(l(t.header["$!="]($))?t.header.$title():$).$inspect()+", blocks: "+t.blocks.$size()+"}>"},$t.$$arity=0)}(h[0],t.const_get_relative(h,"AbstractBlock"),h)}(a[0],a)},Opal.modules["asciidoctor/inline"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.module),i=t.klass,a=t.send,$=t.truthy,o=t.hash2;return t.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter"]),function(e,s){var l,c=l=r(e,"Asciidoctor"),_=(c.$$proto,[c].concat(s));!function(e,r,s){function l(){}var c,_,u,d,f=l=i(e,r,"Inline",l);f.$$proto,[f].concat(s);f.$attr_reader("text"),f.$attr_reader("type"),f.$attr_accessor("target"),t.defn(f,"$initialize",c=function(e,r,i,s){var l=this,_=c.$$p,u=n;return null==i&&(i=n),null==s&&(s=o([],{})),_&&(c.$$p=null),a(l,t.find_super_dispatcher(l,"initialize",c,!1),[e,r],null),l.node_name="inline_"+r,l.text=i,l.id=s["$[]"]("id"),l.type=s["$[]"]("type"),l.target=s["$[]"]("target"),$((u=s["$[]"]("attributes"))["$nil_or_empty?"]())?n:l.$update_attributes(u)},c.$$arity=-3),t.defn(f,"$block?",_=function(){return!1},_.$$arity=0),t.defn(f,"$inline?",u=function(){return!0},u.$$arity=0),t.defn(f,"$convert",d=function(){var t=this;return t.$converter().$convert(t)},d.$$arity=0),t.alias(f,"render","convert")}(_[0],t.const_get_relative(_,"AbstractNode"),_)}(e[0],e)},Opal.modules["asciidoctor/list"]=function(t){t.top;var e=[],n=t.nil,r=(t.breaker,t.slice,t.module),i=t.klass,a=t.send,$=t.truthy;return t.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),function(e,o){var s,l=s=r(e,"Asciidoctor"),c=(l.$$proto,[l].concat(o));!function(e,r,o){function s(){}var l,c,_,u,d=s=i(e,r,"List",s),f=d.$$proto;[d].concat(o);f.context=f.document=f.style=n,t.alias(d,"items","blocks"),t.alias(d,"content","blocks"),t.alias(d,"items?","blocks?"),t.defn(d,"$initialize",l=function(e,r){var i=this,$=l.$$p,o=n,s=n,c=n;for($&&(l.$$p=null),s=0,c=arguments.length,o=new Array(c);s<c;s++)o[s]=arguments[s];return a(i,t.find_super_dispatcher(i,"initialize",l,!1),o,$)},l.$$arity=2),t.defn(d,"$outline?",c=function(){var t,e=this;return $(t=e.context["$=="]("ulist"))?t:e.context["$=="]("olist")},c.$$arity=0),t.defn(d,"$convert",_=function(){var e=this,r=_.$$p,i=n,$=n,o=n,s=n;for(r&&(_.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return e.context["$=="]("colist")?(i=a(e,t.find_super_dispatcher(e,"convert",_,!1),$,r),e.document.$callouts().$next_list(),i):a(e,t.find_super_dispatcher(e,"convert",_,!1),$,r)},_.$$arity=0),t.alias(d,"render","convert"),t.defn(d,"$to_s",u=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", style: "+t.style.$inspect()+", items: "+t.$items().$size()+"}>"},u.$$arity=0)}(c[0],t.const_get_relative(c,"AbstractBlock"),c),function(e,r,o){function s(){}var l,c,_,u,d,f,p,h=s=i(e,r,"ListItem",s),g=h.$$proto,v=[h].concat(o);g.text=g.blocks=n,t.alias(h,"list","parent"),h.$attr_accessor("marker"),t.defn(h,"$initialize",l=function(e,r){var i=this,$=l.$$p;return null==r&&(r=n),$&&(l.$$p=null),a(i,t.find_super_dispatcher(i,"initialize",l,!1),[e,"list_item"],null),i.text=r,i.level=e.$level()},l.$$arity=-2),t.defn(h,"$text?",c=function(){return this.text["$nil_or_empty?"]()["$!"]()},c.$$arity=0),t.defn(h,"$text",_=function(){var t=this;return t.$apply_subs(t.text)},_.$$arity=0),t.defn(h,"$simple?",u=function(){var e,r,i=this,a=n;return $(e=i.blocks["$empty?"]())?e:$(r=i.blocks.$size()["$=="](1)?t.const_get_relative(v,"List")["$==="](a=i.blocks["$[]"](0)):i.blocks.$size()["$=="](1))?a["$outline?"]():r},u.$$arity=0),t.defn(h,"$compound?",d=function(){return this["$simple?"]()["$!"]()},d.$$arity=0),t.defn(h,"$fold_first",f=function(e,r){var i,a,o,s,l,c=this,_=n,u=n;return null==e&&(e=!1),null==r&&(r=!1),$($(i=$(a=_=c.blocks["$[]"](0))?t.const_get_relative(v,"Block")["$==="](_):a)?$(a=(o=_.$context()["$=="]("paragraph"))?e["$!"]():_.$context()["$=="]("paragraph"))?a:$(o=$(s=$(l=r)?l:e["$!"]())?_.$context()["$=="]("literal"):s)?_["$option?"]("listparagraph"):o:i)&&(u=c.$blocks().$shift(),$(c.text["$nil_or_empty?"]())||u.$lines().$unshift(c.text),c.text=u.$source()),n},f.$$arity=-1),t.defn(h,"$to_s",p=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {list_context: "+e.$parent().$context().$inspect()+", text: "+e.text.$inspect()+", blocks: "+($(t=e.blocks)?t:[]).$size()+"}>"},p.$$arity=0)}(c[0],t.const_get_relative(c,"AbstractBlock"),c)}(e[0],e)},Opal.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var s=[],l=t.nil,c=(t.breaker,t.slice,t.module),_=t.klass,u=t.send,d=t.truthy,f=t.hash2,p=t.hash,h=t.range,g=t.gvars;return t.add_stubs(["$new","$lambda","$start_with?","$=~","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_document_title?","$has_key?","$finalize_header","$nil_or_empty?","$attributes","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$set_attribute","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$key?","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$match","$sub_attributes","$downcase","$rstrip","$strip","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$tr_s","$join","$read_lines_until","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$special","$include?","$sectname","$+","$to_i","$>","$line_info","$size","$*","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$extensions","$block_macros?","$===","$parse_block_metadata_line","$advance","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$chr","$lstrip","$>=","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$registered_for_block_macro?","$config","$each","$process_method","$replace","$peek_line","$path","$lineno","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_outline_list","$marker","$find","$next_labeled_list","$is_section_title?","$underline_style_section_titles","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$catalog_inline_anchors","$post_match","$map!","$split","$pop","$build_block","$blockquote?","$chop","$tr","$rekey","$next_table","$concat","$title?","$register","$basename","$sub_specialchars","$assign_caption","$ord","$caption","$caption=","$title","$update","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$<","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$delete_at","$sectname=","$special=","$update_attributes","$peek_lines","$is_single_line_section_title?","$is_two_line_section_title?","$single_line_section_level","$abs","$line_length","$section_level","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$map","$each_with_index","$push","$to_a","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$delete_attribute","$save_to","$resolve_ordered_list_marker","$chomp","$roman_numeral_to_int","$parse_colspecs","$create_columns","$has_header_option=","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_matched_delimiter","$buffer","$buffer=","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$partition_header_footer","$upto","$shorthand_property_syntax","$each_char","$call","$sub!","$gsub!","$%","$begin","$gsub"]),function(s,v){var m,y=m=c(s,"Asciidoctor"),b=(y.$$proto,[y].concat(v));!function(s,c,v){function m(){}var y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,_t,ut,dt=m=_(s,null,"Parser",m),ft=(dt.$$proto,[dt].concat(v));t.const_set(ft[0],"BlockMatchData",t.const_get_relative(ft,"Struct").$new("context","masq","tip","terminator")),t.const_set(ft[0],"TabRx",/\t/),t.const_set(ft[0],"TabIndentRx",/^\t+/),t.const_set(ft[0],"StartOfBlockProc",u(dt,"lambda",[],(y=function(e){var n,r,i=y.$$s||this;return null==e&&(e=l),d(n=d(r=e["$start_with?"]("["))?t.const_get_relative(ft,"BlockAttributeLineRx")["$=~"](e):r)?n:i["$is_delimited_block?"](e)},y.$$s=dt,y.$$arity=1,y))),t.const_set(ft[0],"StartOfListProc",u(dt,"lambda",[],(b=function(e){b.$$s;return null==e&&(e=l),t.const_get_relative(ft,"AnyListRx")["$=~"](e)},b.$$s=dt,b.$$arity=1,b))),t.const_set(ft[0],"StartOfBlockOrListProc",u(dt,"lambda",[],(w=function(e){var n,r,i,a=w.$$s||this;return null==e&&(e=l),d(n=d(r=a["$is_delimited_block?"](e))?r:d(i=e["$start_with?"]("["))?t.const_get_relative(ft,"BlockAttributeLineRx")["$=~"](e):i)?n:t.const_get_relative(ft,"AnyListRx")["$=~"](e)},w.$$s=dt,w.$$arity=1,w))),t.const_set(ft[0],"NoOp",l),t.defn(dt,"$initialize",k=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},k.$$arity=0),t.defs(dt,"$parse",x=function(e,n,r){var i,a,$=this,o=l,s=l;if(null==r&&(r=f([],{})),o=$.$parse_document_header(e,n),d(r["$[]"]("header_only")));else for(;d(e["$has_more_lines?"]());)a=$.$next_section(e,n,o),s=null==(i=t.to_ary(a))[0]?l:i[0],o=null==i[1]?l:i[1],d(s)&&n["$<<"](s);return n},x.$$arity=-3),t.defs(dt,"$parse_document_header",E=function(n,r){var i,a,$=this,o=l,s=l,c=l,_=l,f=l,h=l,g=l,v=l,m=l,y=l,b=l,w=l;return o=$.$parse_block_metadata_lines(n,r),d(d(i=s=$["$is_next_line_document_title?"](n,o))?o["$has_key?"]("title"):i)?r.$finalize_header(o,!1):(c=l,d((_=r.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(f=[c=_],u(r,"title=",t.to_a(f)),f[e(f.length,1)]),h=l,d(s)&&(d(r.$sourcemap())&&(g=n.$cursor()),a=$.$parse_section_title(n,r),i=t.to_ary(a),r["$id="](null==i[0]?l:i[0]),null==i[1]?l:i[1],v=null==i[2]?l:i[2],null==i[3]?l:i[3],m=null==i[4]?l:i[4],d(c)||(f=[c=v],u(r,"title=",t.to_a(f)),f[e(f.length,1)]),d(m)||r.$set_attribute("compat-mode",""),d(y=o.$delete("separator"))&&r.$set_attribute("title-separator",y),d(g)&&(f=[g],u(r.$header(),"source_location=",t.to_a(f)),f[e(f.length,1)]),f=["doctitle",h=v],u(r.$attributes(),"[]=",t.to_a(f)),f[e(f.length,1)],d(r.$id())?(o.$delete(1),o.$delete("id")):(d(b=o.$delete(1))&&(w=p(1,b),$.$parse_style_attribute(w,n),d(w["$key?"]("id"))&&(f=["id",w["$[]"]("id")],u(o,"[]=",t.to_a(f)),f[e(f.length,1)])),f=[o.$delete("id")],u(r,"id=",t.to_a(f)),f[e(f.length,1)]),$.$parse_header_metadata(n,r)),d(d(i=(_=r.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?i:_["$=="](h))||(f=[c=_],u(r,"title=",t.to_a(f)),f[e(f.length,1)]),d(c)&&(f=["doctitle",c],u(r.$attributes(),"[]=",t.to_a(f)),f[e(f.length,1)]),r.$doctype()["$=="]("manpage")&&$.$parse_manpage_header(n,r),r.$finalize_header(o))},E.$$arity=2),t.defs(dt,"$parse_manpage_header",O=function(n,r){var i=this,a=l,$=l,o=l;return d(a=t.const_get_relative(ft,"ManpageTitleVolnumRx").$match(r.$attributes()["$[]"]("doctitle")))?($=["mantitle",r.$sub_attributes(a["$[]"](1).$rstrip().$downcase())],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["manvolnum",a["$[]"](2).$strip()],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]):(i.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed manpage title"),$=["mantitle",r.$attributes()["$[]"]("doctitle")],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["manvolnum","1"],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]),n.$skip_blank_lines(),d(i["$is_next_line_section?"](n,f([],{})))?i.$initialize_section(n,r,f([],{})).$level()["$=="](1)?(o=n.$read_lines_until(f(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),d(a=t.const_get_relative(ft,"ManpageNamePurposeRx").$match(o))?($=["manname",r.$sub_attributes(a["$[]"](1))],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["manpurpose",a["$[]"](2)],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],r.$backend()["$=="]("manpage")?($=["docname",r.$attributes()["$[]"]("manname")],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["outfilesuffix","."+r.$attributes()["$[]"]("manvolnum")],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]):l):i.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed name section body")):i.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section title must be at level 1"):i.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section expected")},O.$$arity=2),t.defs(dt,"$next_section",A=function(a,$,o){var s,c,_,p=this,h=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l,E=l,O=l,A=l,S=l,R=l,M=l,T=l,I=l;for(null==o&&(o=f([],{})),h=!1,g=!1,v=!1,d(d(s=(c=$.$context()["$=="]("document"))?$.$blocks()["$empty?"]():$.$context()["$=="]("document"))?d(c=d(_=m=$["$has_header?"]())?_:o.$delete("invalid-header"))?c:p["$is_next_line_section?"](a,o)["$!"]():s)?(y=$.$doctype(),d(d(s=m)?s:(c=y["$=="]("book"))?o["$[]"](1)["$!="]("abstract"):y["$=="]("book"))&&(h=v=t.const_get_relative(ft,"Block").$new($,"preamble",f(["content_model"],{content_model:"compound"})),d((s=y["$=="]("book"))?$["$attr?"]("preface-title"):y["$=="]("book"))&&(b=[$.$attr("preface-title")],u(h,"title=",t.to_a(b)),b[e(b.length,1)]),$["$<<"](h)),w=$,k=0,x=d($.$attributes()["$has_key?"]("fragment"))?l:y["$=="]("book")?[0,1]:[1]):(y=$.$document().$doctype(),w=p.$initialize_section(a,$,o),o=d(E=o["$[]"]("title"))?f(["title"],{title:E}):f([],{}),k=w.$level(),d((s=k["$=="](0))?y["$=="]("book"):k["$=="](0))?(g=w.$special()["$!"](),x=d(d(s=w.$special())?["preface","appendix"]["$include?"](w.$sectname()):s)?[n(k,2)]:[n(k,1)]):x=[n(k,1)]),a.$skip_blank_lines();d(a["$has_more_lines?"]());){if(p.$parse_block_metadata_lines(a,w,o),d(O=p["$is_next_line_section?"](a,o))){if(O=n(O,w.$document().$attr("leveloffset",0).$to_i()),!d(d(c=r(O,k))?c:(_=w.$context()["$=="]("document"))?O["$=="](0):w.$context()["$=="]("document"))){d((c=O["$=="](0))?y["$!="]("book"):O["$=="](0))&&p.$warn("asciidoctor: ERROR: "+a.$line_info()+": only book doctypes can contain level 0 sections");break}d((c=O["$=="](0))?y["$!="]("book"):O["$=="](0))?p.$warn("asciidoctor: ERROR: "+a.$line_info()+": only book doctypes can contain level 0 sections"):d(d(c=x)?x["$include?"](O)["$!"]():c)&&p.$warn(n(n("asciidoctor: WARNING: "+a.$line_info()+": section title out of sequence: ","expected "+(d(r(x.$size(),1))?"levels":"level")+" "+i(x," or ")+", "),"got level "+O)),_=p.$next_section(a,w,o),A=null==(c=t.to_ary(_))[0]?l:c[0],o=null==c[1]?l:c[1],w["$<<"](A)}else S=a.$line_info(),d(R=p.$next_block(a,d(c=v)?c:w,o,f(["parse_metadata"],{parse_metadata:!1})))&&(d(g)&&(d(w["$blocks?"]()["$!"]())?d(R.$style()["$!="]("partintro"))&&(R.$context()["$=="]("paragraph")?(b=["open"],u(R,"context=",t.to_a(b)),b[e(b.length,1)],b=["partintro"],u(R,"style=",t.to_a(b)),b[e(b.length,1)]):(v=t.const_get_relative(ft,"Block").$new(w,"open",f(["content_model"],{content_model:"compound"})),b=["partintro"],u(v,"style=",t.to_a(b)),b[e(b.length,1)],b=[v],u(R,"parent=",t.to_a(b)),b[e(b.length,1)],w["$<<"](v))):w.$blocks().$size()["$=="](1)&&(M=w.$blocks()["$[]"](0),d(d(c=v["$!"]())?M.$content_model()["$=="]("compound"):c)?p.$warn("asciidoctor: ERROR: "+S+": illegal block content outside of partintro block"):d(M.$content_model()["$!="]("compound"))&&(v=t.const_get_relative(ft,"Block").$new(w,"open",f(["content_model"],{content_model:"compound"})),b=["partintro"],u(v,"style=",t.to_a(b)),b[e(b.length,1)],w.$blocks().$shift(),M.$style()["$=="]("partintro")&&(b=["paragraph"],u(M,"context=",t.to_a(b)),b[e(b.length,1)],b=[l],u(M,"style=",t.to_a(b)),b[e(b.length,1)]),b=[v],u(M,"parent=",t.to_a(b)),b[e(b.length,1)],v["$<<"](M),b=[v],u(R,"parent=",t.to_a(b)),b[e(b.length,1)],w["$<<"](v)))),(d(c=v)?c:w)["$<<"](R),o=f([],{}));a.$skip_blank_lines()}if(d(g))d(d(s=w["$blocks?"]())?w.$blocks()["$[]"](-1).$context()["$=="]("section"):s)||p.$warn("asciidoctor: ERROR: "+a.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(d(h))if(T=$,d(h["$blocks?"]())){if(d(d(s=d(c=t.const_get_relative(ft,"Compliance").$unwrap_standalone_preamble())?T.$blocks().$size()["$=="](1):c)?y["$!="]("book"):s))for(T.$blocks().$shift();d(I=h.$blocks().$shift());)b=[T],u(I,"parent=",t.to_a(b)),b[e(b.length,1)],T["$<<"](I)}else T.$blocks().$shift();return[d(w["$!="]($))?w:l,o.$dup()]},A.$$arity=-3),t.defs(dt,"$next_block",S=function(i,$,o,s){var c,_,p,g,v,m,y,b,w,k=this,x=l,E=l,O=l,A=l,S=l,R=l,M=l,T=l,I=l,C=l,q=l,N=l,L=l,z=l,P=l,D=l,B=l,j=l,F=l,U=l,G=l,H=l,Y=l,K=l,W=l,X=l,V=l,J=l,Z=l,Q=l,tt=l,et=l,nt=l,rt=l,it=l,at=l,$t=l,ot=l,st=l,lt=l,ct=l,_t=l,ut=l,dt=l,pt=l,ht=l,gt=l,vt=l,mt=l,yt=l,bt=l,wt=l,kt=l,xt=l,Et=l,Ot=l;if(null==o&&(o=f([],{})),null==s&&(s=f([],{})),x=i.$skip_blank_lines(),!d(i["$has_more_lines?"]()))return l;for(d(d(c=E=s["$[]"]("text"))?r(x,0):c)&&(s.$delete("text"),E=!1),O=s.$fetch("parse_metadata",!0),A=$.$document(),d(S=A.$extensions())?(R=S["$blocks?"](),M=S["$block_macros?"]()):R=M=!1,T=t.const_get_relative(ft,"ListItem")["$==="]($),I=l,C=l,l,q=A.$sourcemap(),N=l;d(d(_=I["$!"]())?i["$has_more_lines?"]():_);)if(d(d(_=O)?k.$parse_block_metadata_line(i,A,o,s):_))i.$advance();else{if(d(q)&&(N=i.$cursor()),L=i.$read_line(),z=!1,P=l,D=l,B=l,d(o["$[]"](1))&&(p=k.$parse_style_attribute(o,i),C=null==(_=t.to_ary(p))[0]?l:_[0],null==_[1]?l:_[1]),d(j=k["$is_delimited_block?"](L,!0))&&(z=!0,P=D=j.$context(),B=j.$terminator(),d(C["$!"]())?(F=["style",P.$to_s()],u(o,"[]=",t.to_a(F)),C=F[e(F.length,1)]):d(C["$!="](P.$to_s()))&&(d(j.$masq()["$include?"](C))?P=C.$to_sym():d(d(_=j.$masq()["$include?"]("admonition"))?t.const_get_relative(ft,"ADMONITION_STYLES")["$include?"](C):_)?P="admonition":d(d(_=R)?S["$registered_for_block?"](C,P):_)?P=C.$to_sym():(k.$warn("asciidoctor: WARNING: "+i.$prev_line_info()+": invalid style for "+P+" block: "+C),C=P.$to_s()))),d(z));else for(;d(!0);){if(d(d(p=d(g=C)?t.const_get_relative(ft,"Compliance").$strict_verbatim_paragraphs():g)?t.const_get_relative(ft,"VERBATIM_STYLES")["$include?"](C):p)){P=C.$to_sym(),i.$unshift_line(L);break}if(d(E));else{if(U=d(t.const_get_relative(ft,"Compliance").$markdown_syntax())?L.$lstrip().$chr():L.$chr(),d(d(p=d(g=t.const_get_relative(ft,"LAYOUT_BREAK_LINES")["$has_key?"](U))?a(L.$length(),3):g)?(d(t.const_get_relative(ft,"Compliance").$markdown_syntax())?t.const_get_relative(ft,"LayoutBreakLinePlusRx"):t.const_get_relative(ft,"LayoutBreakLineRx"))["$=~"](L):p)){I=t.const_get_relative(ft,"Block").$new($,t.const_get_relative(ft,"LAYOUT_BREAK_LINES")["$[]"](U),f(["content_model"],{content_model:"empty"}));break}if(d(d(p=L["$end_with?"]("]"))?G=t.const_get_relative(ft,"MediaBlockMacroRx").$match(L):p)){if(H=G["$[]"](1).$to_sym(),I=t.const_get_relative(ft,"Block").$new($,H,f(["content_model"],{content_model:"empty"})),Y=H["$=="]("image")?["alt","width","height"]:H["$=="]("video")?["poster","width","height"]:[],d(C)&&(H["$=="]("image")&&(F=["alt",C],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),o.$delete("style"),C=l),I.$parse_attributes(G["$[]"](3),Y,f(["unescape_input","sub_input","sub_result","into"],{unescape_input:H["$=="]("image"),sub_input:!0,sub_result:!1,into:o})),K=I.$sub_attributes(G["$[]"](2),f(["attribute_missing"],{attribute_missing:"drop-line"})),d(K["$empty?"]()))return A.$attributes().$fetch("attribute-missing",t.const_get_relative(ft,"Compliance").$attribute_missing())["$=="]("skip")?t.const_get_relative(ft,"Block").$new($,"paragraph",f(["content_model","source"],{content_model:"simple",source:[L]})):(o.$clear(),l);F=["target",K],u(o,"[]=",t.to_a(F)),F[e(F.length,1)];break}if(d((p=U["$=="]("t"))?G=t.const_get_relative(ft,"TocBlockMacroRx").$match(L):U["$=="]("t"))){(I=t.const_get_relative(ft,"Block").$new($,"toc",f(["content_model"],{content_model:"empty"}))).$parse_attributes(G["$[]"](1),[],f(["sub_result","into"],{sub_result:!1,into:o}));break}if(d(d(p=d(g=M)?G=t.const_get_relative(ft,"GenericBlockMacroRx").$match(L):g)?W=S["$registered_for_block_macro?"](G["$[]"](1)):p)){if(K=G["$[]"](2),X=G["$[]"](3),W.$config()["$[]"]("content_model")["$=="]("attributes")?d(X["$empty?"]())||A.$parse_attributes(X,d(p=W.$config()["$[]"]("pos_attrs"))?p:[],f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:o})):(F=["text",X],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),d(V=W.$config()["$[]"]("default_attrs"))&&u(V,"each",[],(v=function(n,r){var i;v.$$s;return null==n&&(n=l),null==r&&(r=l),d(i=o["$[]"](n))?i:(F=[n,r],u(o,"[]=",t.to_a(F)),F[e(F.length,1)])},v.$$s=k,v.$$arity=2,v)),!d(I=W.$process_method()["$[]"]($,K,o.$dup())))return o.$clear(),l;o.$replace(I.$attributes());break}}if(d(G=t.const_get_relative(ft,"CalloutListRx").$match(L))){for(I=t.const_get_relative(ft,"List").$new($,"colist"),F=["style","arabic"],u(o,"[]=",t.to_a(F)),F[e(F.length,1)],i.$unshift_line(L),J=1;d(d(g=G)?g:d(m=i["$has_more_lines?"]())?G=t.const_get_relative(ft,"CalloutListRx").$match(i.$peek_line()):m);)d(G["$[]"](1).$to_i()["$!="](J))&&k.$warn("asciidoctor: WARNING: "+i.$path()+": line "+e(i.$lineno(),2)+": callout list item index: expected "+J+" got "+G["$[]"](1)),Z=k.$next_list_item(i,I,G),J=n(J,1),d(Z)&&(I["$<<"](Z),Q=A.$callouts().$callout_ids(I.$items().$size()),d(Q["$empty?"]()["$!"]())?(F=["coids",Q],u(Z.$attributes(),"[]=",t.to_a(F)),F[e(F.length,1)]):k.$warn("asciidoctor: WARNING: "+i.$path()+": line "+e(i.$lineno(),2)+": no callouts refer to list item "+I.$items().$size())),G=l;A.$callouts().$next_list();break}if(d(t.const_get_relative(ft,"UnorderedListRx")["$=~"](L))){i.$unshift_line(L),I=k.$next_outline_list(i,"ulist",$);break}if(d(G=t.const_get_relative(ft,"OrderedListRx").$match(L))){i.$unshift_line(L),I=k.$next_outline_list(i,"olist",$),d(d(p=o["$[]"]("style")["$!"]())?I.$attributes()["$[]"]("style")["$!"]():p)&&(tt=I.$items()["$[]"](0).$marker(),d(tt["$start_with?"]("."))?(F=["style",(d(p=t.const_get_relative(ft,"ORDERED_LIST_STYLES")["$[]"](e(tt.$length(),1)))?p:t.const_get_relative(ft,"ORDERED_LIST_STYLES")["$[]"](0)).$to_s()],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]):(C=u(t.const_get_relative(ft,"ORDERED_LIST_STYLES"),"find",[],(y=function(e){y.$$s;return null==e&&(e=l),t.const_get_relative(ft,"OrderedListMarkerRxMap")["$[]"](e)["$=~"](tt)},y.$$s=k,y.$$arity=1,y)),F=["style",(d(p=C)?p:t.const_get_relative(ft,"ORDERED_LIST_STYLES")["$[]"](0)).$to_s()],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]));break}if(d(G=t.const_get_relative(ft,"DescriptionListRx").$match(L))){i.$unshift_line(L),I=k.$next_labeled_list(i,G,$);break}if(d(d(p=d(g=C["$=="]("float"))?g:C["$=="]("discrete"))?k["$is_section_title?"](L,d(t.const_get_relative(ft,"Compliance").$underline_style_section_titles())?i.$peek_line(!0):l):p)){i.$unshift_line(L),g=k.$parse_section_title(i,A),et=null==(p=t.to_ary(g))[0]?l:p[0],nt=null==p[1]?l:p[1],rt=null==p[2]?l:p[2],it=null==p[3]?l:p[3],null==p[4]?l:p[4],d(nt)&&(F=["reftext",nt],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),d(o["$has_key?"]("id"))&&(et=d(p=et)?p:o["$[]"]("id")),I=t.const_get_relative(ft,"Block").$new($,"floating_title",f(["content_model"],{content_model:"empty"})),d(et["$nil_or_empty?"]())?(at=t.const_get_relative(ft,"Section").$new($),F=[rt],u(at,"title=",t.to_a(F)),F[e(F.length,1)],F=[at.$generate_id()],u(I,"id=",t.to_a(F)),F[e(F.length,1)]):(F=[et],u(I,"id=",t.to_a(F)),F[e(F.length,1)]),F=[it],u(I,"level=",t.to_a(F)),F[e(F.length,1)],F=[rt],u(I,"title=",t.to_a(F)),F[e(F.length,1)];break}if(d(d(p=C)?C["$!="]("normal"):p)){if(d(t.const_get_relative(ft,"PARAGRAPH_STYLES")["$include?"](C))){P=C.$to_sym(),D="paragraph",i.$unshift_line(L);break}if(d(t.const_get_relative(ft,"ADMONITION_STYLES")["$include?"](C))){P="admonition",D="paragraph",i.$unshift_line(L);break}if(d(d(p=R)?S["$registered_for_block?"](C,"paragraph"):p)){P=C.$to_sym(),D="paragraph",i.$unshift_line(L);break}k.$warn("asciidoctor: WARNING: "+i.$prev_line_info()+": invalid style for paragraph: "+C),C=l}if($t=(p=x["$=="](0))?T:x["$=="](0),d(d(p=C["$!="]("normal"))?t.const_get_relative(ft,"LiteralParagraphRx")["$=~"](L):p))i.$unshift_line(L),ot=k.$read_paragraph_lines(i,$t,f(["skip_line_comments"],{skip_line_comments:E})),k["$adjust_indentation!"](ot),I=t.const_get_relative(ft,"Block").$new($,"literal",f(["content_model","source","attributes"],{content_model:"verbatim",source:ot,attributes:o})),d(T)&&I.$set_option("listparagraph");else{if(i.$unshift_line(L),ot=k.$read_paragraph_lines(i,$t,f(["skip_line_comments"],{skip_line_comments:!0})),d(ot["$empty?"]()))return i.$advance(),l;if(k.$catalog_inline_anchors(ot.$join(t.const_get_relative(ft,"EOL")),A),st=ot["$[]"](0),d(d(p=E["$!"]())?lt=t.const_get_relative(ft,"AdmonitionParagraphRx").$match(st):p))F=[0,lt.$post_match().$lstrip()],u(ot,"[]=",t.to_a(F)),F[e(F.length,1)],F=["style",lt["$[]"](1)],u(o,"[]=",t.to_a(F)),F[e(F.length,1)],F=["name",ct=lt["$[]"](1).$downcase()],u(o,"[]=",t.to_a(F)),F[e(F.length,1)],d(p=o["$[]"]("caption"))||(F=["caption",A.$attributes()["$[]"](ct+"-caption")],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),I=t.const_get_relative(ft,"Block").$new($,"admonition",f(["content_model","source","attributes"],{content_model:"simple",source:ot,attributes:o}));else if(d(d(p=d(g=E["$!"]())?t.const_get_relative(ft,"Compliance").$markdown_syntax():g)?st["$start_with?"]("> "):p)){if(u(ot,"map!",[],(b=function(t){b.$$s;return null==t&&(t=l),t["$=="](">")?t["$[]"](h(1,-1,!1)):d(t["$start_with?"]("> "))?t["$[]"](h(2,-1,!1)):t},b.$$s=k,b.$$arity=1,b)),d(ot["$[]"](-1)["$start_with?"]("-- ")))for(g=ot.$pop()["$[]"](h(3,-1,!1)).$split(", ",2),_t=null==(p=t.to_ary(g))[0]?l:p[0],ut=null==p[1]?l:p[1];d(ot["$[]"](-1)["$empty?"]());)ot.$pop();else g=l,_t=null==(p=t.to_ary(g))[0]?l:p[0],ut=null==p[1]?l:p[1];F=["style","quote"],u(o,"[]=",t.to_a(F)),F[e(F.length,1)],d(_t)&&(F=["attribution",_t],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),d(ut)&&(F=["citetitle",ut],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),I=k.$build_block("quote","compound",!1,$,t.const_get_relative(ft,"Reader").$new(ot),o)}else if(d(d(p=E["$!"]())?k["$blockquote?"](ot,st):p)){for(F=[0,st["$[]"](h(1,-1,!1))],u(ot,"[]=",t.to_a(F)),F[e(F.length,1)],g=ot.$pop()["$[]"](h(3,-1,!1)).$split(", ",2),_t=null==(p=t.to_ary(g))[0]?l:p[0],ut=null==p[1]?l:p[1];d(ot["$[]"](-1)["$empty?"]());)ot.$pop();F=[-1,ot["$[]"](-1).$chop()],u(ot,"[]=",t.to_a(F)),F[e(F.length,1)],F=["style","quote"],u(o,"[]=",t.to_a(F)),F[e(F.length,1)],d(_t)&&(F=["attribution",_t],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),d(ut)&&(F=["citetitle",ut],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),I=t.const_get_relative(ft,"Block").$new($,"quote",f(["content_model","source","attributes"],{content_model:"simple",source:ot,attributes:o}))}else C["$=="]("normal")&&k["$adjust_indentation!"](ot),I=t.const_get_relative(ft,"Block").$new($,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:ot,attributes:o}))}break}if(d(d(_=I["$!"]())?P:_))if(d(d(_=P["$=="]("abstract"))?_:P["$=="]("partintro"))&&(P="open"),dt=P,"admonition"["$==="](dt))F=["name",ct=C.$downcase()],u(o,"[]=",t.to_a(F)),F[e(F.length,1)],d(_=o["$[]"]("caption"))||(F=["caption",A.$attributes()["$[]"](ct+"-caption")],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),I=k.$build_block(P,"compound",B,$,i,o);else{if("comment"["$==="](dt))return k.$build_block(P,"skip",B,$,i,o),l;if("example"["$==="](dt))I=k.$build_block(P,"compound",B,$,i,o);else if("listing"["$==="](dt)||"fenced_code"["$==="](dt)||"source"["$==="](dt))P["$=="]("fenced_code")?(F=["style","source"],u(o,"[]=",t.to_a(F)),C=F[e(F.length,1)],p=L["$[]"](h(3,-1,!1)).$tr(" ","").$split(",",2),pt=null==(_=t.to_ary(p))[0]?l:_[0],ht=null==_[1]?l:_[1],d(pt["$nil_or_empty?"]()["$!"]())?(F=["language",pt],u(o,"[]=",t.to_a(F)),F[e(F.length,1)],d(ht["$nil_or_empty?"]())||(F=["linenums",""],u(o,"[]=",t.to_a(F)),F[e(F.length,1)])):d(gt=A.$attributes()["$[]"]("source-language"))&&(F=["language",gt],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),d(d(_=o["$key?"]("indent")["$!"]())?A.$attributes()["$key?"]("source-indent"):_)&&(F=["indent",A.$attributes()["$[]"]("source-indent")],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),B=B["$[]"](h(0,2,!1))):P["$=="]("source")&&(t.const_get_relative(ft,"AttributeList").$rekey(o,[l,"language","linenums"]),d(o["$key?"]("language"))||d(gt=A.$attributes()["$[]"]("source-language"))&&(F=["language",gt],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),d(d(_=o["$key?"]("indent")["$!"]())?A.$attributes()["$key?"]("source-indent"):_)&&(F=["indent",A.$attributes()["$[]"]("source-indent")],u(o,"[]=",t.to_a(F)),F[e(F.length,1)])),I=k.$build_block("listing","verbatim",B,$,i,o);else if("literal"["$==="](dt))I=k.$build_block(P,"verbatim",B,$,i,o);else if("pass"["$==="](dt))I=k.$build_block(P,"raw",B,$,i,o);else if("stem"["$==="](dt)||"latexmath"["$==="](dt)||"asciimath"["$==="](dt))P["$=="]("stem")&&(F=["style",d(vt=o["$[]"](2))?d(vt["$include?"]("tex"))?"latexmath":"asciimath":d((mt=A.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":mt],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),I=k.$build_block("stem","raw",B,$,i,o);else if("open"["$==="](dt)||"sidebar"["$==="](dt))I=k.$build_block(P,"compound",B,$,i,o);else if("table"["$==="](dt))yt=i.$cursor(),bt=t.const_get_relative(ft,"Reader").$new(i.$read_lines_until(f(["terminator","skip_line_comments"],{terminator:B,skip_line_comments:!0})),yt),dt=B.$chr(),","["$==="](dt)?(F=["format","csv"],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]):":"["$==="](dt)&&(F=["format","dsv"],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),I=k.$next_table(bt,$,o);else if("quote"["$==="](dt)||"verse"["$==="](dt))t.const_get_relative(ft,"AttributeList").$rekey(o,[l,"attribution","citetitle"]),I=k.$build_block(P,P["$=="]("verse")?"verbatim":"compound",B,$,i,o);else if(d(d(_=R)?W=S["$registered_for_block?"](P,D):_)){if(d((wt=W.$config()["$[]"]("content_model"))["$!="]("skip"))&&(d((kt=d(_=W.$config()["$[]"]("pos_attrs"))?_:[])["$empty?"]()["$!"]())&&t.const_get_relative(ft,"AttributeList").$rekey(o,[l].$concat(kt)),d(V=W.$config()["$[]"]("default_attrs"))&&u(V,"each",[],(w=function(n,r){var i;w.$$s;return null==n&&(n=l),null==r&&(r=l),d(i=o["$[]"](n))?i:(F=[n,r],u(o,"[]=",t.to_a(F)),F[e(F.length,1)])},w.$$s=k,w.$$arity=2,w))),I=k.$build_block(P,wt,B,$,i,o,f(["extension"],{extension:W})),!d(d(_=I)?wt["$!="]("skip"):_))return o.$clear(),l}else k.$raise("Unsupported block type "+P+" at "+i.$line_info())}}return d(I)&&(d(N)&&(F=[N],u(I,"source_location=",t.to_a(F)),F[e(F.length,1)]),d(I["$title?"]())||(F=[o["$[]"]("title")],u(I,"title=",t.to_a(F)),F[e(F.length,1)]),I.$context()["$=="]("image")?(xt=o["$[]"]("target"),I.$document().$register("images",xt),d(c=o["$[]"]("alt"))||(F=["alt",t.const_get_relative(ft,"Helpers").$basename(xt,!0).$tr("_-"," ")],u(o,"[]=",t.to_a(F)),F[e(F.length,1)]),F=["alt",I.$sub_specialchars(o["$[]"]("alt"))],u(o,"[]=",t.to_a(F)),F[e(F.length,1)],I.$assign_caption(o.$delete("caption"),"figure"),d(Et=o["$[]"]("scaledwidth"))&&d(h(48,57,!1)["$include?"]((d(c=Et["$[]"](-1))?c:0).$ord()))&&(F=["scaledwidth",Et+"%"],u(o,"[]=",t.to_a(F)),F[e(F.length,1)])):d(c=I.$caption())||(F=[o.$delete("caption")],u(I,"caption=",t.to_a(F)),F[e(F.length,1)]),F=[o["$[]"]("style")],u(I,"style=",t.to_a(F)),F[e(F.length,1)],d(Ot=d(c=I.$id())?c:(F=[o["$[]"]("id")],u(I,"id=",t.to_a(F)),F[e(F.length,1)]))&&A.$register("ids",[Ot,d(c=o["$[]"]("reftext"))?c:d(I["$title?"]())?I.$title():l]),d(o["$empty?"]())||I.$attributes().$update(o),I.$lock_in_subs(),d(I["$sub?"]("callouts"))&&(d(k.$catalog_callouts(I.$source(),A))||I.$remove_sub("callouts"))),I},S.$$arity=-3),t.defs(dt,"$blockquote?",R=function(t,e){var n,i,a,$;return null==e&&(e=l),d(n=d(i=d(a=r(t.$size(),1))?(d($=e)?$:t["$[]"](0))["$start_with?"]('"'):a)?t["$[]"](-1)["$start_with?"]("-- "):i)?t["$[]"](-2)["$end_with?"]('"'):n},R.$$arity=-2),t.defs(dt,"$read_paragraph_lines",M=function(n,r,i){var a=l,$=l;return null==i&&(i=f([],{})),a=["break_on_blank_lines",!0],u(i,"[]=",t.to_a(a)),a[e(a.length,1)],a=["break_on_list_continuation",!0],u(i,"[]=",t.to_a(a)),a[e(a.length,1)],a=["preserve_last_line",!0],u(i,"[]=",t.to_a(a)),a[e(a.length,1)],$=d(r)?d(t.const_get_relative(ft,"Compliance").$block_terminates_paragraph())?t.const_get_relative(ft,"StartOfBlockOrListProc"):t.const_get_relative(ft,"StartOfListProc"):d(t.const_get_relative(ft,"Compliance").$block_terminates_paragraph())?t.const_get_relative(ft,"StartOfBlockProc"):t.const_get_relative(ft,"NoOp"),u(n,"read_lines_until",[i],$.$to_proc())},M.$$arity=-3),t.defs(dt,"$is_delimited_block?",T=function(n,a){var s,c=l,_=l,u=l,f=l,p=l,g=l,v=l;if(null==a&&(a=!1),!d(d(s=r(c=n.$length(),1))?t.const_get_relative(ft,"DELIMITED_BLOCK_LEADERS")["$include?"](n["$[]"](h(0,1,!1))):s))return l;if(c["$=="](2))_=n,u=2;else{if(d($(c,4))?(_=n,u=c):(_=n["$[]"](h(0,3,!1)),u=4),f=!1,d(t.const_get_relative(ft,"Compliance").$markdown_syntax())&&(p=u["$=="](4)?_.$chop():_)["$=="]("```")){if(d((s=u["$=="](4))?_["$end_with?"]("`"):u["$=="](4)))return l;_=p,u=3,f=!0}if(d((s=u["$=="](3))?f["$!"]():u["$=="](3)))return l}return d(t.const_get_relative(ft,"DELIMITED_BLOCKS")["$has_key?"](_))?d(d(s=o(u,4))?s:u["$=="](c))?!d(a)||(s=[].concat(t.to_a(t.const_get_relative(ft,"DELIMITED_BLOCKS")["$[]"](_))),g=null==s[0]?l:s[0],v=null==s[1]?l:s[1],t.const_get_relative(ft,"BlockMatchData").$new(g,v,_,_)):(""+_+i(_["$[]"](h(-1,-1,!1)),e(c,u)))["$=="](n)?!d(a)||(s=[].concat(t.to_a(t.const_get_relative(ft,"DELIMITED_BLOCKS")["$[]"](_))),g=null==s[0]?l:s[0],v=null==s[1]?l:s[1],t.const_get_relative(ft,"BlockMatchData").$new(g,v,_,n)):l:l},T.$$arity=-2),t.defs(dt,"$build_block",I=function(n,i,a,$,o,s,c){var _,p=this,h=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l,E=l;if(null==c&&(c=f([],{})),d(d(_=i["$=="]("skip"))?_:i["$=="]("raw"))?(h=i["$=="]("skip"),g="simple"):(h=!1,g=i),d(a["$nil?"]())?(g["$=="]("verbatim")?v=o.$read_lines_until(f(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(i["$=="]("compound")&&(i="simple"),v=p.$read_paragraph_lines(o,!1,f(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),m=l):d(g["$!="]("compound"))?(v=o.$read_lines_until(f(["terminator","skip_processing"],{terminator:a,skip_processing:h})),m=l):a["$=="](!1)?(v=l,m=o):(v=l,y=o.$cursor(),m=t.const_get_relative(ft,"Reader").$new(o.$read_lines_until(f(["terminator","skip_processing"],{terminator:a,skip_processing:h})),y)),i["$=="]("skip"))return s.$clear(),v;if(i["$=="]("verbatim")&&(d(b=s["$[]"]("indent"))?p["$adjust_indentation!"](v,b,d(_=s["$[]"]("tabsize"))?_:$.$document().$attributes()["$[]"]("tabsize")):d(r(w=(d(_=s["$[]"]("tabsize"))?_:$.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))&&p["$adjust_indentation!"](v,l,w)),d(k=c["$[]"]("extension"))){if(s.$delete("style"),!d(x=k.$process_method()["$[]"]($,d(_=m)?_:t.const_get_relative(ft,"Reader").$new(v),s.$dup())))return l;s.$replace(x.$attributes()),d((_=x.$content_model()["$=="]("compound"))?(v=x.$lines())["$nil_or_empty?"]()["$!"]():x.$content_model()["$=="]("compound"))&&(i="compound",m=t.const_get_relative(ft,"Reader").$new(v))}else x=t.const_get_relative(ft,"Block").$new($,n,f(["content_model","source","attributes"],{content_model:i,source:v,attributes:s}));return d(d(_=s["$has_key?"]("title"))?x.$document()["$attr?"](x.$context()+"-caption"):_)&&(E=[s.$delete("title")],u(x,"title=",t.to_a(E)),E[e(E.length,1)],x.$assign_caption(s.$delete("caption"))),i["$=="]("compound")&&p.$parse_blocks(m,x),x},I.$$arity=-7),t.defs(dt,"$parse_blocks",C=function(e,n){for(var r=l;d(e["$has_more_lines?"]());)r=t.const_get_relative(ft,"Parser").$next_block(e,n),d(r)&&n["$<<"](r)},C.$$arity=2),t.defs(dt,"$next_outline_list",q=function(i,a,$){var s,c=this,_=l,f=l,p=l,h=l,g=l,v=l,m=l;for(_=t.const_get_relative(ft,"List").$new($,a),$.$context()["$=="](a)?(f=[n($.$level(),1)],u(_,"level=",t.to_a(f)),f[e(f.length,1)]):(f=[1],u(_,"level=",t.to_a(f)),f[e(f.length,1)]);d(d(s=i["$has_more_lines?"]())?p=t.const_get_relative(ft,"ListRxMap")["$[]"](a).$match(i.$peek_line()):s);){if(h=c.$resolve_list_marker(a,p["$[]"](1)),d(d(s=_["$items?"]())?h["$!="](_.$items()["$[]"](0).$marker()):s))for(g=n(_.$level(),1),v=$;v.$context()["$=="](a);){if(h["$=="](v.$items()["$[]"](0).$marker())){g=v.$level();break}v=v.$parent()}else g=_.$level();if(d(d(s=_["$items?"]()["$!"]())?s:g["$=="](_.$level())))m=c.$next_list_item(i,_,p);else{if(d(o(g,_.$level())))break;d(r(g,_.$level()))&&_.$items()["$[]"](-1)["$<<"](c.$next_block(i,_))}d(m)&&_["$<<"](m),m=l,i.$skip_blank_lines()}return _},q.$$arity=3),t.defs(dt,"$catalog_callouts",N=function(e,n){var r,i=this,a=l;return a=!1,d(e["$include?"]("<"))&&u(e,"scan",[t.const_get_relative(ft,"CalloutQuickScanRx")],(r=function(){r.$$s;var t=l;return null==g["~"]&&(g["~"]=l),t=g["~"],d(t["$[]"](0).$chr()["$!="]("\\"))&&n.$callouts().$register(t["$[]"](2)),a=!0},r.$$s=i,r.$$arity=0,r)),a},N.$$arity=2),t.defs(dt,"$catalog_inline_anchors",L=function(e,n){var r,i=this;return d(e["$include?"]("["))&&u(e,"scan",[t.const_get_relative(ft,"InlineAnchorRx")],(r=function(){r.$$s;var t,e=l,i=l,a=l;return null==g["~"]&&(g["~"]=l),e=g["~"],d(e["$[]"](0)["$start_with?"]("\\"))?l:(i=d(t=e["$[]"](1))?t:e["$[]"](3),a=d(t=e["$[]"](2))?t:e["$[]"](4),n.$register("ids",[i,a]))},r.$$s=i,r.$$arity=0,r)),l},L.$$arity=2),t.defs(dt,"$next_labeled_list",z=function(e,n,r){var i,a,$=this,o=l,s=l,c=l,_=l,u=l;for(o=t.const_get_relative(ft,"List").$new(r,"dlist"),s=l,c=t.const_get_relative(ft,"DescriptionListSiblingRx")["$[]"](n["$[]"](2));d(d(i=n)?i:d(a=e["$has_more_lines?"]())?n=c.$match(e.$peek_line()):a);)a=$.$next_list_item(e,o,n,c),_=null==(i=t.to_ary(a))[0]?l:i[0],u=null==i[1]?l:i[1],d(d(i=s)?s["$[]"](-1)["$!"]():i)?(s.$pop(),s["$[]"](0)["$<<"](_),s["$<<"](u)):o.$items()["$<<"](s=[[_],u]),n=l;return o},z.$$arity=3),t.defs(dt,"$next_list_item",P=function(n,r,i,a){var $,o=this,s=l,c=l,_=l,p=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l,E=l,O=l,A=l,S=l;if(null==a&&(a=l),(s=r.$context())["$=="]("dlist")?(c=t.const_get_relative(ft,"ListItem").$new(r,i["$[]"](1)),_=t.const_get_relative(ft,"ListItem").$new(r,i["$[]"](3)),p=i["$[]"](3)["$nil_or_empty?"]()["$!"]()):(g=i["$[]"](2),v=!1,d(($=s["$=="]("ulist"))?g["$start_with?"]("["):s["$=="]("ulist"))&&(d(g["$start_with?"]("[ ] "))?(v=!0,m=!1,g=g["$[]"](h(3,-1,!1)).$lstrip()):d(d($=g["$start_with?"]("[x] "))?$:g["$start_with?"]("[*] "))&&(v=!0,m=!0,g=g["$[]"](h(3,-1,!1)).$lstrip())),_=t.const_get_relative(ft,"ListItem").$new(r,g),d(v)&&(y=["checklist-option",""],u(r.$attributes(),"[]=",t.to_a(y)),y[e(y.length,1)],y=["checkbox",""],u(_.$attributes(),"[]=",t.to_a(y)),y[e(y.length,1)],d(m)&&(y=["checked",""],u(_.$attributes(),"[]=",t.to_a(y)),y[e(y.length,1)])),y=[a=d($=a)?$:o.$resolve_list_marker(s,i["$[]"](1),r.$items().$size(),!0,n)],u(_,"marker=",t.to_a(y)),y[e(y.length,1)],p=!0),n.$advance(),b=n.$cursor(),w=t.const_get_relative(ft,"Reader").$new(o.$read_lines_for_list_item(n,s,a,p),b),d(w["$has_more_lines?"]())){for(k=w.$skip_line_comments(),x=w.$peek_line(),d(k["$empty?"]())||w.$unshift_lines(k),d(x["$nil?"]()["$!"]())?(E=x["$empty?"](),d(d($=E["$!"]())?s["$!="]("dlist"):$)&&(p=!1),O=d($=E["$!"]())?x["$empty?"]()["$!"]():$):(E=!1,O=!1),A=f(["text"],{text:p["$!"]()});d(w["$has_more_lines?"]());)d(S=o.$next_block(w,_,f([],{}),A))&&_["$<<"](S);_.$fold_first(E,O)}return s["$=="]("dlist")?(d(d($=_["$text?"]())?$:_["$blocks?"]())||(_=l),[c,_]):_},P.$$arity=-4),t.defs(dt,"$read_lines_for_list_item",D=function(n,r,i,a){var $,o,s,c,_,p,h,v,m=this,y=l,b=l,w=l,k=l,x=l,E=l,O=l,A=l,S=l;for(null==g["~"]&&(g["~"]=l),null==i&&(i=l),null==a&&(a=!0),y=[],b="inactive",w=!1,k=l;d(n["$has_more_lines?"]())&&(x=n.$read_line(),!d(m["$is_sibling_list_item?"](x,r,i)));)if((E=d(y["$empty?"]())?l:y["$[]"](-1))["$=="](t.const_get_relative(ft,"LIST_CONTINUATION"))&&(b["$=="]("inactive")&&(b="active",a=!0,d(w)||(O=[-1,""],u(y,"[]=",t.to_a(O)),O[e(O.length,1)])),x["$=="](t.const_get_relative(ft,"LIST_CONTINUATION"))))d(b["$!="]("frozen"))&&(b="frozen",y["$<<"](x)),x=l;else{if(d(A=m["$is_delimited_block?"](x,!0))){if(!b["$=="]("active"))break;y["$<<"](x),y.$concat(n.$read_lines_until(f(["terminator","read_last_line"],{terminator:A.$terminator(),read_last_line:!0}))),b="inactive"}else{if(d(d(o=(s=r["$=="]("dlist"))?b["$!="]("active"):r["$=="]("dlist"))?t.const_get_relative(ft,"BlockAttributeLineRx")["$=~"](x):o))break;if(d((o=b["$=="]("active"))?x["$empty?"]()["$!"]():b["$=="]("active")))d(t.const_get_relative(ft,"LiteralParagraphRx")["$=~"](x))?(n.$unshift_line(x),y.$concat(u(n,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(c=function(t){var e=c.$$s||this;return null==t&&(t=l),r["$=="]("dlist")?e["$is_sibling_list_item?"](t,r,i):r["$=="]("dlist")},c.$$s=m,c.$$arity=1,c))),b="inactive"):d(d(o=d(s=t.const_get_relative(ft,"BlockTitleRx")["$=~"](x))?s:t.const_get_relative(ft,"BlockAttributeLineRx")["$=~"](x))?o:t.const_get_relative(ft,"AttributeEntryRx")["$=~"](x))?y["$<<"](x):(d(S=u(d(w)?["dlist"]:t.const_get_relative(ft,"NESTABLE_LIST_CONTEXTS"),"find",[],(_=function(e){_.$$s;return null==e&&(e=l),t.const_get_relative(ft,"ListRxMap")["$[]"](e)["$=~"](x)},_.$$s=m,_.$$arity=1,_)))&&(w=!0,d((o=S["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():S["$=="]("dlist"))&&(a=!1)),y["$<<"](x),b="inactive");else if(d(d(o=E["$nil?"]()["$!"]())?E["$empty?"]():o)){if(d(x["$empty?"]())&&(n.$skip_blank_lines(),x=n.$read_line(),d(d(o=x["$nil?"]())?o:m["$is_sibling_list_item?"](x,r,i))))break;if(x["$=="](t.const_get_relative(ft,"LIST_CONTINUATION")))k=y.$size(),y["$<<"](x);else if(d(a)){if(d(m["$is_sibling_list_item?"](x,r,i)))break;if(d(S=u(t.const_get_relative(ft,"NESTABLE_LIST_CONTEXTS"),"find",[],(p=function(e){p.$$s;return null==e&&(e=l),t.const_get_relative(ft,"ListRxMap")["$[]"](e)["$=~"](x)},p.$$s=m,p.$$arity=1,p))))y["$<<"](x),w=!0,d((o=S["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():S["$=="]("dlist"))&&(a=!1);else{if(!d(t.const_get_relative(ft,"LiteralParagraphRx")["$=~"](x)))break;n.$unshift_line(x),y.$concat(u(n,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(h=function(t){var e=h.$$s||this;return null==t&&(t=l),r["$=="]("dlist")?e["$is_sibling_list_item?"](t,r,i):r["$=="]("dlist")},h.$$s=m,h.$$arity=1,h)))}}else d(w)||y.$pop(),y["$<<"](x),a=!0}else d(x["$empty?"]()["$!"]())&&(a=!0),d(S=u(d(w)?["dlist"]:t.const_get_relative(ft,"NESTABLE_LIST_CONTEXTS"),"find",[],(v=function(e){v.$$s;return null==e&&(e=l),t.const_get_relative(ft,"ListRxMap")["$[]"](e)["$=~"](x)},v.$$s=m,v.$$arity=1,v)))&&(w=!0,d((o=S["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():S["$=="]("dlist"))&&(a=!1)),y["$<<"](x)}x=l}for(d(x)&&n.$unshift_line(x),d(k)&&y.$delete_at(k);d(d(o=y["$empty?"]()["$!"]())?y["$[]"](-1)["$empty?"]():o);)y.$pop();return d(d($=y["$empty?"]()["$!"]())?y["$[]"](-1)["$=="](t.const_get_relative(ft,"LIST_CONTINUATION")):$)&&y.$pop(),y},D.$$arity=-3),t.defs(dt,"$initialize_section",B=function(n,r,i){var a,$,o=this,s=l,c=l,_=l,p=l,h=l,g=l,v=l,m=l,y=l,b=l;return null==i&&(i=f([],{})),s=r.$document(),d(s.$sourcemap())&&(c=n.$cursor()),$=o.$parse_section_title(n,s),a=t.to_ary($),_=null==a[0]?l:a[0],p=null==a[1]?l:a[1],h=null==a[2]?l:a[2],g=null==a[3]?l:a[3],null==a[4]?l:a[4],d(p)&&(v=["reftext",p],u(i,"[]=",t.to_a(v)),v[e(v.length,1)]),m=t.const_get_relative(ft,"Section").$new(r,g,s.$attributes()["$has_key?"]("sectnums")),d(c)&&(v=[c],u(m,"source_location=",t.to_a(v)),v[e(v.length,1)]),v=[_],u(m,"id=",t.to_a(v)),v[e(v.length,1)],v=[h],u(m,"title=",t.to_a(v)),v[e(v.length,1)],d(i["$[]"](1))?($=o.$parse_style_attribute(i,n),y=null==(a=t.to_ary($))[0]?l:a[0],null==a[1]?l:a[1],d(y)?(v=[y],u(m,"sectname=",t.to_a(v)),v[e(v.length,1)],v=[!0],u(m,"special=",t.to_a(v)),v[e(v.length,1)],d((a=m.$sectname()["$=="]("abstract"))?s.$doctype()["$=="]("book"):m.$sectname()["$=="]("abstract"))&&(v=["sect1"],u(m,"sectname=",t.to_a(v)),v[e(v.length,1)],v=[!1],u(m,"special=",t.to_a(v)),v[e(v.length,1)],v=[1],u(m,"level=",t.to_a(v)),v[e(v.length,1)])):(v=["sect"+m.$level()],u(m,"sectname=",t.to_a(v)),v[e(v.length,1)])):d((a=h.$downcase()["$=="]("synopsis"))?s.$doctype()["$=="]("manpage"):h.$downcase()["$=="]("synopsis"))?(v=[!0],u(m,"special=",t.to_a(v)),v[e(v.length,1)],v=["synopsis"],u(m,"sectname=",t.to_a(v)),v[e(v.length,1)]):(v=["sect"+m.$level()],u(m,"sectname=",t.to_a(v)),v[e(v.length,1)]),d(d(a=m.$id()["$!"]())?b=i["$[]"]("id"):a)?(v=[b],u(m,"id=",t.to_a(v)),v[e(v.length,1)]):d(a=m.$id())||(v=[m.$generate_id()],u(m,"id=",t.to_a(v)),v[e(v.length,1)]),d(m.$id())&&m.$document().$register("ids",[m.$id(),d(a=i["$[]"]("reftext"))?a:m.$title()]),m.$update_attributes(i),n.$skip_blank_lines(),m},B.$$arity=-3),t.defs(dt,"$section_level",j=function(e){return t.const_get_relative(ft,"SECTION_LEVELS")["$[]"](e.$chr())},j.$$arity=1),t.defs(dt,"$single_line_section_level",F=function(t){return e(t.$length(),1)},F.$$arity=1),t.defs(dt,"$is_next_line_section?",U=function(e,n){var r,i,a,$=this,o=l,s=l;return!d(d(r=d(i=(o=n["$[]"](1))["$nil?"]()["$!"]())?d(a=(s=o["$[]"](0).$ord())["$=="](100))?a:s["$=="](102):i)?o["$=~"](t.const_get_relative(ft,"FloatingTitleStyleRx")):r)&&(!!d(e["$has_more_lines?"]())&&(d(t.const_get_relative(ft,"Compliance").$underline_style_section_titles())?u($,"is_section_title?",t.to_a(e.$peek_lines(2))):$["$is_section_title?"](e.$peek_line())))},U.$$arity=2),t.defs(dt,"$is_next_line_document_title?",G=function(t,e){return this["$is_next_line_section?"](t,e)["$=="](0)},G.$$arity=2),t.defs(dt,"$is_section_title?",H=function(t,e){var n,r=this,i=l;return null==e&&(e=l),d(i=r["$is_single_line_section_title?"](t))?i:!!d(d(n=e)?i=r["$is_two_line_section_title?"](t,e):n)&&i},H.$$arity=-2),t.defs(dt,"$is_single_line_section_title?",Y=function(e){var n,r,i,a=this,$=l,o=l;return $=d(e)?e.$chr():l,!!d(d(n=d(r=$["$=="]("="))?r:d(i=t.const_get_relative(ft,"Compliance").$markdown_syntax())?$["$=="]("#"):i)?o=t.const_get_relative(ft,"AtxSectionRx").$match(e):n)&&a.$single_line_section_level(o["$[]"](1))},Y.$$arity=1),t.defs(dt,"$is_two_line_section_title?",K=function(n,r){var i,a,o,s,l,c=this;return!!d(d(i=d(a=d(o=d(s=d(l=n)?r:l)?t.const_get_relative(ft,"SECTION_LEVELS")["$has_key?"](r.$chr()):s)?r["$=~"](t.const_get_relative(ft,"SetextSectionLineRx")):o)?n["$=~"](t.const_get_relative(ft,"SetextSectionTitleRx")):a)?$(e(c.$line_length(n),c.$line_length(r)).$abs(),1):i)&&c.$section_level(r)},K.$$arity=2),t.defs(dt,"$parse_section_title",W=function(r,i){var o,s,c,_,u=this,f=l,p=l,h=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l;return f=r.$read_line(),p=l,h=l,g=-1,v=l,m=!0,y=f.$chr(),d(d(o=d(s=y["$=="]("="))?s:d(c=t.const_get_relative(ft,"Compliance").$markdown_syntax())?y["$=="]("#"):c)?b=t.const_get_relative(ft,"AtxSectionRx").$match(f):o)?(g=u.$single_line_section_level(b["$[]"](1)),h=b["$[]"](2),d(d(o=h["$end_with?"]("]]"))?w=t.const_get_relative(ft,"InlineSectionAnchorRx").$match(h):o)&&d(w["$[]"](2)["$nil?"]())&&(h=w["$[]"](1),p=w["$[]"](3),v=w["$[]"](4))):d(t.const_get_relative(ft,"Compliance").$underline_style_section_titles())&&d(d(o=d(s=d(c=d(_=k=r.$peek_line(!0))?t.const_get_relative(ft,"SECTION_LEVELS")["$has_key?"](k.$chr()):_)?k["$=~"](t.const_get_relative(ft,"SetextSectionLineRx")):c)?x=t.const_get_relative(ft,"SetextSectionTitleRx").$match(f):s)?$(e(u.$line_length(f),u.$line_length(k)).$abs(),1):o)&&(h=x["$[]"](1),d(d(o=h["$end_with?"]("]]"))?w=t.const_get_relative(ft,"InlineSectionAnchorRx").$match(h):o)&&d(w["$[]"](2)["$nil?"]())&&(h=w["$[]"](1),p=w["$[]"](3),v=w["$[]"](4)),g=u.$section_level(k),m=!1,r.$advance()),d(a(g,0))&&(g=n(g,i.$attr("leveloffset",0).$to_i())),[p,v,h,g,m]},W.$$arity=2),t.defs(dt,"$line_length",X=function(e){return d(t.const_get_relative(ft,"FORCE_UNICODE_LINE_LENGTH"))?e.$scan(t.const_get_relative(ft,"UnicodeCharScanRx")).$length():e.$length()},X.$$arity=1),t.defs(dt,"$parse_header_metadata",V=function(i,a){var $,o,s,c=this,_=l,p=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l,E=l,O=l;if(null==a&&(a=l),c.$process_attribute_entries(i,a),_=f([],{}),p=l,g=l,d(d($=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():$)&&(v=c.$process_authors(i.$read_line()),d(v["$empty?"]())||(d(a)&&(u(v,"each",[],(o=function(n,r){o.$$s;var i=l;return null==n&&(n=l),null==r&&(r=l),d(a.$attributes()["$has_key?"](n))?l:(i=[n,d(t.const_get_qualified("::","String")["$==="](r))?a.$apply_header_subs(r):r],u(a.$attributes(),"[]=",t.to_a(i)),i[e(i.length,1)])},o.$$s=c,o.$$arity=2,o)),p=a.$attributes()["$[]"]("author"),g=a.$attributes()["$[]"]("authors")),_=v),c.$process_attribute_entries(i,a),m=f([],{}),d(d($=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():$)&&(y=i.$read_line(),d(b=t.const_get_relative(ft,"RevisionInfoLineRx").$match(y))?(d(b["$[]"](1))&&(w=["revnumber",b["$[]"](1).$rstrip()],u(m,"[]=",t.to_a(w)),w[e(w.length,1)]),d((k=b["$[]"](2).$strip())["$empty?"]())||(d(d($=b["$[]"](1)["$!"]())?k["$start_with?"]("v"):$)?(w=["revnumber",k["$[]"](h(1,-1,!1))],u(m,"[]=",t.to_a(w)),w[e(w.length,1)]):(w=["revdate",k],u(m,"[]=",t.to_a(w)),w[e(w.length,1)])),d(b["$[]"](3))&&(w=["revremark",b["$[]"](3).$rstrip()],u(m,"[]=",t.to_a(w)),w[e(w.length,1)])):i.$unshift_line(y)),d(m["$empty?"]())||(d(a)&&u(m,"each",[],(s=function(n,r){s.$$s;return null==n&&(n=l),null==r&&(r=l),d(a.$attributes()["$has_key?"](n))?l:(w=[n,a.$apply_header_subs(r)],u(a.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)])},s.$$s=c,s.$$arity=2,s)),_.$update(m)),c.$process_attribute_entries(i,a),i.$skip_blank_lines()),d(a)){if(v=l,d(d($=a.$attributes()["$has_key?"]("author"))?(x=a.$attributes()["$[]"]("author"))["$!="](p):$))v=c.$process_authors(x,!0,!1);else if(d(d($=a.$attributes()["$has_key?"]("authors"))?(x=a.$attributes()["$[]"]("authors"))["$!="](g):$))v=c.$process_authors(x,!0);else{for(O="author_"+n((E=[]).$size(),1);d(a.$attributes()["$has_key?"](O));)E["$<<"](a.$attributes()["$[]"](O)),O="author_"+n(E.$size(),1);E.$size()["$=="](1)?v=c.$process_authors(E["$[]"](0),!0,!1):d(r(E.$size(),1))&&(v=c.$process_authors(E.$join("; "),!0))}d(v)&&(a.$attributes().$update(v),d(d($=a.$attributes()["$has_key?"]("email")["$!"]())?a.$attributes()["$has_key?"]("email_1"):$)&&(w=["email",a.$attributes()["$[]"]("email_1")],u(a.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)]))}return _},V.$$arity=-2),t.defs(dt,"$process_authors",J=function(i,a,$){var o,s,c=this,_=l,p=l,g=l;return null==a&&(a=!1),null==$&&($=!0),_=f([],{}),p=["author","authorinitials","firstname","middlename","lastname","email"],g=d($)?u(i.$split(";"),"map",[],(o=function(t){o.$$s;return null==t&&(t=l),t.$strip()},o.$$s=c,o.$$arity=1,o)):[i],u(g,"each_with_index",[],(s=function(i,$){var o,c,g,v,m=s.$$s||this,y=l,b=l,w=l,k=l,x=l,E=l,O=l;return null==i&&(i=l),null==$&&($=l),d(i["$empty?"]())?l:(y=f([],{}),$["$=="](0)?u(p,"each",[],(o=function(n){o.$$s;var r=l;return null==n&&(n=l),r=[n.$to_sym(),n],u(y,"[]=",t.to_a(r)),r[e(r.length,1)]},o.$$s=m,o.$$arity=1,o)):u(p,"each",[],(c=function(r){c.$$s;var i=l;return null==r&&(r=l),i=[r.$to_sym(),r+"_"+n($,1)],u(y,"[]=",t.to_a(i)),i[e(i.length,1)]},c.$$s=m,c.$$arity=1,c)),b=l,d(a)?d(r((b=i.$split(" ")).$size(),3))&&(b=b["$[]"](h(0,1,!1)).$push(b["$[]"](h(2,-1,!1)).$join(" "))):d(w=t.const_get_relative(ft,"AuthorInfoLineRx").$match(i))&&(b=w.$to_a()).$shift(),d(b["$nil?"]())?(k=[y["$[]"]("author"),(k=[y["$[]"]("firstname"),x=i.$strip().$tr_s(" "," ")],u(_,"[]=",t.to_a(k)),k[e(k.length,1)])],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],k=[y["$[]"]("authorinitials"),x["$[]"](0,1)],u(_,"[]=",t.to_a(k)),k[e(k.length,1)]):(k=[y["$[]"]("firstname"),x=b["$[]"](0).$tr("_"," ")],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],k=[y["$[]"]("author"),x],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],k=[y["$[]"]("authorinitials"),x["$[]"](0,1)],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],d(d(g=b["$[]"](1)["$nil?"]()["$!"]())?b["$[]"](2)["$nil?"]()["$!"]():g)?(k=[y["$[]"]("middlename"),E=b["$[]"](1).$tr("_"," ")],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],k=[y["$[]"]("lastname"),O=b["$[]"](2).$tr("_"," ")],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],k=[y["$[]"]("author"),[x,E,O].$join(" ")],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],k=[y["$[]"]("authorinitials"),[x["$[]"](0,1),E["$[]"](0,1),O["$[]"](0,1)].$join()],u(_,"[]=",t.to_a(k)),k[e(k.length,1)]):d(b["$[]"](1)["$nil?"]()["$!"]())&&(k=[y["$[]"]("lastname"),O=b["$[]"](1).$tr("_"," ")],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],k=[y["$[]"]("author"),[x,O].$join(" ")],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],k=[y["$[]"]("authorinitials"),[x["$[]"](0,1),O["$[]"](0,1)].$join()],u(_,"[]=",t.to_a(k)),k[e(k.length,1)]),d(d(g=a)?g:b["$[]"](3)["$nil?"]())||(k=[y["$[]"]("email"),b["$[]"](3)],u(_,"[]=",t.to_a(k)),k[e(k.length,1)])),k=["authorcount",n($,1)],u(_,"[]=",t.to_a(k)),k[e(k.length,1)],$["$=="](1)&&u(p,"each",[],(v=function(n){v.$$s;return null==n&&(n=l),d(_["$has_key?"](n))?(k=[n+"_1",_["$[]"](n)],u(_,"[]=",t.to_a(k)),k[e(k.length,1)]):l},v.$$s=m,v.$$arity=1,v)),$["$=="](0)?(k=["authors",_["$[]"](y["$[]"]("author"))],u(_,"[]=",t.to_a(k)),k[e(k.length,1)]):(k=["authors",_["$[]"]("authors")+", "+_["$[]"](y["$[]"]("author"))],u(_,"[]=",t.to_a(k)),k[e(k.length,1)]))},s.$$s=c,s.$$arity=2,s)),_},J.$$arity=-2),t.defs(dt,"$parse_block_metadata_lines",Z=function(t,e,n,r){var i=this;for(null==n&&(n=f([],{})),null==r&&(r=f([],{}));d(i.$parse_block_metadata_line(t,e,n,r));)t.$advance(),t.$skip_blank_lines();return n},Z.$$arity=-3),t.defs(dt,"$parse_block_metadata_line",Q=function(n,r,i,a){var $,o,s=this,c=l,_=l,p=l,h=l,g=l,v=l;if(null==a&&(a=f([],{})),!d(n["$has_more_lines?"]()))return!1;if(c=n.$peek_line(),d(d($=_=c["$start_with?"]("//"))?p=t.const_get_relative(ft,"CommentBlockRx").$match(c):$))h=p["$[]"](0),n.$read_lines_until(f(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:h,skip_processing:!0}));else if(d(d($=_)?t.const_get_relative(ft,"CommentLineRx")["$=~"](c):$));else if(d(d($=d(o=a["$[]"]("text")["$!"]())?c["$start_with?"](":"):o)?p=t.const_get_relative(ft,"AttributeEntryRx").$match(c):$))s.$process_attribute_entry(n,r,i,p);else if(d(d($=g=d(o=c["$start_with?"]("["))?c["$end_with?"]("]"):o)?p=t.const_get_relative(ft,"BlockAnchorRx").$match(c):$))d(p["$[]"](1)["$nil_or_empty?"]())||(v=["id",p["$[]"](1)],u(i,"[]=",t.to_a(v)),v[e(v.length,1)],d(p["$[]"](2)["$nil?"]())||(v=["reftext",p["$[]"](2)],u(i,"[]=",t.to_a(v)),v[e(v.length,1)]));else if(d(d($=g)?p=t.const_get_relative(ft,"BlockAttributeListRx").$match(c):$))r.$document().$parse_attributes(p["$[]"](1),[],f(["sub_input","into"],{sub_input:!0,into:i}));else{if(!d(d($=a["$[]"]("text")["$!"]())?p=t.const_get_relative(ft,"BlockTitleRx").$match(c):$))return!1;v=["title",p["$[]"](1)],u(i,"[]=",t.to_a(v)),v[e(v.length,1)]}return!0},Q.$$arity=-4),t.defs(dt,"$process_attribute_entries",tt=function(t,e,n){var r=this;for(null==n&&(n=l),t.$skip_comment_lines();d(r.$process_attribute_entry(t,e,n));)t.$advance(),t.$skip_comment_lines()},tt.$$arity=-3),t.defs(dt,"$process_attribute_entry",et=function(e,n,r,i){var a,$=this,o=l,s=l,c=l,_=l,u=l,f=l;if(null==r&&(r=l),null==i&&(i=l),i=d(a=i)?a:d(e["$has_more_lines?"]())?t.const_get_relative(ft,"AttributeEntryRx").$match(e.$peek_line()):l,d(i)){if(o=i["$[]"](1),d((s=d(a=i["$[]"](2))?a:"")["$empty?"]()));else if(d(d(a=s["$end_with?"](c=t.const_get_relative(ft,"LINE_CONTINUATION")))?a:s["$end_with?"](c=t.const_get_relative(ft,"LINE_CONTINUATION_LEGACY"))))for(s=s.$chop().$rstrip();d(e.$advance())&&!d((_=e.$peek_line().$strip())["$empty?"]())&&(d(u=_["$end_with?"](c))&&(_=_.$chop().$rstrip()),f=d(s["$end_with?"](t.const_get_relative(ft,"LINE_BREAK")))?t.const_get_relative(ft,"EOL"):" ",s=""+s+f+_,d(u)););return $.$store_attribute(o,s,d(n)?n.$document():l,r),!0}return!1},et.$$arity=-3),t.defs(dt,"$store_attribute",nt=function(r,i,a,$){var o,s=this,c=l,_=l;return null==a&&(a=l),null==$&&($=l),d(r["$end_with?"]("!"))?(i=l,r=r.$chop()):d(r["$start_with?"]("!"))&&(i=l,r=r["$[]"](h(1,-1,!1))),r=s.$sanitize_attribute_name(r),c=!0,d(a)&&(r["$=="]("numbered")?r="sectnums":r["$=="]("leveloffset")&&d(i)&&(_=i.$chr(),"+"["$==="](_)?i=n(a.$attr("leveloffset",0).$to_i(),(d(o=i["$[]"](h(1,-1,!1)))?o:0).$to_i()).$to_s():"-"["$==="](_)&&(i=e(a.$attr("leveloffset",0).$to_i(),(d(o=i["$[]"](h(1,-1,!1)))?o:0).$to_i()).$to_s())),c=d(i)?a.$set_attribute(r,i):a.$delete_attribute(r)),d(d(o=c)?$:o)&&(d(i)&&(i=a.$attributes()["$[]"](r)),t.const_get_qualified(t.const_get_relative(ft,"Document"),"AttributeEntry").$new(r,i).$save_to($)),[r,i]},nt.$$arity=-3),t.defs(dt,"$resolve_list_marker",rt=function(t,e,n,r,i){var a=this;return null==n&&(n=0),null==r&&(r=!1),null==i&&(i=l),d(t["$=="]("olist")?e["$start_with?"](".")["$!"]():t["$=="]("olist"))?a.$resolve_ordered_list_marker(e,n,r,i):t["$=="]("colist")?"<1>":e},rt.$$arity=-3),t.defs(dt,"$resolve_ordered_list_marker",it=function(e,r,i,a){var $,o,s=this,c=l,_=l,f=l,p=l;return null==r&&(r=0),null==i&&(i=!1),null==a&&(a=l),c=u(t.const_get_relative(ft,"ORDERED_LIST_STYLES"),"find",[],($=function(n){$.$$s;return null==n&&(n=l),t.const_get_relative(ft,"OrderedListMarkerRxMap")["$[]"](n)["$=~"](e)},$.$$s=s,$.$$arity=1,$)),_=f=l,p=c,"arabic"["$==="](p)?(d(i)&&(_=n(r,1),f=e.$to_i()),e="1."):"loweralpha"["$==="](p)?(d(i)&&(_=n("a"["$[]"](0).$ord(),r).$chr(),f=e.$chomp(".")),e="a."):"upperalpha"["$==="](p)?(d(i)&&(_=n("A"["$[]"](0).$ord(),r).$chr(),f=e.$chomp(".")),e="A."):"lowerroman"["$==="](p)?(d(i)&&(_=n(r,1),f=s.$roman_numeral_to_int(e.$chomp(")"))),e="i)"):"upperroman"["$==="](p)&&(d(i)&&(_=n(r,1),f=s.$roman_numeral_to_int(e.$chomp(")"))),e="I)"),d(d(o=i)?_["$!="](f):o)&&s.$warn("asciidoctor: WARNING: "+a.$line_info()+": list item index: expected "+_+", got "+f),e},it.$$arity=-2),t.defs(dt,"$is_sibling_list_item?",at=function(e,n,r){var i=this,a=l,$=l,o=l;return d(t.const_get_qualified("::","Regexp")["$==="](r))?(a=r,$=!1):(a=t.const_get_relative(ft,"ListRxMap")["$[]"](n),$=r),!!d(o=a.$match(e))&&(!d($)||$["$=="](i.$resolve_list_marker(n,o["$[]"](1))))},at.$$arity=3),t.defs(dt,"$next_table",$t=function(r,i,a){var $,o,s,c,_,f=this,p=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l,E=l,O=l,A=l,S=l,R=l,M=l;for(p=t.const_get_relative(ft,"Table").$new(i,a),d(a["$has_key?"]("title"))&&(g=[a.$delete("title")],u(p,"title=",t.to_a(g)),g[e(g.length,1)],p.$assign_caption(a.$delete("caption"))),d(d($=a["$key?"]("cols"))?(v=f.$parse_colspecs(a["$[]"]("cols")))["$empty?"]()["$!"]():$)?(p.$create_columns(v),m=!0):m=!1,y=r.$skip_blank_lines(),b=t.const_get_qualified(t.const_get_relative(ft,"Table"),"ParserContext").$new(r,p,a),w=d($=a["$key?"]("header-option"))?$:a["$key?"]("noheader-option"),k=-1;d(r["$has_more_lines?"]());){for(k=n(k,1),x=r.$read_line(),d(d(o=d(s=d(c=d(_=w["$!"]())?y["$=="](0):_)?k["$=="](0):c)?(E=r.$peek_line())["$nil?"]()["$!"]():s)?E["$empty?"]():o)&&(g=[!0],u(p,"has_header_option=",t.to_a(g)),g[e(g.length,1)],g=["header-option",""],u(a,"[]=",t.to_a(g)),g[e(g.length,1)],g=["options",d(a["$key?"]("options"))?a["$[]"]("options")+",header":"header"],u(a,"[]=",t.to_a(g)),g[e(g.length,1)]),b.$format()["$=="]("psv")&&(d(b["$starts_with_delimiter?"](x))?(x=x["$[]"](h(1,-1,!1)),b.$close_open_cell()):(s=f.$parse_cellspec(x,"start",b.$delimiter()),O=null==(o=t.to_ary(s))[0]?l:o[0],x=null==o[1]?l:o[1],d(O["$nil?"]()["$!"]())&&b.$close_open_cell(O))),A=!1;d(d(s=A["$!"]())?s:x["$empty?"]()["$!"]());)if(A=!0,d(S=b.$match_delimiter(x))){if(b.$format()["$=="]("csv")){if(d(b["$buffer_has_unclosed_quotes?"](S.$pre_match()))){x=b.$skip_matched_delimiter(S);continue}}else if(d(S.$pre_match()["$end_with?"]("\\"))){if(d((x=b.$skip_matched_delimiter(S,!0))["$empty?"]())){g=[""+b.$buffer()+t.const_get_relative(ft,"EOL")],u(b,"buffer=",t.to_a(g)),g[e(g.length,1)],b.$keep_cell_open();break}continue}b.$format()["$=="]("psv")?(c=f.$parse_cellspec(S.$pre_match(),"end"),O=null==(s=t.to_ary(c))[0]?l:s[0],R=null==s[1]?l:s[1],b.$push_cellspec(O),g=[""+b.$buffer()+R],u(b,"buffer=",t.to_a(g)),g[e(g.length,1)]):(g=[""+b.$buffer()+S.$pre_match()],u(b,"buffer=",t.to_a(g)),g[e(g.length,1)]),d((x=S.$post_match())["$empty?"]())&&(A=!1),b.$close_cell()}else g=[""+b.$buffer()+x+t.const_get_relative(ft,"EOL")],u(b,"buffer=",t.to_a(g)),g[e(g.length,1)],b.$format()["$=="]("csv")&&(g=[b.$buffer().$rstrip()+" "],u(b,"buffer=",t.to_a(g)),g[e(g.length,1)]),x="",d(d(s=b.$format()["$=="]("psv"))?s:(c=b.$format()["$=="]("csv"))?b["$buffer_has_unclosed_quotes?"]():b.$format()["$=="]("csv"))?b.$keep_cell_open():b.$close_cell(!0);d(b["$cell_open?"]())||(y=r.$skip_blank_lines()),d(r["$has_more_lines?"]())||d(b["$cell_open?"]())&&b.$close_cell(!0)}return d(d($=(M=p.$attributes(),d(o=M["$[]"]("colcount"))?o:(g=["colcount",p.$columns().$size()],u(M,"[]=",t.to_a(g)),g[e(g.length,1)]))["$=="](0))?$:m)||p.$assign_column_widths(),p.$partition_header_footer(a),p},$t.$$arity=3),t.defs(dt,"$parse_colspecs",ot=function(n){var r,i,a=this,$=l;return d(n["$include?"](" "))&&(n=n.$tr(" ","")),n["$=="](n.$to_i().$to_s())?u(t.const_get_qualified("::","Array"),"new",[n.$to_i()],(r=function(){r.$$s;return f(["width"],{width:1})},r.$$s=a,r.$$arity=0,r)):($=[],u(n.$split(",",-1),"each",[],(i=function(n){var r,a,o,s=i.$$s||this,c=l,_=l,p=l,h=l,g=l;return null==n&&(n=l),d(n["$empty?"]())?$["$<<"](f(["width"],{width:1})):d(c=t.const_get_relative(ft,"ColumnSpecRx").$match(n))?(_=f([],{}),d(c["$[]"](2))&&(a=c["$[]"](2).$split("."),p=null==(r=t.to_ary(a))[0]?l:r[0],h=null==r[1]?l:r[1],d(d(r=p["$nil_or_empty?"]()["$!"]())?t.const_get_qualified(t.const_get_relative(ft,"Table"),"ALIGNMENTS")["$[]"]("h")["$has_key?"](p):r)&&(g=["halign",t.const_get_qualified(t.const_get_relative(ft,"Table"),"ALIGNMENTS")["$[]"]("h")["$[]"](p)],u(_,"[]=",t.to_a(g)),g[e(g.length,1)]),d(d(r=h["$nil_or_empty?"]()["$!"]())?t.const_get_qualified(t.const_get_relative(ft,"Table"),"ALIGNMENTS")["$[]"]("v")["$has_key?"](h):r)&&(g=["valign",t.const_get_qualified(t.const_get_relative(ft,"Table"),"ALIGNMENTS")["$[]"]("v")["$[]"](h)],u(_,"[]=",t.to_a(g)),g[e(g.length,1)])),g=["width",d(c["$[]"](3))?c["$[]"](3).$to_i():1],u(_,"[]=",t.to_a(g)),g[e(g.length,1)],d(d(r=c["$[]"](4))?t.const_get_qualified(t.const_get_relative(ft,"Table"),"TEXT_STYLES")["$has_key?"](c["$[]"](4)):r)&&(g=["style",t.const_get_qualified(t.const_get_relative(ft,"Table"),"TEXT_STYLES")["$[]"](c["$[]"](4))],u(_,"[]=",t.to_a(g)),g[e(g.length,1)]),d(c["$[]"](1))?u(1,"upto",[c["$[]"](1).$to_i()],(o=function(){o.$$s;return $["$<<"](_.$dup())},o.$$s=s,o.$$arity=0,o)):$["$<<"](_)):l},i.$$s=a,i.$$arity=1,i)),$)},ot.$$arity=1),t.defs(dt,"$parse_cellspec",st=function(n,r,i){var a,$,o=l,s=l,c=l,_=l,p=l,h=l,g=l,v=l;if(null==r&&(r="start"),null==i&&(i=l),o=l,s="",c=r,"start"["$==="](c)){if(!d(n["$include?"](i)))return[l,n];if($=n.$split(i,2),a=t.to_ary($),_=null==a[0]?l:a[0],s=null==a[1]?l:a[1],!d(o=t.const_get_relative(ft,"CellSpecStartRx").$match(_)))return[l,n];if(d(o["$[]"](0)["$empty?"]()))return[f([],{}),s]}else if("end"["$==="](c)){if(!d(o=t.const_get_relative(ft,"CellSpecEndRx").$match(n)))return[f([],{}),n];if(d(o["$[]"](0).$lstrip()["$empty?"]()))return[f([],{}),n.$rstrip()];s=o.$pre_match()}return p=f([],{}),d(o["$[]"](1))&&($=o["$[]"](1).$split("."),a=t.to_ary($),h=null==a[0]?l:a[0],g=null==a[1]?l:a[1],h=d(h["$nil_or_empty?"]())?1:h.$to_i(),g=d(g["$nil_or_empty?"]())?1:g.$to_i(),o["$[]"](2)["$=="]("+")?(h["$=="](1)||(v=["colspan",h],u(p,"[]=",t.to_a(v)),v[e(v.length,1)]),g["$=="](1)||(v=["rowspan",g],u(p,"[]=",t.to_a(v)),v[e(v.length,1)])):o["$[]"](2)["$=="]("*")&&(h["$=="](1)||(v=["repeatcol",h],u(p,"[]=",t.to_a(v)),v[e(v.length,1)]))),d(o["$[]"](3))&&($=o["$[]"](3).$split("."),a=t.to_ary($),h=null==a[0]?l:a[0],g=null==a[1]?l:a[1],d(d(a=h["$nil_or_empty?"]()["$!"]())?t.const_get_qualified(t.const_get_relative(ft,"Table"),"ALIGNMENTS")["$[]"]("h")["$has_key?"](h):a)&&(v=["halign",t.const_get_qualified(t.const_get_relative(ft,"Table"),"ALIGNMENTS")["$[]"]("h")["$[]"](h)],u(p,"[]=",t.to_a(v)),v[e(v.length,1)]),d(d(a=g["$nil_or_empty?"]()["$!"]())?t.const_get_qualified(t.const_get_relative(ft,"Table"),"ALIGNMENTS")["$[]"]("v")["$has_key?"](g):a)&&(v=["valign",t.const_get_qualified(t.const_get_relative(ft,"Table"),"ALIGNMENTS")["$[]"]("v")["$[]"](g)],u(p,"[]=",t.to_a(v)),v[e(v.length,1)])),d(d(a=o["$[]"](4))?t.const_get_qualified(t.const_get_relative(ft,"Table"),"TEXT_STYLES")["$has_key?"](o["$[]"](4)):a)&&(v=["style",t.const_get_qualified(t.const_get_relative(ft,"Table"),"TEXT_STYLES")["$[]"](o["$[]"](4))],u(p,"[]=",t.to_a(v)),v[e(v.length,1)]),[p,s]},st.$$arity=-2),t.defs(dt,"$parse_style_attribute",lt=function(r,a){var $,o,s,c,_,p=this,h=l,g=l,v=l,m=l,y=l,b=l,w=l,k=l,x=l,E=l;return null==a&&(a=l),h=r["$[]"]("style"),g=r["$[]"](1),d(d($=d(o=g)?g["$include?"](" ")["$!"]():o)?t.const_get_relative(ft,"Compliance").$shorthand_property_syntax():$)?(v="style",m=[],y=f([],{}),b=u(p,"lambda",[],(s=function(){var n=s.$$s||this,r=l,i=l;return d(m["$empty?"]())?d(v["$!="]("style"))?n.$warn("asciidoctor: WARNING:"+(d(a["$nil?"]())?l:" "+a.$prev_line_info()+":")+" invalid empty "+v+" detected in style attribute"):l:(r=v,"role"["$==="](r)||"option"["$==="](r)?(d(y["$[]"](v))||(i=[v,[]],u(y,"[]=",t.to_a(i)),i[e(i.length,1)]),y["$[]"](v).$push(m.$join())):"id"["$==="](r)?(d(y["$has_key?"]("id"))&&n.$warn("asciidoctor: WARNING:"+(d(a["$nil?"]())?l:" "+a.$prev_line_info()+":")+" multiple ids detected in style attribute"),i=[v,m.$join()],u(y,"[]=",t.to_a(i)),i[e(i.length,1)]):(i=[v,m.$join()],u(y,"[]=",t.to_a(i)),i[e(i.length,1)]),m=[])},s.$$s=p,s.$$arity=0,s)),u(g,"each_char",[],(c=function(t){c.$$s;var e,n,r=l;return null==t&&(t=l),d(d(e=d(n=t["$=="]("."))?n:t["$=="]("#"))?e:t["$=="]("%"))?(b.$call(),r=t,"."["$==="](r)?v="role":"#"["$==="](r)?v="id":"%"["$==="](r)?v="option":l):m.$push(t)},c.$$s=p,c.$$arity=1,c)),v["$=="]("style")?(k=["style",g],u(r,"[]=",t.to_a(k)),w=k[e(k.length,1)]):(b.$call(),d(y["$has_key?"]("style"))?(k=["style",y["$[]"]("style")],u(r,"[]=",t.to_a(k)),w=k[e(k.length,1)]):w=l,d(y["$has_key?"]("id"))&&(k=["id",y["$[]"]("id")],u(r,"[]=",t.to_a(k)),k[e(k.length,1)]),d(y["$has_key?"]("role"))&&(k=["role",i(y["$[]"]("role")," ")],u(r,"[]=",t.to_a(k)),k[e(k.length,1)]),d(y["$has_key?"]("option"))&&(u(x=y["$[]"]("option"),"each",[],(_=function(n){_.$$s;return null==n&&(n=l),k=[n+"-option",""],u(r,"[]=",t.to_a(k)),k[e(k.length,1)]},_.$$s=p,_.$$arity=1,_)),d(E=r["$[]"]("options"))?(k=["options",i(n(x,E.$split(",")),",")],u(r,"[]=",t.to_a(k)),k[e(k.length,1)]):(k=["options",i(x,",")],u(r,"[]=",t.to_a(k)),k[e(k.length,1)]))),[w,h]):(k=["style",g],u(r,"[]=",t.to_a(k)),k[e(k.length,1)],[g,h])},lt.$$arity=-2),t.defs(dt,"$adjust_indentation!",ct=function(a,$,o){var s,c,_,f,p,h,v=this,m=l,y=l,b=l;return null==$&&($=0),null==o&&(o=0),d(a["$empty?"]())?l:(d(d(s=r(o=o.$to_i(),0))?a.$join()["$include?"](t.const_get_relative(ft,"TAB")):s)&&(m=i(" ",o),u(a,"map!",[],(c=function(r){var a,$,s=c.$$s||this,_=l;return null==r&&(r=l),d(r["$empty?"]())?r:(d(r["$start_with?"](t.const_get_relative(ft,"TAB")))&&(r=u(r,"sub",[t.const_get_relative(ft,"TabIndentRx")],(a=function(t){a.$$s;return null==t&&(t=l),i(m,t.$length())},a.$$s=s,a.$$arity=1,a))),d(r["$include?"](t.const_get_relative(ft,"TAB")))?(_=0,r=u(r,"gsub",[t.const_get_relative(ft,"TabRx")],($=function(){$.$$s;var t=l,r=l;return null==g["~"]&&(g["~"]=l),(t=n(g["~"].$begin(0),_))["$%"](o)["$=="](0)?(_=n(_,e(o,1)),m):((r=e(o,t["$%"](o)))["$=="](1)||(_=n(_,e(r,1))),i(" ",r))},$.$$s=s,$.$$arity=0,$))):r)},c.$$s=v,c.$$arity=1,c))),d(d(s=$)?r($=$.$to_i(),-1):s)?(y=l,function(){var n=t.new_brk();try{u(a,"each",[],(_=function(i){_.$$s;var a,$=l;return null==i&&(i=l),d(i["$empty?"]())?l:($=e(i.$length(),i.$lstrip().$length()))["$=="](0)?(y=l,void t.brk(l,n)):d(d(a=y)?r($,y):a)?l:y=$},_.$$s=v,_.$$brk=n,_.$$arity=1,_))}catch(t){if(t===n)return t.$v;throw t}}(),$["$=="](0)?d(y)&&u(a,"map!",[],(f=function(e){f.$$s;return null==e&&(e=l),d(e["$empty?"]())?e:e["$[]"](t.Range.$new(y,-1,!1))},f.$$s=v,f.$$arity=1,f)):(b=i(" ",$),d(y)?u(a,"map!",[],(p=function(e){p.$$s;return null==e&&(e=l),d(e["$empty?"]())?e:n(b,e["$[]"](t.Range.$new(y,-1,!1)))},p.$$s=v,p.$$arity=1,p)):u(a,"map!",[],(h=function(t){h.$$s;return null==t&&(t=l),d(t["$empty?"]())?t:n(b,t)},h.$$s=v,h.$$arity=1,h))),l):l)},ct.$$arity=-2),t.defs(dt,"$sanitize_attribute_name",_t=function(e){return e.$gsub(t.const_get_relative(ft,"InvalidAttributeNameCharsRx"),"").$downcase()},_t.$$arity=1),t.defs(dt,"$roman_numeral_to_int",ut=function(i){var a,$=this,s=l,c=l;return i=i.$downcase(),s=f(["i","v","x"],{i:1,v:5,x:10}),c=0,u(t.Range.$new(0,e(i.$length(),1),!1),"each",[],(a=function($){a.$$s;var _,u=l;return null==$&&($=l),u=s["$[]"](i["$[]"](t.Range.$new($,$,!1))),c=d(d(_=o(n($,1),i.$length()))?r(s["$[]"](i["$[]"](t.Range.$new(n($,1),n($,1),!1))),u):_)?e(c,u):n(c,u)},a.$$s=$,a.$$arity=1,a)),c},ut.$$arity=1)}(b[0],0,b)}(s[0],s)},Opal.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var a=[],$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.truthy,c=t.hash2,_=t.range,u=t.send;return t.add_stubs(["$attr_accessor","$is_root?","$expand_path","$pwd","$start_with?","$==","$=~","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixfy","$is_web_root?","$is_unc?","$index","$split","$shift","$delete","$[]=","$-","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$length","$pop","$fetch","$warn","$push","$chomp","$uri_prefix","$<<","$+"]),function(a,d){var f,p=f=o(a,"Asciidoctor"),h=(p.$$proto,[p].concat(d));!function(a,o,d){function f(){}var p,h,g,v,m,y,b,w,k,x,E,O=f=s(a,null,"PathResolver",f),A=O.$$proto,S=[O].concat(d);A.file_separator=A._partition_path_web=A._partition_path_sys=A.working_dir=$,t.const_set(S[0],"DOT","."),t.const_set(S[0],"DOT_DOT",".."),t.const_set(S[0],"DOT_SLASH","./"),t.const_set(S[0],"SLASH","/"),t.const_set(S[0],"BACKSLASH","\\"),t.const_set(S[0],"DOUBLE_SLASH","//"),t.const_set(S[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),O.$attr_accessor("file_separator"),O.$attr_accessor("working_dir"),t.defn(O,"$initialize",p=function(e,n){var r,i=this;return null==e&&(e=$),null==n&&(n=$),i.file_separator=l(e)?e:l(r=t.const_get_qualified(t.const_get_qualified("::","File"),"ALT_SEPARATOR"))?r:t.const_get_qualified(t.const_get_qualified("::","File"),"SEPARATOR"),l(n)?i.working_dir=l(i["$is_root?"](n))?n:t.const_get_qualified("::","File").$expand_path(n):i.working_dir=t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","Dir").$pwd()),i._partition_path_sys=c([],{}),i._partition_path_web=c([],{})},p.$$arity=-1),t.defn(O,"$is_root?",h=function(e){var n,r,i=this;return!!l(e["$start_with?"](t.const_get_relative(S,"SLASH")))||(!!l((n=i.file_separator["$=="](t.const_get_relative(S,"BACKSLASH")))?t.const_get_relative(S,"WindowsRootRx")["$=~"](e):i.file_separator["$=="](t.const_get_relative(S,"BACKSLASH")))||!!l(l(n=l(r=t.const_get_qualified("::","RUBY_ENGINE_OPAL"))?t.const_get_qualified("::","JAVASCRIPT_PLATFORM")["$=="]("browser"):r)?e["$start_with?"]("file://"):n))},h.$$arity=1),t.defn(O,"$is_unc?",g=function(e){return e["$start_with?"](t.const_get_relative(S,"DOUBLE_SLASH"))},g.$$arity=1),t.defn(O,"$is_web_root?",v=function(e){return e["$start_with?"](t.const_get_relative(S,"SLASH"))},v.$$arity=1),t.defn(O,"$posixfy",m=function(e){return l(e["$nil_or_empty?"]())?"":l(e["$include?"](t.const_get_relative(S,"BACKSLASH")))?e.$tr(t.const_get_relative(S,"BACKSLASH"),t.const_get_relative(S,"SLASH")):e},m.$$arity=1),t.defn(O,"$expand_path",y=function(e){var n,r,i=this,a=$,o=$;return r=i.$partition_path(e),n=t.to_ary(r),a=null==n[0]?$:n[0],o=null==n[1]?$:n[1],null==n[2]?$:n[2],i.$join_path(a,o)},y.$$arity=1),t.defn(O,"$partition_path",b=function(n,r){var i=this,a=$,o=$,s=$,c=$,d=$;return null==r&&(r=!1),l(a=l(r)?i._partition_path_web["$[]"](n):i._partition_path_sys["$[]"](n))?a:(o=i.$posixfy(n),s=l(r)?l(i["$is_web_root?"](o))?t.const_get_relative(S,"SLASH"):l(o["$start_with?"](t.const_get_relative(S,"DOT_SLASH")))?t.const_get_relative(S,"DOT_SLASH"):$:l(i["$is_root?"](o))?l(i["$is_unc?"](o))?t.const_get_relative(S,"DOUBLE_SLASH"):l(o["$start_with?"](t.const_get_relative(S,"SLASH")))?t.const_get_relative(S,"SLASH"):o["$[]"](t.Range.$new(0,o.$index(t.const_get_relative(S,"SLASH")),!1)):l(o["$start_with?"](t.const_get_relative(S,"DOT_SLASH")))?t.const_get_relative(S,"DOT_SLASH"):$,c=o.$split(t.const_get_relative(S,"SLASH")),s["$=="](t.const_get_relative(S,"DOUBLE_SLASH"))?c=c["$[]"](_(2,-1,!1)):l(s)&&c.$shift(),c.$delete(t.const_get_relative(S,"DOT")),d=[n,[c,s,o]],u(l(r)?i._partition_path_web:i._partition_path_sys,"[]=",t.to_a(d)),d[e(d.length,1)])},b.$$arity=-2),t.defn(O,"$join_path",w=function(e,r){return null==r&&(r=$),l(r)?""+r+n(e,t.const_get_relative(S,"SLASH")):n(e,t.const_get_relative(S,"SLASH"))},w.$$arity=-2),t.defn(O,"$system_path",k=function(e,n,i,a){var o,s,_,d=this,f=$,p=$,h=$,g=$,v=$,m=$,y=$,b=$,w=$;if(null==i&&(i=$),null==a&&(a=c([],{})),l(i)&&(l(d["$is_root?"](i))||d.$raise(t.const_get_qualified("::","SecurityError"),"Jail is not an absolute path: "+i),i=d.$posixfy(i)),l(e["$nil_or_empty?"]())?f=[]:(s=d.$partition_path(e),f=null==(o=t.to_ary(s))[0]?$:o[0],p=null==o[1]?$:o[1],null==o[2]?$:o[2]),l(f["$empty?"]())){if(l(n["$nil_or_empty?"]()))return l(i)?i:d.working_dir;if(!l(d["$is_root?"](n)))return d.$system_path(n,i,i,a);if(!l(i))return d.$expand_path(n)}return l(l(o=p)?p["$!="](t.const_get_relative(S,"DOT_SLASH")):o)&&(h=d.$join_path(f,p),l(l(o=i["$!"]())?o:h["$start_with?"](i)))?h:(n=l(n["$nil_or_empty?"]())?l(i)?i:d.working_dir:l(d["$is_root?"](n))?d.$posixfy(n):d.$system_path(n,i,i,a),i["$=="](n)?(s=d.$partition_path(i),o=t.to_ary(s),g=null==o[0]?$:o[0],v=null==o[1]?$:o[1],null==o[2]?$:o[2],m=g.$dup()):l(i)?(l(n["$start_with?"](i))||d.$raise(t.const_get_qualified("::","SecurityError"),(l(o=a["$[]"]("target_name"))?o:"Start path")+" "+n+" is outside of jail: "+i+" (disallowed in safe mode)"),s=d.$partition_path(n),m=null==(o=t.to_ary(s))[0]?$:o[0],y=null==o[1]?$:o[1],null==o[2]?$:o[2],s=d.$partition_path(i),o=t.to_ary(s),g=null==o[0]?$:o[0],v=null==o[1]?$:o[1],null==o[2]?$:o[2]):(s=d.$partition_path(n),m=null==(o=t.to_ary(s))[0]?$:o[0],y=null==o[1]?$:o[1],null==o[2]?$:o[2],v=y),b=m.$dup(),w=!1,u(f,"each",[],(_=function(n){var o,s=_.$$s||this,c=$;return null==n&&(n=$),n["$=="](t.const_get_relative(S,"DOT_DOT"))?l(i)?l(r(b.$length(),g.$length()))?b.$pop():l((c=l(o=c)?o:a.$fetch("recover",!0))["$!"]())?s.$raise(t.const_get_qualified("::","SecurityError"),(l(o=a["$[]"]("target_name"))?o:"path")+" "+e+" refers to location outside jail: "+i+" (disallowed in safe mode)"):l(w["$!"]())?(s.$warn("asciidoctor: WARNING: "+(l(o=a["$[]"]("target_name"))?o:"path")+" has illegal reference to ancestor of jail, auto-recovering"),w=!0):$:b.$pop():b.$push(n)},_.$$s=d,_.$$arity=1,_)),d.$join_path(b,v))},k.$$arity=-3),t.defn(O,"$web_path",x=function(e,n){var r,i,a,o=this,s=$,c=$,_=$,d=$;return null==n&&(n=$),e=o.$posixfy(e),n=o.$posixfy(n),s=$,l(l(r=n["$nil_or_empty?"]())?r:o["$is_web_root?"](e))||(e=""+n.$chomp("/")+t.const_get_relative(S,"SLASH")+e,l(s=t.const_get_relative(S,"Helpers").$uri_prefix(e))&&(e=e["$[]"](t.Range.$new(s.$length(),-1,!1)))),i=o.$partition_path(e,!0),r=t.to_ary(i),c=null==r[0]?$:r[0],_=null==r[1]?$:r[1],null==r[2]?$:r[2],d=[],u(c,"each",[],(a=function(e){var n;a.$$s;return null==e&&(e=$),e["$=="](t.const_get_relative(S,"DOT_DOT"))?l(d["$empty?"]())?l(l(n=_)?_["$!="](t.const_get_relative(S,"DOT_SLASH")):n)?$:d["$<<"](e):d["$[]"](-1)["$=="](t.const_get_relative(S,"DOT_DOT"))?d["$<<"](e):d.$pop():d["$<<"](e)},a.$$s=o,a.$$arity=1,a)),l(s)?""+s+o.$join_path(d,_):o.$join_path(d,_)},x.$$arity=-2),t.defn(O,"$relative_path",E=function(e,n){var r,a=this,o=$;return l(l(r=a["$is_root?"](e))?a["$is_root?"](n):r)?(o=i(n.$chomp(a.file_separator).$length(),1),e["$[]"](t.Range.$new(o,-1,!1))):e},E.$$arity=2)}(h[0],0,h)}(a[0],a)},Opal.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var l=[],c=t.nil,_=(t.breaker,t.slice,t.module),u=t.klass,d=t.truthy,f=t.hash2,p=t.range,h=t.send;return t.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$empty?","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$nil?","$peek_line","$nil_or_empty?","$>","$process_line","$times","$read_line","$<<","$reverse_each","$unshift","$has_more_lines?","$shift","$*","$read_lines","$advance","$eof?","$start_with?","$match","$push","$read_lines_until","$=~","$size","$clear","$[]=","$-","$new","$line_info","$to_i","$fetch","$attributes","$<","$references","$has_key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$preprocess_conditional_inclusion","$captures","$preprocess_include","$strip","$pop_include","$downcase","$warn","$none?","$any?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$pwd","$base_dir","$join","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$each","$map","$to_proc","$/","$concat","$to_a","$uniq","$sort","$to_set","$open","$each_line","$infinite?","$push_include","$force_encoding","$chomp","$read","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),function(l,g){var v,m=v=_(l,"Asciidoctor"),y=(m.$$proto,[m].concat(g));!function(a,$,o){function s(){}var l,_,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q,N,L,z,P,D,B,j,F,U,G=s=u(a,null,"Reader",s),H=G.$$proto,Y=[G].concat(o);H.file=H.dir=H.lines=H.process_lines=H.look_ahead=H.eof=H.unescape_next_line=H.lineno=H.path=H.source_lines=c,function(e,n,r){function i(){}var a,$,o=i=u(e,null,"Cursor",i);o.$$proto,[o].concat(r);o.$attr_accessor("file"),o.$attr_accessor("dir"),o.$attr_accessor("path"),o.$attr_accessor("lineno"),t.defn(o,"$initialize",a=function(t,e,n,r){var i=this;return null==e&&(e=c),null==n&&(n=c),null==r&&(r=c),i.file=t,i.dir=e,i.path=n,i.lineno=r},a.$$arity=-2),t.defn(o,"$line_info",$=function(){var t=this;return t.$path()+": line "+t.$lineno()},$.$$arity=0),t.alias(o,"to_s","line_info")}(Y[0],0,Y),G.$attr_reader("file"),G.$attr_reader("dir"),G.$attr_reader("path"),G.$attr_reader("lineno"),G.$attr_reader("source_lines"),G.$attr_accessor("process_lines"),t.defn(G,"$initialize",l=function(e,n,r){var i,a,$=this;return null==e&&(e=c),null==n&&(n=c),null==r&&(r=f(["normalize"],{normalize:!1})),d(n["$!"]())?($.file=$.dir=c,$.path="<stdin>",$.lineno=1):d(t.const_get_qualified("::","String")["$==="](n))?($.file=n,a=t.const_get_qualified("::","File").$split($.file),i=t.to_ary(a),$.dir=null==i[0]?c:i[0],$.path=null==i[1]?c:i[1],$.lineno=1):($.file=n.$file(),$.dir=n.$dir(),$.path=d(i=n.$path())?i:"<stdin>",d($.file)&&(d($.dir)||($.dir=t.const_get_qualified("::","File").$dirname($.file),$.dir["$=="](".")&&($.dir=c)),d(n.$path())||($.path=t.const_get_qualified("::","File").$basename($.file))),$.lineno=d(i=n.$lineno())?i:1),$.lines=d(e)?$.$prepare_lines(e,r):[],$.source_lines=$.lines.$dup(),$.eof=$.lines["$empty?"](),$.look_ahead=0,$.process_lines=!0,$.unescape_next_line=!1},l.$$arity=-1),t.defn(G,"$prepare_lines",_=function(e,n){return null==n&&(n=f([],{})),d(t.const_get_qualified("::","String")["$==="](e))?d(n["$[]"]("normalize"))?t.const_get_relative(Y,"Helpers").$normalize_lines_from_string(e):e.$split(t.const_get_relative(Y,"EOL")):d(n["$[]"]("normalize"))?t.const_get_relative(Y,"Helpers").$normalize_lines_array(e):e.$dup()},_.$$arity=-2),t.defn(G,"$process_line",g=function(t){var n=this;return d(n.process_lines)&&(n.look_ahead=e(n.look_ahead,1)),t},g.$$arity=1),t.defn(G,"$has_more_lines?",v=function(){var t,e=this;return(d(t=e.eof)?t:e.eof=e.$peek_line()["$nil?"]())["$!"]()},v.$$arity=0),t.defn(G,"$next_line_empty?",m=function(){return this.$peek_line()["$nil_or_empty?"]()},m.$$arity=0),t.defn(G,"$peek_line",y=function(t){var e,r=this,i=c;return null==t&&(t=!1),d(d(e=t)?e:n(r.look_ahead,0))?d(r.unescape_next_line)?r.lines["$[]"](0)["$[]"](p(1,-1,!1)):r.lines["$[]"](0):d(d(e=r.eof)?e:r.lines["$empty?"]())?(r.eof=!0,r.look_ahead=0,c):d((i=r.$process_line(r.lines["$[]"](0)))["$!"]())?r.$peek_line():i},y.$$arity=-1),t.defn(G,"$peek_lines",b=function(e,n){var r,i,a=this,$=c,o=c;return null==e&&(e=1),null==n&&(n=!0),$=a.look_ahead,o=[],function(){var i=t.new_brk();try{h(e,"times",[],(r=function(){var e=r.$$s||this,a=c;if(d(a=e.$read_line(n)))return o["$<<"](a);t.brk(c,i)},r.$$s=a,r.$$brk=i,r.$$arity=0,r))}catch(t){if(t===i)return t.$v;throw t}}(),d(o["$empty?"]())||(h(o,"reverse_each",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=c),e.$unshift(t)},i.$$s=a,i.$$arity=1,i)),d(n)&&(a.look_ahead=$)),o},b.$$arity=-1),t.defn(G,"$read_line",w=function(t){var e,r,i=this;return null==t&&(t=!1),d(d(e=d(r=t)?r:n(i.look_ahead,0))?e:i["$has_more_lines?"]())?i.$shift():c},w.$$arity=-1),t.defn(G,"$read_lines",k=function(){var t=this,e=c;for(e=[];d(t["$has_more_lines?"]());)e["$<<"](t.$shift());return e},k.$$arity=0),t.alias(G,"readlines","read_lines"),t.defn(G,"$read",x=function(){return r(this.$read_lines(),t.const_get_relative(Y,"EOL"))},x.$$arity=0),t.defn(G,"$advance",E=function(t){var e=this;return null==t&&(t=!0),e.$read_line(t)["$!"]()["$!"]()},E.$$arity=-1),t.defn(G,"$unshift_line",O=function(t){return this.$unshift(t),c},O.$$arity=1),t.alias(G,"restore_line","unshift_line"),t.defn(G,"$unshift_lines",A=function(t){var e,n=this;return h(t,"reverse_each",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=c),n.$unshift(t)},e.$$s=n,e.$$arity=1,e)),c},A.$$arity=1),t.alias(G,"restore_lines","unshift_lines"),t.defn(G,"$replace_next_line",S=function(t){var e=this;return e.$advance(),e.$unshift(t),c},S.$$arity=1),t.alias(G,"replace_line","replace_next_line"),t.defn(G,"$skip_blank_lines",R=function(){var t=this,n=c,r=c;if(d(t["$eof?"]()))return 0;for(n=0;d(r=t.$peek_line());){if(!d(r["$empty?"]()))return n;t.$advance(),n=e(n,1)}return n},R.$$arity=0),t.defn(G,"$skip_comment_lines",M=function(e){var n,r=this,i=c,a=c,$=c,o=c,s=c;if(null==e&&(e=f([],{})),d(r["$eof?"]()))return[];for(i=[],a=e["$[]"]("include_blank_lines");d($=r.$peek_line());)if(d(d(n=a)?$["$empty?"]():n))i["$<<"](r.$shift());else if(d(d(n=o=$["$start_with?"]("//"))?s=t.const_get_relative(Y,"CommentBlockRx").$match($):n))i["$<<"](r.$shift()),h(i,"push",t.to_a(r.$read_lines_until(f(["terminator","read_last_line","skip_processing"],{terminator:s["$[]"](0),read_last_line:!0,skip_processing:!0}))));else{if(!d(d(n=o)?t.const_get_relative(Y,"CommentLineRx")["$=~"]($):n))break;i["$<<"](r.$shift())}return i},M.$$arity=-1),t.defn(G,"$skip_line_comments",T=function(){var e=this,n=c,r=c;if(d(e["$eof?"]()))return[];for(n=[];d(r=e.$peek_line())&&d(t.const_get_relative(Y,"CommentLineRx")["$=~"](r));)n["$<<"](e.$shift());return n},T.$$arity=0),t.defn(G,"$terminate",I=function(){var t=this;return t.lineno=e(t.lineno,t.lines.$size()),t.lines.$clear(),t.eof=!0,t.look_ahead=0,c},I.$$arity=0),t.defn(G,"$eof?",C=function(){return this["$has_more_lines?"]()["$!"]()},C.$$arity=0),t.alias(G,"empty?","eof?"),t.defn(G,"$read_lines_until",q=function(e){var n,r,a,$,o=this,s=q.$$p,l=s||c,_=c,u=c,p=c,g=c,v=c,m=c,y=c,b=c,w=c,k=c,x=c;for(null==e&&(e=f([],{})),s&&(q.$$p=null),_=[],d(e["$[]"]("skip_first_line"))&&o.$advance(),d(d(n=o.process_lines)?e["$[]"]("skip_processing"):n)?(o.process_lines=!1,u=!0):u=!1,d(p=e["$[]"]("terminator"))?(g=!1,v=!1):(g=e["$[]"]("break_on_blank_lines"),v=e["$[]"]("break_on_list_continuation")),m=e["$[]"]("skip_line_comments"),y=!1,b=!1,w=!1;d(d(r=w["$!"]())?k=o.$read_line():r);)w=function(){for(;d(!0);)return!!d(d(a=p)?k["$=="](p):a)||(!!d(d(a=g)?k["$empty?"]():a)||(d(d(a=d($=v)?y:$)?k["$=="](t.const_get_relative(Y,"LIST_CONTINUATION")):a)?(x=["preserve_last_line",!0],h(e,"[]=",t.to_a(x)),x[i(x.length,1)],!0):!!d((a=l!==c)?t.yield1(l,k):l!==c)));return c}(),d(w)?(d(e["$[]"]("read_last_line"))&&(_["$<<"](k),y=!0),d(e["$[]"]("preserve_last_line"))&&(o.$unshift(k),b=!0)):d(d(r=d(a=m)?k["$start_with?"]("//"):a)?t.const_get_relative(Y,"CommentLineRx")["$=~"](k):r)||(_["$<<"](k),y=!0);return d(u)&&(o.process_lines=!0,d(d(n=b)?p["$!"]():n)&&(o.look_ahead=i(o.look_ahead,1))),_},q.$$arity=-1),t.defn(G,"$shift",N=function(){var t=this;return t.lineno=e(t.lineno,1),t.look_ahead["$=="](0)||(t.look_ahead=i(t.look_ahead,1)),t.lines.$shift()},N.$$arity=0),t.defn(G,"$unshift",L=function(t){var n=this;return n.lineno=i(n.lineno,1),n.look_ahead=e(n.look_ahead,1),n.eof=!1,n.lines.$unshift(t)},L.$$arity=1),t.defn(G,"$cursor",z=function(){var e=this;return t.const_get_relative(Y,"Cursor").$new(e.file,e.dir,e.path,e.lineno)},z.$$arity=0),t.defn(G,"$line_info",P=function(){var t=this;return t.path+": line "+t.lineno},P.$$arity=0),t.alias(G,"next_line_info","line_info"),t.defn(G,"$prev_line_info",D=function(){var t=this;return t.path+": line "+i(t.lineno,1)},D.$$arity=0),t.defn(G,"$lines",B=function(){return this.lines.$dup()},B.$$arity=0),t.defn(G,"$string",j=function(){return r(this.lines,t.const_get_relative(Y,"EOL"))},j.$$arity=0),t.defn(G,"$source",F=function(){return r(this.source_lines,t.const_get_relative(Y,"EOL"))},F.$$arity=0),t.defn(G,"$to_s",U=function(){return this.$line_info()},U.$$arity=0)}(y[0],0,y),function(l,_,g){function v(){}var m,y,b,w,k,x,E,O,A,S,R,M,T,I,C,q=v=u(l,_,"PreprocessorReader",v),N=q.$$proto,L=[q].concat(g);N.document=N.lineno=N.process_lines=N.look_ahead=N.skipping=N.include_stack=N.conditional_stack=N.path=N.include_processor_extensions=N.maxdepth=N.dir=N.lines=N.file=N.includes=N.unescape_next_line=c,q.$attr_reader("include_stack"),q.$attr_reader("includes"),t.defn(q,"$initialize",m=function(e,n,r){var $,o=this,s=m.$$p,l=c,_=c,u=c;return null==n&&(n=c),null==r&&(r=c),s&&(m.$$p=null),o.document=e,h(o,t.find_super_dispatcher(o,"initialize",m,!1),[n,r,f(["normalize"],{normalize:!0})],null),l=e.$attributes().$fetch("max-include-depth",64).$to_i(),d(a(l,0))&&(l=0),o.maxdepth=f(["abs","rel"],{abs:l,rel:l}),o.include_stack=[],o.includes=(_=e.$references(),d($=_["$[]"]("includes"))?$:(u=["includes",[]],h(_,"[]=",t.to_a(u)),u[i(u.length,1)])),o.skipping=!1,o.conditional_stack=[],o.include_processor_extensions=c},m.$$arity=-2),t.defn(q,"$prepare_lines",y=function(n,a){var $,o,s=this,l=y.$$p,_=c,u=c,p=c,g=c,v=c,m=c,b=c,w=c;for(null==a&&(a=f([],{})),l&&(y.$$p=null),b=0,w=arguments.length,m=new Array(w);b<w;b++)m[b]=arguments[b];if(_=h(s,t.find_super_dispatcher(s,"prepare_lines",y,!1),m,l),d(d($=s.document)?s.document.$attributes()["$has_key?"]("skip-front-matter"):$)&&d(u=s["$skip_front_matter!"](_))&&(p=["front-matter",r(u,t.const_get_relative(L,"EOL"))],h(s.document.$attributes(),"[]=",t.to_a(p)),p[i(p.length,1)]),d(a.$fetch("condense",!0))){for(;d(d(o=g=_["$[]"](0))?g["$empty?"]():o);)d(o=_.$shift())&&(s.lineno=e(s.lineno,1));for(;d(d(o=v=_["$[]"](-1))?v["$empty?"]():o);)_.$pop()}return d(a["$[]"]("indent"))&&t.const_get_relative(L,"Parser")["$adjust_indentation!"](_,a["$[]"]("indent"),s.document.$attr("tabsize")),_},y.$$arity=-2),t.defn(q,"$process_line",b=function(n){var r,i,a=this,$=c,o=c;return d(a.process_lines)?d(n["$empty?"]())?(a.look_ahead=e(a.look_ahead,1),""):d(d(r=d(i=n["$end_with?"]("]"))?n["$start_with?"]("[")["$!"]():i)?n["$include?"]("::"):r)?d(d(r=n["$include?"]("if"))?$=t.const_get_relative(L,"ConditionalDirectiveRx").$match(n):r)?d(n["$start_with?"]("\\"))?(a.unescape_next_line=!0,a.look_ahead=e(a.look_ahead,1),n["$[]"](p(1,-1,!1))):d(h(a,"preprocess_conditional_inclusion",t.to_a($.$captures())))?(a.$advance(),c):(a.look_ahead=e(a.look_ahead,1),n):d(a.skipping)?(a.$advance(),c):d(d(r=d(i=o=n["$start_with?"]("\\include::"))?i:n["$start_with?"]("include::"))?$=t.const_get_relative(L,"IncludeDirectiveRx").$match(n):r)?d(o)?(a.unescape_next_line=!0,a.look_ahead=e(a.look_ahead,1),n["$[]"](p(1,-1,!1))):d(a.$preprocess_include($["$[]"](1),$["$[]"](2).$strip()))?c:(a.look_ahead=e(a.look_ahead,1),n):(a.look_ahead=e(a.look_ahead,1),n):d(a.skipping)?(a.$advance(),c):(a.look_ahead=e(a.look_ahead,1),n):n},b.$$arity=1),t.defn(q,"$peek_line",w=function(e){var n=this,r=w.$$p,i=c,a=c,$=c,o=c;for(null==e&&(e=!1),r&&(w.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return d(i=h(n,t.find_super_dispatcher(n,"peek_line",w,!1),a,r))?i:d(n.include_stack["$empty?"]())?c:(n.$pop_include(),n.$peek_line(e))},w.$$arity=-1),t.defn(q,"$preprocess_conditional_inclusion",k=function(e,r,i,a){var $,o,s,l,_,u,p,g=this,v=c,m=c,y=c,b=c,w=c,k=c,x=c,E=c,O=c;if(d(d($=d(o=d(s=e["$=="]("ifdef"))?s:e["$=="]("ifndef"))?r["$empty?"]():o)?$:(o=e["$=="]("endif"))?a:e["$=="]("endif")))return!1;if(r=r.$downcase(),e["$=="]("endif"))return v=g.conditional_stack.$size(),d(n(v,0))?(m=g.conditional_stack["$[]"](-1),d(d($=r["$empty?"]())?$:r["$=="](m["$[]"]("target")))?(g.conditional_stack.$pop(),g.skipping=!d(g.conditional_stack["$empty?"]())&&g.conditional_stack["$[]"](-1)["$[]"]("skipping")):g.$warn("asciidoctor: ERROR: "+g.$line_info()+": mismatched macro: endif::"+r+"[], expected endif::"+m["$[]"]("target")+"[]")):g.$warn("asciidoctor: ERROR: "+g.$line_info()+": unmatched macro: endif::"+r+"[]"),!0;if(y=!1,d(g.skipping));else if(b=e,"ifdef"["$==="](b))b=i,c["$==="](b)?y=g.document.$attributes()["$has_key?"](r)["$!"]():","["$==="](b)?y=h(r.$split(","),"none?",[],(l=function(t){var e=l.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$has_key?"](t)},l.$$s=g,l.$$arity=1,l)):"+"["$==="](b)&&(y=h(r.$split("+"),"any?",[],(_=function(t){var e=_.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$has_key?"](t)["$!"]()},_.$$s=g,_.$$arity=1,_)));else if("ifndef"["$==="](b))b=i,c["$==="](b)?y=g.document.$attributes()["$has_key?"](r):","["$==="](b)?y=h(r.$split(","),"none?",[],(u=function(t){var e=u.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$has_key?"](t)["$!"]()},u.$$s=g,u.$$arity=1,u)):"+"["$==="](b)&&(y=h(r.$split("+"),"any?",[],(p=function(t){var e=p.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$has_key?"](t)},p.$$s=g,p.$$arity=1,p)));else if("ifeval"["$==="](b)){if(d(d($=r["$empty?"]()["$!"]())?$:(w=t.const_get_relative(L,"EvalExpressionRx").$match(a.$strip()))["$!"]()))return!1;k=g.$resolve_expr_val(w["$[]"](1)),x=g.$resolve_expr_val(w["$[]"](3)),y=(E=w["$[]"](2))["$=="]("!=")?k.$send("==",x):k.$send(E.$to_sym(),x)["$!"]()}if(d(d($=e["$=="]("ifeval"))?$:a["$!"]()))d(y)&&(g.skipping=!0),g.conditional_stack["$<<"](f(["target","skip","skipping"],{target:r,skip:y,skipping:g.skipping}));else if(!d(d($=g.skipping)?$:y))return O=g.$peek_line(!0),g.$replace_next_line(a.$rstrip()),g.$unshift(O),!0;return!0},k.$$arity=4),t.defn(q,"$preprocess_include",x=function(a,s){var l,_,u,p,g,v,m,y=this,b=c,w=c,k=c,x=c,E=c,O=c,A=c,S=c,R=c,M=c,T=c,I=c,C=c,q=c,N=c,z=c;if(d((b=y.document.$sub_attributes(a,f(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]()))return y.$advance(),y.document.$attributes().$fetch("attribute-missing",t.const_get_relative(L,"Compliance").$attribute_missing())["$=="]("skip")&&y.$unshift("Unresolved directive in "+y.path+" - include::"+a+"["+s+"]"),!0;if(d(d(l=y["$include_processors?"]())?w=h(y.include_processor_extensions,"find",[],(_=function(t){_.$$s;return null==t&&(t=c),t.$instance()["$handles?"](b)},_.$$s=y,_.$$arity=1,_)):l))return y.$advance(),w.$process_method()["$[]"](y.document,y,b,t.const_get_relative(L,"AttributeList").$new(s).$parse()),!0;if(d($(y.document.$safe(),t.const_get_qualified(t.const_get_relative(L,"SafeMode"),"SECURE"))))return y.$replace_next_line("link:"+b+"[]"),!0;if(d(n(k=y.maxdepth["$[]"]("abs"),0))){if(d($(y.include_stack.$size(),k)))return y.$warn("asciidoctor: ERROR: "+y.$line_info()+": maximum include depth of "+y.maxdepth["$[]"]("rel")+" exceeded"),!1;if(d(t.const_get_qualified("::","RUBY_ENGINE_OPAL")))x="file",E=O=d(y.include_stack["$empty?"]())&&t.const_get_qualified("::","Dir").$pwd()["$=="](y.document.$base_dir())?b:t.const_get_qualified("::","File").$join(y.dir,b);else if(d(t.const_get_relative(L,"Helpers")["$uriish?"](b))){if(!d(y.document.$attributes()["$has_key?"]("allow-uri-read")))return y.$replace_next_line("link:"+b+"[]"),!0;x="uri",E=O=b,d(y.document.$attributes()["$has_key?"]("cache-uri"))?d((u=t.const_get_qualified("::","OpenURI","skip_raise"))&&(l=t.const_get_qualified(u,"Cache","skip_raise"))?"constant":c)||t.const_get_relative(L,"Helpers").$require_library("open-uri/cached","open-uri-cached"):d(t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&t.const_get_qualified("::","OpenURI")}else{if(x="file",E=y.document.$normalize_system_path(b,y.dir,c,f(["target_name"],{target_name:"include file"})),!d(t.const_get_qualified("::","File")["$file?"](E)))return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include file not found: "+E),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+b+"["+s+"]"),!0;O=t.const_get_relative(L,"PathResolver").$new().$relative_path(E,y.document.$base_dir())}if(A=c,S=c,R=f([],{}),d(s["$empty?"]()["$!"]())&&(R=t.const_get_relative(L,"AttributeList").$new(s).$parse(),d(R["$has_key?"]("lines"))?(A=[],h(R["$[]"]("lines").$split(t.const_get_relative(L,"DataDelimiterRx")),"each",[],(p=function(e){p.$$s;var n,r,i=c,a=c;return null==e&&(e=c),d(e["$include?"](".."))?(r=h(e.$split("..",2),"map",[],"to_i".$to_proc()),n=t.to_ary(r),i=null==n[0]?c:n[0],(a=null==n[1]?c:n[1])["$=="](-1)?(A["$<<"](i),A["$<<"](o(1,0))):A.$concat(t.const_get_qualified("::","Range").$new(i,a).$to_a())):A["$<<"](e.$to_i())},p.$$s=y,p.$$arity=1,p)),A=A.$sort().$uniq()):d(R["$has_key?"]("tag"))?S=[R["$[]"]("tag")].$to_set():d(R["$has_key?"]("tags"))&&(S=R["$[]"]("tags").$split(t.const_get_relative(L,"DataDelimiterRx")).$to_set())),d(A))if(d(A["$empty?"]()));else{M=[],T=0,I=0;try{!function(){var n=t.new_brk();try{h(y,"open",[E,"r"],(g=function(n){var r,i=g.$$s||this;return null==n&&(n=c),function(){var a=t.new_brk();try{return h(n,"each_line",[],(r=function(i){r.$$s;var $,o=c;return null==i&&(i=c),I=e(I,1),o=A["$[]"](0),d(d($=t.const_get_qualified("::","Float")["$==="](o))?o["$infinite?"]():$)?(M.$push(i),T["$=="](0)?T=I:c):(n.$lineno()["$=="](o)&&(M.$push(i),T["$=="](0)&&(T=I),A.$shift()),d(A["$empty?"]())?void t.brk(c,a):c)},r.$$s=i,r.$$brk=a,r.$$arity=1,r))}catch(t){if(t===a)return t.$v;throw t}}()},g.$$s=y,g.$$brk=n,g.$$arity=1,g))}catch(t){if(t===n)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[t.const_get_relative(L,"StandardError")]))throw e;try{return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include "+x+" not readable: "+E),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+b+"["+s+"]"),!0}finally{t.pop_exception()}}y.$advance(),y.$push_include(M,E,O,T,R)}else if(d(S))if(d(S["$empty?"]()));else{M=[],T=0,I=0,C=c,q=t.const_get_qualified("::","Set").$new();try{!function(){var n=t.new_brk();try{h(y,"open",[E,"r"],(v=function(n){var r,i=v.$$s||this;return null==n&&(n=c),function(){var a=t.new_brk();try{return h(n,"each_line",[],(r=function(n){var i,a,$=r.$$s||this,o=c;return null==n&&(n=c),I=e(I,1),d(t.const_get_relative(L,"FORCE_ENCODING"))&&n.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8")),n=n.$rstrip(),o=n.$chomp("--\x3e").$rstrip(),d(C)?d(o["$end_with?"]("end::"+C+"[]"))?C=c:(d(d(i=o["$end_with?"]("[]"))?t.const_get_relative(L,"TagDirectiveRx")["$=~"](o):i)||M.$push(n),T["$=="](0)?T=I:c):d(d(i=o["$end_with?"]("[]"))?t.const_get_relative(L,"TagDirectiveRx")["$=~"](o):i)?function(){var e=t.new_brk();try{return h(S,"each",[],(a=function(n){a.$$s;if(null==n&&(n=c),!d(o["$end_with?"]("tag::"+n+"[]")))return c;C=n,q["$<<"](n),t.brk(c,e)},a.$$s=$,a.$$brk=e,a.$$arity=1,a))}catch(t){if(t===e)return t.$v;throw t}}():c},r.$$s=i,r.$$brk=a,r.$$arity=1,r))}catch(t){if(t===a)return t.$v;throw t}}()},v.$$s=y,v.$$brk=n,v.$$arity=1,v))}catch(t){if(t===n)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[t.const_get_relative(L,"StandardError")]))throw e;try{return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include "+x+" not readable: "+E),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+b+"["+s+"]"),!0}finally{t.pop_exception()}}d((N=i(S.$to_a(),q.$to_a()))["$empty?"]())||y.$warn("asciidoctor: WARNING: "+y.$line_info()+": tag"+(d(n(N.$size(),1))?"s":c)+" '"+r(N,",")+"' not found in include "+x+": "+E),y.$advance(),y.$push_include(M,E,O,T,R)}else try{z=h(y,"open",[E,"r"],(m=function(t){m.$$s;return null==t&&(t=c),t.$read()},m.$$s=y,m.$$arity=1,m)),y.$advance(),y.$push_include(z,E,O,1,R)}catch(e){if(!t.rescue(e,[t.const_get_relative(L,"StandardError")]))throw e;try{return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include "+x+" not readable: "+E),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+b+"["+s+"]"),!0}finally{t.pop_exception()}}return!0}return!1},x.$$arity=2),t.defn(q,"$push_include",E=function(n,r,a,$,o){var l=this,_=c,u=c;return null==r&&(r=c),null==a&&(a=c),null==$&&($=1),null==o&&(o=f([],{})),l.include_stack["$<<"]([l.lines,l.file,l.dir,l.path,l.lineno,l.maxdepth,l.process_lines]),d(r)?(l.file=r,l.dir=t.const_get_relative(L,"File").$dirname(r),l.process_lines=t.const_get_relative(L,"ASCIIDOC_EXTENSIONS")["$[]"](t.const_get_qualified("::","File").$extname(r))):(l.file=c,l.dir=".",l.process_lines=!0),l.path=d(a)?(l.includes["$<<"](t.const_get_relative(L,"Helpers").$rootname(a)),a):"<stdin>",l.lineno=$,d(o["$has_key?"]("depth"))&&(_=o["$[]"]("depth").$to_i(),d(s(_,0))&&(_=1),l.maxdepth=f(["abs","rel"],{abs:e(i(l.include_stack.$size(),1),_),rel:_})),d((l.lines=l.$prepare_lines(n,f(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:o["$[]"]("indent")})))["$empty?"]())?l.$pop_include():(d(o["$has_key?"]("leveloffset"))&&(l.lines.$unshift(""),l.lines.$unshift(":leveloffset: "+o["$[]"]("leveloffset")),l.lines.$push(""),d(u=l.document.$attr("leveloffset"))?l.lines.$push(":leveloffset: "+u):l.lines.$push(":leveloffset!:"),l.lineno=i(l.lineno,2)),l.eof=!1,l.look_ahead=0),l},E.$$arity=-2),t.defn(q,"$pop_include",O=function(){var e,r,i=this;return d(n(i.include_stack.$size(),0))&&(r=i.include_stack.$pop(),e=t.to_ary(r),i.lines=null==e[0]?c:e[0],i.file=null==e[1]?c:e[1],i.dir=null==e[2]?c:e[2],i.path=null==e[3]?c:e[3],i.lineno=null==e[4]?c:e[4],i.maxdepth=null==e[5]?c:e[5],i.process_lines=null==e[6]?c:e[6],i.eof=i.lines["$empty?"](),i.look_ahead=0),c},O.$$arity=0),t.defn(q,"$include_depth",A=function(){return this.include_stack.$size()},A.$$arity=0),t.defn(q,"$exceeded_max_depth?",S=function(){var t,e=this,r=c;return!!d(d(t=n(r=e.maxdepth["$[]"]("abs"),0))?$(e.include_stack.$size(),r):t)&&e.maxdepth["$[]"]("rel")},S.$$arity=0),t.defn(q,"$shift",R=function(){var e=this,n=R.$$p,r=c,i=c,a=c;for(n&&(R.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return d(e.unescape_next_line)?(e.unescape_next_line=!1,h(e,t.find_super_dispatcher(e,"shift",R,!1),r,n)["$[]"](p(1,-1,!1))):h(e,t.find_super_dispatcher(e,"shift",R,!1),r,n)},R.$$arity=0),t.defn(q,"$skip_front_matter!",M=function(n,r){var i,a=this,$=c,o=c;if(null==r&&(r=!0),$=c,n["$[]"](0)["$=="]("---")){for(o=n.$dup(),$=[],n.$shift(),d(r)&&(a.lineno=e(a.lineno,1));d(d(i=n["$empty?"]()["$!"]())?n["$[]"](0)["$!="]("---"):i);)$.$push(n.$shift()),d(r)&&(a.lineno=e(a.lineno,1));d(n["$empty?"]())?(h(n,"unshift",t.to_a(o)),d(r)&&(a.lineno=0),$=c):(n.$shift(),d(r)&&(a.lineno=e(a.lineno,1)))}return $},M.$$arity=-2),t.defn(q,"$resolve_expr_val",T=function(t){var e,n,r=this,i=c;return d(d(e=d(n=t["$start_with?"]('"'))?t["$end_with?"]('"'):n)?e:d(n=t["$start_with?"]("'"))?t["$end_with?"]("'"):n)?(i=!0,t=t["$[]"](p(1,-1,!0))):i=!1,d(t["$include?"]("{"))&&(t=r.document.$sub_attributes(t,f(["attribute_missing"],{attribute_missing:"drop"}))),d(i)?t:d(t["$empty?"]())?c:!!t["$=="]("true")||!t["$=="]("false")&&(d(t.$rstrip()["$empty?"]())?" ":d(t["$include?"]("."))?t.$to_f():t.$to_i())},T.$$arity=1),t.defn(q,"$include_processors?",I=function(){var t,e=this;return d(e.include_processor_extensions["$nil?"]())?d(d(t=e.document["$extensions?"]())?e.document.$extensions()["$include_processors?"]():t)?(e.include_processor_extensions=e.document.$extensions().$include_processors())["$!"]()["$!"]():e.include_processor_extensions=!1:e.include_processor_extensions["$!="](!1)},I.$$arity=0),t.defn(q,"$to_s",C=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line #: "+e.lineno+", include depth: "+e.include_stack.$size()+", include stack: ["+h(e.include_stack,"map",[],(t=function(e){t.$$s;return null==e&&(e=c),e.$to_s()},t.$$s=e,t.$$arity=1,t)).$join(", ")+"]}>"},C.$$arity=0)}(y[0],t.const_get_relative(y,"Reader"),y)}(l[0],l)},Opal.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var r=[],i=t.nil,a=(t.breaker,t.slice,t.module),$=t.klass,o=t.send,s=t.truthy,l=t.hash2,c=t.range;return t.add_stubs(["$attr_accessor","$+","$level","$>","$==","$context","$special","$has_key?","$attributes","$[]","$chomp","$tr_s","$gsub","$downcase","$title","$empty?","$!","$start_with?","$unique_id_start_index","$references","$sectnum","$assign_index","$!=","$class","$object_id","$inspect","$size"]),function(r,_){var u,d=u=a(r,"Asciidoctor"),f=(d.$$proto,[d].concat(_));!function(r,a,_){function u(){}var d,f,p,h,g,v=u=$(r,a,"Section",u),m=v.$$proto,y=[v].concat(_);m.level=m.document=m.parent=m.number=m.title=m.numbered=m.blocks=i,v.$attr_accessor("index"),v.$attr_accessor("number"),v.$attr_accessor("sectname"),v.$attr_accessor("special"),v.$attr_accessor("numbered"),t.defn(v,"$initialize",d=function(r,a,$,c){var _,u,f=this,p=d.$$p;return null==r&&(r=i),null==a&&(a=i),null==$&&($=!0),null==c&&(c=l([],{})),p&&(d.$$p=null),o(f,t.find_super_dispatcher(f,"initialize",d,!1),[r,"section",c],null),s(a)?f.level=a:f.level=s(r)?e(r.$level(),1):1,f.numbered=s(_=$)?n(f.level,0):_,f.special=s(_=s(u=r)?r.$context()["$=="]("section"):u)?r.$special():_,f.index=0,f.number=1},d.$$arity=-1),t.alias(v,"name","title"),t.defn(v,"$generate_id",f=function(){var n,r,a=this,$=i,o=i,l=i,_=i,u=i;if(s(a.document.$attributes()["$has_key?"]("sectids"))){if($=s(n=a.document.$attributes()["$[]"]("idseparator"))?n:"_",o=s(n=a.document.$attributes()["$[]"]("idprefix"))?n:"_",l=""+o+a.$title().$downcase().$gsub(t.const_get_relative(y,"InvalidSectionIdCharsRx"),$).$tr_s($,$).$chomp($),s(s(n=s(r=o["$empty?"]())?$["$empty?"]()["$!"]():r)?l["$start_with?"]($):n))for(l=l["$[]"](c(1,-1,!1));s(l["$start_with?"]($));)l=l["$[]"](c(1,-1,!1));for(_=l,u=t.const_get_relative(y,"Compliance").$unique_id_start_index();s(a.document.$references()["$[]"]("ids")["$has_key?"](_));)_=""+l+$+u,u=e(u,1);return _}return i},f.$$arity=0),t.defn(v,"$sectnum",p=function(t,e){var r,a,$,o=this;return null==t&&(t="."),null==e&&(e=i),e=s(r=e)?r:e["$=="](!1)?"":t,s(s(r=s(a=s($=o.level)?n(o.level,1):$)?o.parent:a)?o.parent.$context()["$=="]("section"):r)?""+o.parent.$sectnum(t)+o.number+e:""+o.number+e},p.$$arity=-1),t.defn(v,"$<<",h=function(e){var n=this,r=h.$$p,a=i,$=i,s=i;for(r&&(h.$$p=null),$=0,s=arguments.length,a=new Array(s);$<s;$++)a[$]=arguments[$];return e.$context()["$=="]("section")&&n.$assign_index(e),o(n,t.find_super_dispatcher(n,"<<",h,!1),a,r)},h.$$arity=1),t.defn(v,"$to_s",g=function(){var e=this,n=g.$$p,r=i,a=i,$=i,l=i;for(n&&(g.$$p=null),$=0,l=arguments.length,a=new Array(l);$<l;$++)a[$]=arguments[$];return s(e.title["$!="](i))?(r=s(e.numbered)?e.$sectnum()+" "+e.title:e.title,"#<"+e.$class()+"@"+e.$object_id()+" {level: "+e.level+", title: "+r.$inspect()+", blocks: "+e.blocks.$size()+"}>"):o(e,t.find_super_dispatcher(e,"to_s",g,!1),a,n)},g.$$arity=0)}(f[0],t.const_get_relative(f,"AbstractBlock"),f)}(r[0],r)},Opal.modules["asciidoctor/stylesheets"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=(t.breaker,t.slice,t.module),a=t.klass,$=t.truthy,o=t.send,s=t.hash2;return t.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$open","$primary_stylesheet_name","$write","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$sub","$css","$[]=","$-","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),function(n,l){var c,_=c=i(n,"Asciidoctor"),u=(_.$$proto,[_].concat(l));!function(n,i,l){function c(){}var _,u,d,f,p,h,g,v,m,y,b,w,k,x,E=c=a(n,null,"Stylesheets",c),O=E.$$proto,A=[E].concat(l);O.primary_stylesheet_data=O.coderay_stylesheet_data=O.pygments_stylesheet_data=r,t.const_set(A[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(A[0],"DEFAULT_PYGMENTS_STYLE","default"),t.const_set(A[0],"STYLESHEETS_DATA_PATH",t.const_get_qualified("::","File").$join(t.const_get_relative(A,"DATA_PATH"),"stylesheets")),E.__instance__=E.$new(),t.defs(E,"$instance",_=function(){var t=this;return null==t.__instance__&&(t.__instance__=r),t.__instance__},_.$$arity=0),t.defn(E,"$primary_stylesheet_name",u=function(){return t.const_get_relative(A,"DEFAULT_STYLESHEET_NAME")},u.$$arity=0),t.defn(E,"$primary_stylesheet_data",d=function(){var e;return e=t.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?t.const_get_relative([],"File").$join(__dirname,"css"):"css",!1!==($a=E.primary_stylesheet_data)&&$a!==r&&null!=$a?$a:E.primary_stylesheet_data=t.const_get_relative([],"IO").$read(t.const_get_relative([],"File").$join(e,"asciidoctor.css")).$chomp()},d.$$arity=0),t.defn(E,"$embed_primary_stylesheet",f=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},f.$$arity=0),t.defn(E,"$write_primary_stylesheet",p=function(e){var n,i=this;return o(t.const_get_qualified("::","File"),"open",[t.const_get_qualified("::","File").$join(e,i.$primary_stylesheet_name()),"w"],(n=function(t){var e=n.$$s||this;return null==t&&(t=r),t.$write(e.$primary_stylesheet_data())},n.$$s=i,n.$$arity=1,n))},p.$$arity=1),t.defn(E,"$coderay_stylesheet_name",h=function(){return"coderay-asciidoctor.css"},h.$$arity=0),t.defn(E,"$coderay_stylesheet_data",g=function(){var e,n=this;return n.coderay_stylesheet_data=$(e=n.coderay_stylesheet_data)?e:t.const_get_qualified("::","IO").$read(t.const_get_qualified("::","File").$join(t.const_get_relative(A,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},g.$$arity=0),t.defn(E,"$embed_coderay_stylesheet",v=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},v.$$arity=0),t.defn(E,"$write_coderay_stylesheet",m=function(e){var n,i=this;return o(t.const_get_qualified("::","File"),"open",[t.const_get_qualified("::","File").$join(e,i.$coderay_stylesheet_name()),"w"],(n=function(t){var e=n.$$s||this;return null==t&&(t=r),t.$write(e.$coderay_stylesheet_data())},n.$$s=i,n.$$arity=1,n))},m.$$arity=1),t.defn(E,"$pygments_stylesheet_name",y=function(e){var n;return null==e&&(e=r),"pygments-"+($(n=e)?n:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE"))+".css"},y.$$arity=-1),t.defn(E,"$pygments_stylesheet_data",b=function(n){var i,a,l=this,c=r;return null==n&&(n=r),$(l.$load_pygments())?$(i=(l.pygments_stylesheet_data=$(a=l.pygments_stylesheet_data)?a:s([],{}))["$[]"]($(a=n)?a:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE")))?i:(c=[$(a=n)?a:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE"),t.const_get_qualified("::","Pygments").$css(".listingblock .pygments",s(["classprefix","style"],{classprefix:"tok-",style:$(a=n)?a:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],o(l.pygments_stylesheet_data=$(a=l.pygments_stylesheet_data)?a:s([],{}),"[]=",t.to_a(c)),c[e(c.length,1)]):"/* Pygments styles disabled. Pygments is not available. */"},b.$$arity=-1),t.defn(E,"$embed_pygments_stylesheet",w=function(t){var e=this;return null==t&&(t=r),"<style>\n"+e.$pygments_stylesheet_data(t)+"\n</style>"},w.$$arity=-1),t.defn(E,"$write_pygments_stylesheet",k=function(e,n){var i,a=this;return null==n&&(n=r),o(t.const_get_qualified("::","File"),"open",[t.const_get_qualified("::","File").$join(e,a.$pygments_stylesheet_name(n)),"w"],(i=function(t){var e=i.$$s||this;return null==t&&(t=r),t.$write(e.$pygments_stylesheet_data(n))},i.$$s=a,i.$$arity=1,i))},k.$$arity=-2),t.defn(E,"$load_pygments",x=function(){return!!$(t.const_get_qualified("::","Pygments","skip_raise")?"constant":r)||t.const_get_relative(A,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},x.$$arity=0)}(u[0],0,u)}(n[0],n)},Opal.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var o=[],s=t.nil,l=(t.breaker,t.slice,t.module),c=t.klass,_=t.hash2,u=t.send,d=t.truthy,f=t.range;return t.add_stubs(["$attr_accessor","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$shift","$style=","$head=","$pop","$foot=","$update_attributes","$parent","$attr_reader","$delete","$!","$header_row?","$table","$split","$include?","$readlines","$!=","$unshift","$nil?","$strip","$apply_normal_subs","$convert","$map","$text","$to_s","$cursor","$raise","$nested?","$document","$escape","$columns","$start_with?","$match","$chop","$pre_match","$post_match","$end_with?","$lstrip","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$warn","$line_info","$tr_s","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$rows","$effective_column_visits"]),function(o,p){var h,g=h=l(o,"Asciidoctor"),v=(g.$$proto,[g].concat(p));!function(o,l,f){function p(){}var h,g,v,m,y,b=p=c(o,l,"Table",p),w=b.$$proto,k=[b].concat(f);w.attributes=w.document=w.has_header_option=w.rows=w.columns=s,function(e,n,r){function i(){}var a,$=i=c(e,null,"Rows",i);$.$$proto,[$].concat(r);$.$attr_accessor("head","foot","body"),t.defn($,"$initialize",a=function(t,e,n){var r=this;return null==t&&(t=[]),null==e&&(e=[]),null==n&&(n=[]),r.head=t,r.foot=e,r.body=n},a.$$arity=-1),t.alias($,"[]","send")}(k[0],0,k),t.const_set(k[0],"DEFAULT_DATA_FORMAT","psv"),t.const_set(k[0],"DATA_FORMATS",["psv","dsv","csv"]),t.const_set(k[0],"DEFAULT_DELIMITERS",_(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),t.const_set(k[0],"TEXT_STYLES",_(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),t.const_set(k[0],"ALIGNMENTS",_(["h","v"],{h:_(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:_(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),b.$attr_accessor("columns"),b.$attr_accessor("rows"),b.$attr_accessor("has_header_option"),t.defn(b,"$initialize",h=function($,o){var l,c,_=this,f=h.$$p,p=s,g=s,v=s;return f&&(h.$$p=null),u(_,t.find_super_dispatcher(_,"initialize",h,!1),[$,"table"],null),_.rows=t.const_get_relative(k,"Rows").$new(),_.columns=[],_.has_header_option=o["$key?"]("header-option"),d(p=o["$[]"]("width"))?d(d(l=e(g=p.$to_i(),100))?l:n(g,1))&&(d((l=g["$=="](0))?d(c=p["$=="]("0"))?c:p["$=="]("0%"):g["$=="](0))||(g=100)):g=100,v=["tablepcwidth",g],u(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)],d(_.document.$attributes()["$key?"]("pagewidth"))&&(d(l=_.attributes["$[]"]("tableabswidth"))||(v=["tableabswidth",i(a(_.attributes["$[]"]("tablepcwidth").$to_f(),100),_.document.$attributes()["$[]"]("pagewidth")).$round()],u(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)])),d(o["$key?"]("rotate-option"))?(v=["orientation","landscape"],u(o,"[]=",t.to_a(v)),v[r(v.length,1)]):s},h.$$arity=2),t.defn(b,"$header_row?",g=function(){var t,e=this;return d(t=e.has_header_option)?e.rows.$body()["$empty?"]():t},g.$$arity=0),t.defn(b,"$create_columns",v=function(e){var n,i=this,a=s,o=s,l=s;return a=[],o=0,u(e,"each",[],(n=function(e){var r=n.$$s||this;return null==e&&(e=s),o=$(o,e["$[]"]("width")),a["$<<"](t.const_get_relative(k,"Column").$new(r,a.$size(),e))},n.$$s=i,n.$$arity=1,n)),d((i.columns=a)["$empty?"]())||(l=["colcount",a.$size()],u(i.attributes,"[]=",t.to_a(l)),l[r(l.length,1)],i.$assign_column_widths(o["$=="](0)?s:o)),s},v.$$arity=1),t.defn(b,"$assign_column_widths",m=function(t){var e,n,o=this,l=s,c=s,_=s;return null==t&&(t=s),l=10["$**"](4),c=_=0,d(t)?u(o.columns,"each",[],(e=function(n){e.$$s;return null==n&&(n=s),c=$(c,_=n.$assign_width(s,t,l))},e.$$s=o,e.$$arity=1,e)):((_=a(a(i(100,l),o.columns.$size()).$to_i(),l)).$to_i()["$=="](_)&&(_=_.$to_i()),u(o.columns,"each",[],(n=function(t){n.$$s;return null==t&&(t=s),c=$(c,t.$assign_width(_))},n.$$s=o,n.$$arity=1,n))),c["$=="](100)||o.columns["$[]"](-1).$assign_width(a(i($(r(100,c),_),l).$round(),l)),s},m.$$arity=-1),t.defn(b,"$partition_header_footer",y=function(n){var i,a,$=this,o=s,l=s,c=s;return o=["rowcount",$.rows.$body().$size()],u($.attributes,"[]=",t.to_a(o)),o[r(o.length,1)],l=$.rows.$body().$size(),d(d(i=e(l,0))?$.has_header_option:i)&&(c=$.rows.$body().$shift(),l=r(l,1),u(c,"each",[],(a=function(e){a.$$s;return null==e&&(e=s),o=[s],u(e,"style=",t.to_a(o)),o[r(o.length,1)]},a.$$s=$,a.$$arity=1,a)),o=[[c]],u($.rows,"head=",t.to_a(o)),o[r(o.length,1)]),d(d(i=e(l,0))?n["$key?"]("footer-option"):i)&&(o=[[$.rows.$body().$pop()]],u($.rows,"foot=",t.to_a(o)),o[r(o.length,1)]),s},y.$$arity=1)}(v[0],t.const_get_relative(v,"AbstractBlock"),v),function(e,n,o){function l(){}var f,p,h=l=c(e,n,"Column",l),g=h.$$proto;[h].concat(o);g.attributes=s,h.$attr_accessor("style"),t.defn(h,"$initialize",f=function(e,n,i){var a=this,o=f.$$p,l=s;return null==i&&(i=_([],{})),o&&(f.$$p=null),u(a,t.find_super_dispatcher(a,"initialize",f,!1),[e,"column"],null),a.style=i["$[]"]("style"),l=["colnumber",$(n,1)],u(i,"[]=",t.to_a(l)),l[r(l.length,1)],d(i["$[]"]("width"))||(l=["width",1],u(i,"[]=",t.to_a(l)),l[r(l.length,1)]),d(i["$[]"]("halign"))||(l=["halign","left"],u(i,"[]=",t.to_a(l)),l[r(l.length,1)]),d(i["$[]"]("valign"))||(l=["valign","top"],u(i,"[]=",t.to_a(l)),l[r(l.length,1)]),a.$update_attributes(i)},f.$$arity=-3),t.alias(h,"table","parent"),t.defn(h,"$assign_width",p=function(e,n,$){var o=this,l=s;return null==n&&(n=s),null==$&&($=1e4),d(n)&&(e=a(i(i(a(o.attributes["$[]"]("width").$to_f(),n),100),$).$to_i(),$)).$to_i()["$=="](e)&&(e=e.$to_i()),l=["colpcwidth",e],u(o.attributes,"[]=",t.to_a(l)),l[r(l.length,1)],d(o.$parent().$attributes()["$key?"]("tableabswidth"))&&(l=["colabswidth",i(a(e,100),o.$parent().$attributes()["$[]"]("tableabswidth")).$round()],u(o.attributes,"[]=",t.to_a(l)),l[r(l.length,1)]),e},p.$$arity=-2)}(t.const_get_relative(v,"Table"),t.const_get_relative(v,"AbstractNode"),v),function(e,n,i){function a(){}var $,o,l,f,p=a=c(e,n,"Cell",a),h=p.$$proto,g=[p].concat(i);h.style=h.document=h.text=h.inner_document=h.colspan=h.rowspan=h.attributes=s,p.$attr_accessor("style"),p.$attr_accessor("colspan"),p.$attr_accessor("rowspan"),t.alias(p,"column","parent"),p.$attr_reader("inner_document"),t.defn(p,"$initialize",$=function(e,n,i,a){var o,l=this,c=$.$$p,f=s,p=s,h=s,v=s,m=s;return null==i&&(i=_([],{})),null==a&&(a=s),c&&($.$$p=null),u(l,t.find_super_dispatcher(l,"initialize",$,!1),[e,"cell"],null),l.text=n,l.style=s,l.colspan=s,l.rowspan=s,d(e)&&(l.style=e.$attributes()["$[]"]("style"),l.$update_attributes(e.$attributes())),d(i)&&(l.colspan=i.$delete("colspan"),l.rowspan=i.$delete("rowspan"),d(i["$key?"]("style"))&&(l.style=i["$[]"]("style")),l.$update_attributes(i)),d((o=l.style["$=="]("asciidoc"))?e.$table()["$header_row?"]()["$!"]():l.style["$=="]("asciidoc"))?(f=l.document.$attributes().$delete("doctitle"),p=l.text.$split(t.const_get_relative(g,"EOL")),d(d(o=p["$empty?"]())?o:p["$[]"](0)["$include?"]("::")["$!"]())||(h=p["$[]"](0),v=t.const_get_relative(g,"PreprocessorReader").$new(l.document,h).$readlines(),d(v["$!="](h))&&(p.$shift(),u(p,"unshift",t.to_a(v)))),l.inner_document=t.const_get_relative(g,"Document").$new(p,_(["header_footer","parent","cursor"],{header_footer:!1,parent:l.document,cursor:a})),d(f["$nil?"]())?s:(m=["doctitle",f],u(l.document.$attributes(),"[]=",t.to_a(m)),m[r(m.length,1)])):s},$.$$arity=-3),t.defn(p,"$text",o=function(){var t=this;return t.$apply_normal_subs(t.text).$strip()},o.$$arity=0),t.defn(p,"$content",l=function(){var e,n=this;return n.style["$=="]("asciidoc")?n.inner_document.$convert():u(n.$text().$split(t.const_get_relative(g,"BlankLineRx")),"map",[],(e=function(n){var r,i=e.$$s||this;return null==i.style&&(i.style=s),null==n&&(n=s),d(d(r=i.style["$!"]())?r:i.style["$=="]("header"))?n:t.const_get_relative(g,"Inline").$new(i.$parent(),"quoted",n,_(["type"],{type:i.style})).$convert()},e.$$s=n,e.$$arity=1,e))},l.$$arity=0),t.defn(p,"$to_s",f=function(){var e,n=this,r=f.$$p,i=s,a=s,$=s;for(r&&(f.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return u(n,t.find_super_dispatcher(n,"to_s",f,!1),i,r).$to_s()+" - [text: "+n.text+", colspan: "+(d(e=n.colspan)?e:1)+", rowspan: "+(d(e=n.rowspan)?e:1)+", attributes: "+n.attributes+"]"},f.$$arity=0)}(t.const_get_relative(v,"Table"),t.const_get_relative(v,"AbstractNode"),v),function(n,i,a){function o(){}var l,p,h,g,v,m,y,b,w,k,x,E,O,A,S,R,M,T,I,C=o=c(n,null,"ParserContext",o),q=C.$$proto,N=[C].concat(a);q.format=q.delimiter=q.delimiter_re=q.buffer=q.cellspecs=q.cell_open=q.last_cursor=q.table=q.current_row=q.colcount=q.column_visits=q.active_rowspans=q.linenum=s,C.$attr_accessor("table"),C.$attr_accessor("format"),C.$attr_reader("colcount"),C.$attr_accessor("buffer"),C.$attr_reader("delimiter"),C.$attr_reader("delimiter_re"),t.defn(C,"$initialize",l=function(e,n,r){var i,a=this;return null==r&&(r=_([],{})),a.reader=e,a.table=n,a.last_cursor=e.$cursor(),d(a.format=r["$[]"]("format"))?d(t.const_get_qualified(t.const_get_relative(N,"Table"),"DATA_FORMATS")["$include?"](a.format))||a.$raise("Illegal table format: "+a.format):a.format=t.const_get_qualified(t.const_get_relative(N,"Table"),"DEFAULT_DATA_FORMAT"),a.delimiter=d(d(i=a.format["$=="]("psv")?r["$key?"]("separator")["$!"]():a.format["$=="]("psv"))?n.$document()["$nested?"]():i)?"!":d(i=r["$[]"]("separator"))?i:t.const_get_qualified(t.const_get_relative(N,"Table"),"DEFAULT_DELIMITERS")["$[]"](a.format),a.delimiter_re=new RegExp(t.const_get_relative(N,"Regexp").$escape(a.delimiter)),a.colcount=d(n.$columns()["$empty?"]())?-1:n.$columns().$size(),a.buffer="",a.cellspecs=[],a.cell_open=!1,a.active_rowspans=[0],a.column_visits=0,a.current_row=[],a.linenum=-1},l.$$arity=-3),t.defn(C,"$starts_with_delimiter?",p=function(t){var e=this;return t["$start_with?"](e.delimiter)},p.$$arity=1),t.defn(C,"$match_delimiter",h=function(t){return this.delimiter_re.$match(t)},h.$$arity=1),t.defn(C,"$skip_matched_delimiter",g=function(t,e){var n=this;return null==e&&(e=!1),n.buffer=""+n.buffer+(d(e)?t.$pre_match().$chop():t.$pre_match())+n.delimiter,t.$post_match()},g.$$arity=-2),t.defn(C,"$buffer_has_unclosed_quotes?",v=function(t){var e,n,r=this,i=s;return null==t&&(t=s),i=(""+r.buffer+t).$strip(),d(e=d(n=i["$start_with?"]('"'))?i["$start_with?"]('""')["$!"]():n)?i["$end_with?"]('"')["$!"]():e},v.$$arity=-1),t.defn(C,"$buffer_quoted?",m=function(){var t,e=this;return e.buffer=e.buffer.$lstrip(),d(t=e.buffer["$start_with?"]('"'))?e.buffer["$start_with?"]('""')["$!"]():t},m.$$arity=0),t.defn(C,"$take_cellspec",y=function(){return this.cellspecs.$shift()},y.$$arity=0),t.defn(C,"$push_cellspec",b=function(t){var e,n=this;return null==t&&(t=_([],{})),n.cellspecs["$<<"](d(e=t)?e:_([],{})),s},b.$$arity=-1),t.defn(C,"$keep_cell_open",w=function(){return this.cell_open=!0,s},w.$$arity=0),t.defn(C,"$mark_cell_closed",k=function(){return this.cell_open=!1,s},k.$$arity=0),t.defn(C,"$cell_open?",x=function(){return this.cell_open},x.$$arity=0),t.defn(C,"$cell_closed?",E=function(){return this.cell_open["$!"]()},E.$$arity=0),t.defn(C,"$close_open_cell",O=function(t){var e=this;return null==t&&(t=_([],{})),e.$push_cellspec(t),d(e["$cell_open?"]())&&e.$close_cell(!0),e.$advance(),s},O.$$arity=-1),t.defn(C,"$close_cell",A=function(n){try{var i,a,o=this,l=s,c=s,p=s;return null==n&&(n=!1),l=o.buffer.$strip(),o.buffer="",o.format["$=="]("psv")?(c=o.$take_cellspec(),d(c)?p=d(i=c.$delete("repeatcol"))?i:1:(o.$warn("asciidoctor: ERROR: "+o.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),c=_([],{}),p=1)):(c=s,p=1,o.format["$=="]("csv")&&d(d(i=l["$empty?"]()["$!"]())?l["$include?"]('"'):i)&&(d(d(i=l["$start_with?"]('"'))?l["$end_with?"]('"'):i)&&(l=l["$[]"](f(1,-1,!0)).$strip()),l=l.$tr_s('"','"'))),u(1,"upto",[p],(a=function(i){var o,_,f,h,g=a.$$s||this,v=s,m=s,y=s,b=s;return null==g.colcount&&(g.colcount=s),null==g.table&&(g.table=s),null==g.current_row&&(g.current_row=s),null==g.last_cursor&&(g.last_cursor=s),null==g.reader&&(g.reader=s),null==g.column_visits&&(g.column_visits=s),null==g.linenum&&(g.linenum=s),null==i&&(i=s),g.colcount["$=="](-1)?(g.table.$columns()["$<<"](v=t.const_get_qualified(t.const_get_relative(N,"Table"),"Column").$new(g.table,r($(g.table.$columns().$size(),i),1))),d(d(o=d(_=c)?c["$key?"]("colspan"):_)?e(m=r(c["$[]"]("colspan").$to_i(),1),0):o)&&(y=g.table.$columns().$size(),u(m,"times",[],(f=function(e){var n=f.$$s||this;return null==n.table&&(n.table=s),null==e&&(e=s),n.table.$columns()["$<<"](t.const_get_qualified(t.const_get_relative(N,"Table"),"Column").$new(n.table,$(y,e)))},f.$$s=g,f.$$arity=1,f)))):d(v=g.table.$columns()["$[]"](g.current_row.$size()))||(g.$warn("asciidoctor: ERROR: "+g.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),t.ret(s)),b=t.const_get_qualified(t.const_get_relative(N,"Table"),"Cell").$new(v,l,c,g.last_cursor),g.last_cursor=g.reader.$cursor(),d(d(o=b.$rowspan()["$!"]())?o:b.$rowspan()["$=="](1))||g.$activate_rowspan(b.$rowspan(),d(o=b.$colspan())?o:1),g.column_visits=$(g.column_visits,d(o=b.$colspan())?o:1),g.current_row["$<<"](b),d(d(o=g["$end_of_row?"]())?d(_=d(h=g.colcount["$!="](-1))?h:e(g.linenum,0))?_:d(h=n)?i["$=="](p):h:o)?g.$close_row():s},a.$$s=o,a.$$arity=1,a)),o.cell_open=!1,s}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-1),t.defn(C,"$close_row",S=function(){var e=this,n=s;return e.table.$rows().$body()["$<<"](e.current_row),e.colcount["$=="](-1)&&(e.colcount=e.column_visits),e.column_visits=0,e.current_row=[],e.active_rowspans.$shift(),d(e.active_rowspans["$[]"](0))||(n=[0,0],u(e.active_rowspans,"[]=",t.to_a(n)),n[r(n.length,1)]),s},S.$$arity=0),t.defn(C,"$activate_rowspan",R=function(e,n){var i,a=this;return u(1..$upto(r(e,1)),"each",[],(i=function(e){var a,o=i.$$s||this,l=s;return null==o.active_rowspans&&(o.active_rowspans=s),null==e&&(e=s),l=[e,$(d(a=o.active_rowspans["$[]"](e))?a:0,n)],u(o.active_rowspans,"[]=",t.to_a(l)),l[r(l.length,1)]},i.$$s=a,i.$$arity=1,i)),s},R.$$arity=2),t.defn(C,"$end_of_row?",M=function(){var t,e=this;return d(t=e.colcount["$=="](-1))?t:e.$effective_column_visits()["$=="](e.colcount)},M.$$arity=0),t.defn(C,"$effective_column_visits",T=function(){var t=this;return $(t.column_visits,t.active_rowspans["$[]"](0))},T.$$arity=0),t.defn(C,"$advance",I=function(){var t=this;return t.linenum=$(t.linenum,1)},I.$$arity=0)}(t.const_get_relative(v,"Table"),0,v)}(o[0],o)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a=t.top,$=[],o=t.nil,s=(t.breaker,t.slice,t.truthy),l=t.gvars,c=t.module,_=t.hash2,u=t.send,d=t.range,f=t.hash;null==l[":"]&&(l[":"]=o),t.add_stubs(["$==","$>=","$require","$unshift","$dirname","$new","$attr","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$[]","$pwd","$!","$!=","$default_external","$to_a","$bytes","$to_set","$map","$keys","$*","$dup","$[]=","$-","$insert","$start","$===","$inject","$split","$gsub","$respond_to?","$each","$raise","$ancestors","$class","$path","$utc","$at","$to_i","$mtime","$readlines","$basename","$strftime","$rewind","$entries","$lines","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$load","$delete","$key?","$attributes","$outfilesuffix","$has_key?","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$nil?","$read_asset","$open","$write_coderay_stylesheet","$write_pygments_stylesheet"]),s(t.const_get_relative($,"RUBY_ENGINE","skip_raise")?"constant":o)||t.const_set($[0],"RUBY_ENGINE","unknown"),t.const_set($[0],"RUBY_ENGINE_OPAL",t.const_get_relative($,"RUBY_ENGINE")["$=="]("opal")),t.const_set($[0],"RUBY_ENGINE_JRUBY",t.const_get_relative($,"RUBY_ENGINE")["$=="]("jruby")),t.const_set($[0],"RUBY_MIN_VERSION_1_9",e(t.const_get_relative($,"RUBY_VERSION"),"1.9")),t.const_set($[0],"RUBY_MIN_VERSION_2",e(t.const_get_relative($,"RUBY_VERSION"),"2")),a.$require("set"),t.const_get_relative($,"RUBY_ENGINE")["$=="]("opal")&&a.$require("asciidoctor/opal_ext"),l[":"].$unshift(t.const_get_relative($,"File").$dirname("asciidoctor")),function(a,$){var l,p,h,g=l=c(a,"Asciidoctor"),v=(g.$$proto,[g].concat($)),m=o,y=o,b=o;t.const_set(v[0],"RUBY_ENGINE",t.const_get_qualified("::","RUBY_ENGINE")),function(e,n){var r,i=r=c(e,"SafeMode"),a=(i.$$proto,[i].concat(n));t.const_set(a[0],"UNSAFE",0),t.const_set(a[0],"SAFE",1),t.const_set(a[0],"SERVER",10),t.const_set(a[0],"SECURE",20)}(v[0],v),function(e,n){var r,i,a=r=c(e,"Compliance"),$=(a.$$proto,[a].concat(n));a.keys=t.const_get_qualified("::","Set").$new(),function(t,e){t.$$proto,[t].concat(e);t.$attr("keys")}(t.get_singleton_class(a),$),t.defs(a,"$define",i=function(e,n){var r=this;return null==r.keys&&(r.keys=o),r.$instance_variable_set("@"+e,n),function(t,e){t.$$proto,[t].concat(e);return t}(t.get_singleton_class(r),$).$send("attr_accessor",e),r.keys["$<<"](e),o},i.$$arity=2),a.$define("block_terminates_paragraph",!0),a.$define("strict_verbatim_paragraphs",!0),a.$define("underline_style_section_titles",!0),a.$define("unwrap_standalone_preamble",!0),a.$define("attribute_missing","skip"),a.$define("attribute_undefined","drop-line"),a.$define("shorthand_property_syntax",!0),a.$define("unique_id_start_index",2),a.$define("markdown_syntax",!0)}(v[0],v),t.const_set(v[0],"ROOT_PATH",t.const_get_qualified("::","File").$dirname(t.const_get_qualified("::","File").$dirname(t.const_get_qualified("::","File").$expand_path("asciidoctor")))),t.const_set(v[0],"LIB_PATH",t.const_get_qualified("::","File").$join(t.const_get_relative(v,"ROOT_PATH"),"lib")),t.const_set(v[0],"DATA_PATH",t.const_get_qualified("::","File").$join(t.const_get_relative(v,"ROOT_PATH"),"data"));try{t.const_set(v[0],"USER_HOME",t.const_get_qualified("::","Dir").$home())}catch(e){if(!t.rescue(e,[t.const_get_relative(v,"StandardError")]))throw e;try{t.const_set(v[0],"USER_HOME",s(p=t.const_get_qualified("::","ENV")["$[]"]("HOME"))?p:t.const_get_qualified("::","Dir").$pwd())}finally{t.pop_exception()}}t.const_set(v[0],"COERCE_ENCODING",s(p=t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())?t.const_get_qualified("::","RUBY_MIN_VERSION_1_9"):p),t.const_set(v[0],"FORCE_ENCODING",s(p=t.const_get_relative(v,"COERCE_ENCODING"))?t.const_get_qualified("::","Encoding").$default_external()["$!="](t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8")):p),t.const_set(v[0],"BOM_BYTES_UTF_8","".$bytes().$to_a()),t.const_set(v[0],"BOM_BYTES_UTF_16LE","".$bytes().$to_a()),t.const_set(v[0],"BOM_BYTES_UTF_16BE","".$bytes().$to_a()),t.const_set(v[0],"FORCE_UNICODE_LINE_LENGTH",t.const_get_qualified("::","RUBY_MIN_VERSION_1_9")["$!"]()),t.const_set(v[0],"SUPPORTS_GSUB_RESULT_HASH",s(p=t.const_get_qualified("::","RUBY_MIN_VERSION_1_9"))?t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]():p),t.const_set(v[0],"EOL","\n"),t.const_set(v[0],"NULL","\0"),t.const_set(v[0],"TAB","\t"),t.const_set(v[0],"DEFAULT_DOCTYPE","article"),t.const_set(v[0],"DEFAULT_BACKEND","html5"),t.const_set(v[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(v[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(v[0],"BACKEND_ALIASES",_(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(v[0],"DEFAULT_PAGE_WIDTHS",_(["docbook"],{docbook:425})),t.const_set(v[0],"DEFAULT_EXTENSIONS",_(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"})),t.const_set(v[0],"ASCIIDOC_EXTENSIONS",_([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),t.const_set(v[0],"SECTION_LEVELS",_(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(v[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(v[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),t.const_set(v[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(v[0],"DELIMITED_BLOCKS",_(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",t.const_get_qualified("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",t.const_get_qualified("::","Set").$new()],",===":["table",t.const_get_qualified("::","Set").$new()],":===":["table",t.const_get_qualified("::","Set").$new()],"!===":["table",t.const_get_qualified("::","Set").$new()],"////":["comment",t.const_get_qualified("::","Set").$new()],"```":["fenced_code",t.const_get_qualified("::","Set").$new()]})),t.const_set(v[0],"DELIMITED_BLOCK_LEADERS",u(t.const_get_relative(v,"DELIMITED_BLOCKS").$keys(),"map",[],(h=function(t){h.$$s;return null==t&&(t=o),t["$[]"](d(0,1,!1))},h.$$s=g,h.$$arity=1,h)).$to_set()),t.const_set(v[0],"LAYOUT_BREAK_LINES",_(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"})),t.const_set(v[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(v[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(v[0],"ORDERED_LIST_KEYWORDS",_(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(v[0],"LIST_CONTINUATION","+"),t.const_set(v[0],"LINE_BREAK"," +"),t.const_set(v[0],"LINE_CONTINUATION"," \\"),t.const_set(v[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(v[0],"BLOCK_MATH_DELIMITERS",_(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(v[0],"INLINE_MATH_DELIMITERS",_(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),t.const_set(v[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),t.const_get_relative(v,"RUBY_ENGINE")["$=="]("opal")&&(t.const_set(v[0],"CC_ALPHA","a-zA-Z"),t.const_set(v[0],"CG_ALPHA","[a-zA-Z]"),t.const_set(v[0],"CC_ALNUM","a-zA-Z0-9"),t.const_set(v[0],"CG_ALNUM","[a-zA-Z0-9]"),t.const_set(v[0],"CG_BLANK","[ \\t]"),t.const_set(v[0],"CC_EOL","(?=\\n|$)"),t.const_set(v[0],"CG_GRAPH","[\\x21-\\x7E]"),t.const_set(v[0],"CC_ALL","[\\s\\S]"),t.const_set(v[0],"CC_WORD","a-zA-Z0-9_"),t.const_set(v[0],"CG_WORD","[a-zA-Z0-9_]")),t.const_set(v[0],"AuthorInfoLineRx",new RegExp("^("+t.const_get_relative(v,"CG_WORD")+"["+t.const_get_relative(v,"CC_WORD")+"\\-'.]*)(?: +("+t.const_get_relative(v,"CG_WORD")+"["+t.const_get_relative(v,"CC_WORD")+"\\-'.]*))?(?: +("+t.const_get_relative(v,"CG_WORD")+"["+t.const_get_relative(v,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),t.const_set(v[0],"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/),t.const_set(v[0],"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/),t.const_set(v[0],"ManpageNamePurposeRx",new RegExp("^(.*?)"+t.const_get_relative(v,"CG_BLANK")+"+-"+t.const_get_relative(v,"CG_BLANK")+"+(.*)$")),t.const_set(v[0],"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/),t.const_set(v[0],"EvalExpressionRx",new RegExp("^(\\S.*?)"+t.const_get_relative(v,"CG_BLANK")+"*(==|!=|<=|>=|<|>)"+t.const_get_relative(v,"CG_BLANK")+"*(\\S.*)$")),t.const_set(v[0],"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/),t.const_set(v[0],"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/),t.const_set(v[0],"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+t.const_get_relative(v,"CG_BLANK")+"+(.*))?$")),t.const_set(v[0],"InvalidAttributeNameCharsRx",/[^\w\-]/),t.const_set(v[0],"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/),t.const_set(v[0],"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),t.const_set(v[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+t.const_get_relative(v,"CC_ALPHA")+":_]["+t.const_get_relative(v,"CC_WORD")+":.-]*)(?:,"+t.const_get_relative(v,"CG_BLANK")+"*(\\S.*))?)\\]\\]$")),t.const_set(v[0],"BlockAttributeListRx",new RegExp("^\\[(|"+t.const_get_relative(v,"CG_BLANK")+"*["+t.const_get_relative(v,"CC_WORD")+"\\{,.#\"'%].*)\\]$")),t.const_set(v[0],"BlockAttributeLineRx",new RegExp("^\\[(|"+t.const_get_relative(v,"CG_BLANK")+"*["+t.const_get_relative(v,"CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+t.const_get_relative(v,"CC_ALPHA")+":_]["+t.const_get_relative(v,"CC_WORD")+":.-]*(?:,"+t.const_get_relative(v,"CG_BLANK")+"*\\S.*)?)\\])\\]$")),t.const_set(v[0],"BlockTitleRx",/^\.([^\s.].*)$/),t.const_set(v[0],"AdmonitionParagraphRx",new RegExp("^("+n(t.const_get_relative(v,"ADMONITION_STYLES").$to_a(),"|")+"):"+t.const_get_relative(v,"CG_BLANK"))),t.const_set(v[0],"LiteralParagraphRx",new RegExp("^("+t.const_get_relative(v,"CG_BLANK")+"+.*)$")),t.const_set(v[0],"CommentBlockRx",/^\/{4,}$/),t.const_set(v[0],"CommentLineRx",/^\/\/(?:[^\/]|$)/),t.const_set(v[0],"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+t.const_get_relative(v,"CG_BLANK")+"+(\\S.*?)(?:"+t.const_get_relative(v,"CG_BLANK")+"+\\1)?$")),t.const_set(v[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+t.const_get_relative(v,"CG_WORD")+"+.*)[^.].*?)$")),t.const_set(v[0],"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/),t.const_set(v[0],"InlineSectionAnchorRx",new RegExp("^(.*?)"+t.const_get_relative(v,"CG_BLANK")+"+(\\\\)?\\[\\[(["+t.const_get_relative(v,"CC_ALPHA")+":_]["+t.const_get_relative(v,"CC_WORD")+":.-]*)(?:,"+t.const_get_relative(v,"CG_BLANK")+"*(\\S.*?))?\\]\\]$")),t.const_set(v[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+t.const_get_relative(v,"CC_WORD")+"]+?")),t.const_set(v[0],"FloatingTitleStyleRx",/^(?:float|discrete)\b/),t.const_set(v[0],"AnyListRx",new RegExp("^(?:"+t.const_get_relative(v,"CG_BLANK")+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+t.const_get_relative(v,"CG_BLANK")+"|"+t.const_get_relative(v,"CG_BLANK")+"*.*?(?::{2,4}|;;)(?:$|"+t.const_get_relative(v,"CG_BLANK")+")|<?\\d+>"+t.const_get_relative(v,"CG_BLANK")+")")),t.const_set(v[0],"UnorderedListRx",new RegExp("^"+t.const_get_relative(v,"CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+t.const_get_relative(v,"CG_BLANK")+"+(.*)$")),t.const_set(v[0],"OrderedListRx",new RegExp("^"+t.const_get_relative(v,"CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+t.const_get_relative(v,"CG_BLANK")+"+(.*)$")),t.const_set(v[0],"OrderedListMarkerRxMap",_(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(v[0],"DescriptionListRx",new RegExp("^(?!//)"+t.const_get_relative(v,"CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+t.const_get_relative(v,"CG_BLANK")+"+(.*))?$")),t.const_set(v[0],"DescriptionListSiblingRx",_(["::",":::","::::",";;"],{"::":new RegExp("^(?!//)"+t.const_get_relative(v,"CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+t.const_get_relative(v,"CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!//)"+t.const_get_relative(v,"CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+t.const_get_relative(v,"CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!//)"+t.const_get_relative(v,"CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+t.const_get_relative(v,"CG_BLANK")+"+(.*))?$"),";;":new RegExp("^(?!//)"+t.const_get_relative(v,"CG_BLANK")+"*(.*)(;;)(?:"+t.const_get_relative(v,"CG_BLANK")+"+(.*))?$")})),t.const_set(v[0],"CalloutListRx",new RegExp("^<?(\\d+)>"+t.const_get_relative(v,"CG_BLANK")+"+(.*)$")),t.const_set(v[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),t.const_set(v[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),t.const_set(v[0],"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+t.const_get_relative(v,"CC_EOL")+")")),t.const_set(v[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+t.const_get_relative(v,"CC_EOL")+")")),t.const_set(v[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+t.const_get_relative(v,"CC_EOL")+")"),t.const_set(v[0],"ListRxMap",_(["ulist","olist","dlist","colist"],{ulist:t.const_get_relative(v,"UnorderedListRx"),olist:t.const_get_relative(v,"OrderedListRx"),dlist:t.const_get_relative(v,"DescriptionListRx"),colist:t.const_get_relative(v,"CalloutListRx")})),t.const_set(v[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),t.const_set(v[0],"CellSpecStartRx",new RegExp("^"+t.const_get_relative(v,"CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),t.const_set(v[0],"CellSpecEndRx",new RegExp(t.const_get_relative(v,"CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),t.const_set(v[0],"GenericBlockMacroRx",new RegExp("^("+t.const_get_relative(v,"CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$")),t.const_set(v[0],"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/),t.const_set(v[0],"TocBlockMacroRx",/^toc::\[(.*?)\]$/),t.const_set(v[0],"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+t.const_get_relative(v,"CC_ALPHA")+":_]["+t.const_get_relative(v,"CC_WORD")+":.-]*)(?:,"+t.const_get_relative(v,"CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])")),t.const_set(v[0],"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+t.const_get_relative(v,"CC_WORD")+":]["+t.const_get_relative(v,"CC_WORD")+":.-]*?)\\]\\]\\]")),t.const_set(v[0],"EmailInlineMacroRx",new RegExp("([\\\\>:/])?"+t.const_get_relative(v,"CG_WORD")+"["+t.const_get_relative(v,"CC_WORD")+".%+-]*@"+t.const_get_relative(v,"CG_ALNUM")+"["+t.const_get_relative(v,"CC_ALNUM")+".-]*\\."+t.const_get_relative(v,"CG_ALPHA")+"{2,4}\\b")),t.const_set(v[0],"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+t.const_get_relative(v,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(v[0],"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/),t.const_set(v[0],"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+t.const_get_relative(v,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+t.const_get_relative(v,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(v[0],"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/),t.const_set(v[0],"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+t.const_get_relative(v,"CG_BLANK")+"*[^\\1])")),t.const_set(v[0],"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/),t.const_set(v[0],"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/),t.const_set(v[0],"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+t.const_get_relative(v,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(v[0],"MenuInlineMacroRx",new RegExp("\\\\?menu:("+t.const_get_relative(v,"CG_WORD")+"|"+t.const_get_relative(v,"CG_WORD")+".*?\\S)\\["+t.const_get_relative(v,"CG_BLANK")+"*(.+?)?\\]")),t.const_set(v[0],"MenuInlineRx",new RegExp('\\\\?"('+t.const_get_relative(v,"CG_WORD")+'[^"]*?'+t.const_get_relative(v,"CG_BLANK")+"*&gt;"+t.const_get_relative(v,"CG_BLANK")+'*[^" \\t][^"]*)"')),t.const_set(v[0],"PassInlineRx",f(!1,["+","`",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)\\4)(?!"+t.const_get_relative(v,"CG_WORD")+")","m")],!0,["`",o,new RegExp("(^|[^`"+t.const_get_relative(v,"CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+t.const_get_relative(v,"CC_ALL")+"*?\\S)\\4)(?![`"+t.const_get_relative(v,"CC_WORD")+"])","m")])),t.const_set(v[0],"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+t.const_get_relative(v,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+t.const_get_relative(v,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(v[0],"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+t.const_get_relative(v,"CC_WORD")+'":./]'+t.const_get_relative(v,"CC_ALL")+"*?)&gt;&gt;|xref:(["+t.const_get_relative(v,"CC_WORD")+'":./]'+t.const_get_relative(v,"CC_ALL")+"*?)\\[("+t.const_get_relative(v,"CC_ALL")+"*?)\\])","m")),t.const_get_relative(v,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(v[0],"LineBreakRx",/^(.*)[ \t]\+$/m),t.const_set(v[0],"LayoutBreakLineRx",/^('|<){3,}$/),t.const_set(v[0],"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/),t.const_set(v[0],"BlankLineRx",new RegExp("^"+t.const_get_relative(v,"CG_BLANK")+"*\\n")),t.const_set(v[0],"DataDelimiterRx",/,|;/),t.const_set(v[0],"DoubleQuotedRx",/^("|)(.*)\1$/),t.const_set(v[0],"DoubleQuotedMultiRx",new RegExp('^("|)('+t.const_get_relative(v,"CC_ALL")+"*)\\1$","m")),t.const_set(v[0],"TrailingDigitsRx",/\d+$/),t.const_set(v[0],"EscapedSpaceRx",new RegExp("\\\\("+t.const_get_relative(v,"CG_BLANK")+")")),t.const_set(v[0],"SpaceDelimiterRx",new RegExp("([^\\\\])"+t.const_get_relative(v,"CG_BLANK")+"+")),t.const_set(v[0],"SubModifierSniffRx",/[+-]/),t.const_set(v[0],"UnicodeCharScanRx",(t.const_get_relative(v,"RUBY_ENGINE")["$=="]("opal"),o)),t.const_set(v[0],"UriSniffRx",new RegExp("^"+t.const_get_relative(v,"CG_ALPHA")+"["+t.const_get_relative(v,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(v[0],"UriTerminator",/[);:]$/),t.const_set(v[0],"XmlSanitizeRx",/<[^>]+>/),t.const_set(v[0],"INTRINSIC_ATTRIBUTES",_(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),y=(m=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+t.const_get_relative(v,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)\\*(?!"+t.const_get_relative(v,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+t.const_get_relative(v,"CC_ALL")+'*?\\S)`"(?!'+t.const_get_relative(v,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)`'(?!"+t.const_get_relative(v,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+t.const_get_relative(v,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)`(?!["+t.const_get_relative(v,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+t.const_get_relative(v,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)_(?!"+t.const_get_relative(v,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+t.const_get_relative(v,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)#(?!"+t.const_get_relative(v,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]]).$dup(),b=[2,["double","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)''(?!"+t.const_get_relative(v,"CG_WORD")+")","m")]],u(y,"[]=",t.to_a(b)),b[r(b.length,1)],b=[3,["single","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)'(?!"+t.const_get_relative(v,"CG_WORD")+")","m")]],u(y,"[]=",t.to_a(b)),b[r(b.length,1)],b=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+t.const_get_relative(v,"CC_ALL")+"+?)\\+\\+","m")]],u(y,"[]=",t.to_a(b)),b[r(b.length,1)],b=[5,["monospaced","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)\\+(?!"+t.const_get_relative(v,"CG_WORD")+")","m")]],u(y,"[]=",t.to_a(b)),b[r(b.length,1)],y.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+t.const_get_relative(v,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+t.const_get_relative(v,"CC_ALL")+"*?\\S)'(?!"+t.const_get_relative(v,"CG_WORD")+")","m")]),t.const_set(v[0],"QUOTE_SUBS",f(!1,m,!0,y)),m=o,y=o,t.const_set(v[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+t.const_get_relative(v,"CG_WORD")+")\\\\?--(?="+t.const_get_relative(v,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+t.const_get_relative(v,"CG_ALNUM")+")\\\\?'(?="+t.const_get_relative(v,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,"","bounding"]]),function(n,a){n.$$proto;var $,l,c,d,f=[n].concat(a);t.defn(n,"$load",$=function(e,n){var i,a,$,l,c,d=this,p=o,h=o,g=o,v=o,m=o,y=o,b=o,w=o,k=o,x=o,E=o,O=o,A=o,S=o,R=o;null==n&&(n=_([],{}));try{if(n=n.$dup(),s(p=n["$[]"]("timings"))&&p.$start("read"),g=["attributes",s((v=n["$[]"]("attributes"))["$!"]())?_([],{}):s(s(i=t.const_get_qualified("::","Hash")["$==="](v))?i:s(a=t.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?t.const_get_qualified(t.const_get_qualified(t.const_get_qualified("::","Java"),"JavaUtil"),"Map")["$==="](v):a)?v.$dup():s(t.const_get_qualified("::","Array")["$==="](v))?u(v,"inject",[_([],{})],($=function(e,n){$.$$s;var i,a,l=o,c=o;return null==e&&(e=o),null==n&&(n=o),a=n.$split("=",2),i=t.to_ary(a),l=null==i[0]?o:i[0],c=null==i[1]?o:i[1],g=[l,s(i=c)?i:""],u(e,"[]=",t.to_a(g)),g[r(g.length,1)],e},$.$$s=d,$.$$arity=2,$)):s(t.const_get_qualified("::","String")["$==="](v))?(m="\\1",v=v.$gsub(t.const_get_relative(f,"SpaceDelimiterRx"),""+m+t.const_get_relative(f,"NULL")).$gsub(t.const_get_relative(f,"EscapedSpaceRx"),m),u(v.$split(t.const_get_relative(f,"NULL")),"inject",[_([],{})],(l=function(e,n){l.$$s;var i,a,$=o,c=o;return null==e&&(e=o),null==n&&(n=o),a=n.$split("=",2),i=t.to_ary(a),$=null==i[0]?o:i[0],c=null==i[1]?o:i[1],g=[$,s(i=c)?i:""],u(e,"[]=",t.to_a(g)),g[r(g.length,1)],e},l.$$s=d,l.$$arity=2,l))):s(s(i=v["$respond_to?"]("keys"))?v["$respond_to?"]("[]"):i)?(y=v,v=_([],{}),u(y.$keys(),"each",[],(c=function(e){c.$$s;return null==e&&(e=o),g=[e,y["$[]"](e)],u(v,"[]=",t.to_a(g)),g[r(g.length,1)]},c.$$s=d,c.$$arity=1,c)),v):d.$raise(t.const_get_qualified("::","ArgumentError"),"illegal type for attributes option: "+v.$class().$ancestors())],u(n,"[]=",t.to_a(g)),h=g[r(g.length,1)],b=o,s(t.const_get_qualified("::","File")["$==="](e)))w=t.const_get_qualified("::","File").$expand_path(e.$path()),k=s(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?t.const_get_qualified("::","Time").$at(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc():e.$mtime(),b=e.$readlines(),g=["docfile",w],u(h,"[]=",t.to_a(g)),g[r(g.length,1)],g=["docdir",t.const_get_qualified("::","File").$dirname(w)],u(h,"[]=",t.to_a(g)),g[r(g.length,1)],g=["docname",t.const_get_relative(f,"Helpers").$basename(w,!0)],u(h,"[]=",t.to_a(g)),g[r(g.length,1)],x=s(i=h["$[]"]("docdate"))?i:(g=["docdate",k.$strftime("%Y-%m-%d")],u(h,"[]=",t.to_a(g)),g[r(g.length,1)]),E=s(i=h["$[]"]("doctime"))?i:(g=["doctime",k.$strftime("%H:%M:%S %Z")],u(h,"[]=",t.to_a(g)),g[r(g.length,1)]),g=["docdatetime",x+" "+E],u(h,"[]=",t.to_a(g)),g[r(g.length,1)];else if(s(e["$respond_to?"]("readlines"))){try{e.$rewind()}catch(e){if(!t.rescue(e,[t.const_get_relative(f,"StandardError")]))throw e;t.pop_exception()}b=e.$readlines()}else s(t.const_get_qualified("::","String")["$==="](e))?b=e.$lines().$entries():s(t.const_get_qualified("::","Array")["$==="](e))?b=e.$dup():d.$raise(t.const_get_qualified("::","ArgumentError"),"unsupported input type: "+e.$class());return s(p)&&(p.$record("read"),p.$start("parse")),O=n["$[]"]("parse")["$=="](!1)?t.const_get_relative(f,"Document").$new(b,n):t.const_get_relative(f,"Document").$new(b,n).$parse(),s(p)&&p.$record("parse"),O}catch(e){if(!t.rescue(e,[t.const_get_relative(f,"StandardError")]))throw e;A=e;try{try{S="asciidoctor: FAILED: "+(s(i=h["$[]"]("docfile"))?i:"<stdin>")+": Failed to load AsciiDoc document",s(A["$respond_to?"]("exception"))?(R=A.$exception(S+" - "+A.$message())).$set_backtrace(A.$backtrace()):(R=A.$class().$new(S,A),g=[A.$stack_trace()],u(R,"stack_trace=",t.to_a(g)),g[r(g.length,1)])}catch(e){if(!t.rescue(e,[t.const_get_relative(f,"StandardError")]))throw e;try{R=A}finally{t.pop_exception()}}return d.$raise(R)}finally{t.pop_exception()}}},$.$$arity=-2),t.defn(n,"$load_file",l=function(e,n){var r,i=this;return null==n&&(n=_([],{})),i.$load(t.const_get_qualified("::","File").$new(s(r=e)?r:""),n)},l.$$arity=-2),t.defn(n,"$convert",c=function(n,a){var $,l,c,d,p,h,g=this,v=o,m=o,y=o,b=o,w=o,k=o,x=o,E=o,O=o,A=o,S=o,R=o,M=o,T=o,I=o,C=o,q=o,N=o,L=o,z=o,P=o,D=o,B=o,j=o,F=o,U=o,G=o;if(null==a&&(a=_([],{})),(a=a.$dup()).$delete("parse"),v=a.$delete("to_file"),m=a.$delete("to_dir"),y=!!s($=a.$delete("mkdirs"))&&$,b=a["$[]"]("timings"),w=v,(!0)["$==="](w)||o["$==="](w))k=s($=m["$!"]())?t.const_get_qualified("::","File")["$==="](n):$,x=!1,E=m,v=o;else if((!1)["$==="](w))k=!1,x=!1,E=!1,v=o;else{if("/dev/null"["$==="](w))return g.$load(n,a);k=!1,x=v["$respond_to?"]("write"),E=!s(x)&&v}return s(a["$key?"]("header_footer"))||s(s($=k)?$:E)&&(O=["header_footer",!0],u(a,"[]=",t.to_a(O)),O[r(O.length,1)]),s(k)?(A=t.const_get_qualified("::","File").$expand_path(n.$path()),O=["to_dir",S=t.const_get_qualified("::","File").$dirname(A)],u(a,"[]=",t.to_a(O)),O[r(O.length,1)]):s(E)?s(m)?s(v)?(O=["to_dir",t.const_get_qualified("::","File").$dirname(t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","File").$join(m,v)))],u(a,"[]=",t.to_a(O)),O[r(O.length,1)]):(O=["to_dir",t.const_get_qualified("::","File").$expand_path(m)],u(a,"[]=",t.to_a(O)),O[r(O.length,1)]):s(v)&&(O=["to_dir",t.const_get_qualified("::","File").$dirname(t.const_get_qualified("::","File").$expand_path(v))],u(a,"[]=",t.to_a(O)),O[r(O.length,1)]):(O=["to_dir",o],u(a,"[]=",t.to_a(O)),O[r(O.length,1)]),R=g.$load(n,a),s(k)?(M=t.const_get_qualified("::","File").$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix()))["$=="](A)&&g.$raise(t.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+M):s(E)?(T=s(a["$has_key?"]("base_dir"))?t.const_get_qualified("::","File").$expand_path(a["$[]"]("base_dir")):t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","Dir").$pwd()),I=s(e(R.$safe(),t.const_get_qualified(t.const_get_relative(f,"SafeMode"),"SAFE")))?T:o,s(m)?(S=R.$normalize_system_path(m,T,I,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),s(v)?(M=R.$normalize_system_path(v,S,o,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=t.const_get_qualified("::","File").$dirname(M)):M=t.const_get_qualified("::","File").$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix())):s(v)&&(M=R.$normalize_system_path(v,T,I,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=t.const_get_qualified("::","File").$dirname(M)),s(t.const_get_qualified("::","File")["$directory?"](S))||(s(y)?t.const_get_relative(f,"Helpers").$mkdir_p(S):g.$raise(t.const_get_qualified("::","IOError"),"target directory does not exist: "+m))):(M=v,S=o),s(b)&&b.$start("convert"),C=s(s($=M)?x["$!"]():$)?_(["outfile","outdir"],{outfile:M,outdir:S}):_([],{}),q=R.$convert(C),s(b)&&b.$record("convert"),s(M)?(s(b)&&b.$start("write"),R.$write(q,M),s(b)&&b.$record("write"),s(s($=s(l=s(c=s(d=s(p=x["$!"]())?i(R.$safe(),t.const_get_qualified(t.const_get_relative(f,"SafeMode"),"SECURE")):p)?R["$attr?"]("linkcss"):d)?R["$attr?"]("copycss"):c)?R["$attr?"]("basebackend-html"):l)?(s(l=N=R.$attr("stylesdir"))?t.const_get_relative(f,"Helpers")["$uriish?"](N):l)["$!"]():$)&&(L=!1,z=!1,s(P=R.$attr("stylesheet"))&&(s(t.const_get_relative(f,"DEFAULT_STYLESHEET_KEYS")["$include?"](P))?L=!0:s(t.const_get_relative(f,"Helpers")["$uriish?"](P)["$!"]())&&(z=!0)),D=s($=R["$attr?"]("source-highlighter","coderay"))?R.$attr("coderay-css","class")["$=="]("class"):$,B=s($=R["$attr?"]("source-highlighter","pygments"))?R.$attr("pygments-css","class")["$=="]("class"):$,s(s($=s(l=s(c=L)?c:z)?l:D)?$:B)&&(j=R.$normalize_system_path(N,S,s(e(R.$safe(),t.const_get_qualified(t.const_get_relative(f,"SafeMode"),"SAFE")))?S:o),s(y)&&t.const_get_relative(f,"Helpers").$mkdir_p(j),s(L)?t.const_get_relative(f,"Stylesheets").$instance().$write_primary_stylesheet(j):s(z)&&(F=s((F=R.$attr("copycss"))["$empty?"]())?R.$normalize_system_path(P):R.$normalize_system_path(F),U=R.$normalize_system_path(P,j,s(e(R.$safe(),t.const_get_qualified(t.const_get_relative(f,"SafeMode"),"SAFE")))?S:o),s(s($=F["$=="](U))?$:(G=R.$read_asset(F))["$nil?"]())||u(t.const_get_qualified("::","File"),"open",[U,"w"],(h=function(t){h.$$s;return null==t&&(t=o),t.$write(G)},h.$$s=g,h.$$arity=1,h))),s(D)?t.const_get_relative(f,"Stylesheets").$instance().$write_coderay_stylesheet(j):s(B)&&t.const_get_relative(f,"Stylesheets").$instance().$write_pygments_stylesheet(j,R.$attr("pygments-style")))),R):q},c.$$arity=-2),t.alias(n,"render","convert"),t.defn(n,"$convert_file",d=function(e,n){var r,i=this;return null==n&&(n=_([],{})),i.$convert(t.const_get_qualified("::","File").$new(s(r=e)?r:""),n)},d.$$arity=-2),t.alias(n,"render_file","convert_file")}(t.get_singleton_class(g),v),t.const_get_relative(v,"RUBY_ENGINE")["$=="]("opal")&&(g.$require("asciidoctor/version"),g.$require("asciidoctor/timings"))}($[0],$),a.$require("asciidoctor/core_ext"),a.$require("asciidoctor/helpers"),a.$require("asciidoctor/substitutors"),a.$require("asciidoctor/abstract_node"),a.$require("asciidoctor/abstract_block"),a.$require("asciidoctor/attribute_list"),a.$require("asciidoctor/block"),a.$require("asciidoctor/callouts"),a.$require("asciidoctor/converter"),s(t.const_get_relative($,"RUBY_ENGINE_OPAL"))&&a.$require("asciidoctor/converter/html5"),a.$require("asciidoctor/document"),a.$require("asciidoctor/inline"),a.$require("asciidoctor/list"),a.$require("asciidoctor/parser"),a.$require("asciidoctor/path_resolver"),a.$require("asciidoctor/reader"),a.$require("asciidoctor/section"),a.$require("asciidoctor/stylesheets"),a.$require("asciidoctor/table")}(Opal);var e=function(t){return t&&!t.smap?Opal.hash(t):t},n=function(t){for(var e,n={},r=0,i=t.$$keys,a=t.$$smap,$=i.length;r<$;r++)n[e=i[r]]=a[e];return n},r=function(t){if(t=e(t)){var n=t["$[]"]("attributes");n&&"object"==typeof n&&"Object"===n.constructor.name&&(t=t.$dup())["$[]="]("attributes",e(n))}return t},i=Opal.Asciidoctor.$$class;i.$$proto.getCoreVersion=function(){return this.$$const.VERSION},i.$$proto.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var n=this.$convert(t,r(e));return n===Opal.nil?"":n},i.$$proto.convertFile=function(t,e){return this.$convert_file(t,r(e))},i.$$proto.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,r(e))},i.$$proto.loadFile=function(t,e){return this.$load_file(t,r(e))};var a=Opal.Asciidoctor.AbstractBlock;a.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?"":t},a.$$proto.getCaptionedTitle=function(){return this.$captioned_title()},a.$$proto.getStyle=function(){return this.style},a.$$proto.getCaption=function(){return this.$caption()},a.$$proto.setCaption=function(t){this.caption=t},a.$$proto.getLevel=function(){return this.level},a.$$proto.getBlocks=function(){return this.blocks},a.$$proto.getContent=function(){return this.$content()},a.$$proto.convert=function(){return this.$convert()},a.$$proto.findBy=function(t,n){return void 0===n&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof n?Opal.send(this,"find_by",[e(t)],n):this.$find_by(e(t))},a.$$proto.getLineNumber=function(){var t=this.$lineno();if(t!==Opal.nil)return t};var $=Opal.Asciidoctor.AbstractNode;$.$$proto.getAttributes=function(){return n(this.attributes)},$.$$proto.getAttribute=function(t,e,n){var r=this.$attr(t,e,n);if(r!==Opal.nil)return r},$.$$proto.isAttribute=function(t,e,n){var r=this["$attr?"](t,e,n);if(r!==Opal.nil)return r},$.$$proto.setAttribute=function(t,e,n){return void 0===n&&(n=!0),this.$set_attr(t,e,n)},"function"==typeof $.$$proto.$remove_attr&&($.$$proto.removeAttribute=function(t){var e=this.$remove_attr(t);if(e!==Opal.nil)return e}),$.$$proto.getDocument=function(){return this.$document()},$.$$proto.isInline=function(){return this["$inline?"]()},$.$$proto.isBlock=function(){return this["$block?"]()},$.$$proto.isRole=function(t){return this["$role?"](t)},$.$$proto.getRole=function(){return this.$role()},$.$$proto.hasRole=function(t){return this["$has_role?"](t)},$.$$proto.getRoles=function(){return this.$roles()},$.$$proto.addRole=function(t){return this.$add_role(t)},$.$$proto.removeRole=function(t){return this.$remove_role(t)},$.$$proto.isReftext=function(){return this["$reftext?"]()},$.$$proto.getReftext=function(){return this.$reftext()},$.$$proto.getContext=function(){var t=this.context;return t&&"function"==typeof t.$to_s?t.$to_s():t},$.$$proto.getId=function(){return this.id},$.$$proto.isOption=function(t){return this["$option?"](t)},$.$$proto.setOption=function(t){return this.$set_option(t)},$.$$proto.getIconUri=function(t){return this.$icon_uri(t)},$.$$proto.getMediaUri=function(t,e){return this.$media_uri(t,e)},$.$$proto.getImageUri=function(t,e){return this.$image_uri(t,e)},$.$$proto.getConverter=function(){return this.$converter()},$.$$proto.readContents=function(t,n){return this.$read_contents(t,e(n))},$.$$proto.readAsset=function(t,n){return this.$read_asset(t,e(n))},$.$$proto.normalizeWebPath=function(t,e,n){return this.$normalize_web_path(t,e,n)},$.$$proto.normalizeSystemPath=function(t,n,r,i){return this.$normalize_system_path(t,n,r,e(i))},$.$$proto.normalizeAssetPath=function(t,e,n){return this.$normalize_asset_path(t,e,n)};var o=Opal.Asciidoctor.Document;o.$$proto.getHeader=function(){return this.header},o.$$proto.setAttribute=function(t,e){return this.$set_attribute(t,e)},o.$$proto.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},o.$$proto.convert=function(t){var n=this.$convert(e(t));return n===Opal.nil?"":n},o.$$proto.write=function(t,e){return this.$write(t,e)},o.$$proto.getAuthor=function(){return this.$author()},o.$$proto.getSource=function(){return this.$source()},o.$$proto.getSourceLines=function(){return this.$source_lines()},o.$$proto.isNested=function(){return this["$nested?"]()},o.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},o.$$proto.getFootnotes=function(){return this.$footnotes()},o.$$proto.isEmbedded=function(){return this["$embedded?"]()},o.$$proto.hasExtensions=function(){return this["$extensions?"]()},o.$$proto.getDoctype=function(){return this.$doctype()},o.$$proto.getBackend=function(){return this.$backend()},o.$$proto.isBasebackend=function(t){return this["$basebackend?"](t)},o.$$proto.getTitle=function(){return this.$title()},o.$$proto.setTitle=function(t){return this["$title="](t)},o.$$proto.getDocumentTitle=function(t){return this.$doctitle(e(t))},o.$$proto.getDoctitle=function(t){return this.getDocumentTitle(t)},o.$$proto.getCatalog=function(){return n(void 0===this.catalog?this.references:this.catalog)},o.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")},o.$$proto.getRevdate=function(){return this.getRevisionDate()},o.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")},o.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")},o.RevisionInfo=function(t,e,n){this.date=t,this.number=e,this.remark=n};var s=o.RevisionInfo;s.prototype.getDate=function(){return this.date},s.prototype.getNumber=function(){return this.number},s.prototype.getRemark=function(){return this.remark},s.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},o.$$proto.getRevisionInfo=function(){return new o.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},o.$$proto.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},o.$$proto.getNotitle=function(){return this.$notitle()},o.$$proto.getNoheader=function(){return this.$noheader()},o.$$proto.getNofooter=function(){return this.$nofooter()},o.$$proto.hasHeader=function(){return this["$header?"]()},o.$$proto.deleteAttribute=function(t){return this.$delete_attribute(t)},o.$$proto.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},o.$$proto.parse=function(t){return this.$parse(t)},o.$$proto.getDocinfo=function(t,e){return this.$docinfo(t,e)},o.$$proto.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},o.$$proto.counterIncrement=function(t,e){return this.$counter_increment(t,e)},o.$$proto.counter=function(t,e){return this.$counter(t,e)},o.$$proto.getSafe=function(){return this.$safe},o.$$proto.getCompatMode=function(){return this.$compat_mode},o.$$proto.getSourcemap=function(){return this.$sourcemap},o.$$proto.getReferences=function(){return this.$references},o.$$proto.getCounters=function(){return this.$counters},o.$$proto.getCallouts=function(){return this.$callouts},o.$$proto.getBaseDir=function(){return this.$base_dir},o.$$proto.getOptions=function(){return this.$options},o.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix},o.$$proto.getParentDocument=function(){return this.$parent_document},o.$$proto.getReader=function(){return this.$reader},o.$$proto.getConverter=function(){return this.$converter},o.$$proto.getExtensions=function(){return this.$extensions};var l=o.Title;l.$$proto.getMain=function(){return this.main},l.$$proto.getCombined=function(){return this.combined},l.$$proto.getSubtitle=function(){return this.subtitle},l.$$proto.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},l.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};var c=Opal.Asciidoctor.Inline;c.$$proto.convert=function(){return this.$convert()},c.$$proto.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},c.$$proto.getType=function(){return this.$type()},c.$$proto.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t};var _=Opal.Asciidoctor.Reader;_.$$proto.pushInclude=function(t,e,n,r,i){return this.$push_include(t,e,n,r,i)},_.$$proto.getCursor=function(){return this.$cursor()},_.$$proto.getLines=function(){return this.$lines()};var u=function(t){return t.$$arity=t.length,t},d=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=d,d.create=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"build_registry",null,u(t)):"function"==typeof e?Opal.send(this,"build_registry",[t],u(e)):this.$build_registry()},d.register=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"register",null,u(t)):Opal.send(this,"register",[t],u(e))},d.unregisterAll=function(){this.$unregister_all()};var f=d.Registry;f.$$proto.block=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"block",null,u(t)):Opal.send(this,"block",[t],u(e))},f.$$proto.inlineMacro=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"inline_macro",null,u(t)):Opal.send(this,"inline_macro",[t],u(e))},f.$$proto.includeProcessor=function(t){return Opal.send(this,"include_processor",null,u(t))},f.$$proto.blockMacro=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"block_macro",null,u(t)):Opal.send(this,"block_macro",[t],u(e))},f.$$proto.treeProcessor=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"treeprocessor",null,u(t)):Opal.send(this,"treeprocessor",[t],u(e))},f.$$proto.postprocessor=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"postprocessor",null,u(t)):Opal.send(this,"postprocessor",[t],u(e))},f.$$proto.preprocessor=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"preprocessor",null,u(t)):Opal.send(this,"preprocessor",[t],u(e))},f.$$proto.docinfoProcessor=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"docinfo_processor",null,u(t)):Opal.send(this,"docinfo_processor",[t],u(e))};var p=d.Processor;p.$$proto.process=function(t){return Opal.send(this,"process",null,u(t))},p.$$proto.named=function(t){return this.$named(t)},p.$$proto.createBlock=function(t,n,r,i,a){return this.$create_block(t,n,r,e(i),e(a))},p.$$proto.createInline=function(t,n,r,i){return this.$create_inline(t,n,r,e(i))},p.$$proto.parseContent=function(t,e,n){return this.$parse_content(t,e,n)},p.$$proto.positionalAttributes=function(t){return"function"==typeof this.$positional_attrs?this.$positional_attrs(t):this.$positional_attributes(t)},d.BlockProcessor.$$proto.onContext=function(t){return this.$on_context(t)};d.BlockMacroProcessor;d.IncludeProcessor.$$proto.handles=function(t){return Opal.send(this,"handles?",null,u(t))};void 0!==d.TreeProcessor?d.TreeProcessor:d.Treeprocessor;d.Postprocessor,d.Preprocessor;d.DocinfoProcessor.$$proto.atLocation=function(t){this.$at_location(t)};return i.$$proto.getVersion=function(){return"1.5.5"},Opal.Asciidoctor});