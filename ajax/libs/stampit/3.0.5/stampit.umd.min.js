!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.stampit=e.stampit||{})}(this,function(e){"use strict";function r(e){var r=typeof e;return!!e&&("object"===r||"function"===r)}function t(e){return"function"==typeof e}function i(e){return!!e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}function o(e,t){if(void 0===t)return e;if(Array.isArray(t))return(Array.isArray(e)?e:[]).concat(t);if(!i(t))return t;for(var s=r(e)?e:{},n=Object.keys(t),p=0;p<n.length;p+=1){var c=n[p],a=t[c];if(void 0!==a){var f=s[c],u=i(f)||Array.isArray(a)?f:{};s[c]=o(u,a)}}return s}function s(e){return function r(i){for(var o=[],s=arguments.length-1;s-- >0;)o[s]=arguments[s+1];var n=Object.create(e.methods||null);return v(n,e.deepProperties),g(n,e.properties),Object.defineProperties(n,e.propertyDescriptors||{}),e.initializers&&0!==e.initializers.length?(void 0===i&&(i={}),e.initializers.filter(t).reduce(function(e,t){var s=t.call(e,i,{instance:e,stamp:r,args:[i].concat(o)});return void 0===s?e:s},n)):n}}function n(e,r){var i=s(e);v(i,e.staticDeepProperties),g(i,e.staticProperties),Object.defineProperties(i,e.staticPropertyDescriptors||{});var o=t(i.compose)?i.compose:r;return i.compose=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return o.apply(this,e)},g(i.compose,e),i}function p(e,i){var o=i&&i.compose||i;if(!r(o))return e;var s=function(t,i){r(o[t])&&(r(e[t])||(e[t]={}),i(e[t],o[t]))};return s("methods",g),s("properties",g),s("deepProperties",v),s("propertyDescriptors",g),s("staticProperties",g),s("staticDeepProperties",v),s("staticPropertyDescriptors",g),s("configuration",g),s("deepConfiguration",v),Array.isArray(o.initializers)&&(e.initializers=o.initializers.reduce(function(e,r){return t(r)&&e.indexOf(r)<0&&e.push(r),e},Array.isArray(e.initializers)?e.initializers:[])),e}function c(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var i=[this].concat(e).filter(r).reduce(p,{});return n(i,c)}function a(e){return t(e)&&t(e.compose)}function f(e,r){return function(){for(var t=arguments.length,i=Array(t);t--;)i[t]=arguments[t];var o={};return o[e]=r.apply(void 0,[{}].concat(i)),(this&&this.compose||d).call(this,o)}}function u(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return(this&&this.compose||d).call(this,{initializers:y.apply(void 0,e)})}function d(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e=e.filter(r).map(function(e){return a(e)?e:h(e)}),c.apply(this||k,e)}var l=Array.prototype.concat,y=function(){var e=l.apply([],arguments).filter(t);return 0===e.length?void 0:e},v=function(e){for(var r=[],t=arguments.length-1;t-- >0;)r[t]=arguments[t+1];return r.reduce(o,e)},P=Object.assign,h=function(e){void 0===e&&(e={});var t=e.methods,i=e.properties,o=e.props,s=e.refs,n=e.initializers,p=e.init,c=e.deepProperties,a=e.deepProps,f=e.propertyDescriptors,u=e.staticProperties,d=e.statics,l=e.staticDeepProperties,h=e.deepStatics,g=e.staticPropertyDescriptors,m=e.configuration,D=e.conf,b=e.deepConfiguration,j=e.deepConf,z=r(o)||r(s)||r(i)?P({},o,s,i):void 0,A=r(a)?v({},a):void 0;A=r(c)?v(A,c):A;var O=r(d)||r(u)?P({},d,u):void 0,C=r(h)?v({},h):void 0;C=r(l)?v(C,l):C;var x=r(D)||r(m)?P({},D,m):void 0,S=r(j)?v({},j):void 0;return S=r(b)?v(S,b):S,{methods:t,properties:z,initializers:y(p,n),deepProperties:A,staticProperties:O,staticDeepProperties:C,propertyDescriptors:f,staticPropertyDescriptors:g,configuration:x,deepConfiguration:S}},g=Object.assign,m=Object.assign,D=f("methods",m),b=f("properties",m),j=f("deepProperties",v),z=f("staticProperties",m),A=f("staticDeepProperties",v),O=f("configuration",m),C=f("deepConfiguration",v),x=f("propertyDescriptors",m),S=f("staticPropertyDescriptors",m),_={methods:D,properties:b,refs:b,props:b,initializers:u,init:u,deepProperties:j,deepProps:j,staticProperties:z,statics:z,staticDeepProperties:A,deepStatics:A,configuration:O,conf:O,deepConfiguration:C,deepConf:C,propertyDescriptors:x,staticPropertyDescriptors:S},k=c({staticProperties:_},{staticProperties:{create:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return this.apply(void 0,e)},compose:d}}),M=d.bind();d.compose=M;var q=m(d,_);e.methods=D,e.properties=b,e.refs=b,e.props=b,e.initializers=u,e.init=u,e.deepProperties=j,e.deepProps=j,e.staticProperties=z,e.statics=z,e.staticDeepProperties=A,e.deepStatics=A,e.configuration=O,e.conf=O,e.deepConfiguration=C,e.deepConf=C,e.propertyDescriptors=x,e.staticPropertyDescriptors=S,e.compose=M,e.default=q,Object.defineProperty(e,"__esModule",{value:!0})});
