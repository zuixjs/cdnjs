{"version":3,"sources":["field-kit.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","setTimeout","len","run","clearTimeout","Item","fun","array","this","noop","process","nextTick","args","Array","arguments","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask",2,"$$keybindings$$keyBindingsForPlatform","platform","osx","ctrl","$$keybindings$$META","$$keybindings$$CTRL","$$keybindings$$cache","$$keybindings$$build","bind","$$keybindings$$A","$$keybindings$$LEFT","$$keybindings$$ALT","$$keybindings$$SHIFT","$$keybindings$$RIGHT","$$keybindings$$UP","$$keybindings$$DOWN","$$keybindings$$BACKSPACE","$$keybindings$$DELETE","$$keybindings$$TAB","$$keybindings$$ENTER","$$keybindings$$Z","$$keybindings$$Y","callback","result","$$keybindings$$BindingSet","$__0","$__arguments","slice","$$keybindings$$$__Array$prototype$slice","$$input$sim$$isWordChar","chr","test","$$input$sim$$hasLeftWordBreakAtIndex","text","index","$$input$sim$$hasRightWordBreakAtIndex","$$keybindings$$$__Object$defineProperties","Object","defineProperties","$$keybindings$$ZERO","$$keybindings$$NINE","$$keybindings$$KEYS","A","Y","Z","ZERO","NINE","LEFT","RIGHT","UP","DOWN","BACKSPACE","DELETE","TAB","ENTER","isDigit","keyCode","isDirectional","BindingSet","bindings","value","modifiers","action","enumerable","writable","actionForEvent","event","bindingsForKeyCode","altKey","ctrlKey","metaKey","shiftKey","$$input$sim$$$__Object$defineProperties","$$input$sim$$Affinity","UPSTREAM","DOWNSTREAM","NONE","$$input$sim$$Input","Input","range","_value","_selectedRange","start","shouldCancelEvents","selectionAffinity","setText","setSelectedRange","_buildKeybindings","clearSelection","replaceSelection","deleteBackward","_handleEvent","selectedRange","deleteWordBackward","hasSelection","_lastWordBreakBeforeIndex","deleteBackwardByDecomposingPreviousCharacter","deleteBackwardToBeginningOfLine","deleteForward","deleteWordForward","end","_nextWordBreakAfterIndex","handleEvent","_bindings","insertBackTab","insertNewline","insertTab","insertText","moveUp","moveToBeginningOfParagraph","moveUpAndModifySelection","setSelectedRangeWithAffinity","moveParagraphBackwardAndModifySelection","moveToBeginningOfDocument","moveToBeginningOfLine","moveToBeginningOfDocumentAndModifySelection","moveDown","moveToEndOfParagraph","moveDownAndModifySelection","moveParagraphForwardAndModifySelection","moveToEndOfDocument","moveToEndOfLine","moveToEndOfDocumentAndModifySelection","moveLeft","moveLeftAndModifySelection","moveWordLeft","moveWordLeftAndModifySelection","moveToBeginningOfLineAndModifySelection","moveRight","moveRightAndModifySelection","moveWordRight","moveWordRightAndModifySelection","Math","min","moveToEndOfLineAndModifySelection","replacement","substring","rightWordBreakIndexes","selectAll","affinity","max","caret","selectionAnchor","navigator","userAgent","preventDefault","indexes","_leftWordBreakIndexes","wordBreakIndex","reverse","input$sim$umd$$InputSim","KEYS","keyBindingsForPlatform","define","amd","window","InputSim","_process",3,"$$stround$$modes","$$stround$$parse","$$stround$$format","$$stround$$shiftParts","$$stround$$shift","$$stround$$round","increment","strint","last","parseInt","parse","strnum","match","NUMBER_PATTERN","undefined","format","parts","negative","intPart","fracPart","firstNonZeroIndex","NEG","SEP","shiftParts","exponent","partToMove","shift","parsed","round","precision","mode","HALF_EVEN","CEILING","FLOOR","foundNonZeroDigit","HALF_DOWN","HALF_UP","shouldRoundUp","firstFracPartDigit","lastIntPartDigit","NEG_PATTERN","SEP_PATTERN","RegExp","stround","modes",4,"_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","defineProperty","_createClass","target","props","descriptor","configurable","key","protoProps","staticProps","_amex_card_formatter","_amex_card_formatter2","_default_card_formatter","_default_card_formatter2","_card_utils","AdaptiveCardFormatter","amexCardFormatter","defaultCardFormatter","formatter","pan","_formatterForPan","error","change","proposed","isChangeValid","determineCardType","replace","AMEX","./amex_card_formatter","./card_utils","./default_card_formatter",5,"_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","Function","getOwnPropertyDescriptor","get","getPrototypeOf","AmexCardFormatter","_DefaultCardFormatter",6,"_text_field","_text_field2","_adaptive_card_formatter","_adaptive_card_formatter2","CardMaskStrategy","None","DoneEditing","CardTextField","_TextField","element","setCardMaskStrategy","_masked","_editing","_cardMaskStrategy","cardMaskStrategy","_syncMask","toMask","last4","_unmaskedText","cardMask","_disableMasking","_enableMasking","./adaptive_card_formatter","./text_field",7,"toString","firsttwo","iin","halfiin","VISA","DISCOVER","JCB","MASTERCARD","luhnCheck","sum","flip","digit","charAt","floor","validCardLength",8,"getCaret","setCaret","document","createElement","selectionStart","selectionEnd","selection","createRange","duplicate","moveEnd","lastIndexOf","moveStart","createTextRange","collapse","select",9,"_delimited_text_formatter","_delimited_text_formatter2","DefaultCardFormatter","_DelimitedTextFormatter","_valueFromText","./delimited_text_formatter",10,"_x4","_formatter","_formatter2","DelimitedTextFormatter","_Formatter","delimiter","isLazy","hasDelimiterAtIndex","_textFromValue","maximumLength","delimiterAt","isDelimiter","newText","startMovedLeft","current","startMovedRight","endMovedLeft","endMovedRight","startMovedOverADelimiter","endMovedOverADelimiter","deleted","newCursorPosition","./formatter",11,"_","_2","FieldKit","./",12,"_expiry_date_formatter","_expiry_date_formatter2","ExpiryDateField","./expiry_date_formatter",13,"interpretTwoDigitYear","year","thisYear","Date","getFullYear","thisCentury","centuries","sort","b","abs","_utils","ExpiryDateFormatter","month","zpad2","monthAndYear","split","Number","isBackspace","inserted","./utils",14,"Formatter","available","truncatedLength",15,"_card_text_field","_card_text_field2","_expiry_date_field","_expiry_date_field2","_number_formatter","_number_formatter2","_number_formatter_settings_formatter","_number_formatter_settings_formatter2","_phone_formatter","_phone_formatter2","_social_security_number_formatter","_social_security_number_formatter2","_undo_manager","_undo_manager2","CardUtils","NumberFormatter","NumberFormatterSettingsFormatter","PhoneFormatter","SocialSecurityNumberFormatter","TextField","UndoManager","./card_text_field","./expiry_date_field","./number_formatter","./number_formatter_settings_formatter","./phone_formatter","./social_security_number_formatter","./undo_manager",16,"splitLocaleComponents","locale","lang","toLowerCase","country","_len","_key","replaceCurrencySymbol","string","currencySymbol","replacePlusSign","plusSign","replaceMinusSign","minusSign","_stround","CURRENCY","PERCENT","DEFAULT_LOCALE","DEFAULT_COUNTRY","setNumberStyle","allowsFloats","_allowsFloats","alwaysShowsDecimalSeparator","_alwaysShowsDecimalSeparator","_countryCode","countryCode","currencyCode","_currencyCode","_shouldShowNativeCurrencySymbol","_currencySymbol","regionDefaultCurrencyCode","_regionDefaults","decimalSeparator","_decimalSeparator","_exponent","groupingSeparator","_groupingSeparator","groupingSize","_groupingSize","internationalCurrencySymbol","_internationalCurrencySymbol","_lenient","lenient","_locale","_maximum","_minimum","minimumFractionDigits","_minimumFractionDigits","maximumFractionDigits","_maximumFractionDigits","minimumIntegerDigits","_minimumIntegerDigits","maximumIntegerDigits","_maximumIntegerDigits","_minusSign","numberFormatFormatter","prefix","suffix","usesGroupingSeparator","negativeFormat","settings","setNegativePrefix","setNegativeSuffix","setGroupingSize","setMaximumFractionDigits","setMinimumFractionDigits","setMinimumIntegerDigits","setUsesGroupingSeparator","negativeInfinitySymbol","_negativeInfinitySymbol","_negativePrefix","_negativeSuffix","notANumberSymbol","_notANumberSymbol","nullSymbol","_nullSymbol","_numberFormatFormatter","_numberStyle","numberStyle","_styleDefaults","StyleDefaults","percentSymbol","_percentSymbol","_plusSign","positiveFormat","setPositivePrefix","setPositiveSuffix","positiveInfinitySymbol","_positiveInfinitySymbol","_positivePrefix","_positiveSuffix","roundingMode","_roundingMode","_usesGroupingSeparator","zeroSymbol","_zeroSymbol","attr","styleDefaults","localeDefaults","_localeDefaults","regionDefaults","_currencyDefaults","number","isNaN","Infinity","integerPart","fractionPart","shifted","unrounded","rounded","_round","integerPartWithGroupingSeparators","copiedCharacterCount","negativePrefix","negativeSuffix","positivePrefix","positiveSuffix","isLenient","trim","innerString","NaN","hasNegativePrefix","startsWith","hasNegativeSuffix","endsWith","_parseAbsoluteValue","hasPositivePrefix","hasPositiveSuffix","minimum","maximum","groupParts","groupPartsTail","join","isDigits","forEach","CurrencyDefaults","RegionDefaults","defaultFallbacks","LocaleDefaults","defaults","stringFromNumber","numberFromString","Rounding","Style","positiveCurrencyPrefix","positiveCurrencySuffix","negativeCurrencyPrefix","negativeCurrencySuffix","fr","ja","en-GB","AE","AG","AI","AL","AM","AO","AR","AT","AU","AW","AZ","BA","BB","BD","BE","BF","BG","BH","BJ","BM","BN","BO","BR","BS","BT","BW","BY","BZ","CA","CG","CH","CI","CL","CM","CN","CO","CR","CV","CY","CZ","DE","DK","DM","DO","DZ","EC","EE","EG","ES","ET","FI","FJ","FM","FR","GA","GB","GD","GE","GH","GI","GM","GR","GT","GU","GW","GY","HK","HN","HR","HT","HU","ID","IE","IL","IN","IS","IT","JM","JO","JP","KE","KG","KH","KN","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LT","LU","LV","MA","MD","MG","MK","ML","MM","MN","MO","MP","MR","MS","MT","MU","MW","MX","MY","MZ","NA","NE","NG","NI","NL","NO","NP","NZ","OM","PA","PE","PG","PH","PK","PL","PR","PT","PW","PY","QA","RO","RS","RU","RW","SA","SB","SC","SE","SG","SI","SK","SL","SN","SR","ST","SV","SZ","TC","TD","TG","TH","TJ","TM","TN","TR","TT","TW","TZ","UA","UG","US","UY","UZ","VC","VE","VG","VI","VN","YE","ZA","ZM","ZW","AED","ALL","AMD","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DKK","DOP","DZD","EGP","ETB","EUR","FJD","GBP","GEL","GHS","GIP","GMD","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LTL","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SLL","SRD","STD","SVC","SZL","THB","TJS","TMT","TND","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VND","XAF","XCD","XOF","YER","ZAR","ZMW",17,"chars","character","NumberFormatterSettings","DIGIT","PADDING","DECIMAL_SEPARATOR","GROUPING_SEPARATOR","hasFractionalPart","hasPassedPrefix","hasStartedSuffix","decimalSeparatorIndex","groupingSeparatorIndex","lastIntegerDigitIndex","c",18,"NANPPhoneDelimiters","NANPPhoneDelimitersWithOne","NANPPhoneDelimitersWithPlus","DELIMITER_PATTERN","map","delimiterMap","hasOwnProperty","digits","digitsWithoutCountryCode","guessFormatFromText","removeDelimiterMapChars","toInsert","formatted","indexOf","extraDigits","substr",19,"DIGITS_PATTERN",20,"_caret","_inputSim","_Input","console","warn","_enabled","_manualCaret","_placeholder","_disabledPlaceholder","_focusedPlaceholder","_unfocusedPlaceholder","_isDirty","_valueOnFocus","_currentValue","_blur","_focus","_click","_paste","_keyUp","_keyPress","_keyDown","addEventListener","getAttribute","setAttribute","ownerDocument","defaultView","_needsManualCaret","delegate","_delegate","textDidChange","_fireEvent","textFieldDidEndEditing","textFieldDidBeginEditing","removeEventListener","maximumLengthString","setValue","_this","TextFieldStateChange","errorType","textFieldDidFailToValidateChange","hasChanges","_textFieldDidEndEditing","_didEndEditingButKeptFocus","pasteboard","getData","build","type","recomputeDiff","undoManager","proxyFor","_applyChangeFromUndoManager","_textDidChange","_this2","textFieldDidFailToParseString","newRange","_allowsUndo","allowsUndo","canRedo","redo","canUndo","undo","_undoManager","_this3","focus","rollbackInvalidChanges","_syncPlaceholder","activeElement","enabled","blur","disabledPlaceholder","focusedPlaceholder","placeholder","unfocusedPlaceholder","isUndoing","eventType","CustomEvent","dispatchEvent","createEvent","initEvent","_textFieldDidBeginEditing","_this4","_this5","charCode","String","fromCharCode","_processChange","currentText","proposedText","replaceStringSelection","onSuccess","changeTriggeredFormatting","KeyboardEvent","onFail","_this6","previousText","_ref","_ref$onFail","hasChangesAndIsValid","_this7","readSelectionFromPasteboard","clipboardData","hasFocus","setPlaceholder","field","ctext","ptext","sharedPrefixLength","sharedSuffixLength","minTextLength","./caret","input-sim",21,"_undos","_redos","_isUndoing","_isRedoing","selector","_appendRedo","_appendUndo","_len2","_key2","_len3","_key3","data","pop","proxyMethod","_len4","_key4","self","registerUndo","proxy","getAllPropertyNames","hasGetter",22,"_toConsumableArray","arr","isArray","arr2","from","zpad","fn","context","iterable","iterator","hasOwnProp","getOwnPropertyNames","SURROUNDING_SPACE_PATTERN","prependedArgs"],"mappings":"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","file":"field-kit.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],2:[function(require,module,exports){\n(function (process){\n(function() {\n    \"use strict\";\n    var $$keybindings$$$__Array$prototype$slice = Array.prototype.slice;\n    var $$keybindings$$$__Object$defineProperties = Object.defineProperties;\n    var $$keybindings$$A = 65;\n\n    /** @private */\n    var $$keybindings$$Y = 89;\n\n    /** @private */\n    var $$keybindings$$Z = 90;\n\n    /** @private */\n    var $$keybindings$$ZERO = 48;\n\n    /** @private */\n    var $$keybindings$$NINE = 57;\n\n    /** @private */\n    var $$keybindings$$LEFT = 37;\n\n    /** @private */\n    var $$keybindings$$RIGHT = 39;\n\n    /** @private */\n    var $$keybindings$$UP = 38;\n\n    /** @private */\n    var $$keybindings$$DOWN = 40;\n\n    /** @private */\n    var $$keybindings$$BACKSPACE = 8;\n\n    /** @private */\n    var $$keybindings$$DELETE = 46;\n\n    /** @private */\n    var $$keybindings$$TAB = 9;\n\n    /** @private */\n    var $$keybindings$$ENTER = 13;\n\n    var $$keybindings$$KEYS = {\n      A: $$keybindings$$A,\n      Y: $$keybindings$$Y,\n      Z: $$keybindings$$Z,\n      ZERO: $$keybindings$$ZERO,\n      NINE: $$keybindings$$NINE,\n      LEFT: $$keybindings$$LEFT,\n      RIGHT: $$keybindings$$RIGHT,\n      UP: $$keybindings$$UP,\n      DOWN: $$keybindings$$DOWN,\n      BACKSPACE: $$keybindings$$BACKSPACE,\n      DELETE: $$keybindings$$DELETE,\n      TAB: $$keybindings$$TAB,\n      ENTER: $$keybindings$$ENTER,\n\n      /**\n       * @param {number} keyCode\n       * @returns {boolean}\n       */\n      isDigit: function(keyCode) {\n        return $$keybindings$$ZERO <= keyCode && keyCode <= $$keybindings$$NINE;\n      },\n\n      /**\n       * Is an arrow keyCode.\n       *\n       * @param {number} keyCode\n       * @returns {boolean}\n       */\n      isDirectional: function(keyCode) {\n        return keyCode === $$keybindings$$LEFT || keyCode === $$keybindings$$RIGHT || keyCode === $$keybindings$$UP || keyCode === $$keybindings$$DOWN;\n      }\n    };\n\n    var $$keybindings$$CTRL  = 1 << 0;\n    var $$keybindings$$META  = 1 << 1;\n    var $$keybindings$$ALT   = 1 << 2;\n    var $$keybindings$$SHIFT = 1 << 3;\n    var $$keybindings$$cache = {};\n\n    function $$keybindings$$keyBindingsForPlatform(platform) {\n      var osx = platform === 'OSX';\n      var ctrl = osx ? $$keybindings$$META : $$keybindings$$CTRL;\n\n      if (!$$keybindings$$cache[platform]) {\n        $$keybindings$$cache[platform] = $$keybindings$$build(function(bind) {\n          bind($$keybindings$$A         , ctrl       , 'selectAll');\n          bind($$keybindings$$LEFT      , null       , 'moveLeft');\n          bind($$keybindings$$LEFT      , $$keybindings$$ALT        , 'moveWordLeft');\n          bind($$keybindings$$LEFT      , $$keybindings$$SHIFT      , 'moveLeftAndModifySelection');\n          bind($$keybindings$$LEFT      , $$keybindings$$ALT|$$keybindings$$SHIFT  , 'moveWordLeftAndModifySelection');\n          bind($$keybindings$$RIGHT     , null       , 'moveRight');\n          bind($$keybindings$$RIGHT     , $$keybindings$$ALT        , 'moveWordRight');\n          bind($$keybindings$$RIGHT     , $$keybindings$$SHIFT      , 'moveRightAndModifySelection');\n          bind($$keybindings$$RIGHT     , $$keybindings$$ALT|$$keybindings$$SHIFT  , 'moveWordRightAndModifySelection');\n          bind($$keybindings$$UP        , null       , 'moveUp');\n          bind($$keybindings$$UP        , $$keybindings$$ALT        , 'moveToBeginningOfParagraph');\n          bind($$keybindings$$UP        , $$keybindings$$SHIFT      , 'moveUpAndModifySelection');\n          bind($$keybindings$$UP        , $$keybindings$$ALT|$$keybindings$$SHIFT  , 'moveParagraphBackwardAndModifySelection');\n          bind($$keybindings$$DOWN      , null       , 'moveDown');\n          bind($$keybindings$$DOWN      , $$keybindings$$ALT        , 'moveToEndOfParagraph');\n          bind($$keybindings$$DOWN      , $$keybindings$$SHIFT      , 'moveDownAndModifySelection');\n          bind($$keybindings$$DOWN      , $$keybindings$$ALT|$$keybindings$$SHIFT  , 'moveParagraphForwardAndModifySelection');\n          bind($$keybindings$$BACKSPACE , null       , 'deleteBackward');\n          bind($$keybindings$$BACKSPACE , $$keybindings$$SHIFT      , 'deleteBackward');\n          bind($$keybindings$$BACKSPACE , $$keybindings$$ALT        , 'deleteWordBackward');\n          bind($$keybindings$$BACKSPACE , $$keybindings$$ALT|$$keybindings$$SHIFT  , 'deleteWordBackward');\n          bind($$keybindings$$BACKSPACE , ctrl       , 'deleteBackwardToBeginningOfLine');\n          bind($$keybindings$$BACKSPACE , ctrl|$$keybindings$$SHIFT , 'deleteBackwardToBeginningOfLine');\n          bind($$keybindings$$DELETE    , null       , 'deleteForward');\n          bind($$keybindings$$DELETE    , $$keybindings$$ALT        , 'deleteWordForward');\n          bind($$keybindings$$TAB       , null       , 'insertTab');\n          bind($$keybindings$$TAB       , $$keybindings$$SHIFT      , 'insertBackTab');\n          bind($$keybindings$$ENTER     , null       , 'insertNewline');\n          bind($$keybindings$$Z         , ctrl       , 'undo');\n\n          if (osx) {\n            bind($$keybindings$$LEFT      , $$keybindings$$META       , 'moveToBeginningOfLine');\n            bind($$keybindings$$LEFT      , $$keybindings$$META|$$keybindings$$SHIFT , 'moveToBeginningOfLineAndModifySelection');\n            bind($$keybindings$$RIGHT     , $$keybindings$$META       , 'moveToEndOfLine');\n            bind($$keybindings$$RIGHT     , $$keybindings$$META|$$keybindings$$SHIFT , 'moveToEndOfLineAndModifySelection');\n            bind($$keybindings$$UP        , $$keybindings$$META       , 'moveToBeginningOfDocument');\n            bind($$keybindings$$UP        , $$keybindings$$META|$$keybindings$$SHIFT , 'moveToBeginningOfDocumentAndModifySelection');\n            bind($$keybindings$$DOWN      , $$keybindings$$META       , 'moveToEndOfDocument');\n            bind($$keybindings$$DOWN      , $$keybindings$$META|$$keybindings$$SHIFT , 'moveToEndOfDocumentAndModifySelection');\n            bind($$keybindings$$BACKSPACE , $$keybindings$$CTRL       , 'deleteBackwardByDecomposingPreviousCharacter');\n            bind($$keybindings$$BACKSPACE , $$keybindings$$CTRL|$$keybindings$$SHIFT , 'deleteBackwardByDecomposingPreviousCharacter');\n            bind($$keybindings$$Z         , $$keybindings$$META|$$keybindings$$SHIFT , 'redo');\n          } else {\n            bind($$keybindings$$Y         , $$keybindings$$CTRL       , 'redo');\n          }\n        });\n      }\n\n      return $$keybindings$$cache[platform];\n    }\n\n    function $$keybindings$$build(callback) {\n      var result = new $$keybindings$$BindingSet();\n      callback(function() {\n        var $__0;\n        var $__arguments = arguments;\n        var args = [].slice.call($__arguments, 0);\n        return ($__0 = result).bind.apply($__0, $$keybindings$$$__Array$prototype$slice.call(args));\n      });\n      return result;\n    }\n\n    var $$keybindings$$BindingSet = function() {\n      \"use strict\";\n\n      function BindingSet() {\n        this.bindings = {};\n      }\n\n      $$keybindings$$$__Object$defineProperties(BindingSet.prototype, {\n        bind: {\n          value: function(keyCode, modifiers, action) {\n            if (!this.bindings[keyCode]) { this.bindings[keyCode] = {}; }\n            this.bindings[keyCode][modifiers || 0] = action;\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        actionForEvent: {\n          value: function(event) {\n            var bindingsForKeyCode = this.bindings[event.keyCode];\n            if (bindingsForKeyCode) {\n              var modifiers = 0;\n              if (event.altKey) { modifiers |= $$keybindings$$ALT; }\n              if (event.ctrlKey) { modifiers |= $$keybindings$$CTRL; }\n              if (event.metaKey) { modifiers |= $$keybindings$$META; }\n              if (event.shiftKey) { modifiers |= $$keybindings$$SHIFT; }\n              return bindingsForKeyCode[modifiers];\n            }\n          },\n\n          enumerable: false,\n          writable: true\n        }\n      });\n\n      return BindingSet;\n    }();\n    var $$input$sim$$$__Object$defineProperties = Object.defineProperties;\n\n    /**\n     * Enum for text direction affinity.\n     *\n     * @const\n     * @enum {number}\n     * @private\n     */\n    var $$input$sim$$Affinity = {\n      UPSTREAM: 0,\n      DOWNSTREAM: 1,\n      NONE: null\n    };\n\n    /**\n     * Tests is string passed in is a single word.\n     *\n     * @param {string} chr\n     * @returns {boolean}\n     * @private\n     */\n    function $$input$sim$$isWordChar(chr) {\n      return chr && /^\\w$/.test(chr);\n    }\n\n    /**\n     * Checks if char to the left of {index} in {string}\n     * is a break (non-char).\n     *\n     * @param {string} text\n     * @param {number} index\n     * @returns {boolean}\n     * @private\n     */\n    function $$input$sim$$hasLeftWordBreakAtIndex(text, index) {\n      if (index === 0) {\n        return true;\n      } else {\n        return !$$input$sim$$isWordChar(text[index - 1]) && $$input$sim$$isWordChar(text[index]);\n      }\n    }\n\n    /**\n     * Checks if char to the right of {index} in {string}\n     * is a break (non-char).\n     *\n     * @param {string} text\n     * @param {number} index\n     * @returns {boolean}\n     * @private\n     */\n    function $$input$sim$$hasRightWordBreakAtIndex(text, index) {\n      if (index === text.length - 1) {\n        return true;\n      } else {\n        return $$input$sim$$isWordChar(text[index]) && !$$input$sim$$isWordChar(text[index + 1]);\n      }\n    }\n\n    var $$input$sim$$Input = function() {\n      \"use strict\";\n\n      function Input(value, range) {\n        this._value = '';\n        this._selectedRange = {\n          start: 0,\n          length: 0\n        };\n        this.shouldCancelEvents = true;\n        this.selectionAffinity = $$input$sim$$Affinity.NONE;\n\n        if(value) {\n          this.setText(value);\n        }\n        if(range) {\n          this.setSelectedRange(range);\n        }\n        this._buildKeybindings();\n      }\n\n      $$input$sim$$$__Object$defineProperties(Input.prototype, {\n        clearSelection: {\n          value: function() {\n            this.replaceSelection('');\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        deleteBackward: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            if (range.length === 0) {\n              range.start--;\n              range.length++;\n              this.setSelectedRange(range);\n            }\n            this.clearSelection();\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        deleteWordBackward: {\n          value: function(event) {\n            if (this.hasSelection()) {\n              this.deleteBackward(event);\n            } else {\n              this._handleEvent(event);\n              var range = this.selectedRange();\n              var start = this._lastWordBreakBeforeIndex(range.start);\n              range.length += range.start - start;\n              range.start = start;\n              this.setSelectedRange(range);\n              this.clearSelection();\n            }\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        deleteBackwardByDecomposingPreviousCharacter: {\n          value: function(event) {\n            this.deleteBackward(event);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        deleteBackwardToBeginningOfLine: {\n          value: function(event) {\n            if (this.hasSelection()) {\n              this.deleteBackward(event);\n            } else {\n              this._handleEvent(event);\n              var range = this.selectedRange();\n              range.length = range.start;\n              range.start = 0;\n              this.setSelectedRange(range);\n              this.clearSelection();\n            }\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        deleteForward: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            if (range.length === 0) {\n              range.length++;\n              this.setSelectedRange(range);\n            }\n            this.clearSelection();\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        deleteWordForward: {\n          value: function(event) {\n            if (this.hasSelection()) {\n              return this.deleteForward(event);\n            } else {\n              this._handleEvent(event);\n              var range = this.selectedRange();\n              var end = this._nextWordBreakAfterIndex(range.start + range.length);\n              this.setSelectedRange({\n                start: range.start,\n                length: end - range.start\n              });\n              this.clearSelection();\n            }\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        handleEvent: {\n          value: function(event) {\n            if(typeof event === 'undefined') {\n              throw new Error('cannot handle and event that isn\\'t passed');\n            }\n            var action = this._bindings.actionForEvent(event);\n            if(action) this[action](event);\n            return action;\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        hasSelection: {\n          value: function() {\n            return this.selectedRange().length !== 0;\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        insertBackTab: {\n          value: function() {},\n          enumerable: false,\n          writable: true\n        },\n\n        insertNewline: {\n          value: function() {},\n          enumerable: false,\n          writable: true\n        },\n\n        insertTab: {\n          value: function() {},\n          enumerable: false,\n          writable: true\n        },\n\n        insertText: {\n          value: function(text) {\n            var range;\n            if (this.hasSelection()) {\n              this.clearSelection();\n            }\n\n            this.replaceSelection(text);\n            range = this.selectedRange();\n            range.start += range.length;\n            range.length = 0;\n            this.setSelectedRange(range);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveUp: {\n          value: function(event) {\n            this._handleEvent(event);\n            this.setSelectedRange({\n              start: 0,\n              length: 0\n            });\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToBeginningOfParagraph: {\n          value: function(event) {\n            this.moveUp(event);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveUpAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            switch (this.selectionAffinity) {\n              case $$input$sim$$Affinity.UPSTREAM:\n              case $$input$sim$$Affinity.NONE:\n                // 12<34 56|78  =>  <1234 56|78\n                range.length += range.start;\n                range.start = 0;\n                break;\n              case $$input$sim$$Affinity.DOWNSTREAM:\n                // 12|34 56>78   =>   <12|34 5678\n                range.length = range.start;\n                range.start = 0;\n                break;\n            }\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.UPSTREAM);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveParagraphBackwardAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            switch (this.selectionAffinity) {\n              case $$input$sim$$Affinity.UPSTREAM:\n              case $$input$sim$$Affinity.NONE:\n                // 12<34 56|78  =>  <1234 56|78\n                range.length += range.start;\n                range.start = 0;\n                break;\n              case $$input$sim$$Affinity.DOWNSTREAM:\n                // 12|34 56>78  =>  12|34 5678\n                range.length = 0;\n                break;\n            }\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.UPSTREAM);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToBeginningOfDocument: {\n          value: function(event) {\n            // Since we only support a single line this is just an alias.\n            this.moveToBeginningOfLine(event);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToBeginningOfDocumentAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            range.length += range.start;\n            range.start = 0;\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.UPSTREAM);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveDown: {\n          value: function(event) {\n            this._handleEvent(event);\n            // 12|34 56|78  =>  1234 5678|\n            var range = {\n              start: this.text().length,\n              length: 0\n            };\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.NONE);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToEndOfParagraph: {\n          value: function(event) {\n            this.moveDown(event);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveDownAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            var end = this.text().length;\n            if (this.selectionAffinity === $$input$sim$$Affinity.UPSTREAM) {\n              range.start += range.length;\n            }\n            range.length = end - range.start;\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.DOWNSTREAM);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveParagraphForwardAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            switch (this.selectionAffinity) {\n              case $$input$sim$$Affinity.DOWNSTREAM:\n              case $$input$sim$$Affinity.NONE:\n                // 12|34 56>78  =>  12|34 5678>\n                range.length = this.text().length - range.start;\n                break;\n              case $$input$sim$$Affinity.UPSTREAM:\n                // 12<34 56|78  =>  12|34 5678\n                range.start += range.length;\n                range.length = 0;\n                break;\n            }\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.DOWNSTREAM);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToEndOfDocument: {\n          value: function(event) {\n            // Since we only support a single line this is just an alias.\n            this.moveToEndOfLine(event);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToEndOfDocumentAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            range.length = this.text().length - range.start;\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.DOWNSTREAM);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveLeft: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            if (range.length !== 0) {\n              range.length = 0;\n            } else {\n              range.start--;\n            }\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.NONE);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveLeftAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            switch (this.selectionAffinity) {\n              case $$input$sim$$Affinity.UPSTREAM:\n              case $$input$sim$$Affinity.NONE:\n                this.selectionAffinity = $$input$sim$$Affinity.UPSTREAM;\n                range.start--;\n                range.length++;\n                break;\n              case $$input$sim$$Affinity.DOWNSTREAM:\n                range.length--;\n                break;\n            }\n            this.setSelectedRange(range);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveWordLeft: {\n          value: function(event) {\n            this._handleEvent(event);\n            var index = this._lastWordBreakBeforeIndex(this.selectedRange().start - 1);\n            this.setSelectedRange({ start: index, length: 0 });\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveWordLeftAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            switch (this.selectionAffinity) {\n              case $$input$sim$$Affinity.UPSTREAM:\n              case $$input$sim$$Affinity.NONE:\n                this.selectionAffinity = $$input$sim$$Affinity.UPSTREAM;\n                var start = this._lastWordBreakBeforeIndex(range.start - 1);\n                range.length += range.start - start;\n                range.start = start;\n                break;\n              case $$input$sim$$Affinity.DOWNSTREAM:\n                var end = this._lastWordBreakBeforeIndex(range.start + range.length);\n                if (end < range.start) {\n                  end = range.start;\n                }\n                range.length -= range.start + range.length - end;\n                break;\n            }\n            this.setSelectedRange(range);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToBeginningOfLine: {\n          value: function(event) {\n            this._handleEvent(event);\n            this.setSelectedRange({ start: 0, length: 0 });\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToBeginningOfLineAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            range.length += range.start;\n            range.start = 0;\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.UPSTREAM);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveRight: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            if (range.length !== 0) {\n              range.start += range.length;\n              range.length = 0;\n            } else {\n              range.start++;\n            }\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.NONE);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveRightAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            switch (this.selectionAffinity) {\n              case $$input$sim$$Affinity.UPSTREAM:\n                range.start++;\n                range.length--;\n                break;\n              case $$input$sim$$Affinity.DOWNSTREAM:\n              case $$input$sim$$Affinity.NONE:\n                this.selectionAffinity = $$input$sim$$Affinity.DOWNSTREAM;\n                range.length++;\n                break;\n            }\n            this.setSelectedRange(range);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveWordRight: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            var index = this._nextWordBreakAfterIndex(range.start + range.length);\n            this.setSelectedRange({ start: index, length: 0 });\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveWordRightAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            var start = range.start;\n            var end = range.start + range.length;\n            switch (this.selectionAffinity) {\n              case $$input$sim$$Affinity.UPSTREAM:\n                start = Math.min(this._nextWordBreakAfterIndex(start), end);\n                break;\n              case $$input$sim$$Affinity.DOWNSTREAM:\n              case $$input$sim$$Affinity.NONE:\n                this.selectionAffinity = $$input$sim$$Affinity.DOWNSTREAM;\n                end = this._nextWordBreakAfterIndex(range.start + range.length);\n                break;\n            }\n            this.setSelectedRange({ start: start, length: end - start });\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToEndOfLine: {\n          value: function(event) {\n            this._handleEvent(event);\n            this.setSelectedRange({ start: this.text().length, length: 0 });\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        moveToEndOfLineAndModifySelection: {\n          value: function(event) {\n            this._handleEvent(event);\n            var range = this.selectedRange();\n            range.length = this.text().length - range.start;\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.DOWNSTREAM);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        replaceSelection: {\n          value: function(replacement) {\n            var range = this.selectedRange();\n            var end = range.start + range.length;\n            var text = this.text();\n            text = text.substring(0, range.start) + replacement + text.substring(end);\n            range.length = replacement.length;\n            this.setText(text);\n            this.setSelectedRangeWithAffinity(range, $$input$sim$$Affinity.NONE);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        rightWordBreakIndexes: {\n          value: function() {\n            var result = [];\n            var text = this.text();\n            for (var i = 0, l = text.length; i < l; i++) {\n              if ($$input$sim$$hasRightWordBreakAtIndex(text, i)) {\n                result.push(i + 1);\n              }\n            }\n            return result;\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        selectAll: {\n          value: function(event) {\n            this._handleEvent(event);\n            this.setSelectedRangeWithAffinity({\n              start: 0,\n              length: this.text().length\n            }, $$input$sim$$Affinity.NONE);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        text: {\n          value: function() {\n            return this._value;\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        setText: {\n          value: function(value) {\n            this._value = '' + value;\n            this.setSelectedRange({\n              start: this._value.length,\n              length: 0\n            });\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        selectedRange: {\n          value: function() {\n            return this._selectedRange;\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        setSelectedRange: {\n          value: function(range) {\n            this.setSelectedRangeWithAffinity(range, this.selectionAffinity);\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        setSelectedRangeWithAffinity: {\n          value: function(range, affinity) {\n            var min = 0;\n            var max = this.text().length;\n            var caret = {\n              start: Math.max(min, Math.min(max, range.start)),\n              end: Math.max(min, Math.min(max, range.start + range.length))\n            };\n            this._selectedRange = {\n              start: caret.start,\n              length: caret.end - caret.start\n            }\n            this.selectionAffinity = range.length === 0 ? $$input$sim$$Affinity.NONE : affinity;\n            return this._selectedRange;\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        selectionAnchor: {\n          value: function() {\n            var range = this.selectedRange();\n            switch (this.selectionAffinity) {\n              case $$input$sim$$Affinity.UPSTREAM:\n                return range.start + range.length;\n              case $$input$sim$$Affinity.DOWNSTREAM:\n                return range.start;\n              default:\n                return $$input$sim$$Affinity.NONE;\n            }\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        _buildKeybindings: {\n          value: function() {\n            var osx;\n\n            if(typeof navigator !== 'undefined') {\n              osx = /^Mozilla\\/[\\d\\.]+ \\(Macintosh/.test(navigator.userAgent);\n            } else if(typeof process !== 'undefined') {\n              osx = /darwin/.test(process.platform);\n            }\n            this._bindings = $$keybindings$$keyBindingsForPlatform(osx ? 'OSX' : 'Default');\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        _handleEvent: {\n          value: function(event) {\n            if(event && this.shouldCancelEvents) {\n              event.preventDefault();\n            }\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        _lastWordBreakBeforeIndex: {\n          value: function(index) {\n            var indexes = this._leftWordBreakIndexes();\n            var result = indexes[0];\n            for (var i = 0, l = indexes.length; i < l; i++) {\n              var wordBreakIndex = indexes[i];\n              if (index > wordBreakIndex) {\n                result = wordBreakIndex;\n              } else {\n                break;\n              }\n            }\n            return result;\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        _leftWordBreakIndexes: {\n          value: function() {\n            var result = [];\n            var text = this.text();\n            for (var i = 0, l = text.length; i < l; i++) {\n              if ($$input$sim$$hasLeftWordBreakAtIndex(text, i)) {\n                result.push(i);\n              }\n            }\n            return result;\n          },\n\n          enumerable: false,\n          writable: true\n        },\n\n        _nextWordBreakAfterIndex: {\n          value: function(index) {\n            var indexes = this.rightWordBreakIndexes().reverse();\n            var result = indexes[0];\n            for (var i = 0, l = indexes.length; i < l; i++) {\n              var wordBreakIndex = indexes[i];\n              if (index < wordBreakIndex) {\n                result = wordBreakIndex;\n              } else {\n                break;\n              }\n            }\n            return result;\n          },\n\n          enumerable: false,\n          writable: true\n        }\n      });\n\n      return Input;\n    }();\n\n    var input$sim$umd$$InputSim = {\n      Input: $$input$sim$$Input,\n      KEYS: $$keybindings$$KEYS,\n      keyBindingsForPlatform: $$keybindings$$keyBindingsForPlatform\n    };\n\n    if (typeof define === 'function' && define.amd) {\n      define(function() { return input$sim$umd$$InputSim; });\n    } else if (typeof module !== 'undefined' && module.exports) {\n      module.exports = input$sim$umd$$InputSim;\n    } else if (typeof window !== 'undefined') {\n      window.InputSim = input$sim$umd$$InputSim;\n    } else {\n      this.InputSim = input$sim$umd$$InputSim;\n    }\n}).call(this);\n\n\n}).call(this,require('_process'))\n},{\"_process\":1}],3:[function(require,module,exports){\n(function() {\n    \"use strict\";\n    var $$stround$$modes, $$stround$$parse, $$stround$$format, $$stround$$shiftParts, $$stround$$shift, $$stround$$round;\n\n    (function() {\n        $$stround$$modes = {\n          CEILING: 0,\n          FLOOR: 1,\n          DOWN: 2,\n          UP: 3,\n          HALF_EVEN: 4,\n          HALF_DOWN: 5,\n          HALF_UP: 6\n        };\n\n        /**\n         * @const\n         * @private\n         * */\n        var NEG = '-';\n\n        /**\n         * @const\n         * @private\n         * */\n        var SEP = '.';\n\n        /**\n         * @const\n         * @private\n         * */\n        var NEG_PATTERN = '-';\n\n        /**\n         * @const\n         * @private\n         * */\n        var SEP_PATTERN = '\\\\.';\n\n        /**\n         * @const\n         * @private\n         * */\n        var NUMBER_PATTERN = new RegExp(\n          '^(' + NEG_PATTERN + ')?(\\\\d*)(?:' + SEP_PATTERN + '(\\\\d*))?$'\n        );\n\n        /**\n         * Increments the given integer represented by a string by one.\n         *\n         *   increment('1');  // '2'\n         *   increment('99'); // '100'\n         *   increment('');   // '1'\n         *\n         * @param {string} strint\n         * @return {string}\n         * @private\n         */\n        function increment(strint) {\n          var length = strint.length;\n\n          if (length === 0) {\n            return '1';\n          }\n\n          var last = parseInt(strint[length-1], 10);\n\n          if (last === 9) {\n            return increment(strint.slice(0, length-1)) + '0';\n          } else {\n            return strint.slice(0, length-1) + (last+1);\n          }\n        }\n\n        function parse(strnum) {\n          switch (strnum) {\n            case 'NaN': case 'Infinity': case '-Infinity':\n              return null;\n          }\n\n          var match = strnum.match(NUMBER_PATTERN);\n\n          if (!match) {\n            throw new Error('cannot round malformed number: '+strnum);\n          }\n\n          return [\n            match[1] !== undefined,\n            match[2],\n            match[3] || ''\n          ];\n        }\n\n        $$stround$$parse = parse;\n\n        function format(parts) {\n          var negative = parts[0];\n          var intPart = parts[1];\n          var fracPart = parts[2];\n\n          if (intPart.length === 0) {\n            intPart = '0';\n          } else {\n            var firstNonZeroIndex;\n            for (firstNonZeroIndex = 0; firstNonZeroIndex < intPart.length; firstNonZeroIndex++) {\n              if (intPart[firstNonZeroIndex] !== '0') {\n                break;\n              }\n            }\n\n            if (firstNonZeroIndex !== intPart.length) {\n              intPart = intPart.slice(firstNonZeroIndex);\n            }\n          }\n\n          return (negative ? NEG + intPart : intPart) + (fracPart.length ? SEP + fracPart : '');\n        }\n\n        $$stround$$format = format;\n\n        function shiftParts(parts, exponent) {\n          var negative = parts[0];\n          var intPart = parts[1];\n          var fracPart = parts[2];\n          var partToMove;\n\n          if (exponent > 0) {\n            partToMove = fracPart.slice(0, exponent);\n            while (partToMove.length < exponent) {\n              partToMove += '0';\n            }\n            intPart += partToMove;\n            fracPart = fracPart.slice(exponent);\n          } else if (exponent < 0) {\n            while (intPart.length < -exponent) {\n              intPart = '0' + intPart;\n            }\n            partToMove = intPart.slice(intPart.length + exponent);\n            fracPart = partToMove + fracPart;\n            intPart = intPart.slice(0, intPart.length - partToMove.length);\n          }\n\n          return [negative, intPart, fracPart];\n        }\n\n        $$stround$$shiftParts = shiftParts;\n\n        function shift(strnum, exponent) {\n          if (typeof strnum === 'number') {\n            strnum = ''+strnum;\n          }\n\n          var parsed = $$stround$$parse(strnum);\n          if (parsed === null) {\n            return strnum;\n          } else {\n            return $$stround$$format($$stround$$shiftParts(parsed, exponent));\n          }\n        }\n\n        $$stround$$shift = shift;\n\n        function round(strnum, precision, mode) {\n          if (typeof strnum === 'number') {\n            strnum = ''+strnum;\n          }\n\n          if (typeof strnum !== 'string') {\n            throw new Error('expected a string or number, got: '+strnum);\n          }\n\n          if (strnum.length === 0) {\n            return strnum;\n          }\n\n          if (precision === null || precision === undefined) {\n            precision = 0;\n          }\n\n          if (mode === undefined) {\n            mode = $$stround$$modes.HALF_EVEN;\n          }\n\n          var parsed = $$stround$$parse(strnum);\n\n          if (parsed === null) {\n            return strnum;\n          }\n\n          if (precision > 0) {\n            parsed = $$stround$$shiftParts(parsed, precision);\n          }\n\n          var i, length;\n\n          var negative = parsed[0];\n          var intPart = parsed[1];\n          var fracPart = parsed[2];\n\n          switch (mode) {\n            case $$stround$$modes.CEILING: case $$stround$$modes.FLOOR: case $$stround$$modes.UP:\n              var foundNonZeroDigit = false;\n              for (i = 0, length = fracPart.length; i < length; i++) {\n                if (fracPart[i] !== '0') {\n                  foundNonZeroDigit = true;\n                  break;\n                }\n              }\n              if (foundNonZeroDigit) {\n                if (mode === $$stround$$modes.UP || (negative !== (mode === $$stround$$modes.CEILING))) {\n                  intPart = increment(intPart);\n                }\n              }\n              break;\n\n            case $$stround$$modes.HALF_EVEN: case $$stround$$modes.HALF_DOWN: case $$stround$$modes.HALF_UP:\n              var shouldRoundUp = false;\n              var firstFracPartDigit = parseInt(fracPart[0], 10);\n\n              if (firstFracPartDigit > 5) {\n                shouldRoundUp = true;\n              } else if (firstFracPartDigit === 5) {\n                if (mode === $$stround$$modes.HALF_UP) {\n                  shouldRoundUp = true;\n                }\n\n                if (!shouldRoundUp) {\n                  for (i = 1, length = fracPart.length; i < length; i++) {\n                    if (fracPart[i] !== '0') {\n                      shouldRoundUp = true;\n                      break;\n                    }\n                  }\n                }\n\n                if (!shouldRoundUp && mode === $$stround$$modes.HALF_EVEN) {\n                  var lastIntPartDigit = parseInt(intPart[intPart.length-1], 10);\n                  shouldRoundUp = lastIntPartDigit % 2 !== 0;\n                }\n              }\n\n              if (shouldRoundUp) {\n                intPart = increment(intPart);\n              }\n              break;\n          }\n\n          return $$stround$$format($$stround$$shiftParts([negative, intPart, ''], -precision));\n        }\n\n        $$stround$$round = round;\n    })();\n\n    (function() {\n        var stround = {\n          modes: $$stround$$modes,\n          shift: $$stround$$shift,\n          round: $$stround$$round,\n          parse: $$stround$$parse,\n          format: $$stround$$format,\n          shiftParts: $$stround$$shiftParts\n        };\n\n        if (typeof define === 'function' && define.amd) {\n          define(function() { return stround; });\n        } else if (typeof module !== 'undefined' && module.exports) {\n          module.exports = stround;\n        } else if (typeof window !== 'undefined') {\n          window.stround = stround;\n        } else {\n          this.stround = stround;\n        }\n    })();\n})();\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _amex_card_formatter = require('./amex_card_formatter');\n\nvar _amex_card_formatter2 = _interopRequireDefault(_amex_card_formatter);\n\nvar _default_card_formatter = require('./default_card_formatter');\n\nvar _default_card_formatter2 = _interopRequireDefault(_default_card_formatter);\n\nvar _card_utils = require('./card_utils');\n\n/**\n * AdaptiveCardFormatter will decide if it needs to use\n * {@link AmexCardFormatter} or {@link DefaultCardFormatter}.\n */\n\nvar AdaptiveCardFormatter = (function () {\n  function AdaptiveCardFormatter() {\n    _classCallCheck(this, AdaptiveCardFormatter);\n\n    /** @private */\n    this.amexCardFormatter = new _amex_card_formatter2['default']();\n    /** @private */\n    this.defaultCardFormatter = new _default_card_formatter2['default']();\n    /** @private */\n    this.formatter = this.defaultCardFormatter;\n  }\n\n  /**\n   * Will pick the right formatter based on the `pan` and will return the\n   * formatted string.\n   *\n   * @param {string} pan\n   * @returns {string} formatted string\n   */\n\n  _createClass(AdaptiveCardFormatter, [{\n    key: 'format',\n    value: function format(pan) {\n      return this._formatterForPan(pan).format(pan);\n    }\n\n    /**\n     * Will call parse on the formatter.\n     *\n     * @param {string} text\n     * @param {function(string)} error\n     * @returns {string} returns value with delimiters removed\n     */\n  }, {\n    key: 'parse',\n    value: function parse(text, error) {\n      return this.formatter.parse(text, error);\n    }\n\n    /**\n     * Determines whether the given change should be allowed and, if so, whether\n     * it should be altered.\n     *\n     * @param {TextFieldStateChange} change\n     * @param {function(!string)} error\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isChangeValid',\n    value: function isChangeValid(change, error) {\n      this.formatter = this._formatterForPan(change.proposed.text);\n      return this.formatter.isChangeValid(change, error);\n    }\n\n    /**\n     * Decides which formatter to use.\n     *\n     * @param {string} pan\n     * @returns {Formatter}\n     * @private\n     */\n  }, {\n    key: '_formatterForPan',\n    value: function _formatterForPan(pan) {\n      if ((0, _card_utils.determineCardType)(pan.replace(/[^\\d]+/g, '')) === _card_utils.AMEX) {\n        return this.amexCardFormatter;\n      } else {\n        return this.defaultCardFormatter;\n      }\n    }\n  }]);\n\n  return AdaptiveCardFormatter;\n})();\n\nexports['default'] = AdaptiveCardFormatter;\nmodule.exports = exports['default'];\n\n},{\"./amex_card_formatter\":5,\"./card_utils\":7,\"./default_card_formatter\":9}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _default_card_formatter = require('./default_card_formatter');\n\nvar _default_card_formatter2 = _interopRequireDefault(_default_card_formatter);\n\n/**\n * Amex credit card formatter.\n *\n * @extends DefaultCardFormatter\n */\n\nvar AmexCardFormatter = (function (_DefaultCardFormatter) {\n  _inherits(AmexCardFormatter, _DefaultCardFormatter);\n\n  function AmexCardFormatter() {\n    _classCallCheck(this, AmexCardFormatter);\n\n    _get(Object.getPrototypeOf(AmexCardFormatter.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(AmexCardFormatter, [{\n    key: 'hasDelimiterAtIndex',\n\n    /**\n     * @override\n     */\n    value: function hasDelimiterAtIndex(index) {\n      return index === 4 || index === 11;\n    }\n\n    /**\n     * @override\n     */\n  }, {\n    key: 'maximumLength',\n    get: function get() {\n      return 15 + 2;\n    }\n  }]);\n\n  return AmexCardFormatter;\n})(_default_card_formatter2['default']);\n\nexports['default'] = AmexCardFormatter;\nmodule.exports = exports['default'];\n\n},{\"./default_card_formatter\":9}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _text_field = require('./text_field');\n\nvar _text_field2 = _interopRequireDefault(_text_field);\n\nvar _adaptive_card_formatter = require('./adaptive_card_formatter');\n\nvar _adaptive_card_formatter2 = _interopRequireDefault(_adaptive_card_formatter);\n\nvar _card_utils = require('./card_utils');\n\n/**\n * Enum for card mask strategies.\n *\n * @readonly\n * @enum {number}\n * @private\n */\nvar CardMaskStrategy = {\n  None: 'None',\n  DoneEditing: 'DoneEditing'\n};\n\n/**\n * CardTextField add some functionality for credit card inputs\n *\n * @extends TextField\n */\n\nvar CardTextField = (function (_TextField) {\n  _inherits(CardTextField, _TextField);\n\n  /**\n   * @param {HTMLElement} element\n   */\n\n  function CardTextField(element) {\n    _classCallCheck(this, CardTextField);\n\n    _get(Object.getPrototypeOf(CardTextField.prototype), 'constructor', this).call(this, element, new _adaptive_card_formatter2['default']());\n    this.setCardMaskStrategy(CardMaskStrategy.None);\n\n    /**\n     * Whether we are currently masking the displayed text.\n     *\n     * @private\n     */\n    this._masked = false;\n\n    /**\n     * Whether we are currently editing.\n     *\n     * @private\n     */\n    this._editing = false;\n  }\n\n  /**\n   * Gets the card type for the current value.\n   *\n   * @returns {string} Returns one of 'visa', 'mastercard', 'amex' and 'discover'.\n   */\n\n  _createClass(CardTextField, [{\n    key: 'cardType',\n    value: function cardType() {\n      return (0, _card_utils.determineCardType)(this.value());\n    }\n\n    /**\n     * Gets the type of masking this field uses.\n     *\n     * @returns {CardMaskStrategy}\n     */\n  }, {\n    key: 'cardMaskStrategy',\n    value: function cardMaskStrategy() {\n      return this._cardMaskStrategy;\n    }\n\n    /**\n     * Sets the type of masking this field uses.\n     *\n     * @param {CardMaskStrategy} cardMaskStrategy One of CardMaskStrategy.\n     */\n  }, {\n    key: 'setCardMaskStrategy',\n    value: function setCardMaskStrategy(cardMaskStrategy) {\n      if (cardMaskStrategy !== this._cardMaskStrategy) {\n        this._cardMaskStrategy = cardMaskStrategy;\n        this._syncMask();\n      }\n    }\n\n    /**\n     * Returns a masked version of the current formatted PAN. Example:\n     *\n     * @example\n     *     field.setText('4111 1111 1111 1111');\n     *     field.cardMask(); // \"   1111\"\n     *\n     * @returns {string} Returns a masked card string.\n     */\n  }, {\n    key: 'cardMask',\n    value: function cardMask() {\n      var text = this.text();\n      var toMask = text.slice(0, -4);\n      var last4 = text.slice(-4);\n\n      return toMask.replace(/\\d/g, '') + last4;\n    }\n\n    /**\n     * Gets the formatted PAN for this field.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'text',\n    value: function text() {\n      if (this._masked) {\n        return this._unmaskedText;\n      } else {\n        return _get(Object.getPrototypeOf(CardTextField.prototype), 'text', this).call(this);\n      }\n    }\n\n    /**\n     * Sets the formatted PAN for this field.\n     *\n     * @param {string} text A formatted PAN.\n     */\n  }, {\n    key: 'setText',\n    value: function setText(text) {\n      if (this._masked) {\n        this._unmaskedText = text;\n        text = this.cardMask();\n      }\n      _get(Object.getPrototypeOf(CardTextField.prototype), 'setText', this).call(this, text);\n    }\n\n    /**\n     * Called by our superclass, used to implement card masking.\n     *\n     * @private\n     */\n  }, {\n    key: 'textFieldDidEndEditing',\n    value: function textFieldDidEndEditing() {\n      this._editing = false;\n      this._syncMask();\n    }\n\n    /**\n     * Called by our superclass, used to implement card masking.\n     *\n     * @private\n     */\n  }, {\n    key: 'textFieldDidBeginEditing',\n    value: function textFieldDidBeginEditing() {\n      this._editing = true;\n      this._syncMask();\n    }\n\n    /**\n     * Enables masking if it is not already enabled.\n     *\n     * @private\n     */\n  }, {\n    key: '_enableMasking',\n    value: function _enableMasking() {\n      if (!this._masked) {\n        this._unmaskedText = this.text();\n        this._masked = true;\n        this.setText(this._unmaskedText);\n      }\n    }\n\n    /**\n     * Disables masking if it is currently enabled.\n     *\n     * @private\n     */\n  }, {\n    key: '_disableMasking',\n    value: function _disableMasking() {\n      if (this._masked) {\n        this._masked = false;\n        this.setText(this._unmaskedText);\n        this._unmaskedText = null;\n      }\n    }\n\n    /**\n     * Enables or disables masking based on the mask settings.\n     *\n     * @private\n     */\n  }, {\n    key: '_syncMask',\n    value: function _syncMask() {\n      if (this.cardMaskStrategy() === CardMaskStrategy.DoneEditing) {\n        if (this._editing) {\n          this._disableMasking();\n        } else {\n          this._enableMasking();\n        }\n      }\n    }\n\n    /**\n     * Enum for card mask strategies.\n     *\n     * @readonly\n     * @enum {number}\n     */\n  }], [{\n    key: 'CardMaskStrategy',\n    get: function get() {\n      return CardMaskStrategy;\n    }\n  }]);\n\n  return CardTextField;\n})(_text_field2['default']);\n\nexports['default'] = CardTextField;\nmodule.exports = exports['default'];\n\n},{\"./adaptive_card_formatter\":4,\"./card_utils\":7,\"./text_field\":20}],7:[function(require,module,exports){\n/**\n * @TODO Make this an enum\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.determineCardType = determineCardType;\nexports.luhnCheck = luhnCheck;\nexports.validCardLength = validCardLength;\nvar AMEX = 'amex';\nexports.AMEX = AMEX;\nvar DISCOVER = 'discover';\nexports.DISCOVER = DISCOVER;\nvar JCB = 'jcb';\nexports.JCB = JCB;\nvar MASTERCARD = 'mastercard';\nexports.MASTERCARD = MASTERCARD;\nvar VISA = 'visa';\n\nexports.VISA = VISA;\n/**\n * Pass in a credit card number and it'll return the\n * type of card it is.\n *\n * @param {string} pan\n * @returns {?string} returns the type of card based in the digits\n */\n\nfunction determineCardType(pan) {\n  if (pan === null || pan === undefined) {\n    return null;\n  }\n\n  pan = pan.toString();\n  var firsttwo = parseInt(pan.slice(0, 2), 10);\n  var iin = parseInt(pan.slice(0, 6), 10);\n  var halfiin = parseInt(pan.slice(0, 3), 10);\n\n  if (pan[0] === '4') {\n    return VISA;\n  } else if (pan.slice(0, 4) === '6011' || firsttwo === 65 || halfiin >= 664 && halfiin <= 649 || iin >= 622126 && iin <= 622925) {\n    return DISCOVER;\n  } else if (pan.slice(0, 4) === '2131' || pan.slice(0, 4) === '1800' || firsttwo === 35) {\n    return JCB;\n  } else if (firsttwo >= 51 && firsttwo <= 55) {\n    return MASTERCARD;\n  } else if (firsttwo === 34 || firsttwo === 37) {\n    return AMEX;\n  }\n}\n\n/**\n * Pass in a credit card number and it'll return if it\n * passes the [luhn algorithm](http://en.wikipedia.org/wiki/Luhn_algorithm)\n *\n * @param {string} pan\n * @returns {boolean}\n */\n\nfunction luhnCheck(pan) {\n  var sum = 0;\n  var flip = true;\n  for (var i = pan.length - 1; i >= 0; i--) {\n    var digit = parseInt(pan.charAt(i), 10);\n    sum += (flip = !flip) ? Math.floor(digit * 2 / 10) + Math.floor(digit * 2 % 10) : digit;\n  }\n\n  return sum % 10 === 0;\n}\n\n/**\n * Pass in a credit card number and it'll return if it\n * is a valid length for that type. If it doesn't know the\n * type it'll return false\n *\n * @param {string} pan\n * @returns {boolean}\n */\n\nfunction validCardLength(pan) {\n  switch (determineCardType(pan)) {\n    case VISA:\n      return pan.length === 13 || pan.length === 16;\n    case DISCOVER:case MASTERCARD:\n      return pan.length === 16;\n    case JCB:\n      return pan.length === 15 || pan.length === 16;\n    case AMEX:\n      return pan.length === 15;\n    default:\n      return false;\n  }\n}\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar getCaret = undefined;\nvar setCaret = undefined;\n\nif (!document) {\n  throw new Error('Caret does not have access to document');\n} else if ('selectionStart' in document.createElement('input')) {\n  exports.getCaret = getCaret = function (element) {\n    return {\n      start: element.selectionStart,\n      end: element.selectionEnd\n    };\n  };\n  exports.setCaret = setCaret = function (element, start, end) {\n    element.selectionStart = start;\n    element.selectionEnd = end;\n  };\n} else if (document.selection) {\n  exports.getCaret = getCaret = function (element) {\n    var value = element.value;\n    var range = selection.createRange().duplicate();\n\n    range.moveEnd('character', value.length);\n\n    var start = range.text === '' ? value.length : value.lastIndexOf(range.text);\n    range = selection.createRange().duplicate();\n\n    range.moveStart('character', -value.length);\n\n    var end = range.text.length;\n    return { start: start, end: end };\n  };\n  exports.setCaret = setCaret = function (element, start, end) {\n    var range = element.createTextRange();\n    range.collapse(true);\n    range.moveStart('character', start);\n    range.moveEnd('character', end - start);\n    range.select();\n  };\n} else {\n  throw new Error('Caret unknown input selection capabilities');\n}\n\nexports.getCaret = getCaret;\nexports.setCaret = setCaret;\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _delimited_text_formatter = require('./delimited_text_formatter');\n\nvar _delimited_text_formatter2 = _interopRequireDefault(_delimited_text_formatter);\n\nvar _card_utils = require('./card_utils');\n\n/**\n * A generic credit card formatter.\n *\n * @extends DelimitedTextFormatter\n */\n\nvar DefaultCardFormatter = (function (_DelimitedTextFormatter) {\n  _inherits(DefaultCardFormatter, _DelimitedTextFormatter);\n\n  function DefaultCardFormatter() {\n    _classCallCheck(this, DefaultCardFormatter);\n\n    _get(Object.getPrototypeOf(DefaultCardFormatter.prototype), 'constructor', this).call(this, ' ');\n  }\n\n  /**\n   * @param {number} index\n   * @returns {boolean}\n   */\n\n  _createClass(DefaultCardFormatter, [{\n    key: 'hasDelimiterAtIndex',\n    value: function hasDelimiterAtIndex(index) {\n      return index === 4 || index === 9 || index === 14;\n    }\n\n    /**\n     * Will call parse on the formatter.\n     *\n     * @param {string} text\n     * @param {function(string)} error\n     * @returns {string} returns value with delimiters removed\n     */\n  }, {\n    key: 'parse',\n    value: function parse(text, error) {\n      var value = this._valueFromText(text);\n      if (typeof error === 'function') {\n        if (!(0, _card_utils.validCardLength)(value)) {\n          error('card-formatter.number-too-short');\n        }\n        if (!(0, _card_utils.luhnCheck)(value)) {\n          error('card-formatter.invalid-number');\n        }\n      }\n      return _get(Object.getPrototypeOf(DefaultCardFormatter.prototype), 'parse', this).call(this, text, error);\n    }\n\n    /**\n     * Parses the given text by removing delimiters.\n     *\n     * @param {?string} text\n     * @returns {string}\n     * @private\n     */\n  }, {\n    key: '_valueFromText',\n    value: function _valueFromText(text) {\n      return _get(Object.getPrototypeOf(DefaultCardFormatter.prototype), '_valueFromText', this).call(this, (text || '').replace(/[^\\d]/g, ''));\n    }\n\n    /**\n     * Gets the maximum length of a formatted default card number.\n     *\n     * @returns {number}\n     */\n  }, {\n    key: 'maximumLength',\n    get: function get() {\n      return 16 + 3;\n    }\n  }]);\n\n  return DefaultCardFormatter;\n})(_delimited_text_formatter2['default']);\n\nexports['default'] = DefaultCardFormatter;\nmodule.exports = exports['default'];\n\n},{\"./card_utils\":7,\"./delimited_text_formatter\":10}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _formatter = require('./formatter');\n\nvar _formatter2 = _interopRequireDefault(_formatter);\n\n/**\n * A generic delimited formatter.\n *\n * @extends Formatter\n */\n\nvar DelimitedTextFormatter = (function (_Formatter) {\n  _inherits(DelimitedTextFormatter, _Formatter);\n\n  /**\n   * @param {string=} delimiter\n   * @param {boolean=} isLazy\n   * @throws {Error} delimiter must have just one character\n   */\n\n  function DelimitedTextFormatter(delimiter) {\n    var isLazy = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n    _classCallCheck(this, DelimitedTextFormatter);\n\n    _get(Object.getPrototypeOf(DelimitedTextFormatter.prototype), 'constructor', this).call(this);\n\n    if (arguments.length === 0) {\n      return;\n    }\n\n    if (delimiter === null || delimiter === undefined || delimiter.length !== 1) {\n      throw new Error('delimiter must have just one character');\n    }\n    this.delimiter = delimiter;\n\n    // If the formatter is lazy, delimiter will not be added until input has gone\n    // past the delimiter index. Useful for 'optional' extension, like zip codes.\n    // 94103  ->  type '1'  ->  94103-1\n    this.isLazy = isLazy;\n  }\n\n  /**\n   * Determines the delimiter character at the given index.\n   *\n   * @param {number} index\n   * @returns {?string}\n   */\n\n  _createClass(DelimitedTextFormatter, [{\n    key: 'delimiterAt',\n    value: function delimiterAt(index) {\n      if (!this.hasDelimiterAtIndex(index)) {\n        return null;\n      }\n      return this.delimiter;\n    }\n\n    /**\n     * Determines whether the given character is a delimiter.\n     *\n     * @param {string} chr\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isDelimiter',\n    value: function isDelimiter(chr) {\n      return chr === this.delimiter;\n    }\n\n    /**\n     * Formats the given value by adding delimiters where needed.\n     *\n     * @param {?string} value\n     * @returns {string}\n     */\n  }, {\n    key: 'format',\n    value: function format(value) {\n      return this._textFromValue(value);\n    }\n\n    /**\n     * Formats the given value by adding delimiters where needed.\n     *\n     * @param {?string} value\n     * @returns {string}\n     * @private\n     */\n  }, {\n    key: '_textFromValue',\n    value: function _textFromValue(value) {\n      if (!value) {\n        return '';\n      }\n\n      var result = '';\n      var delimiter;\n      var maximumLength = this.maximumLength;\n\n      for (var i = 0, l = value.length; i < l; i++) {\n        while (delimiter = this.delimiterAt(result.length)) {\n          result += delimiter;\n        }\n        result += value[i];\n        if (!this.isLazy) {\n          while (delimiter = this.delimiterAt(result.length)) {\n            result += delimiter;\n          }\n        }\n      }\n\n      if (maximumLength !== undefined && maximumLength !== null) {\n        return result.slice(0, maximumLength);\n      } else {\n        return result;\n      }\n    }\n\n    /**\n     * Parses the given text by removing delimiters.\n     *\n     * @param {?string} text\n     * @returns {string}\n     */\n  }, {\n    key: 'parse',\n    value: function parse(text) {\n      return this._valueFromText(text);\n    }\n\n    /**\n     * Parses the given text by removing delimiters.\n     *\n     * @param {?string} text\n     * @returns {string}\n     * @private\n     */\n  }, {\n    key: '_valueFromText',\n    value: function _valueFromText(text) {\n      if (!text) {\n        return '';\n      }\n      var result = '';\n      for (var i = 0, l = text.length; i < l; i++) {\n        if (!this.isDelimiter(text[i])) {\n          result += text[i];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Determines whether the given change should be allowed and, if so, whether\n     * it should be altered.\n     *\n     * @param {TextFieldStateChange} change\n     * @param {function(string)} error\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isChangeValid',\n    value: function isChangeValid(change, error) {\n      if (!_get(Object.getPrototypeOf(DelimitedTextFormatter.prototype), 'isChangeValid', this).call(this, change, error)) {\n        return false;\n      }\n\n      var newText = change.proposed.text;\n      var range = change.proposed.selectedRange;\n      var hasSelection = range.length !== 0;\n\n      var startMovedLeft = range.start < change.current.selectedRange.start;\n      var startMovedRight = range.start > change.current.selectedRange.start;\n      var endMovedLeft = range.start + range.length < change.current.selectedRange.start + change.current.selectedRange.length;\n      var endMovedRight = range.start + range.length > change.current.selectedRange.start + change.current.selectedRange.length;\n\n      var startMovedOverADelimiter = startMovedLeft && this.hasDelimiterAtIndex(range.start) || startMovedRight && this.hasDelimiterAtIndex(range.start - 1);\n      var endMovedOverADelimiter = endMovedLeft && this.hasDelimiterAtIndex(range.start + range.length) || endMovedRight && this.hasDelimiterAtIndex(range.start + range.length - 1);\n\n      if (this.isDelimiter(change.deleted.text)) {\n        var newCursorPosition = change.deleted.start - 1;\n        // delete any immediately preceding delimiters\n        while (this.isDelimiter(newText.charAt(newCursorPosition))) {\n          newText = newText.substring(0, newCursorPosition) + newText.substring(newCursorPosition + 1);\n          newCursorPosition--;\n        }\n        // finally delete the real character that was intended\n        newText = newText.substring(0, newCursorPosition) + newText.substring(newCursorPosition + 1);\n      }\n\n      // adjust the cursor / selection\n      if (startMovedLeft && startMovedOverADelimiter) {\n        // move left over any immediately preceding delimiters\n        while (this.delimiterAt(range.start - 1)) {\n          range.start--;\n          range.length++;\n        }\n        // finally move left over the real intended character\n        range.start--;\n        range.length++;\n      }\n\n      if (startMovedRight) {\n        // move right over any delimiters found on the way, including any leading delimiters\n        for (var i = change.current.selectedRange.start; i < range.start + range.length; i++) {\n          if (this.delimiterAt(i)) {\n            range.start++;\n            if (range.length > 0) {\n              range.length--;\n            }\n          }\n        }\n\n        while (this.delimiterAt(range.start)) {\n          range.start++;\n          range.length--;\n        }\n      }\n\n      if (hasSelection) {\n        // Otherwise, the logic for the range start takes care of everything.\n        if (endMovedOverADelimiter) {\n          if (endMovedLeft) {\n            // move left over any immediately preceding delimiters\n            while (this.delimiterAt(range.start + range.length - 1)) {\n              range.length--;\n            }\n            // finally move left over the real intended character\n            range.length--;\n          }\n\n          if (endMovedRight) {\n            // move right over any immediately following delimiters\n            while (this.delimiterAt(range.start + range.length)) {\n              range.length++;\n            }\n            // finally move right over the real intended character\n            range.length++;\n          }\n        }\n\n        // trailing delimiters in the selection\n        while (this.hasDelimiterAtIndex(range.start + range.length - 1)) {\n          if (startMovedLeft || endMovedLeft) {\n            range.length--;\n          } else {\n            range.length++;\n          }\n        }\n\n        while (this.hasDelimiterAtIndex(range.start)) {\n          if (startMovedRight || endMovedRight) {\n            range.start++;\n            range.length--;\n          } else {\n            range.start--;\n            range.length++;\n          }\n        }\n      } else {\n        range.length = 0;\n      }\n\n      var result = true;\n\n      var value = this._valueFromText(newText, function () {\n        result = false;\n        error.apply(undefined, arguments);\n      });\n\n      if (result) {\n        change.proposed.text = this._textFromValue(value);\n      }\n\n      return result;\n    }\n  }]);\n\n  return DelimitedTextFormatter;\n})(_formatter2['default']);\n\nexports['default'] = DelimitedTextFormatter;\nmodule.exports = exports['default'];\n\n},{\"./formatter\":14}],11:[function(require,module,exports){\n'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _ = require('./');\n\nvar _2 = _interopRequireDefault(_);\n\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    return _2['default'];\n  });\n} else if (typeof window !== 'undefined') {\n  window.FieldKit = _2['default'];\n}\n\nmodule.exports = _2['default'];\n\n},{\"./\":15}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _text_field = require('./text_field');\n\nvar _text_field2 = _interopRequireDefault(_text_field);\n\nvar _expiry_date_formatter = require('./expiry_date_formatter');\n\nvar _expiry_date_formatter2 = _interopRequireDefault(_expiry_date_formatter);\n\n/**\n * Adds a default formatter for expiration dates.\n *\n * @extends TextField\n */\n\nvar ExpiryDateField = (function (_TextField) {\n  _inherits(ExpiryDateField, _TextField);\n\n  /**\n   * @param {HTMLElement} element\n   */\n\n  function ExpiryDateField(element) {\n    _classCallCheck(this, ExpiryDateField);\n\n    _get(Object.getPrototypeOf(ExpiryDateField.prototype), 'constructor', this).call(this, element, new _expiry_date_formatter2['default']());\n  }\n\n  /**\n   * Called by our superclass, used to post-process the text.\n   *\n   * @private\n   */\n\n  _createClass(ExpiryDateField, [{\n    key: 'textFieldDidEndEditing',\n    value: function textFieldDidEndEditing() {\n      var value = this.value();\n      if (value) {\n        this.setText(this.formatter().format(value));\n      }\n    }\n  }]);\n\n  return ExpiryDateField;\n})(_text_field2['default']);\n\nexports['default'] = ExpiryDateField;\nmodule.exports = exports['default'];\n\n},{\"./expiry_date_formatter\":13,\"./text_field\":20}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _delimited_text_formatter = require('./delimited_text_formatter');\n\nvar _delimited_text_formatter2 = _interopRequireDefault(_delimited_text_formatter);\n\nvar _utils = require('./utils');\n\n/**\n * Give this function a 2 digit year it'll return with 4.\n *\n * @example\n *     interpretTwoDigitYear(15);\n *     // => 2015\n *     interpretTwoDigitYear(97);\n *     // => 1997\n * @param {number} year\n * @returns {number}\n * @private\n */\nfunction interpretTwoDigitYear(year) {\n  var thisYear = new Date().getFullYear();\n  var thisCentury = thisYear - thisYear % 100;\n  var centuries = [thisCentury, thisCentury - 100, thisCentury + 100].sort(function (a, b) {\n    return Math.abs(thisYear - (year + a)) - Math.abs(thisYear - (year + b));\n  });\n  return year + centuries[0];\n}\n\n/**\n * @extends DelimitedTextFormatter\n */\n\nvar ExpiryDateFormatter = (function (_DelimitedTextFormatter) {\n  _inherits(ExpiryDateFormatter, _DelimitedTextFormatter);\n\n  function ExpiryDateFormatter() {\n    _classCallCheck(this, ExpiryDateFormatter);\n\n    _get(Object.getPrototypeOf(ExpiryDateFormatter.prototype), 'constructor', this).call(this, '/');\n    this.maximumLength = 5;\n  }\n\n  /**\n   * @param {number} index\n   * @returns {boolean}\n   */\n\n  _createClass(ExpiryDateFormatter, [{\n    key: 'hasDelimiterAtIndex',\n    value: function hasDelimiterAtIndex(index) {\n      return index === 2;\n    }\n\n    /**\n     * Formats the given value by adding delimiters where needed.\n     *\n     * @param {?string} value\n     * @returns {string}\n     */\n  }, {\n    key: 'format',\n    value: function format(value) {\n      if (!value) {\n        return '';\n      }\n\n      var month = value.month;\n      var year = value.year;\n      year = year % 100;\n\n      return _get(Object.getPrototypeOf(ExpiryDateFormatter.prototype), 'format', this).call(this, (0, _utils.zpad2)(month) + (0, _utils.zpad2)(year));\n    }\n\n    /**\n     * Parses the given text\n     *\n     * @param {string} text\n     * @param {Function(string)} error\n     * @returns {?Object} { month: month, year: year }\n     */\n  }, {\n    key: 'parse',\n    value: function parse(text, error) {\n      var monthAndYear = text.split(this.delimiter);\n      var month = monthAndYear[0];\n      var year = monthAndYear[1];\n      if (month && month.match(/^(0?[1-9]|1\\d)$/) && year && year.match(/^\\d\\d?$/)) {\n        month = Number(month);\n        year = interpretTwoDigitYear(Number(year));\n        return { month: month, year: year };\n      } else {\n        if (typeof error === 'function') {\n          error('expiry-date-formatter.invalid-date');\n        }\n        return null;\n      }\n    }\n\n    /**\n     * Determines whether the given change should be allowed and, if so, whether\n     * it should be altered.\n     *\n     * @param {TextFieldStateChange} change\n     * @param {function(string)} error\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isChangeValid',\n    value: function isChangeValid(change, error) {\n      if (!error) {\n        error = function () {};\n      }\n\n      var isBackspace = change.proposed.text.length < change.current.text.length;\n      var newText = change.proposed.text;\n\n      if (isBackspace) {\n        if (change.deleted.text === this.delimiter) {\n          newText = newText[0];\n        }\n        if (newText === '0') {\n          newText = '';\n        }\n        if (change.inserted.text.length > 0 && !/^\\d$/.test(change.inserted.text)) {\n          error('expiry-date-formatter.only-digits-allowed');\n          return false;\n        }\n      } else if (change.inserted.text === this.delimiter && change.current.text === '1') {\n        newText = '01' + this.delimiter;\n      } else if (change.inserted.text.length > 0 && !/^\\d$/.test(change.inserted.text)) {\n        error('expiry-date-formatter.only-digits-allowed');\n        return false;\n      } else {\n        // 4| -> 04|\n        if (/^[2-9]$/.test(newText)) {\n          newText = '0' + newText;\n        }\n\n        // 15| -> 1|\n        if (/^1[3-9]$/.test(newText)) {\n          error('expiry-date-formatter.invalid-month');\n          return false;\n        }\n\n        // Don't allow 00\n        if (newText === '00') {\n          error('expiry-date-formatter.invalid-month');\n          return false;\n        }\n\n        // 11| -> 11/\n        if (/^(0[1-9]|1[0-2])$/.test(newText)) {\n          newText += this.delimiter;\n        }\n\n        var match = newText.match(/^(\\d\\d)(.)(\\d\\d?).*$/);\n        if (match && match[2] === this.delimiter) {\n          newText = match[1] + this.delimiter + match[3];\n        }\n      }\n\n      change.proposed.text = newText;\n      change.proposed.selectedRange = { start: newText.length, length: 0 };\n\n      return true;\n    }\n  }]);\n\n  return ExpiryDateFormatter;\n})(_delimited_text_formatter2['default']);\n\nexports['default'] = ExpiryDateFormatter;\nmodule.exports = exports['default'];\n\n},{\"./delimited_text_formatter\":10,\"./utils\":22}],14:[function(require,module,exports){\n/**\n * Base class providing basic formatting, parsing, and change validation to be\n * customized in subclasses.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar Formatter = (function () {\n  function Formatter() {\n    _classCallCheck(this, Formatter);\n  }\n\n  _createClass(Formatter, [{\n    key: 'format',\n\n    /**\n     * @param {string} text\n     * @returns {string}\n     */\n    value: function format(text) {\n      if (text === undefined || text === null) {\n        text = '';\n      }\n      if (this.maximumLength !== undefined && this.maximumLength !== null) {\n        text = text.substring(0, this.maximumLength);\n      }\n      return text;\n    }\n\n    /**\n     * @param {string} text\n     * @returns {string}\n     */\n  }, {\n    key: 'parse',\n    value: function parse(text) {\n      if (text === undefined || text === null) {\n        text = '';\n      }\n      if (this.maximumLength !== undefined && this.maximumLength !== null) {\n        text = text.substring(0, this.maximumLength);\n      }\n      return text;\n    }\n\n    /**\n     * Determines whether the given change should be allowed and, if so, whether\n     * it should be altered.\n     *\n     * @param {TextFieldStateChange} change\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isChangeValid',\n    value: function isChangeValid(change) {\n      var selectedRange = change.proposed.selectedRange;\n      var text = change.proposed.text;\n      if (this.maximumLength !== undefined && this.maximumLength !== null && text.length > this.maximumLength) {\n        var available = this.maximumLength - (text.length - change.inserted.text.length);\n        var newText = change.current.text.substring(0, change.current.selectedRange.start);\n        if (available > 0) {\n          newText += change.inserted.text.substring(0, available);\n        }\n        newText += change.current.text.substring(change.current.selectedRange.start + change.current.selectedRange.length);\n        var truncatedLength = text.length - newText.length;\n        change.proposed.text = newText;\n        selectedRange.start -= truncatedLength;\n      }\n      return true;\n    }\n  }]);\n\n  return Formatter;\n})();\n\nexports['default'] = Formatter;\nmodule.exports = exports['default'];\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _adaptive_card_formatter = require('./adaptive_card_formatter');\n\nvar _adaptive_card_formatter2 = _interopRequireDefault(_adaptive_card_formatter);\n\nvar _amex_card_formatter = require('./amex_card_formatter');\n\nvar _amex_card_formatter2 = _interopRequireDefault(_amex_card_formatter);\n\nvar _card_text_field = require('./card_text_field');\n\nvar _card_text_field2 = _interopRequireDefault(_card_text_field);\n\nvar _card_utils = require('./card_utils');\n\nvar _default_card_formatter = require('./default_card_formatter');\n\nvar _default_card_formatter2 = _interopRequireDefault(_default_card_formatter);\n\nvar _delimited_text_formatter = require('./delimited_text_formatter');\n\nvar _delimited_text_formatter2 = _interopRequireDefault(_delimited_text_formatter);\n\nvar _expiry_date_field = require('./expiry_date_field');\n\nvar _expiry_date_field2 = _interopRequireDefault(_expiry_date_field);\n\nvar _expiry_date_formatter = require('./expiry_date_formatter');\n\nvar _expiry_date_formatter2 = _interopRequireDefault(_expiry_date_formatter);\n\nvar _formatter = require('./formatter');\n\nvar _formatter2 = _interopRequireDefault(_formatter);\n\nvar _number_formatter = require('./number_formatter');\n\nvar _number_formatter2 = _interopRequireDefault(_number_formatter);\n\nvar _number_formatter_settings_formatter = require('./number_formatter_settings_formatter');\n\nvar _number_formatter_settings_formatter2 = _interopRequireDefault(_number_formatter_settings_formatter);\n\nvar _phone_formatter = require('./phone_formatter');\n\nvar _phone_formatter2 = _interopRequireDefault(_phone_formatter);\n\nvar _social_security_number_formatter = require('./social_security_number_formatter');\n\nvar _social_security_number_formatter2 = _interopRequireDefault(_social_security_number_formatter);\n\nvar _text_field = require('./text_field');\n\nvar _text_field2 = _interopRequireDefault(_text_field);\n\nvar _undo_manager = require('./undo_manager');\n\nvar _undo_manager2 = _interopRequireDefault(_undo_manager);\n\n/**\n * @namespace FieldKit\n * @readonly\n */\nmodule.exports = {\n  AdaptiveCardFormatter: _adaptive_card_formatter2['default'],\n  AmexCardFormatter: _amex_card_formatter2['default'],\n  CardTextField: _card_text_field2['default'],\n  CardUtils: {\n    AMEX: _card_utils.AMEX,\n    DISCOVER: _card_utils.DISCOVER,\n    VISA: _card_utils.VISA,\n    MASTERCARD: _card_utils.MASTERCARD,\n    determineCardType: _card_utils.determineCardType,\n    luhnCheck: _card_utils.luhnCheck,\n    validCardLength: _card_utils.validCardLength\n  },\n  DefaultCardFormatter: _default_card_formatter2['default'],\n  DelimitedTextFormatter: _delimited_text_formatter2['default'],\n  ExpiryDateField: _expiry_date_field2['default'],\n  ExpiryDateFormatter: _expiry_date_formatter2['default'],\n  Formatter: _formatter2['default'],\n  NumberFormatter: _number_formatter2['default'],\n  NumberFormatterSettingsFormatter: _number_formatter_settings_formatter2['default'],\n  PhoneFormatter: _phone_formatter2['default'],\n  SocialSecurityNumberFormatter: _social_security_number_formatter2['default'],\n  TextField: _text_field2['default'],\n  UndoManager: _undo_manager2['default']\n};\n\n},{\"./adaptive_card_formatter\":4,\"./amex_card_formatter\":5,\"./card_text_field\":6,\"./card_utils\":7,\"./default_card_formatter\":9,\"./delimited_text_formatter\":10,\"./expiry_date_field\":12,\"./expiry_date_formatter\":13,\"./formatter\":14,\"./number_formatter\":16,\"./number_formatter_settings_formatter\":17,\"./phone_formatter\":18,\"./social_security_number_formatter\":19,\"./text_field\":20,\"./undo_manager\":21}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _formatter = require('./formatter');\n\nvar _formatter2 = _interopRequireDefault(_formatter);\n\nvar _number_formatter_settings_formatter = require('./number_formatter_settings_formatter');\n\nvar _number_formatter_settings_formatter2 = _interopRequireDefault(_number_formatter_settings_formatter);\n\nvar _utils = require('./utils');\n\nvar _stround = require('stround');\n\n// Style\nvar NONE = 0;\nvar CURRENCY = 1;\nvar PERCENT = 2;\n\nvar DEFAULT_LOCALE = 'en-US';\nvar DEFAULT_COUNTRY = 'US';\n\n/**\n * @param {string} locale\n * @returns {Object} {lang: lang, country: country}\n * @private\n */\nfunction splitLocaleComponents(locale) {\n  var match = locale.match(/^([a-z][a-z])(?:[-_]([a-z][a-z]))?$/i);\n  if (match) {\n    var lang = match[1] && match[1].toLowerCase();\n    var country = match[2] && match[2].toLowerCase();\n    return { lang: lang, country: country };\n  }\n}\n\n/**\n * This simple property getter assumes that properties will never be functions\n * and so attempts to run those functions using the given args.\n *\n * @private\n */\nfunction get(object, key) {\n  if (object) {\n    var value = object[key];\n    if (typeof value === 'function') {\n      for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n\n      return value.apply(undefined, args);\n    } else {\n      return value;\n    }\n  }\n}\n\n/**\n * @param {string} string\n * @param {string} currencySymbol\n * @return {string}\n * @private\n */\nfunction replaceCurrencySymbol(string, currencySymbol) {\n  return string.replace(//g, currencySymbol);\n}\n\n/**\n * @param {string} string\n * @param {string} plusSign\n * @returns {string}\n * @private\n */\nfunction replacePlusSign(string, plusSign) {\n  return string.replace(/\\+/g, plusSign);\n}\n/**\n * @param {string} string\n * @param {string} minusSign\n * @returns {string}\n * @private\n */\nfunction replaceMinusSign(string, minusSign) {\n  return string.replace(/-/g, minusSign);\n}\n\n/**\n * Formats and parses numbers. There are many configuration options for how to\n * format numbers as strings, but for many users simply adjusting the\n * {@link NumberFormatter#numberStyle}, {@link NumberFormatter#locale},\n * {@link NumberFormatter#currencyCode}, and {@link NumberFormatter#countryCode}\n * values will be sufficient. NumberFormatter natively understands how to\n * format numbers, currencies, and percentages for a variety of locales.\n *\n * @example\n *\n *   // Configure a NumberFormatter to display currencies.\n *   var f = new FieldKit.NumberFormatter();\n *   f.setNumberStyle(FieldKit.NumberFormatter.Style.CURRENCY);\n *\n *   // Configure the current locale info.\n *   f.setLocale('en-US');\n *   f.setCountryCode('US');\n *   f.setCurrencyCode('USD');\n *\n *   // Showing USD in US uses abbreviated currency.\n *   f.format(6.17);  // '$6.17'\n *\n *   // Showing CAD in US uses fully-qualified currency.\n *   f.setCurrencyCode('CAD');\n *   f.format(6.17);  // 'CA$6.17'\n *\n *   // Showing CAD in CA again uses abbreviated currency.\n *   f.setLocale('en-CA');\n *   f.setCountryCode('CA');\n *   f.format(6.17);  // '$6.17'\n *\n *   // Showing CAD in CA to a French speaker uses correct formatting.\n *   f.setLocale('fr-CA');\n *   f.format(6.17);  // '6,17 $'\n *\n *   // You may customize the behavior of NumberFormatter to achieve whatever\n *   // number formatting you need using the setter methods for the various\n *   // settings, or you can use the {@link NumberFormatter#positiveFormat} and\n *   // {@link NumberFormatter#negativeFormat} shorthand templates.\n *\n *   var f = new FieldKit.NumberFormatter();\n *\n *   // Using this template string\n *   f.setPositiveFormat('#0.00');\n *\n *   // is equivalent to this:\n *   f.setPositivePrefix('');\n *   f.setPositiveSuffix('');\n *   f.setMinimumIntegerDigits(1);\n *   f.setMinimumFractionDigits(2);\n *   f.setMaximumFractionDigits(2);\n *\n *   // And you can determine what the template string is for however you've\n *   // configured the NumberFormatter:\n *   f.setUsesGroupingSeparator(true);\n *   f.setGroupingSize(2);\n *   f.positiveFormat(); // '#,#0.00'\n *\n * @extends Formatter\n */\n\nvar NumberFormatter = (function (_Formatter) {\n  _inherits(NumberFormatter, _Formatter);\n\n  function NumberFormatter() {\n    _classCallCheck(this, NumberFormatter);\n\n    _get(Object.getPrototypeOf(NumberFormatter.prototype), 'constructor', this).call(this);\n    this.setNumberStyle(NONE);\n  }\n\n  /**\n   * Defaults\n   */\n\n  /** @private */\n\n  /**\n   * Gets whether this formatter will parse float number values. This value does\n   * not apply to formatting. To prevent formatting floats, set\n   * maximumFractionDigits to 0.\n   *\n   * @returns {boolean}\n   */\n\n  _createClass(NumberFormatter, [{\n    key: 'allowsFloats',\n    value: function allowsFloats() {\n      return this._get('allowsFloats');\n    }\n\n    /**\n     * Sets whether this formatter will parse float number values.\n     *\n     * @param {boolean} allowsFloats\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setAllowsFloats',\n    value: function setAllowsFloats(allowsFloats) {\n      this._allowsFloats = allowsFloats;\n      return this;\n    }\n\n    /**\n     * Gets whether this formatter should show the decimal separator.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: 'alwaysShowsDecimalSeparator',\n    value: function alwaysShowsDecimalSeparator() {\n      return this._get('alwaysShowsDecimalSeparator');\n    }\n\n    /**\n     * Sets whether this formatter will show the decimal separator.\n     *\n     * @param {boolean} alwaysShowsDecimalSeparator\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setAlwaysShowsDecimalSeparator',\n    value: function setAlwaysShowsDecimalSeparator(alwaysShowsDecimalSeparator) {\n      this._alwaysShowsDecimalSeparator = alwaysShowsDecimalSeparator;\n      return this;\n    }\n\n    /**\n     * Gets the country code for formatter.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'countryCode',\n    value: function countryCode() {\n      return this._countryCode || DEFAULT_COUNTRY;\n    }\n\n    /**\n     * Sets the country code for formatter.\n     *\n     * @param {string} countryCode\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setCountryCode',\n    value: function setCountryCode(countryCode) {\n      this._countryCode = countryCode;\n      return this;\n    }\n\n    /**\n     * Gets the currency code for formatter.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'currencyCode',\n    value: function currencyCode() {\n      return this._get('currencyCode');\n    }\n\n    /**\n     * Sets the currency code for formatter.\n     *\n     * @param {string} currencyCode\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setCurrencyCode',\n    value: function setCurrencyCode(currencyCode) {\n      this._currencyCode = currencyCode;\n      return this;\n    }\n\n    /**\n     * Gets the currency symbol for formatter.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'currencySymbol',\n    value: function currencySymbol() {\n      if (this._shouldShowNativeCurrencySymbol()) {\n        return this._get('currencySymbol');\n      } else {\n        return this._get('internationalCurrencySymbol');\n      }\n    }\n\n    /**\n     * Sets the currency symbol for formatter.\n     *\n     * @param {string} currencySymbol\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setCurrencySymbol',\n    value: function setCurrencySymbol(currencySymbol) {\n      this._currencySymbol = currencySymbol;\n      return this;\n    }\n\n    /**\n     * @returns {boolean}\n     * @private\n     */\n  }, {\n    key: '_shouldShowNativeCurrencySymbol',\n    value: function _shouldShowNativeCurrencySymbol() {\n      var regionDefaultCurrencyCode = this._regionDefaults().currencyCode;\n      if (typeof regionDefaultCurrencyCode === 'function') {\n        regionDefaultCurrencyCode = regionDefaultCurrencyCode();\n      }\n      return this.currencyCode() === regionDefaultCurrencyCode;\n    }\n\n    /**\n     * Gets the decimal separator for formatter.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'decimalSeparator',\n    value: function decimalSeparator() {\n      return this._get('decimalSeparator');\n    }\n\n    /**\n     * Sets the decimal separator for formatter.\n     *\n     * @param {string} decimalSeparator\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setDecimalSeparator',\n    value: function setDecimalSeparator(decimalSeparator) {\n      this._decimalSeparator = decimalSeparator;\n      return this;\n    }\n\n    /**\n     * Gets the number of decimal places to shift numbers before formatting.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'exponent',\n    value: function exponent() {\n      return this._get('exponent');\n    }\n\n    /**\n     * Sets the number of decimal places to shift numbers before formatting.\n     *\n     * @param exponent\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setExponent',\n    value: function setExponent(exponent) {\n      this._exponent = exponent;\n      return this;\n    }\n  }, {\n    key: 'groupingSeparator',\n    value: function groupingSeparator() {\n      return this._get('groupingSeparator');\n    }\n\n    /**\n     * @param {string} groupingSeparator\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setGroupingSeparator',\n    value: function setGroupingSeparator(groupingSeparator) {\n      this._groupingSeparator = groupingSeparator;\n      return this;\n    }\n\n    /**\n     * Gets the grouping size for formatter.\n     *\n     * @returns {number}\n     */\n  }, {\n    key: 'groupingSize',\n    value: function groupingSize() {\n      return this._get('groupingSize');\n    }\n\n    /**\n     * @param {number} groupingSize\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setGroupingSize',\n    value: function setGroupingSize(groupingSize) {\n      this._groupingSize = groupingSize;\n      return this;\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'internationalCurrencySymbol',\n    value: function internationalCurrencySymbol() {\n      return this._get('internationalCurrencySymbol');\n    }\n\n    /**\n     * @param {string} internationalCurrencySymbol\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setInternationalCurrencySymbol',\n    value: function setInternationalCurrencySymbol(internationalCurrencySymbol) {\n      this._internationalCurrencySymbol = internationalCurrencySymbol;\n      return this;\n    }\n\n    /**\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isLenient',\n    value: function isLenient() {\n      return this._lenient;\n    }\n\n    /**\n     * @param {boolean} lenient\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setLenient',\n    value: function setLenient(lenient) {\n      this._lenient = lenient;\n      return this;\n    }\n\n    /**\n     * Gets the locale identifier for which this formatter is currently\n     * configured to format strings. This setting controls default settings such\n     * as the grouping separator character, decimal separator character, placement\n     * of currency and percent symbols, etc.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'locale',\n    value: function locale() {\n      return this._locale || DEFAULT_LOCALE;\n    }\n\n    /**\n     * Sets the locale identifier used for default settings values.\n     *\n     * @see {@link NumberFormatter#locale}\n     * @param {string} locale\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setLocale',\n    value: function setLocale(locale) {\n      this._locale = locale;\n      return this;\n    }\n\n    /**\n     * @returns {number}\n     */\n  }, {\n    key: 'maximum',\n    value: function maximum() {\n      return this._maximum;\n    }\n\n    /**\n     * @param {number} max\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setMaximum',\n    value: function setMaximum(max) {\n      this._maximum = max;\n      return this;\n    }\n\n    /**\n     * @returns {number}\n     */\n  }, {\n    key: 'minimum',\n    value: function minimum() {\n      return this._minimum;\n    }\n\n    /**\n     * @param {number} min\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setMinimum',\n    value: function setMinimum(min) {\n      this._minimum = min;\n      return this;\n    }\n\n    /**\n     * @returns {number}\n     */\n  }, {\n    key: 'maximumFractionDigits',\n    value: function maximumFractionDigits() {\n      var result = this._get('maximumFractionDigits');\n      var minimumFractionDigits = this._minimumFractionDigits;\n      if (result !== null && result !== undefined && minimumFractionDigits !== null && minimumFractionDigits !== undefined && minimumFractionDigits > result) {\n        result = minimumFractionDigits;\n      }\n      return result;\n    }\n\n    /**\n     * @param {number} maximumFractionDigits\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setMaximumFractionDigits',\n    value: function setMaximumFractionDigits(maximumFractionDigits) {\n      this._maximumFractionDigits = maximumFractionDigits;\n      return this;\n    }\n\n    /**\n     * @returns {number}\n     */\n  }, {\n    key: 'minimumFractionDigits',\n    value: function minimumFractionDigits() {\n      var result = this._get('minimumFractionDigits');\n      var maximumFractionDigits = this._maximumFractionDigits;\n      if (result !== null && result !== undefined && maximumFractionDigits !== null && maximumFractionDigits !== undefined && maximumFractionDigits < result) {\n        result = maximumFractionDigits;\n      }\n      return result;\n    }\n\n    /**\n     * @param {number} minimumFractionDigits\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setMinimumFractionDigits',\n    value: function setMinimumFractionDigits(minimumFractionDigits) {\n      this._minimumFractionDigits = minimumFractionDigits;\n      return this;\n    }\n\n    /**\n     * @returns {number}\n     */\n  }, {\n    key: 'maximumIntegerDigits',\n    value: function maximumIntegerDigits() {\n      var result = this._get('maximumIntegerDigits');\n      var minimumIntegerDigits = this._minimumIntegerDigits;\n      if (result !== null && result !== undefined && minimumIntegerDigits !== null && minimumIntegerDigits !== undefined && minimumIntegerDigits > result) {\n        result = minimumIntegerDigits;\n      }\n      return result;\n    }\n\n    /**\n     * @param {number} maximumIntegerDigits\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setMaximumIntegerDigits',\n    value: function setMaximumIntegerDigits(maximumIntegerDigits) {\n      this._maximumIntegerDigits = maximumIntegerDigits;\n      return this;\n    }\n\n    /**\n     * @returns {number}\n     */\n  }, {\n    key: 'minimumIntegerDigits',\n    value: function minimumIntegerDigits() {\n      var result = this._get('minimumIntegerDigits');\n      var maximumIntegerDigits = this._maximumIntegerDigits;\n      if (result !== null && result !== undefined && maximumIntegerDigits !== null && maximumIntegerDigits !== undefined && maximumIntegerDigits < result) {\n        result = maximumIntegerDigits;\n      }\n      return result;\n    }\n\n    /**\n     * @param {number} minimumIntegerDigits\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setMinimumIntegerDigits',\n    value: function setMinimumIntegerDigits(minimumIntegerDigits) {\n      this._minimumIntegerDigits = minimumIntegerDigits;\n      return this;\n    }\n\n    /**\n     * Gets the minus sign used for negative numbers in some locales.\n     *\n     * @returns {?string}\n     */\n  }, {\n    key: 'minusSign',\n    value: function minusSign() {\n      return this._get('minusSign');\n    }\n\n    /**\n     * Sets the minus sign used for negative numbers in some locales.\n     *\n     * @param {?string} minusSign\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setMinusSign',\n    value: function setMinusSign(minusSign) {\n      this._minusSign = minusSign;\n      return this;\n    }\n\n    /**\n     * Gets the negative number format string for the current settings. For\n     * example, changing `minimumFractionDigits` from 0 to 3 would change this\n     * value from \"-#\" to \"-#.000\".\n     *\n     * @return {string}\n     */\n  }, {\n    key: 'negativeFormat',\n    value: function negativeFormat() {\n      return this.numberFormatFormatter().format({\n        alwaysShowsDecimalSeparator: this.alwaysShowsDecimalSeparator(),\n        groupingSize: this.groupingSize(),\n        maximumFractionDigits: this.maximumFractionDigits(),\n        minimumFractionDigits: this.minimumFractionDigits(),\n        minimumIntegerDigits: this.minimumIntegerDigits(),\n        prefix: this._get('negativePrefix'),\n        suffix: this._get('negativeSuffix'),\n        usesGroupingSeparator: this.usesGroupingSeparator()\n      });\n    }\n\n    /**\n     * Configures this number formatter according to the given format string.\n     * For most usages you should simply use\n     * {@link NumberFormatter#setPositiveFormat} and configure the negative\n     * prefix and suffix separately.\n     *\n     * @param negativeFormat\n     */\n  }, {\n    key: 'setNegativeFormat',\n    value: function setNegativeFormat(negativeFormat) {\n      var settings = this.numberFormatFormatter().parse(negativeFormat);\n      this.setNegativePrefix(settings.prefix);\n      this.setNegativeSuffix(settings.suffix);\n      this.setGroupingSize(settings.groupingSize);\n      this.setMaximumFractionDigits(settings.maximumFractionDigits);\n      this.setMinimumFractionDigits(settings.minimumFractionDigits);\n      this.setMinimumIntegerDigits(settings.minimumIntegerDigits);\n      this.setUsesGroupingSeparator(settings.usesGroupingSeparator);\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'negativeInfinitySymbol',\n    value: function negativeInfinitySymbol() {\n      return this._get('negativeInfinitySymbol');\n    }\n\n    /**\n     * @param {string} negativeInfinitySymbol\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setNegativeInfinitySymbol',\n    value: function setNegativeInfinitySymbol(negativeInfinitySymbol) {\n      this._negativeInfinitySymbol = negativeInfinitySymbol;\n      return this;\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'negativePrefix',\n    value: function negativePrefix() {\n      return replaceCurrencySymbol(replaceMinusSign(this._get('negativePrefix'), this._get('minusSign')), this.currencySymbol());\n    }\n\n    /**\n     * @param {string} prefix\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setNegativePrefix',\n    value: function setNegativePrefix(prefix) {\n      this._negativePrefix = prefix;\n      return this;\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'negativeSuffix',\n    value: function negativeSuffix() {\n      return replaceCurrencySymbol(replaceMinusSign(this._get('negativeSuffix'), this._get('minusSign')), this.currencySymbol());\n    }\n\n    /**\n     * @param {string} prefix\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setNegativeSuffix',\n    value: function setNegativeSuffix(prefix) {\n      this._negativeSuffix = prefix;\n      return this;\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'notANumberSymbol',\n    value: function notANumberSymbol() {\n      return this._get('notANumberSymbol');\n    }\n\n    /**\n     * @param {string} notANumberSymbol\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setNotANumberSymbol',\n    value: function setNotANumberSymbol(notANumberSymbol) {\n      this._notANumberSymbol = notANumberSymbol;\n      return this;\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'nullSymbol',\n    value: function nullSymbol() {\n      return this._get('nullSymbol');\n    }\n\n    /**\n     * @param {string} nullSymbol\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setNullSymbol',\n    value: function setNullSymbol(nullSymbol) {\n      this._nullSymbol = nullSymbol;\n      return this;\n    }\n\n    /**\n     * @return {NumberFormatterSettingsFormatter}\n     * @private\n     */\n  }, {\n    key: 'numberFormatFormatter',\n    value: function numberFormatFormatter() {\n      if (!this._numberFormatFormatter) {\n        this._numberFormatFormatter = new _number_formatter_settings_formatter2['default']();\n      }\n      return this._numberFormatFormatter;\n    }\n\n    /**\n     * Gets the number style used to configure various default setting values.\n     *\n     * @returns {NumberFormatter.Style}\n     */\n  }, {\n    key: 'numberStyle',\n    value: function numberStyle() {\n      return this._numberStyle;\n    }\n\n    /**\n     * Sets the number style used to configure various default setting values.\n     *\n     * @param {string} numberStyle\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setNumberStyle',\n    value: function setNumberStyle(numberStyle) {\n      this._numberStyle = numberStyle;\n      switch (this._numberStyle) {\n        case NONE:\n          this._styleDefaults = StyleDefaults.NONE;\n          break;\n        case PERCENT:\n          this._styleDefaults = StyleDefaults.PERCENT;\n          break;\n        case CURRENCY:\n          this._styleDefaults = StyleDefaults.CURRENCY;\n          break;\n        default:\n          this._styleDefaults = null;\n      }\n      return this;\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'percentSymbol',\n    value: function percentSymbol() {\n      return this._get('percentSymbol');\n    }\n\n    /**\n     * @param {string} percentSymbol\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setPercentSymbol',\n    value: function setPercentSymbol(percentSymbol) {\n      this._percentSymbol = percentSymbol;\n      return this;\n    }\n\n    /**\n     * Gets the plus sign used in positive numbers in some locales.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'plusSign',\n    value: function plusSign() {\n      return this._get('plusSign');\n    }\n\n    /**\n     * Sets the plus sign used in positive numbers in some locales.\n     *\n     * @param {?string} plusSign\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setPlusSign',\n    value: function setPlusSign(plusSign) {\n      this._plusSign = plusSign;\n      return this;\n    }\n\n    /**\n     * Gets the positive number format string for the current settings. For\n     * example, changing `minimumFractionDigits` from 0 to 3 would change this\n     * value from \"#\" to \"#.000\".\n     *\n     * @return {string}\n     */\n  }, {\n    key: 'positiveFormat',\n    value: function positiveFormat() {\n      return this.numberFormatFormatter().format({\n        alwaysShowsDecimalSeparator: this.alwaysShowsDecimalSeparator(),\n        groupingSize: this.groupingSize(),\n        maximumFractionDigits: this.maximumFractionDigits(),\n        minimumFractionDigits: this.minimumFractionDigits(),\n        minimumIntegerDigits: this.minimumIntegerDigits(),\n        prefix: this._get('positivePrefix'),\n        suffix: this._get('positiveSuffix'),\n        usesGroupingSeparator: this.usesGroupingSeparator()\n      });\n    }\n\n    /**\n     * Configures this number formatter according to the given format string.\n     *\n     * @example\n     *\n     *   // Use '0' for padding, '.' for decimal separator.\n     *   formatter.setPositiveFormat('00.000');\n     *   formatter.format(2);     // '02.000'\n     *   formatter.format(-5.03); // '-05.030'\n     *   formatter.setLocale('fr-FR');\n     *   formatter.format(2);     // '02,000'\n     *\n     *   // Use '#' for maximum fraction digits.\n     *   formatter.setPositiveFormat('#.##');\n     *   formatter.format(3.456); // '3.46'\n     *\n     *   // Use '' as the currency placeholder.\n     *   formatter.setPositiveFormat('#0.00');\n     *   formatter.format(1.23); // '$1.23'\n     *   formatter.setCurrencyCode('JPY');\n     *   formatter.format(81);   // 'JP81.00'\n     *   formatter.setLocale('jp-JP');\n     *   formatter.format(7);   // '7.00'\n     *\n     *   // Use ',' for grouping separator placement.\n     *   formatter.setPositiveFormat('#,##');\n     *   formatter.format(123); // '1,23'\n     *\n     * @param positiveFormat\n     */\n  }, {\n    key: 'setPositiveFormat',\n    value: function setPositiveFormat(positiveFormat) {\n      var settings = this.numberFormatFormatter().parse(positiveFormat);\n      this.setPositivePrefix(settings.prefix);\n      this.setPositiveSuffix(settings.suffix);\n      this.setGroupingSize(settings.groupingSize);\n      this.setMaximumFractionDigits(settings.maximumFractionDigits);\n      this.setMinimumFractionDigits(settings.minimumFractionDigits);\n      this.setMinimumIntegerDigits(settings.minimumIntegerDigits);\n      this.setUsesGroupingSeparator(settings.usesGroupingSeparator);\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'positiveInfinitySymbol',\n    value: function positiveInfinitySymbol() {\n      return this._get('positiveInfinitySymbol');\n    }\n\n    /**\n     * @param {string} positiveInfinitySymbol\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setPositiveInfinitySymbol',\n    value: function setPositiveInfinitySymbol(positiveInfinitySymbol) {\n      this._positiveInfinitySymbol = positiveInfinitySymbol;\n      return this;\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'positivePrefix',\n    value: function positivePrefix() {\n      return replaceCurrencySymbol(replacePlusSign(this._get('positivePrefix'), this._get('plusSign')), this.currencySymbol());\n    }\n\n    /**\n     * @param {string} prefix\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setPositivePrefix',\n    value: function setPositivePrefix(prefix) {\n      this._positivePrefix = prefix;\n      return this;\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'positiveSuffix',\n    value: function positiveSuffix() {\n      return replaceCurrencySymbol(replacePlusSign(this._get('positiveSuffix'), this._get('plusSign')), this.currencySymbol());\n    }\n\n    /**\n     * @param {string} prefix\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setPositiveSuffix',\n    value: function setPositiveSuffix(prefix) {\n      this._positiveSuffix = prefix;\n      return this;\n    }\n\n    /**\n     * @returns {Function}\n     */\n  }, {\n    key: 'roundingMode',\n    value: function roundingMode() {\n      return this._get('roundingMode');\n    }\n\n    /**\n     * @param {Function} roundingMode\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setRoundingMode',\n    value: function setRoundingMode(roundingMode) {\n      this._roundingMode = roundingMode;\n      return this;\n    }\n\n    /**\n     * @returns {boolean}\n     */\n  }, {\n    key: 'usesGroupingSeparator',\n    value: function usesGroupingSeparator() {\n      return this._get('usesGroupingSeparator');\n    }\n\n    /**\n     * @param {boolean} usesGroupingSeparator\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setUsesGroupingSeparator',\n    value: function setUsesGroupingSeparator(usesGroupingSeparator) {\n      this._usesGroupingSeparator = usesGroupingSeparator;\n      return this;\n    }\n\n    /**\n     * @returns {string}\n     */\n  }, {\n    key: 'zeroSymbol',\n    value: function zeroSymbol() {\n      return this._get('zeroSymbol');\n    }\n\n    /**\n     * @param {string} zeroSymbol\n     * @returns {NumberFormatter}\n     */\n  }, {\n    key: 'setZeroSymbol',\n    value: function setZeroSymbol(zeroSymbol) {\n      this._zeroSymbol = zeroSymbol;\n      return this;\n    }\n\n    /**\n     * @param {string} attr\n     * @returns {*}\n     * @private\n     */\n  }, {\n    key: '_get',\n    value: function _get(attr) {\n      var value = this['_' + attr];\n      if (value !== null && value !== undefined) {\n        return value;\n      }\n      var styleDefaults = this._styleDefaults;\n      var localeDefaults = this._localeDefaults();\n      var regionDefaults = this._regionDefaults();\n      value = get(styleDefaults, attr, this, localeDefaults);\n      if (value !== null && value !== undefined) {\n        return value;\n      }\n      value = get(localeDefaults, attr, this, styleDefaults);\n      if (value !== null && value !== undefined) {\n        return value;\n      }\n      value = get(regionDefaults, attr, this, styleDefaults);\n      if (value !== null && value !== undefined) {\n        return value;\n      }\n      value = get(this._currencyDefaults(), attr, this, localeDefaults);\n      if (value !== null && value !== undefined) {\n        return value;\n      }\n      return null;\n    }\n\n    /**\n     * Formats the given number as a string according to the settings applied to\n     * this formatter. This may cause the number to be truncated, rounded, or\n     * otherwise differ from what you might expect.\n     *\n     * @example\n     *\n     *   // By default no fraction digits are shown.\n     *   var f = new FieldKit.NumberFormatter();\n     *   f.format(Math.PI);  // '3'\n     *\n     *   // Let's format as a currency.\n     *   f.setNumberStyle(FieldKit.NumberFormatter.Style.CURRENCY);\n     *   f.format(Math.PI);  // '$3.14'\n     *\n     *   // Or as a percentage, which illustrates usage of {@link NumberFormatter#exponent}.\n     *   f.setNumberStyle(FieldKit.NumberFormatter.Style.PERCENT);\n     *   f.format(Math.PI);  // '314%'\n     *\n     *   // For the rest of the examples we'll go back to normal.\n     *   f.setNumberStyle(FieldKit.NumberFormatter.Style.NONE);\n     *\n     *   // The default rounding mode is {@link NumberFormatter.Rounding.HALF_EVEN}.\n     *   f.setMaximumFractionDigits(4);\n     *   f.format(Math.PI);  // '3.1416'\n     *\n     *   // And we can change the rounding mode if we like.\n     *   f.setRoundingMode(FieldKit.NumberFormatter.Rounding.FLOOR);\n     *   f.format(Math.PI);  // '3.1415'\n     *\n     * @param {number} number\n     * @returns {string}\n     */\n  }, {\n    key: 'format',\n    value: function format(number) {\n      if (number === '') {\n        return '';\n      }\n\n      var zeroSymbol = this.zeroSymbol();\n      if (zeroSymbol !== undefined && zeroSymbol !== null && number === 0) {\n        return zeroSymbol;\n      }\n\n      var nullSymbol = this.nullSymbol();\n      if (nullSymbol !== undefined && nullSymbol !== null && number === null) {\n        return nullSymbol;\n      }\n\n      var notANumberSymbol = this.notANumberSymbol();\n      if (notANumberSymbol !== undefined && notANumberSymbol !== null && isNaN(number)) {\n        return notANumberSymbol;\n      }\n\n      var positiveInfinitySymbol = this.positiveInfinitySymbol();\n      if (positiveInfinitySymbol !== undefined && positiveInfinitySymbol !== null && number === Infinity) {\n        return positiveInfinitySymbol;\n      }\n\n      var negativeInfinitySymbol = this.negativeInfinitySymbol();\n      if (negativeInfinitySymbol !== undefined && negativeInfinitySymbol !== null && number === -Infinity) {\n        return negativeInfinitySymbol;\n      }\n\n      var negative = number < 0;\n\n      var parts = ('' + Math.abs(number)).split('.');\n      var integerPart = parts[0];\n      var fractionPart = parts[1] || '';\n\n      var exponent = this.exponent();\n      if (exponent !== undefined && exponent !== null) {\n        var shifted = (0, _stround.shiftParts)([negative, integerPart, fractionPart], exponent);\n        negative = shifted[0];\n        integerPart = shifted[1];\n        fractionPart = shifted[2];\n        while (integerPart[0] === '0') {\n          integerPart = integerPart.slice(1);\n        }\n      }\n\n      // round fraction part to the maximum length\n      var maximumFractionDigits = this.maximumFractionDigits();\n      if (fractionPart.length > maximumFractionDigits) {\n        var unrounded = integerPart + '.' + fractionPart;\n        var rounded = this._round(negative ? '-' + unrounded : unrounded);\n        if (rounded[0] === '-') {\n          rounded = rounded.slice(1);\n        }\n        parts = rounded.split('.');\n        integerPart = parts[0];\n        fractionPart = parts[1] || '';\n      }\n\n      // right-pad fraction zeros up to the minimum length\n      var minimumFractionDigits = this.minimumFractionDigits();\n      while (fractionPart.length < minimumFractionDigits) {\n        fractionPart += '0';\n      }\n\n      // left-pad integer zeros up to the minimum length\n      var minimumIntegerDigits = this.minimumIntegerDigits();\n      while (integerPart.length < minimumIntegerDigits) {\n        integerPart = '0' + integerPart;\n      }\n\n      // eat any unneeded trailing zeros\n      while (fractionPart.length > minimumFractionDigits && fractionPart.slice(-1) === '0') {\n        fractionPart = fractionPart.slice(0, -1);\n      }\n\n      // left-truncate any integer digits over the maximum length\n      var maximumIntegerDigits = this.maximumIntegerDigits();\n      if (maximumIntegerDigits !== undefined && maximumIntegerDigits !== null && integerPart.length > maximumIntegerDigits) {\n        integerPart = integerPart.slice(-maximumIntegerDigits);\n      }\n\n      // add the decimal separator\n      if (fractionPart.length > 0 || this.alwaysShowsDecimalSeparator()) {\n        fractionPart = this.decimalSeparator() + fractionPart;\n      }\n\n      if (this.usesGroupingSeparator()) {\n        var integerPartWithGroupingSeparators = '';\n        var copiedCharacterCount = 0;\n\n        for (var i = integerPart.length - 1; i >= 0; i--) {\n          if (copiedCharacterCount > 0 && copiedCharacterCount % this.groupingSize() === 0) {\n            integerPartWithGroupingSeparators = this.groupingSeparator() + integerPartWithGroupingSeparators;\n          }\n          integerPartWithGroupingSeparators = integerPart[i] + integerPartWithGroupingSeparators;\n          copiedCharacterCount++;\n        }\n        integerPart = integerPartWithGroupingSeparators;\n      }\n\n      var result = integerPart + fractionPart;\n\n      // surround with the appropriate prefix and suffix\n      if (negative) {\n        result = this.negativePrefix() + result + this.negativeSuffix();\n      } else {\n        result = this.positivePrefix() + result + this.positiveSuffix();\n      }\n      return result;\n    }\n\n    /**\n     * @param {number} number\n     * @returns {number}\n     * @private\n     */\n  }, {\n    key: '_round',\n    value: function _round(number) {\n      return (0, _stround.round)(number, this.maximumFractionDigits(), this.roundingMode());\n    }\n\n    /**\n     * Parses the given string according to the current formatting settings.\n     * When parsing values with a guaranteed regular format you can simply\n     * configure the formatter correctly and call this method. However, when\n     * dealing with human input it is often useful to configure\n     * {@link NumberFormatter#isLenient} to be true, allowing more leeway in what\n     * may be parsed as a valid number.\n     *\n     * @example\n     *\n     *   var f = new FieldKit.NumberFormatter();\n     *   f.parse('89'); // 89\n     *\n     * @param {string} string\n     * @param {function(string)} error\n     * @returns {?number}\n     */\n  }, {\n    key: 'parse',\n    value: function parse(string, error) {\n      var result;\n      var positivePrefix = this.positivePrefix();\n      var negativePrefix = this.negativePrefix();\n      var positiveSuffix = this.positiveSuffix();\n      var negativeSuffix = this.negativeSuffix();\n\n      if (this.isLenient()) {\n        string = string.replace(/\\s/g, '');\n        positivePrefix = (0, _utils.trim)(positivePrefix);\n        negativePrefix = (0, _utils.trim)(negativePrefix);\n        positiveSuffix = (0, _utils.trim)(positiveSuffix);\n        negativeSuffix = (0, _utils.trim)(negativeSuffix);\n      }\n\n      var zeroSymbol;\n      var nullSymbol;\n      var notANumberSymbol;\n      var positiveInfinitySymbol;\n      var negativeInfinitySymbol;\n      var innerString;\n\n      if ((zeroSymbol = this.zeroSymbol()) !== undefined && zeroSymbol !== null && string === zeroSymbol) {\n        result = 0;\n      } else if ((nullSymbol = this.nullSymbol()) !== undefined && nullSymbol !== null && string === nullSymbol) {\n        result = null;\n      } else if ((notANumberSymbol = this.notANumberSymbol()) !== undefined && notANumberSymbol !== null && string === notANumberSymbol) {\n        result = NaN;\n      } else if ((positiveInfinitySymbol = this.positiveInfinitySymbol()) !== undefined && positiveInfinitySymbol !== null && string === positiveInfinitySymbol) {\n        result = Infinity;\n      } else if ((negativeInfinitySymbol = this.negativeInfinitySymbol()) !== undefined && negativeInfinitySymbol !== null && string === negativeInfinitySymbol) {\n        result = -Infinity;\n      } else {\n        var hasNegativePrefix = (0, _utils.startsWith)(negativePrefix, string);\n        var hasNegativeSuffix = (0, _utils.endsWith)(negativeSuffix, string);\n        if (hasNegativePrefix && (this.isLenient() || hasNegativeSuffix)) {\n          innerString = string.slice(negativePrefix.length);\n          if (hasNegativeSuffix) {\n            innerString = innerString.slice(0, innerString.length - negativeSuffix.length);\n          }\n          result = this._parseAbsoluteValue(innerString, error);\n          if (result !== undefined && result !== null) {\n            result *= -1;\n          }\n        } else {\n          var hasPositivePrefix = (0, _utils.startsWith)(positivePrefix, string);\n          var hasPositiveSuffix = (0, _utils.endsWith)(positiveSuffix, string);\n          if (this.isLenient() || hasPositivePrefix && hasPositiveSuffix) {\n            innerString = string;\n            if (hasPositivePrefix) {\n              innerString = innerString.slice(positivePrefix.length);\n            }\n            if (hasPositiveSuffix) {\n              innerString = innerString.slice(0, innerString.length - positiveSuffix.length);\n            }\n            result = this._parseAbsoluteValue(innerString, error);\n          } else {\n            if (typeof error === 'function') {\n              error('number-formatter.invalid-format');\n            }\n            return null;\n          }\n        }\n      }\n\n      if (result !== undefined && result !== null) {\n        var minimum = this.minimum();\n        if (minimum !== undefined && minimum !== null && result < minimum) {\n          if (typeof error === 'function') {\n            error('number-formatter.out-of-bounds.below-minimum');\n          }\n          return null;\n        }\n\n        var maximum = this.maximum();\n        if (maximum !== undefined && maximum !== null && result > maximum) {\n          if (typeof error === 'function') {\n            error('number-formatter.out-of-bounds.above-maximum');\n          }\n          return null;\n        }\n      }\n\n      return result;\n    }\n\n    /**\n     * @param {string} string\n     * @param {function(string)} error\n     * @returns {?number} returns value with delimiters removed\n     * @private\n     */\n  }, {\n    key: '_parseAbsoluteValue',\n    value: function _parseAbsoluteValue(string, error) {\n      var number;\n      if (string.length === 0) {\n        if (typeof error === 'function') {\n          error('number-formatter.invalid-format');\n        }\n        return null;\n      }\n\n      var parts = string.split(this.decimalSeparator());\n      if (parts.length > 2) {\n        if (typeof error === 'function') {\n          error('number-formatter.invalid-format');\n        }\n        return null;\n      }\n\n      var integerPart = parts[0];\n      var fractionPart = parts[1] || '';\n\n      if (this.usesGroupingSeparator()) {\n        var groupingSize = this.groupingSize();\n        var groupParts = integerPart.split(this.groupingSeparator());\n\n        if (!this.isLenient()) {\n          if (groupParts.length > 1) {\n            // disallow 1000,000\n            if (groupParts[0].length > groupingSize) {\n              if (typeof error === 'function') {\n                error('number-formatter.invalid-format.grouping-size');\n              }\n              return null;\n            }\n\n            // disallow 1,00\n            var groupPartsTail = groupParts.slice(1);\n            for (var i = 0, l = groupPartsTail.length; i < l; i++) {\n              if (groupPartsTail[i].length !== groupingSize) {\n                if (typeof error === 'function') {\n                  error('number-formatter.invalid-format.grouping-size');\n                }\n                return null;\n              }\n            }\n          }\n        }\n\n        // remove grouping separators\n        integerPart = groupParts.join('');\n      }\n\n      if (!(0, _utils.isDigits)(integerPart) || !(0, _utils.isDigits)(fractionPart)) {\n        if (typeof error === 'function') {\n          error('number-formatter.invalid-format');\n        }\n        return null;\n      }\n\n      var exponent = this.exponent();\n      if (exponent !== undefined && exponent !== null) {\n        var shifted = (0, _stround.shiftParts)([false, integerPart, fractionPart], -exponent);\n        integerPart = shifted[1];\n        fractionPart = shifted[2];\n      }\n\n      number = Number(integerPart) + Number('.' + (fractionPart || '0'));\n\n      if (!this.allowsFloats() && number !== ~ ~number) {\n        if (typeof error === 'function') {\n          error('number-formatter.floats-not-allowed');\n        }\n        return null;\n      }\n\n      return number;\n    }\n\n    /**\n     * Gets defaults.\n     *\n     * @returns {Array}\n     * @private\n     */\n  }, {\n    key: '_currencyDefaults',\n    value: function _currencyDefaults() {\n      var result = {};\n\n      (0, _utils.forEach)(CurrencyDefaults['default'], function (value, key) {\n        result[key] = value;\n      });\n\n      (0, _utils.forEach)(CurrencyDefaults[this.currencyCode()], function (value, key) {\n        result[key] = value;\n      });\n\n      return result;\n    }\n\n    /**\n     * Gets defaults.\n     *\n     * @returns {Array}\n     * @private\n     */\n  }, {\n    key: '_regionDefaults',\n    value: function _regionDefaults() {\n      var result = {};\n\n      (0, _utils.forEach)(RegionDefaults['default'], function (value, key) {\n        result[key] = value;\n      });\n\n      (0, _utils.forEach)(RegionDefaults[this.countryCode()], function (value, key) {\n        result[key] = value;\n      });\n\n      return result;\n    }\n\n    /**\n     * Gets defaults.\n     *\n     * @returns {Array}\n     * @private\n     */\n  }, {\n    key: '_localeDefaults',\n    value: function _localeDefaults() {\n      var locale = this.locale();\n      var countryCode = this.countryCode();\n      var lang = splitLocaleComponents(locale).lang;\n      var result = {};\n\n      var defaultFallbacks = [RegionDefaults['default'], LocaleDefaults['default'], RegionDefaults[countryCode], // CA\n      LocaleDefaults[lang], // fr\n      LocaleDefaults[locale] // fr-CA\n      ];\n\n      (0, _utils.forEach)(defaultFallbacks, function (defaults) {\n        (0, _utils.forEach)(defaults, function (value, key) {\n          result[key] = value;\n        });\n      });\n\n      return result;\n    }\n  }]);\n\n  return NumberFormatter;\n})(_formatter2['default']);\n\nNumberFormatter.prototype._allowsFloats = null;\n/** @private */\nNumberFormatter.prototype._alwaysShowsDecimalSeparator = null;\n/** @private */\nNumberFormatter.prototype._countryCode = null;\n/** @private */\nNumberFormatter.prototype._currencyCode = null;\n/** @private */\nNumberFormatter.prototype._exponent = null;\n/** @private */\nNumberFormatter.prototype._groupingSeparator = null;\n/** @private */\nNumberFormatter.prototype._groupingSize = null;\n/** @private */\nNumberFormatter.prototype._lenient = false;\n/** @private */\nNumberFormatter.prototype._locale = null;\n/** @private */\nNumberFormatter.prototype._internationalCurrencySymbol = null;\n/** @private */\nNumberFormatter.prototype._maximumFractionDigits = null;\n/** @private */\nNumberFormatter.prototype._minimumFractionDigits = null;\n/** @private */\nNumberFormatter.prototype._maximumIntegerDigits = null;\n/** @private */\nNumberFormatter.prototype._minimumIntegerDigits = null;\n/** @private */\nNumberFormatter.prototype._maximum = null;\n/** @private */\nNumberFormatter.prototype._minimum = null;\n/** @private */\nNumberFormatter.prototype._notANumberSymbol = null;\n/** @private */\nNumberFormatter.prototype._nullSymbol = null;\n/** @private */\nNumberFormatter.prototype._numberStyle = null;\n/** @private */\nNumberFormatter.prototype._roundingMode = null;\n/** @private */\nNumberFormatter.prototype._usesGroupingSeparator = null;\n/** @private */\nNumberFormatter.prototype._zeroSymbol = null;\n\n/**\n * Aliases\n */\n\nNumberFormatter.prototype.stringFromNumber = NumberFormatter.prototype.format;\nNumberFormatter.prototype.numberFromString = NumberFormatter.prototype.parse;\n\nNumberFormatter.Rounding = _stround.modes;\n\n/**\n * @enum {number}\n * @readonly\n */\nNumberFormatter.Style = {\n  NONE: NONE,\n  CURRENCY: CURRENCY,\n  PERCENT: PERCENT\n};\n\n/**\n * @namespace StyleDefaults\n */\nvar StyleDefaults = {\n  NONE: {\n    usesGroupingSeparator: false,\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n    minimumIntegerDigits: 0\n  },\n  PERCENT: {\n    usesGroupingSeparator: false,\n    exponent: 2,\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n    minimumIntegerDigits: 1,\n    positiveSuffix: function positiveSuffix(formatter) {\n      return formatter.percentSymbol();\n    },\n    negativeSuffix: function negativeSuffix(formatter) {\n      return formatter.percentSymbol();\n    }\n  },\n  CURRENCY: {\n    positivePrefix: function positivePrefix(formatter, locale) {\n      return get(locale, 'positiveCurrencyPrefix', formatter, this);\n    },\n    positiveSuffix: function positiveSuffix(formatter, locale) {\n      return get(locale, 'positiveCurrencySuffix', formatter, this);\n    },\n    negativePrefix: function negativePrefix(formatter, locale) {\n      return get(locale, 'negativeCurrencyPrefix', formatter, this);\n    },\n    negativeSuffix: function negativeSuffix(formatter, locale) {\n      return get(locale, 'negativeCurrencySuffix', formatter, this);\n    }\n  }\n};\n\n/**\n * Contains the default values for various number formatter settings, including\n * per-locale overrides. Some of these characters will not be used as-is and\n * instead serve as placeholders:\n *\n *   \"\"  placeholder for `currencySymbol()`.\n *   \"-\"  placeholder for `minusSign()`.\n *   \"+\"  placeholder for `plusSign()`.\n *\n * @namespace LocaleDefaults\n */\nvar LocaleDefaults = {\n  'default': {\n    allowsFloats: true,\n    alwaysShowsDecimalSeparator: false,\n    decimalSeparator: '.',\n    groupingSeparator: ',',\n    groupingSize: 3,\n    minusSign: '-',\n    negativeInfinitySymbol: '-',\n    negativePrefix: '-',\n    negativeSuffix: '',\n    notANumberSymbol: 'NaN',\n    nullSymbol: '',\n    percentSymbol: '%',\n    positiveInfinitySymbol: '+',\n    positivePrefix: '',\n    positiveSuffix: '',\n    plusSign: '+',\n    roundingMode: NumberFormatter.Rounding.HALF_EVEN,\n    positiveCurrencyPrefix: '',\n    positiveCurrencySuffix: '',\n    negativeCurrencyPrefix: '(',\n    negativeCurrencySuffix: ')'\n  },\n  fr: {\n    decimalSeparator: ',',\n    groupingSeparator: ' ',\n    percentSymbol: ' %',\n    positiveCurrencyPrefix: '',\n    positiveCurrencySuffix: ' ',\n    negativeCurrencyPrefix: '(',\n    negativeCurrencySuffix: ' )'\n  },\n  ja: {\n    negativeCurrencyPrefix: '-',\n    negativeCurrencySuffix: ''\n  },\n  'en-GB': {\n    negativeCurrencyPrefix: '-',\n    negativeCurrencySuffix: ''\n  }\n};\n\n/**\n * @namespace RegionDefaults\n */\nvar RegionDefaults = {\n  AE: {\n    currencyCode: 'AED'\n  },\n  AG: {\n    currencyCode: 'XCD'\n  },\n  AI: {\n    currencyCode: 'XCD'\n  },\n  AL: {\n    currencyCode: 'ALL'\n  },\n  AM: {\n    currencyCode: 'AMD'\n  },\n  AO: {\n    currencyCode: 'AOA'\n  },\n  AR: {\n    currencyCode: 'ARS'\n  },\n  AT: {\n    currencyCode: 'EUR'\n  },\n  AU: {\n    currencyCode: 'AUD'\n  },\n  AW: {\n    currencyCode: 'AWG'\n  },\n  AZ: {\n    currencyCode: 'AZN'\n  },\n  BA: {\n    currencyCode: 'BAM'\n  },\n  BB: {\n    currencyCode: 'BBD'\n  },\n  BD: {\n    currencyCode: 'BDT'\n  },\n  BE: {\n    currencyCode: 'EUR'\n  },\n  BF: {\n    currencyCode: 'XOF'\n  },\n  BG: {\n    currencyCode: 'BGN'\n  },\n  BH: {\n    currencyCode: 'BHD'\n  },\n  BJ: {\n    currencyCode: 'XOF'\n  },\n  BM: {\n    currencyCode: 'BMD'\n  },\n  BN: {\n    currencyCode: 'BND'\n  },\n  BO: {\n    currencyCode: 'BOB'\n  },\n  BR: {\n    currencyCode: 'BRL'\n  },\n  BS: {\n    currencyCode: 'BSD'\n  },\n  BT: {\n    currencyCode: 'BTN'\n  },\n  BW: {\n    currencyCode: 'BWP'\n  },\n  BY: {\n    currencyCode: 'BYR'\n  },\n  BZ: {\n    currencyCode: 'BZD'\n  },\n  CA: {\n    currencyCode: 'CAD'\n  },\n  CG: {\n    currencyCode: 'CDF'\n  },\n  CH: {\n    currencyCode: 'CHF'\n  },\n  CI: {\n    currencyCode: 'XOF'\n  },\n  CL: {\n    currencyCode: 'CLP'\n  },\n  CM: {\n    currencyCode: 'XAF'\n  },\n  CN: {\n    currencyCode: 'CNY'\n  },\n  CO: {\n    currencyCode: 'COP'\n  },\n  CR: {\n    currencyCode: 'CRC'\n  },\n  CV: {\n    currencyCode: 'CVE'\n  },\n  CY: {\n    currencyCode: 'EUR'\n  },\n  CZ: {\n    currencyCode: 'CZK'\n  },\n  DE: {\n    currencyCode: 'EUR'\n  },\n  DK: {\n    currencyCode: 'DKK'\n  },\n  DM: {\n    currencyCode: 'XCD'\n  },\n  DO: {\n    currencyCode: 'DOP'\n  },\n  DZ: {\n    currencyCode: 'DZD'\n  },\n  EC: {\n    currencyCode: 'USD'\n  },\n  EE: {\n    currencyCode: 'EUR'\n  },\n  EG: {\n    currencyCode: 'EGP'\n  },\n  ES: {\n    currencyCode: 'EUR'\n  },\n  ET: {\n    currencyCode: 'ETB'\n  },\n  FI: {\n    currencyCode: 'EUR'\n  },\n  FJ: {\n    currencyCode: 'FJD'\n  },\n  FM: {\n    currencyCode: 'USD'\n  },\n  FR: {\n    currencyCode: 'EUR'\n  },\n  GA: {\n    currencyCode: 'XAF'\n  },\n  GB: {\n    currencyCode: 'GBP'\n  },\n  GD: {\n    currencyCode: 'XCD'\n  },\n  GE: {\n    currencyCode: 'GEL'\n  },\n  GH: {\n    currencyCode: 'GHS'\n  },\n  GI: {\n    currencyCode: 'GIP'\n  },\n  GM: {\n    currencyCode: 'GMD'\n  },\n  GR: {\n    currencyCode: 'EUR'\n  },\n  GT: {\n    currencyCode: 'GTQ'\n  },\n  GU: {\n    currencyCode: 'USD'\n  },\n  GW: {\n    currencyCode: 'XOF'\n  },\n  GY: {\n    currencyCode: 'GYD'\n  },\n  HK: {\n    currencyCode: 'HKD'\n  },\n  HN: {\n    currencyCode: 'HNL'\n  },\n  HR: {\n    currencyCode: 'HRK'\n  },\n  HT: {\n    currencyCode: 'HTG'\n  },\n  HU: {\n    currencyCode: 'HUF'\n  },\n  ID: {\n    currencyCode: 'IDR'\n  },\n  IE: {\n    currencyCode: 'EUR'\n  },\n  IL: {\n    currencyCode: 'ILS'\n  },\n  IN: {\n    currencyCode: 'INR'\n  },\n  IS: {\n    currencyCode: 'ISK'\n  },\n  IT: {\n    currencyCode: 'EUR'\n  },\n  JM: {\n    currencyCode: 'JMD'\n  },\n  JO: {\n    currencyCode: 'JOD'\n  },\n  JP: {\n    currencyCode: 'JPY'\n  },\n  KE: {\n    currencyCode: 'KES'\n  },\n  KG: {\n    currencyCode: 'KGS'\n  },\n  KH: {\n    currencyCode: 'KHR'\n  },\n  KN: {\n    currencyCode: 'XCD'\n  },\n  KR: {\n    currencyCode: 'KRW'\n  },\n  KW: {\n    currencyCode: 'KWD'\n  },\n  KY: {\n    currencyCode: 'KYD'\n  },\n  KZ: {\n    currencyCode: 'KZT'\n  },\n  LA: {\n    currencyCode: 'LAK'\n  },\n  LB: {\n    currencyCode: 'LBP'\n  },\n  LC: {\n    currencyCode: 'XCD'\n  },\n  LI: {\n    currencyCode: 'CHF'\n  },\n  LK: {\n    currencyCode: 'LKR'\n  },\n  LR: {\n    currencyCode: 'LRD'\n  },\n  LT: {\n    currencyCode: 'LTL'\n  },\n  LU: {\n    currencyCode: 'EUR'\n  },\n  LV: {\n    currencyCode: 'EUR'\n  },\n  MA: {\n    currencyCode: 'MAD'\n  },\n  MD: {\n    currencyCode: 'MDL'\n  },\n  MG: {\n    currencyCode: 'MGA'\n  },\n  MK: {\n    currencyCode: 'MKD'\n  },\n  ML: {\n    currencyCode: 'XOF'\n  },\n  MM: {\n    currencyCode: 'MMK'\n  },\n  MN: {\n    currencyCode: 'MNT'\n  },\n  MO: {\n    currencyCode: 'MOP'\n  },\n  MP: {\n    currencyCode: 'USD'\n  },\n  MR: {\n    currencyCode: 'MRO'\n  },\n  MS: {\n    currencyCode: 'XCD'\n  },\n  MT: {\n    currencyCode: 'EUR'\n  },\n  MU: {\n    currencyCode: 'MUR'\n  },\n  MW: {\n    currencyCode: 'MWK'\n  },\n  MX: {\n    currencyCode: 'MXN'\n  },\n  MY: {\n    currencyCode: 'MYR'\n  },\n  MZ: {\n    currencyCode: 'MZN'\n  },\n  NA: {\n    currencyCode: 'NAD'\n  },\n  NE: {\n    currencyCode: 'XOF'\n  },\n  NG: {\n    currencyCode: 'NGN'\n  },\n  NI: {\n    currencyCode: 'NIO'\n  },\n  NL: {\n    currencyCode: 'EUR'\n  },\n  NO: {\n    currencyCode: 'NOK'\n  },\n  NP: {\n    currencyCode: 'NPR'\n  },\n  NZ: {\n    currencyCode: 'NZD'\n  },\n  OM: {\n    currencyCode: 'OMR'\n  },\n  PA: {\n    currencyCode: 'PAB'\n  },\n  PE: {\n    currencyCode: 'PEN'\n  },\n  PG: {\n    currencyCode: 'PGK'\n  },\n  PH: {\n    currencyCode: 'PHP'\n  },\n  PK: {\n    currencyCode: 'PKR'\n  },\n  PL: {\n    currencyCode: 'PLN'\n  },\n  PR: {\n    currencyCode: 'USD'\n  },\n  PT: {\n    currencyCode: 'EUR'\n  },\n  PW: {\n    currencyCode: 'USD'\n  },\n  PY: {\n    currencyCode: 'PYG'\n  },\n  QA: {\n    currencyCode: 'QAR'\n  },\n  RO: {\n    currencyCode: 'RON'\n  },\n  RS: {\n    currencyCode: 'RSD'\n  },\n  RU: {\n    currencyCode: 'RUB'\n  },\n  RW: {\n    currencyCode: 'RWF'\n  },\n  SA: {\n    currencyCode: 'SAR'\n  },\n  SB: {\n    currencyCode: 'SBD'\n  },\n  SC: {\n    currencyCode: 'SCR'\n  },\n  SE: {\n    currencyCode: 'SEK'\n  },\n  SG: {\n    currencyCode: 'SGD'\n  },\n  SI: {\n    currencyCode: 'EUR'\n  },\n  SK: {\n    currencyCode: 'EUR'\n  },\n  SL: {\n    currencyCode: 'SLL'\n  },\n  SN: {\n    currencyCode: 'XOF'\n  },\n  SR: {\n    currencyCode: 'SRD'\n  },\n  ST: {\n    currencyCode: 'STD'\n  },\n  SV: {\n    currencyCode: 'SVC'\n  },\n  SZ: {\n    currencyCode: 'SZL'\n  },\n  TC: {\n    currencyCode: 'USD'\n  },\n  TD: {\n    currencyCode: 'XAF'\n  },\n  TG: {\n    currencyCode: 'XOF'\n  },\n  TH: {\n    currencyCode: 'THB'\n  },\n  TJ: {\n    currencyCode: 'TJS'\n  },\n  TM: {\n    currencyCode: 'TMT'\n  },\n  TN: {\n    currencyCode: 'TND'\n  },\n  TR: {\n    currencyCode: 'TRY'\n  },\n  TT: {\n    currencyCode: 'TTD'\n  },\n  TW: {\n    currencyCode: 'TWD'\n  },\n  TZ: {\n    currencyCode: 'TZS'\n  },\n  UA: {\n    currencyCode: 'UAH'\n  },\n  UG: {\n    currencyCode: 'UGX'\n  },\n  US: {\n    currencyCode: 'USD'\n  },\n  UY: {\n    currencyCode: 'UYU'\n  },\n  UZ: {\n    currencyCode: 'UZS'\n  },\n  VC: {\n    currencyCode: 'XCD'\n  },\n  VE: {\n    currencyCode: 'VEF'\n  },\n  VG: {\n    currencyCode: 'USD'\n  },\n  VI: {\n    currencyCode: 'USD'\n  },\n  VN: {\n    currencyCode: 'VND'\n  },\n  YE: {\n    currencyCode: 'YER'\n  },\n  ZA: {\n    currencyCode: 'ZAR'\n  },\n  ZM: {\n    currencyCode: 'ZMW'\n  },\n  ZW: {\n    currencyCode: 'USD'\n  }\n};\n\n/**\n * @namespace CurrencyDefaults\n */\nvar CurrencyDefaults = {\n  'default': {\n    currencySymbol: function currencySymbol(formatter) {\n      return formatter.currencyCode();\n    },\n    internationalCurrencySymbol: function internationalCurrencySymbol(formatter) {\n      return formatter.currencyCode();\n    },\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n    minimumIntegerDigits: 1,\n    usesGroupingSeparator: true\n  },\n  AED: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.'\n  },\n  ALL: {\n    currencySymbol: 'L',\n    internationalCurrencySymbol: 'L'\n  },\n  AMD: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.'\n  },\n  AOA: {\n    currencySymbol: 'Kz',\n    internationalCurrencySymbol: 'Kz'\n  },\n  ARS: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  AUD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  AWG: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  AZN: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  BAM: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  BBD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  BDT: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  BGN: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  BHD: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.',\n    minimumFractionDigits: 3,\n    maximumFractionDigits: 3\n  },\n  BMD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  BND: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  BOB: {\n    currencySymbol: 'Bs.',\n    internationalCurrencySymbol: 'Bs.'\n  },\n  BRL: {\n    currencySymbol: 'R$',\n    internationalCurrencySymbol: 'R$'\n  },\n  BSD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  BTN: {\n    currencySymbol: 'Nu.',\n    internationalCurrencySymbol: 'Nu.'\n  },\n  BWP: {\n    currencySymbol: 'P',\n    internationalCurrencySymbol: 'P'\n  },\n  BYR: {\n    currencySymbol: 'Br',\n    internationalCurrencySymbol: 'Br'\n  },\n  BZD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  CAD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  CDF: {\n    currencySymbol: 'Fr',\n    internationalCurrencySymbol: 'Fr'\n  },\n  CHF: {\n    currencySymbol: 'Fr',\n    internationalCurrencySymbol: 'Fr'\n  },\n  CLP: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  },\n  CNY: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  COP: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  CRC: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  CVE: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  CZK: {\n    currencySymbol: 'K',\n    internationalCurrencySymbol: 'K'\n  },\n  DKK: {\n    currencySymbol: 'kr',\n    internationalCurrencySymbol: 'kr'\n  },\n  DOP: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  DZD: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.'\n  },\n  EGP: {\n    currencySymbol: 'E',\n    internationalCurrencySymbol: 'E'\n  },\n  ETB: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  EUR: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  FJD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  GBP: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  GEL: {\n    currencySymbol: ',',\n    internationalCurrencySymbol: ','\n  },\n  GHS: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  GIP: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  GMD: {\n    currencySymbol: 'D',\n    internationalCurrencySymbol: 'D'\n  },\n  GTQ: {\n    currencySymbol: 'Q',\n    internationalCurrencySymbol: 'Q'\n  },\n  GYD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  HKD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  HNL: {\n    currencySymbol: 'L',\n    internationalCurrencySymbol: 'L'\n  },\n  HRK: {\n    currencySymbol: 'kn',\n    internationalCurrencySymbol: 'kn'\n  },\n  HTG: {\n    currencySymbol: 'G',\n    internationalCurrencySymbol: 'G'\n  },\n  HUF: {\n    currencySymbol: 'Ft',\n    internationalCurrencySymbol: 'Ft'\n  },\n  IDR: {\n    currencySymbol: 'Rp',\n    internationalCurrencySymbol: 'Rp'\n  },\n  ILS: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  INR: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  ISK: {\n    currencySymbol: 'kr',\n    internationalCurrencySymbol: 'kr'\n  },\n  JMD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  JOD: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.',\n    minimumFractionDigits: 3,\n    maximumFractionDigits: 3\n  },\n  JPY: {\n    currencySymbol: '',\n    internationalCurrencySymbol: '',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  },\n  KES: {\n    currencySymbol: 'KSh',\n    internationalCurrencySymbol: 'KSh'\n  },\n  KGS: {\n    currencySymbol: 'som',\n    internationalCurrencySymbol: 'som'\n  },\n  KHR: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  KRW: {\n    currencySymbol: '',\n    internationalCurrencySymbol: '',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  },\n  KWD: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.',\n    minimumFractionDigits: 3,\n    maximumFractionDigits: 3\n  },\n  KYD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  KZT: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  LAK: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  LBP: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.'\n  },\n  LKR: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  LRD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  LTL: {\n    currencySymbol: 'Lt',\n    internationalCurrencySymbol: 'Lt'\n  },\n  MAD: {\n    currencySymbol: '..',\n    internationalCurrencySymbol: '..'\n  },\n  MDL: {\n    currencySymbol: 'L',\n    internationalCurrencySymbol: 'L'\n  },\n  MGA: {\n    currencySymbol: 'Ar',\n    internationalCurrencySymbol: 'Ar',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  },\n  MKD: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  MMK: {\n    currencySymbol: 'K',\n    internationalCurrencySymbol: 'K'\n  },\n  MNT: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  MOP: {\n    currencySymbol: 'P',\n    internationalCurrencySymbol: 'P'\n  },\n  MRO: {\n    currencySymbol: 'UM',\n    internationalCurrencySymbol: 'UM',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  },\n  MUR: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  MWK: {\n    currencySymbol: 'MK',\n    internationalCurrencySymbol: 'MK'\n  },\n  MXN: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  MYR: {\n    currencySymbol: 'RM',\n    internationalCurrencySymbol: 'RM'\n  },\n  MZN: {\n    currencySymbol: 'MTn',\n    internationalCurrencySymbol: 'MTn'\n  },\n  NAD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  NGN: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  NIO: {\n    currencySymbol: 'C$',\n    internationalCurrencySymbol: 'C$'\n  },\n  NOK: {\n    currencySymbol: 'kr',\n    internationalCurrencySymbol: 'kr'\n  },\n  NPR: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  NZD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  OMR: {\n    currencySymbol: '..',\n    internationalCurrencySymbol: '..',\n    minimumFractionDigits: 3,\n    maximumFractionDigits: 3\n  },\n  PAB: {\n    currencySymbol: 'B/.',\n    internationalCurrencySymbol: 'B/.'\n  },\n  PEN: {\n    currencySymbol: 'S/.',\n    internationalCurrencySymbol: 'S/.'\n  },\n  PGK: {\n    currencySymbol: 'K',\n    internationalCurrencySymbol: 'K'\n  },\n  PHP: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  PKR: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  PLN: {\n    currencySymbol: 'z',\n    internationalCurrencySymbol: 'z'\n  },\n  PYG: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  QAR: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.'\n  },\n  RON: {\n    currencySymbol: 'Lei',\n    internationalCurrencySymbol: 'Lei'\n  },\n  RSD: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  RUB: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  RWF: {\n    currencySymbol: 'FRw',\n    internationalCurrencySymbol: 'FRw'\n  },\n  SAR: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.'\n  },\n  SBD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  SCR: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  SEK: {\n    currencySymbol: 'kr',\n    internationalCurrencySymbol: 'kr'\n  },\n  SGD: {\n    currencySymbol: 'S$',\n    internationalCurrencySymbol: 'S$'\n  },\n  SLL: {\n    currencySymbol: 'Le',\n    internationalCurrencySymbol: 'Le'\n  },\n  SRD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  STD: {\n    currencySymbol: 'Db',\n    internationalCurrencySymbol: 'Db'\n  },\n  SVC: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  SZL: {\n    currencySymbol: 'E',\n    internationalCurrencySymbol: 'E'\n  },\n  THB: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  TJS: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  TMT: {\n    currencySymbol: 'm',\n    internationalCurrencySymbol: 'm'\n  },\n  TND: {\n    currencySymbol: '.',\n    internationalCurrencySymbol: '.',\n    minimumFractionDigits: 3,\n    maximumFractionDigits: 3\n  },\n  TRY: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  TTD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  TWD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  TZS: {\n    currencySymbol: 'Sh',\n    internationalCurrencySymbol: 'Sh'\n  },\n  UAH: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  UGX: {\n    currencySymbol: 'USh',\n    internationalCurrencySymbol: 'USh'\n  },\n  USD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: 'US$'\n  },\n  UYU: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  UZS: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  VEF: {\n    currencySymbol: 'Bs F',\n    internationalCurrencySymbol: 'Bs F'\n  },\n  VND: {\n    currencySymbol: '',\n    internationalCurrencySymbol: '',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  },\n  XAF: {\n    currencySymbol: 'Fr',\n    internationalCurrencySymbol: 'Fr'\n  },\n  XCD: {\n    currencySymbol: '$',\n    internationalCurrencySymbol: '$'\n  },\n  XOF: {\n    currencySymbol: 'Fr',\n    internationalCurrencySymbol: 'Fr'\n  },\n  YER: {\n    currencySymbol: '',\n    internationalCurrencySymbol: ''\n  },\n  ZAR: {\n    currencySymbol: 'R',\n    internationalCurrencySymbol: 'R'\n  },\n  ZMW: {\n    currencySymbol: 'ZMK',\n    internationalCurrencySymbol: 'ZMK'\n  }\n};\n\nexports['default'] = NumberFormatter;\nmodule.exports = exports['default'];\n\n},{\"./formatter\":14,\"./number_formatter_settings_formatter\":17,\"./utils\":22,\"stround\":3}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _formatter = require('./formatter');\n\nvar _formatter2 = _interopRequireDefault(_formatter);\n\nvar NumberFormatterSettings = function NumberFormatterSettings() {\n  _classCallCheck(this, NumberFormatterSettings);\n\n  /** @type boolean */\n  this.alwaysShowsDecimalSeparator = false;\n\n  /** @type number */\n  this.groupingSize = 0;\n\n  /** @type number */\n  this.maximumFractionDigits = 0;\n\n  /** @type number */\n  this.minimumFractionDigits = 0;\n\n  /** @type number */\n  this.minimumIntegerDigits = 0;\n\n  /** @type string */\n  this.prefix = '';\n\n  /** @type string */\n  this.suffix = '';\n\n  /** @type boolean */\n  this.usesGroupingSeparator = false;\n}\n\n/**\n * Returns a string composed of the given character repeated `length` times.\n *\n * @param {string} character\n * @param {number} length\n * @returns {string}\n * @private\n */\n;\n\nfunction chars(character, length) {\n  return new Array(length + 1).join(character);\n}\n\n/**\n * @const\n * @private\n */\nvar DIGIT = '#';\n\n/**\n * @const\n * @private\n */\nvar PADDING = '0';\n\n/**\n * @const\n * @private\n */\nvar DECIMAL_SEPARATOR = '.';\n\n/**\n * @const\n * @private\n */\nvar GROUPING_SEPARATOR = ',';\n\nvar NumberFormatterSettingsFormatter = (function (_Formatter) {\n  _inherits(NumberFormatterSettingsFormatter, _Formatter);\n\n  function NumberFormatterSettingsFormatter() {\n    _classCallCheck(this, NumberFormatterSettingsFormatter);\n\n    _get(Object.getPrototypeOf(NumberFormatterSettingsFormatter.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(NumberFormatterSettingsFormatter, [{\n    key: 'format',\n\n    /**\n     * @param {NumberFormatterSettings} settings\n     * @returns {string}\n     */\n    value: function format(settings) {\n      var result = '';\n\n      var minimumIntegerDigits = settings.minimumIntegerDigits;\n      if (minimumIntegerDigits !== 0) {\n        result += chars(PADDING, minimumIntegerDigits);\n      }\n\n      result = DIGIT + result;\n\n      if (settings.usesGroupingSeparator) {\n        while (result.length <= settings.groupingSize) {\n          result = DIGIT + result;\n        }\n\n        result = result.slice(0, -settings.groupingSize) + GROUPING_SEPARATOR + result.slice(-settings.groupingSize);\n      }\n\n      var minimumFractionDigits = settings.minimumFractionDigits;\n      var maximumFractionDigits = settings.maximumFractionDigits;\n      var hasFractionalPart = settings.alwaysShowsDecimalSeparator || minimumFractionDigits > 0 || maximumFractionDigits > 0;\n\n      if (hasFractionalPart) {\n        result += DECIMAL_SEPARATOR;\n        for (var i = 0, length = maximumFractionDigits; i < length; i++) {\n          result += i < minimumFractionDigits ? PADDING : DIGIT;\n        }\n      }\n\n      return settings.prefix + result + settings.suffix;\n    }\n\n    /**\n     * @param {string} string\n     * @returns {?NumberFormatterSettings}\n     */\n  }, {\n    key: 'parse',\n    value: function parse(string) {\n      var result = new NumberFormatterSettings();\n\n      var hasPassedPrefix = false;\n      var hasStartedSuffix = false;\n      var decimalSeparatorIndex = null;\n      var groupingSeparatorIndex = null;\n      var lastIntegerDigitIndex = null;\n\n      for (var i = 0, length = string.length; i < length; i++) {\n        var c = string[i];\n\n        switch (c) {\n          case DIGIT:\n            if (hasStartedSuffix) {\n              return null;\n            }\n            hasPassedPrefix = true;\n            if (decimalSeparatorIndex !== null) {\n              result.maximumFractionDigits++;\n            }\n            break;\n\n          case PADDING:\n            if (hasStartedSuffix) {\n              return null;\n            }\n            hasPassedPrefix = true;\n            if (decimalSeparatorIndex === null) {\n              result.minimumIntegerDigits++;\n            } else {\n              result.minimumFractionDigits++;\n              result.maximumFractionDigits++;\n            }\n            break;\n\n          case DECIMAL_SEPARATOR:\n            if (hasStartedSuffix) {\n              return null;\n            }\n            hasPassedPrefix = true;\n            decimalSeparatorIndex = i;\n            lastIntegerDigitIndex = i - 1;\n            break;\n\n          case GROUPING_SEPARATOR:\n            if (hasStartedSuffix) {\n              return null;\n            }\n            hasPassedPrefix = true;\n            groupingSeparatorIndex = i;\n            break;\n\n          default:\n            if (hasPassedPrefix) {\n              hasStartedSuffix = true;\n              result.suffix += c;\n            } else {\n              result.prefix += c;\n            }\n        }\n      }\n\n      if (decimalSeparatorIndex === null) {\n        lastIntegerDigitIndex = length - 1;\n      }\n\n      if (decimalSeparatorIndex === length - 1) {\n        result.alwaysShowsDecimalSeparator = true;\n      }\n\n      if (groupingSeparatorIndex !== null) {\n        result.groupingSize = lastIntegerDigitIndex - groupingSeparatorIndex;\n        result.usesGroupingSeparator = true;\n      }\n\n      return result;\n    }\n  }]);\n\n  return NumberFormatterSettingsFormatter;\n})(_formatter2['default']);\n\nexports['default'] = NumberFormatterSettingsFormatter;\nmodule.exports = exports['default'];\n\n},{\"./formatter\":14}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _delimited_text_formatter = require('./delimited_text_formatter');\n\nvar _delimited_text_formatter2 = _interopRequireDefault(_delimited_text_formatter);\n\n/**\n * @const\n * @private\n */\nvar NANPPhoneDelimiters = {\n  0: '(',\n  4: ')',\n  5: ' ',\n  9: '-'\n};\n\n/**\n * @const\n * @private\n */\nvar NANPPhoneDelimitersWithOne = {\n  1: ' ',\n  2: '(',\n  6: ')',\n  7: ' ',\n  11: '-'\n};\n\n/**\n * @const\n * @private\n */\nvar NANPPhoneDelimitersWithPlus = {\n  2: ' ',\n  3: '(',\n  7: ')',\n  8: ' ',\n  12: '-'\n};\n\n/**\n * This should match any characters in the maps above.\n *\n * @const\n * @private\n */\nvar DELIMITER_PATTERN = /[-\\(\\) ]/g;\n\n/**\n * @extends DelimitedTextFormatter\n */\n\nvar PhoneFormatter = (function (_DelimitedTextFormatter) {\n  _inherits(PhoneFormatter, _DelimitedTextFormatter);\n\n  /**\n   * @throws {Error} if anything is passed in\n   * @param {Array} args\n   */\n\n  function PhoneFormatter() {\n    _classCallCheck(this, PhoneFormatter);\n\n    _get(Object.getPrototypeOf(PhoneFormatter.prototype), 'constructor', this).call(this);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length !== 0) {\n      throw new Error('were you trying to set a delimiter (' + args[0] + ')?');\n    }\n  }\n\n  /**\n   * @param {string} chr\n   * @returns {boolean}\n   */\n\n  _createClass(PhoneFormatter, [{\n    key: 'isDelimiter',\n    value: function isDelimiter(chr) {\n      var map = this.delimiterMap;\n      for (var index in map) {\n        if (map.hasOwnProperty(index)) {\n          if (map[index] === chr) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n\n    /**\n     * @param {number} index\n     * @returns {?string}\n     */\n  }, {\n    key: 'delimiterAt',\n    value: function delimiterAt(index) {\n      return this.delimiterMap[index];\n    }\n\n    /**\n     * @param {number} index\n     * @returns {boolean}\n     */\n  }, {\n    key: 'hasDelimiterAtIndex',\n    value: function hasDelimiterAtIndex(index) {\n      var delimiter = this.delimiterAt(index);\n      return delimiter !== undefined && delimiter !== null;\n    }\n\n    /**\n     * Will call parse on the formatter.\n     *\n     * @param {string} text\n     * @param {function(string)} error\n     * @returns {string} returns value with delimiters removed\n     */\n  }, {\n    key: 'parse',\n    value: function parse(text, error) {\n      if (!error) {\n        error = function () {};\n      }\n      var digits = this.digitsWithoutCountryCode(text);\n      // Source: http://en.wikipedia.org/wiki/North_American_Numbering_Plan\n      //\n      // Area Code\n      if (text.length < 10) {\n        error('phone-formatter.number-too-short');\n      }\n      if (digits[0] === '0') {\n        error('phone-formatter.area-code-zero');\n      }\n      if (digits[0] === '1') {\n        error('phone-formatter.area-code-one');\n      }\n      if (digits[1] === '9') {\n        error('phone-formatter.area-code-n9n');\n      }\n      // Central Office Code\n      if (digits[3] === '1') {\n        error('phone-formatter.central-office-one');\n      }\n      if (digits.slice(4, 6) === '11') {\n        error('phone-formatter.central-office-n11');\n      }\n      return _get(Object.getPrototypeOf(PhoneFormatter.prototype), 'parse', this).call(this, text, error);\n    }\n\n    /**\n     * @param {string} value\n     * @returns {string}\n     */\n  }, {\n    key: 'format',\n    value: function format(value) {\n      this.guessFormatFromText(value);\n      return _get(Object.getPrototypeOf(PhoneFormatter.prototype), 'format', this).call(this, this.removeDelimiterMapChars(value));\n    }\n\n    /**\n     * Determines whether the given change should be allowed and, if so, whether\n     * it should be altered.\n     *\n     * @param {TextFieldStateChange} change\n     * @param {function(string)} error\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isChangeValid',\n    value: function isChangeValid(change, error) {\n      this.guessFormatFromText(change.proposed.text);\n\n      if (change.inserted.text.length > 1) {\n        // handle pastes\n        var text = change.current.text;\n        var selectedRange = change.current.selectedRange;\n        var toInsert = change.inserted.text;\n\n        // Replace the selection with the new text, remove non-digits, then format.\n        var formatted = this.format((text.slice(0, selectedRange.start) + toInsert + text.slice(selectedRange.start + selectedRange.length)).replace(/[^\\d]/g, ''));\n\n        change.proposed = {\n          text: formatted,\n          selectedRange: {\n            start: formatted.length - (text.length - (selectedRange.start + selectedRange.length)),\n            length: 0\n          }\n        };\n\n        return _get(Object.getPrototypeOf(PhoneFormatter.prototype), 'isChangeValid', this).call(this, change, error);\n      }\n\n      if (/^\\d*$/.test(change.inserted.text) || change.proposed.text.indexOf('+') === 0) {\n        return _get(Object.getPrototypeOf(PhoneFormatter.prototype), 'isChangeValid', this).call(this, change, error);\n      } else {\n        return false;\n      }\n    }\n\n    /**\n     * Re-configures this formatter to use the delimiters appropriate\n     * for the given text.\n     *\n     * @param {string} text A potentially formatted string containing a phone number.\n     * @private\n     */\n  }, {\n    key: 'guessFormatFromText',\n    value: function guessFormatFromText(text) {\n      if (text && text[0] === '+') {\n        this.delimiterMap = NANPPhoneDelimitersWithPlus;\n        this.maximumLength = 1 + 1 + 10 + 5;\n      } else if (text && text[0] === '1') {\n        this.delimiterMap = NANPPhoneDelimitersWithOne;\n        this.maximumLength = 1 + 10 + 5;\n      } else {\n        this.delimiterMap = NANPPhoneDelimiters;\n        this.maximumLength = 10 + 4;\n      }\n    }\n\n    /**\n     * Gives back just the phone number digits as a string without the\n     * country code. Future-proofing internationalization where the country code\n     * isn't just +1.\n     *\n     * @param {string} text\n     * @private\n     */\n  }, {\n    key: 'digitsWithoutCountryCode',\n    value: function digitsWithoutCountryCode(text) {\n      var digits = (text || '').replace(/[^\\d]/g, '');\n      var extraDigits = digits.length - 10;\n      if (extraDigits > 0) {\n        digits = digits.substr(extraDigits);\n      }\n      return digits;\n    }\n\n    /**\n     * Removes characters from the phone number that will be added\n     * by the formatter.\n     *\n     * @param {string} text\n     * @private\n     */\n  }, {\n    key: 'removeDelimiterMapChars',\n    value: function removeDelimiterMapChars(text) {\n      return (text || '').replace(DELIMITER_PATTERN, '');\n    }\n  }]);\n\n  return PhoneFormatter;\n})(_delimited_text_formatter2['default']);\n\nexports['default'] = PhoneFormatter;\nmodule.exports = exports['default'];\n\n},{\"./delimited_text_formatter\":10}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _delimited_text_formatter = require('./delimited_text_formatter');\n\nvar _delimited_text_formatter2 = _interopRequireDefault(_delimited_text_formatter);\n\n/**\n * @const\n * @private\n */\nvar DIGITS_PATTERN = /^\\d*$/;\n\n/**\n * @extends DelimitedTextFormatter\n */\n\nvar SocialSecurityNumberFormatter = (function (_DelimitedTextFormatter) {\n  _inherits(SocialSecurityNumberFormatter, _DelimitedTextFormatter);\n\n  function SocialSecurityNumberFormatter() {\n    _classCallCheck(this, SocialSecurityNumberFormatter);\n\n    _get(Object.getPrototypeOf(SocialSecurityNumberFormatter.prototype), 'constructor', this).call(this, '-');\n    this.maximumLength = 9 + 2;\n  }\n\n  /**\n   * @param {number} index\n   * @returns {boolean}\n   */\n\n  _createClass(SocialSecurityNumberFormatter, [{\n    key: 'hasDelimiterAtIndex',\n    value: function hasDelimiterAtIndex(index) {\n      return index === 3 || index === 6;\n    }\n\n    /**\n     * Determines whether the given change should be allowed and, if so, whether\n     * it should be altered.\n     *\n     * @param {TextFieldStateChange} change\n     * @param {function(string)} error\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isChangeValid',\n    value: function isChangeValid(change, error) {\n      if (DIGITS_PATTERN.test(change.inserted.text)) {\n        return _get(Object.getPrototypeOf(SocialSecurityNumberFormatter.prototype), 'isChangeValid', this).call(this, change, error);\n      } else {\n        return false;\n      }\n    }\n  }]);\n\n  return SocialSecurityNumberFormatter;\n})(_delimited_text_formatter2['default']);\n\nexports['default'] = SocialSecurityNumberFormatter;\nmodule.exports = exports['default'];\n\n},{\"./delimited_text_formatter\":10}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _formatter = require('./formatter');\n\nvar _formatter2 = _interopRequireDefault(_formatter);\n\nvar _undo_manager = require('./undo_manager');\n\nvar _undo_manager2 = _interopRequireDefault(_undo_manager);\n\nvar _utils = require('./utils');\n\nvar _caret = require('./caret');\n\n/**\n * Simulates input behavior.\n *\n * @external InputSim\n * @see https://github.com/iamJoeTaylor/input-sim\n */\n\nvar _inputSim = require('input-sim');\n\n/**\n * TextField is the simplest input and the base for more complex\n * types to inherit.\n *\n * @extends external:InputSim.Input\n */\n\nvar TextField = (function (_Input) {\n  _inherits(TextField, _Input);\n\n  /**\n   * Sets up the initial properties of the TextField and\n   * sets  up the event listeners\n   *\n   * @param {HTMLElement} element\n   * @param {Formatter} formatter\n   */\n\n  function TextField(element, formatter) {\n    _classCallCheck(this, TextField);\n\n    _get(Object.getPrototypeOf(TextField.prototype), 'constructor', this).call(this);\n\n    var caret = (0, _caret.getCaret)(element);\n    if (typeof element.get === 'function') {\n      console.warn('DEPRECATION: FieldKit.TextField instances should no longer be ' + 'created with a jQuery-wrapped element.');\n      element = element.get(0);\n    }\n    this.element = element;\n    this._formatter = formatter;\n    this._enabled = true;\n    this._manualCaret = { start: 0, end: 0 };\n    this._placeholder = null;\n    this._disabledPlaceholder = null;\n    this._focusedPlaceholder = null;\n    this._unfocusedPlaceholder = null;\n    this._isDirty = false;\n    this._valueOnFocus = '';\n    this._currentValue = '';\n    this._blur = (0, _utils.bind)(this._blur, this);\n    this._focus = (0, _utils.bind)(this._focus, this);\n    this._click = (0, _utils.bind)(this._click, this);\n    this._paste = (0, _utils.bind)(this._paste, this);\n    this._keyUp = (0, _utils.bind)(this._keyUp, this);\n    this._keyPress = (0, _utils.bind)(this._keyPress, this);\n    this._keyDown = (0, _utils.bind)(this._keyDown, this);\n    if (element['field-kit-text-field']) {\n      throw new Error('already attached a TextField to this element');\n    } else {\n      element['field-kit-text-field'] = this;\n    }\n    element.addEventListener('keydown', this._keyDown);\n    element.addEventListener('keypress', this._keyPress);\n    element.addEventListener('keyup', this._keyUp);\n    element.addEventListener('click', this._click);\n    element.addEventListener('paste', this._paste);\n    element.addEventListener('focus', this._focus);\n    element.addEventListener('blur', this._blur);\n\n    if (!element.getAttribute('autocapitalize')) {\n      element.setAttribute('autocapitalize', 'off');\n    }\n\n    var window = element.ownerDocument.defaultView;\n\n    /**\n     * Fixes caret bug (Android) that caused the input\n     * to place inserted characters in the wrong place\n     * Expected: 1234 5678|  =>  1234 5678 9|\n     * Bug: 1234 5678|  =>  1234 5679| 8\n     *\n     * @private\n     */\n    this._needsManualCaret = window.navigator.userAgent.toLowerCase().indexOf('android') > -1;\n\n    this.setText(element.value);\n\n    this.setSelectedRange({\n      start: caret.start,\n      length: caret.end - caret.start\n    });\n  }\n\n  /**\n   * Helps calculate the changes after an event on a FieldKit.TextField.\n   *\n   * @private\n   */\n\n  /**\n   * **** Public Events ****\n   */\n\n  /**\n   * Called when the user has changed the text of the field. Can be used in\n   * subclasses to perform actions suitable for this event.\n   *\n   * @private\n   */\n\n  _createClass(TextField, [{\n    key: 'textDidChange',\n    value: function textDidChange() {}\n\n    /**\n     * Called when the user has in some way declared that they are done editing,\n     * such as leaving the field or perhaps pressing enter. Can be used in\n     * subclasses to perform actions suitable for this event.\n     *\n     * @private\n     */\n  }, {\n    key: 'textFieldDidEndEditing',\n    value: function textFieldDidEndEditing() {}\n\n    /**\n     * Performs actions necessary for beginning editing.\n     *\n     * @private\n     */\n  }, {\n    key: 'textFieldDidBeginEditing',\n    value: function textFieldDidBeginEditing() {}\n\n    /**\n     * **** Private Events ****\n     */\n\n    /**\n     * Performs actions necessary for text change.\n     *\n     * @private\n     */\n  }, {\n    key: '_textDidChange',\n    value: function _textDidChange() {\n      var delegate = this._delegate;\n      this.textDidChange();\n      if (delegate && typeof delegate.textDidChange === 'function') {\n        delegate.textDidChange(this);\n      }\n\n      // manually fire the HTML5 input event\n      this._fireEvent('input');\n    }\n\n    /**\n     * Performs actions necessary for ending editing.\n     *\n     * @private\n     */\n  }, {\n    key: '_textFieldDidEndEditing',\n    value: function _textFieldDidEndEditing() {\n      var delegate = this._delegate;\n      this.textFieldDidEndEditing();\n      if (delegate && typeof delegate.textFieldDidEndEditing === 'function') {\n        delegate.textFieldDidEndEditing(this);\n      }\n\n      // manually fire the HTML5 change event, only when a change has been made since focus\n      if (this._isDirty && this._valueOnFocus !== this.element.value) {\n        this._fireEvent('change');\n      }\n\n      // reset the dirty property\n      this._isDirty = false;\n      this._valueOnFocus = '';\n    }\n\n    /**\n     * Performs actions necessary for beginning editing.\n     *\n     * @private\n     */\n  }, {\n    key: '_textFieldDidBeginEditing',\n    value: function _textFieldDidBeginEditing() {\n      var delegate = this._delegate;\n      this.textFieldDidBeginEditing();\n      if (delegate && typeof delegate.textFieldDidBeginEditing === 'function') {\n        delegate.textFieldDidBeginEditing(this);\n      }\n    }\n\n    /**\n     * **** Public Methods ****\n     */\n\n    /**\n     * Gets the current delegate for this text field.\n     *\n     * @returns {TextFieldDelegate}\n     */\n  }, {\n    key: 'delegate',\n    value: function delegate() {\n      return this._delegate;\n    }\n\n    /**\n     * Sets the current delegate for this text field.\n     *\n     * @param {TextFieldDelegate} delegate\n     */\n  }, {\n    key: 'setDelegate',\n    value: function setDelegate(delegate) {\n      this._delegate = delegate;\n    }\n\n    /**\n     * Tears down FieldKit\n     */\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var element = this.element;\n      element.removeEventListener('keydown', this._keyDown);\n      element.removeEventListener('keypress', this._keyPress);\n      element.removeEventListener('keyup', this._keyUp);\n      element.removeEventListener('click', this._click);\n      element.removeEventListener('paste', this._paste);\n      element.removeEventListener('focus', this._focus);\n      element.removeEventListener('blur', this._blur);\n      delete element['field-kit-text-field'];\n    }\n\n    /**\n     * Gets the current formatter. Formatters are used to translate between text\n     * and value properties of the field.\n     *\n     * @returns {Formatter}\n     */\n  }, {\n    key: 'formatter',\n    value: function formatter() {\n      if (!this._formatter) {\n        this._formatter = new _formatter2['default']();\n        var maximumLengthString = this.element.getAttribute('maxlength');\n        if (maximumLengthString !== undefined && maximumLengthString !== null) {\n          this._formatter.maximumLength = parseInt(maximumLengthString, 10);\n        }\n      }\n\n      return this._formatter;\n    }\n\n    /**\n     * Sets the current formatter.\n     *\n     * @param {Formatter} formatter\n     */\n  }, {\n    key: 'setFormatter',\n    value: function setFormatter(formatter) {\n      var value = this.value();\n      this._formatter = formatter;\n      this.setValue(value);\n    }\n\n    /**\n     * Builds a change instance and formats the change to see if it's valid\n     *\n     * @param   {object} current\n     * @param   {object} proposed\n     * @returns {?object} false if change doesn't have changes or change isn't valid. Change object if it is.\n     */\n  }, {\n    key: 'hasChangesAndIsValid',\n    value: function hasChangesAndIsValid(current, proposed) {\n      var _this = this;\n\n      var change = new TextFieldStateChange(this);\n      var error = function error(errorType) {\n        var delegate = _this.delegate();\n        if (delegate) {\n          if (typeof delegate.textFieldDidFailToValidateChange === 'function') {\n            delegate.textFieldDidFailToValidateChange(_this, change, errorType);\n          }\n        }\n      };\n      change.current = { text: current.text, selectedRange: current.selectedRange };\n      change.proposed = { text: proposed.text, selectedRange: proposed.selectedRange };\n      if (change.hasChanges() && this.formatter().isChangeValid(change, error)) {\n        return change;\n      }\n      return null;\n    }\n\n    /**\n     * Handles a key event could be trying to end editing.\n     *\n     */\n  }, {\n    key: 'insertNewline',\n    value: function insertNewline() {\n      this._textFieldDidEndEditing();\n      this._didEndEditingButKeptFocus = true;\n    }\n\n    /**\n     * Debug support\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'inspect',\n    value: function inspect() {\n      return '#<TextField text=\"' + this.text() + '\">';\n    }\n\n    /**\n     * Replaces the current selection with text from the given pasteboard.\n     *\n     * @param {DataTransfer} pasteboard\n     */\n  }, {\n    key: 'readSelectionFromPasteboard',\n    value: function readSelectionFromPasteboard(pasteboard) {\n      var range, text;\n      text = pasteboard.getData('Text');\n      this.replaceSelection(text);\n      range = this.selectedRange();\n      range.start += range.length;\n      range.length = 0;\n      this.setSelectedRange(range);\n    }\n\n    /**\n     * Checks changes after invoking the passed function for validity and rolls\n     * them back if the changes turned out to be invalid.\n     *\n     * @returns {Object} whatever object `callback` returns\n     */\n  }, {\n    key: 'rollbackInvalidChanges',\n    value: function rollbackInvalidChanges(callback) {\n      var result = null;\n      var errorType = null;\n      var change = TextFieldStateChange.build(this, function () {\n        return result = callback();\n      });\n      var error = function error(type) {\n        errorType = type;\n      };\n      if (change.hasChanges()) {\n        var formatter = this.formatter();\n        if (formatter && typeof formatter.isChangeValid === 'function') {\n          if (!this._isDirty) {\n            this._valueOnFocus = change.current.text || '';\n            this._isDirty = true;\n          }\n          if (formatter.isChangeValid(change, error)) {\n            change.recomputeDiff();\n            this.setText(change.proposed.text);\n            this.setSelectedRange(change.proposed.selectedRange);\n          } else {\n            var delegate = this.delegate();\n            if (delegate) {\n              if (typeof delegate.textFieldDidFailToValidateChange === 'function') {\n                delegate.textFieldDidFailToValidateChange(this, change, errorType);\n              }\n            }\n            this.setText(change.current.text);\n            this.setSelectedRange(change.current.selectedRange);\n            return result;\n          }\n        }\n        if (change.inserted.text.length || change.deleted.text.length) {\n          this.undoManager().proxyFor(this)._applyChangeFromUndoManager(change);\n          this._textDidChange();\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the object value. This is the value that should be considered the\n     * 'real' value of the field.\n     *\n     * @returns {Object}\n     */\n  }, {\n    key: 'value',\n    value: function value() {\n      var _this2 = this;\n\n      var text = this.text();\n      var delegate = this.delegate();\n      var formatter = this.formatter();\n      if (!formatter) {\n        return text;\n      }\n\n      return formatter.parse(text, function (errorType) {\n        if (delegate) {\n          if (typeof delegate.textFieldDidFailToParseString === 'function') {\n            delegate.textFieldDidFailToParseString(_this2, text, errorType);\n          }\n        }\n      });\n    }\n\n    /**\n     * Sets the object value of the field.\n     *\n     * @param {string} value\n     */\n  }, {\n    key: 'setValue',\n    value: function setValue(value) {\n      if (this._formatter) {\n        value = this._formatter.format(value);\n      }\n      this.setText('' + value);\n    }\n\n    /**\n     * **** InputSim Overrides ****\n     */\n\n    /**\n     * Gets the formatted text value. This is the same as the value of the\n     * underlying input element.\n     *\n     * @augments external:InputSim.Input#text\n     * @returns {string}\n     */\n  }, {\n    key: 'text',\n    value: function text() {\n      return this.element.value;\n    }\n\n    /**\n     * Sets the formatted text value. This generally should not be used. Instead,\n     * use the value setter.\n     *\n     * @augments external:InputSim.Input#setText\n     * @param {string} text\n     */\n  }, {\n    key: 'setText',\n    value: function setText(text) {\n      this.element.value = text;\n      this._currentValue = text;\n    }\n\n    /**\n     * Gets the range of the current selection.\n     *\n     * @augments external:InputSim.Input#selectedRange\n     * @returns {Object} {start: number, length: number}\n     */\n  }, {\n    key: 'selectedRange',\n    value: function selectedRange() {\n      var caret = this._needsManualCaret ? this._manualCaret : (0, _caret.getCaret)(this.element);\n\n      return {\n        start: caret.start,\n        length: caret.end - caret.start\n      };\n    }\n\n    /**\n     * Sets the range of the current selection and the selection affinity.\n     *\n     * @augments external:InputSim.Input#setSelectedRangeWithAffinity\n     * @param {{start: number, length: number}} range\n     * @param {Affinity} affinity\n     */\n  }, {\n    key: 'setSelectedRangeWithAffinity',\n    value: function setSelectedRangeWithAffinity(range, affinity) {\n      var newRange = _get(Object.getPrototypeOf(TextField.prototype), 'setSelectedRangeWithAffinity', this).call(this, range, affinity);\n      var caret = {\n        start: newRange.start,\n        end: newRange.start + newRange.length\n      };\n      this._manualCaret = caret;\n      (0, _caret.setCaret)(this.element, caret.start, caret.end);\n      this.selectionAffinity = range.length === 0 ? null : affinity;\n    }\n\n    /**\n     * **** Undo Support ****\n     */\n\n    /**\n     * Gets whether this text field records undo actions with its undo manager.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: 'allowsUndo',\n    value: function allowsUndo() {\n      return this._allowsUndo;\n    }\n\n    /**\n     * Sets whether this text field records undo actions with its undo manager.\n     *\n     * @param {boolean} allowsUndo\n     */\n  }, {\n    key: 'setAllowsUndo',\n    value: function setAllowsUndo(allowsUndo) {\n      this._allowsUndo = allowsUndo;\n    }\n\n    /**\n     * Triggers a redo in the underlying UndoManager, if applicable.\n     *\n     * @param {Event} event\n     */\n  }, {\n    key: 'redo',\n    value: function redo(event) {\n      if (this.undoManager().canRedo()) {\n        this.undoManager().redo();\n      }\n      event.preventDefault();\n    }\n\n    /**\n     * Triggers an undo in the underlying UndoManager, if applicable.\n     *\n     * @param {Event} event\n     */\n  }, {\n    key: 'undo',\n    value: function undo(event) {\n      if (this.undoManager().canUndo()) {\n        this.undoManager().undo();\n      }\n      event.preventDefault();\n    }\n\n    /**\n     * Gets the UndoManager for this text field.\n     *\n     * @returns {UndoManager}\n     */\n  }, {\n    key: 'undoManager',\n    value: function undoManager() {\n      return this._undoManager || (this._undoManager = new _undo_manager2['default']());\n    }\n\n    /**\n     * **** Enabled/disabled support *****\n     */\n\n    /**\n     * Removes focus from this field if it has focus.\n     */\n  }, {\n    key: 'becomeFirstResponder',\n    value: function becomeFirstResponder() {\n      var _this3 = this;\n\n      this.element.focus();\n      this.rollbackInvalidChanges(function () {\n        _this3.element.select();\n        _this3._syncPlaceholder();\n      });\n    }\n\n    /**\n     * Determines whether this field has focus.\n     *\n     * @returns {boolean} true if this field has focus\n     */\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return this.element.ownerDocument.activeElement === this.element;\n    }\n\n    /**\n     * Determines whether this field is enabled or disabled.\n     *\n     * @returns {boolean} true if this field is enabled\n     */\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return this._enabled;\n    }\n\n    /**\n     * Sets whether this text field is enabled\n     * and syncs the placeholder to match\n     *\n     * @param {boolean} enabled\n     */\n  }, {\n    key: 'setEnabled',\n    value: function setEnabled(enabled) {\n      this._enabled = enabled;\n      this._syncPlaceholder();\n    }\n\n    /**\n     * Removes focus from this field if it has focus.\n     *\n     * @param {Event} event\n     */\n  }, {\n    key: 'resignFirstResponder',\n    value: function resignFirstResponder(event) {\n      if (event !== undefined && event !== null) {\n        event.preventDefault();\n      }\n      this.element.blur();\n      this._syncPlaceholder();\n    }\n\n    /*\n     * **** Placeholder support ****\n     */\n\n    /**\n     * Gets the disabled placeholder if one\n     * has been set.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'disabledPlaceholder',\n    value: function disabledPlaceholder() {\n      return this._disabledPlaceholder;\n    }\n\n    /**\n     * Sets the disabled placeholder.\n     *\n     * @param {string} disabledPlaceholder\n     */\n  }, {\n    key: 'setDisabledPlaceholder',\n    value: function setDisabledPlaceholder(disabledPlaceholder) {\n      this._disabledPlaceholder = disabledPlaceholder;\n      this._syncPlaceholder();\n    }\n\n    /**\n     * Gets the focused placeholder if one\n     * has been set.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'focusedPlaceholder',\n    value: function focusedPlaceholder() {\n      return this._focusedPlaceholder;\n    }\n\n    /**\n     * Sets the focused placeholder.\n     *\n     * @param {string} focusedPlaceholder\n     */\n  }, {\n    key: 'setFocusedPlaceholder',\n    value: function setFocusedPlaceholder(focusedPlaceholder) {\n      this._focusedPlaceholder = focusedPlaceholder;\n      this._syncPlaceholder();\n    }\n\n    /**\n     * Gets the placeholder if one has\n     * been set.\n     *\n     * @TODO Does this do anything?\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'placeholder',\n    value: function placeholder() {\n      return this._placeholder;\n    }\n\n    /**\n     * Sets the placeholder.\n     *\n     * @param {string} placeholder\n     */\n  }, {\n    key: 'setPlaceholder',\n    value: function setPlaceholder(placeholder) {\n      this._placeholder = placeholder;\n      this.element.setAttribute('placeholder', this._placeholder);\n    }\n\n    /**\n     * Gets the unfocused placeholder if one\n     * has been set.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: 'unfocusedPlaceholder',\n    value: function unfocusedPlaceholder() {\n      return this._unfocusedPlaceholder;\n    }\n\n    /**\n     * Sets the unfocused placeholder.\n     *\n     * @param {string} unfocusedPlaceholder\n     */\n  }, {\n    key: 'setUnfocusedPlaceholder',\n    value: function setUnfocusedPlaceholder(unfocusedPlaceholder) {\n      this._unfocusedPlaceholder = unfocusedPlaceholder;\n      this._syncPlaceholder();\n    }\n\n    /**\n     * **** Private Methods ****\n     */\n\n    /**\n     * Applies the given change as an undo/redo.\n     *\n     * @param {Object} change object with current and proposed properties\n     * @private\n     */\n  }, {\n    key: '_applyChangeFromUndoManager',\n    value: function _applyChangeFromUndoManager(change) {\n      this.undoManager().proxyFor(this)._applyChangeFromUndoManager(change);\n\n      if (this.undoManager().isUndoing()) {\n        this.setText(change.current.text);\n        this.setSelectedRange(change.current.selectedRange);\n      } else {\n        this.setText(change.proposed.text);\n        this.setSelectedRange(change.proposed.selectedRange);\n      }\n\n      this._textDidChange();\n    }\n\n    /**\n     * Handles clicks by resetting the selection affinity.\n     *\n     * @private\n     */\n  }, {\n    key: '_click',\n    value: function _click() {\n      this._manualCaret = (0, _caret.getCaret)(this.element);\n      this._selectedRange = {\n        start: this._manualCaret.start,\n        length: this._manualCaret.end - this._manualCaret.start\n      };\n      this.selectionAffinity = null;\n    }\n\n    /**\n     * Fires event on the element\n     *\n     * @param {string} eventType\n     * @private\n     */\n  }, {\n    key: '_fireEvent',\n    value: function _fireEvent(eventType) {\n      var document = this.element.ownerDocument;\n      var window = document.defaultView;\n      if (typeof window.CustomEvent === 'function') {\n        this.element.dispatchEvent(new window.CustomEvent(eventType, {}));\n      } else {\n        var event = document.createEvent('Event');\n        event.initEvent(eventType, false, false);\n        this.element.dispatchEvent(event);\n      }\n    }\n\n    /**\n     * Handles gaining focus. This method delegates to other methods, and syncs\n     * the placeholder appropriately.\n     *\n     * @private\n     */\n  }, {\n    key: '_focus',\n    value: function _focus() {\n      this._textFieldDidBeginEditing();\n      this._syncPlaceholder();\n    }\n\n    /**\n     * Handles losing focus. This method delegates to other methods, and syncs the\n     * placeholder appropriately.\n     *\n     * @private\n     */\n  }, {\n    key: '_blur',\n    value: function _blur() {\n      this._textFieldDidEndEditing();\n      this._syncPlaceholder();\n    }\n\n    /**\n     * Handles keyDown events. This method essentially just delegates to other,\n     * more semantic, methods based on the modifier keys and the pressed key of the\n     * event.\n     *\n     * @param {Event} event\n     * @private\n     */\n  }, {\n    key: '_keyDown',\n    value: function _keyDown(event) {\n      var _this4 = this;\n\n      if (this._didEndEditingButKeptFocus) {\n        this._textFieldDidBeginEditing();\n        this._didEndEditingButKeptFocus = false;\n      }\n\n      var action = this._bindings.actionForEvent(event);\n      if (action) {\n        switch (action) {\n          case 'undo':\n          case 'redo':\n            this[action](event);\n            break;\n\n          default:\n            this.rollbackInvalidChanges(function () {\n              return _this4[action](event);\n            });\n            break;\n        }\n      }\n    }\n\n    /**\n     * Handles inserting characters based on the typed key for normal keyboards.\n     *\n     * NOTE: Does not fire on some versions of Android, in which case we handle\n     * changes in _keyUp instead.\n     *\n     * @param {Event} event\n     * @private\n     */\n  }, {\n    key: '_keyPress',\n    value: function _keyPress(event) {\n      var _this5 = this;\n\n      var keyCode = event.keyCode;\n      if (!event.metaKey && !event.ctrlKey && keyCode !== _inputSim.KEYS.ENTER && keyCode !== _inputSim.KEYS.TAB && keyCode !== _inputSim.KEYS.BACKSPACE) {\n        if (event.charCode !== 0) {\n          (function () {\n            var newText = String.fromCharCode(event.charCode || event.keyCode);\n\n            _this5._processChange({\n              currentText: _this5.text(),\n              proposedText: (0, _utils.replaceStringSelection)(newText, _this5.text(), _this5.selectedRange()),\n              onSuccess: function onSuccess(change, changeTriggeredFormatting) {\n                if (!changeTriggeredFormatting && event instanceof KeyboardEvent) {\n                  // HACK(JoeTaylor) Use Browser's native input when using the formatter\n                  // would not make a difference https://code.google.com/p/chromium/issues/detail?id=32865\n                  if (!_this5._isDirty) {\n                    _this5._valueOnFocus = change.current.text || '';\n                    _this5._isDirty = true;\n                  }\n                  _this5.undoManager().proxyFor(_this5)._applyChangeFromUndoManager(change);\n                  _this5._textDidChange();\n                } else {\n                  event.preventDefault();\n                  _this5.rollbackInvalidChanges(function () {\n                    return _this5.insertText(newText);\n                  });\n                }\n                _this5._currentValue = change.proposed.text;\n              },\n              onFail: function onFail() {\n                event.preventDefault();\n                _this5.rollbackInvalidChanges(function () {\n                  return _this5.insertText(newText);\n                });\n              }\n            });\n          })();\n        } else {\n          event.preventDefault();\n        }\n      }\n    }\n\n    /**\n     * Handles keyup events. On Some Android we need to do all input processing\n     * here because no other information comes in.\n     *\n     * @param {Event} event\n     * @private\n     */\n  }, {\n    key: '_keyUp',\n    value: function _keyUp(event) {\n      var _this6 = this;\n\n      var keyCode = event.keyCode;\n      // NOTE: Certain Androids on Chrome always return 229\n      // https://code.google.com/p/chromium/issues/detail?id=118639\n      if (keyCode === 229) {\n        (function () {\n          // Text has already been changed at this point, so we check the previous text\n          // to determine whether we need to undo the change.\n          var previousText = _this6._currentValue || '';\n          _this6._processChange({\n            currentText: previousText,\n            proposedText: _this6.text(),\n            onSuccess: function onSuccess(change, changeTriggeredFormatting) {\n              if (changeTriggeredFormatting) {\n                var newText = change.proposed.text;\n                _this6.setSelectedRange(change.proposed.selectedRange);\n                _this6.setText(newText);\n              }\n              if (!_this6._isDirty) {\n                _this6._valueOnFocus = change.current.text || '';\n                _this6._isDirty = true;\n              }\n              _this6.undoManager().proxyFor(_this6)._applyChangeFromUndoManager(change);\n              _this6._textDidChange();\n              _this6._currentValue = change.proposed.text;\n            },\n            onFail: function onFail() {\n              // Need to rollback the letter input in the Keyup event because it is not valid,\n              // so we set text to the previous state (as collected from the UndoManager).\n              _this6.setText(previousText);\n            }\n          });\n        })();\n      } else {\n        this.rollbackInvalidChanges(function () {\n          if (event.keyCode === _inputSim.KEYS.TAB) {\n            _this6.selectAll(event);\n          }\n        });\n      }\n    }\n\n    /**\n     * Checks if a change is valid and calls `onSuccess` if so,\n     * and `onFail` if not.\n     *\n     * @param {object} options\n     * @param {string} options.currentText\n     * @param {string} options.proposedText\n     * @param {function} options.onSuccess\n     * @param {function=} options.onFail\n     * @private\n     */\n  }, {\n    key: '_processChange',\n    value: function _processChange(_ref) {\n      var currentText = _ref.currentText;\n      var proposedText = _ref.proposedText;\n      var onSuccess = _ref.onSuccess;\n      var _ref$onFail = _ref.onFail;\n      var onFail = _ref$onFail === undefined ? function () {} : _ref$onFail;\n\n      var current = {\n        text: currentText,\n        selectedRange: this.selectedRange()\n      };\n      var proposed = {\n        text: proposedText,\n        selectedRange: { start: current.selectedRange.start + 1, length: 0 }\n      };\n      var change = this.hasChangesAndIsValid(current, proposed);\n      var changeTriggeredFormatting = change && (change.proposed.text !== proposed.text || change.proposed.selectedRange.start !== proposed.selectedRange.start || change.proposed.selectedRange.length !== proposed.selectedRange.length);\n\n      if (change) {\n        onSuccess(change, changeTriggeredFormatting);\n      } else {\n        onFail();\n      }\n    }\n\n    /**\n     * Handles paste events.\n     *\n     * @param {Event} event\n     * @private\n     */\n  }, {\n    key: '_paste',\n    value: function _paste(event) {\n      var _this7 = this;\n\n      event.preventDefault();\n      this.rollbackInvalidChanges(function () {\n        _this7.readSelectionFromPasteboard(event.clipboardData);\n      });\n    }\n\n    /**\n     * @private\n     */\n  }, {\n    key: '_syncPlaceholder',\n    value: function _syncPlaceholder() {\n      if (!this._enabled) {\n        var disabledPlaceholder = this._disabledPlaceholder;\n        if (disabledPlaceholder !== undefined && disabledPlaceholder !== null) {\n          this.setPlaceholder(disabledPlaceholder);\n        }\n      } else if (this.hasFocus()) {\n        var focusedPlaceholder = this._focusedPlaceholder;\n        if (focusedPlaceholder !== undefined && focusedPlaceholder !== null) {\n          this.setPlaceholder(focusedPlaceholder);\n        }\n      } else {\n        var unfocusedPlaceholder = this._unfocusedPlaceholder;\n        if (unfocusedPlaceholder !== undefined && unfocusedPlaceholder !== null) {\n          this.setPlaceholder(unfocusedPlaceholder);\n        }\n      }\n    }\n  }]);\n\n  return TextField;\n})(_inputSim.Input);\n\nvar TextFieldStateChange = (function () {\n  /**\n   * @param {TextField} field\n   */\n\n  function TextFieldStateChange(field) {\n    _classCallCheck(this, TextFieldStateChange);\n\n    this.field = field;\n  }\n\n  /**\n   * Builds a new {TextFieldStateChange} that will allow you to\n   * compute differences, and see the current vs proposed changes.\n   *\n   * @param {TextField} field\n   * @param {Function} callback called when you want changes to the field\n   *    take place. Current will be calculated before this callback.\n   *    Proposed will be calculated after this callback.\n   *\n   * @returns {Object} change object with current and proposed properties\n   */\n\n  /**\n   * Determines whether this field has changes.\n   *\n   * @returns {boolean} true if either the current text doesn't match the proposed text\n   *    or the current selection range doesn't match the proposed selection range\n   */\n\n  _createClass(TextFieldStateChange, [{\n    key: 'hasChanges',\n    value: function hasChanges() {\n      this.recomputeDiff();\n      return this.current.text !== this.proposed.text || this.current.selectedRange.start !== this.proposed.selectedRange.start || this.current.selectedRange.length !== this.proposed.selectedRange.length;\n    }\n\n    /**\n     * Updates {TextFieldStateChange} inserted and {TextFieldStateChange} deleted\n     * based on proposed and current\n     */\n  }, {\n    key: 'recomputeDiff',\n    value: function recomputeDiff() {\n      if (this.proposed.text !== this.current.text) {\n        var ctext = this.current.text;\n        var ptext = this.proposed.text;\n        var sharedPrefixLength = 0;\n        var sharedSuffixLength = 0;\n        var minTextLength = Math.min(ctext.length, ptext.length);\n        var i;\n\n        for (i = 0; i < minTextLength; i++) {\n          if (ptext[i] === ctext[i]) {\n            sharedPrefixLength = i + 1;\n          } else {\n            break;\n          }\n        }\n\n        for (i = 0; i < minTextLength - sharedPrefixLength; i++) {\n          if (ptext[ptext.length - 1 - i] === ctext[ctext.length - 1 - i]) {\n            sharedSuffixLength = i + 1;\n          } else {\n            break;\n          }\n        }\n\n        var inserted = {\n          start: sharedPrefixLength,\n          end: ptext.length - sharedSuffixLength\n        };\n        var deleted = {\n          start: sharedPrefixLength,\n          end: ctext.length - sharedSuffixLength\n        };\n        inserted.text = ptext.substring(inserted.start, inserted.end);\n        deleted.text = ctext.substring(deleted.start, deleted.end);\n        this.inserted = inserted;\n        this.deleted = deleted;\n      } else {\n        this.inserted = {\n          start: this.proposed.selectedRange.start,\n          end: this.proposed.selectedRange.start + this.proposed.selectedRange.length,\n          text: ''\n        };\n        this.deleted = {\n          start: this.current.selectedRange.start,\n          end: this.current.selectedRange.start + this.current.selectedRange.length,\n          text: ''\n        };\n      }\n    }\n  }]);\n\n  return TextFieldStateChange;\n})();\n\nTextFieldStateChange.build = function (field, callback) {\n  var change = new this(field);\n  change.current = {\n    text: field.text(),\n    selectedRange: field.selectedRange()\n  };\n  callback();\n  change.proposed = {\n    text: field.text(),\n    selectedRange: field.selectedRange()\n  };\n  change.recomputeDiff();\n  return change;\n};\n\nexports['default'] = TextField;\nmodule.exports = exports['default'];\n\n},{\"./caret\":8,\"./formatter\":14,\"./undo_manager\":21,\"./utils\":22,\"input-sim\":2}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _utils = require('./utils');\n\n/**\n * UndoManager is a general-purpose recorder of operations for undo and redo.\n *\n * Registering an undo action is done by specifying the changed object, along\n * with a method to invoke to revert its state and the arguments for that\n * method. When performing undo an UndoManager saves the operations reverted so\n * that you can redo the undos.\n */\n\nvar UndoManager = (function () {\n  function UndoManager() {\n    _classCallCheck(this, UndoManager);\n\n    /** @private */\n    this._undos = [];\n    /** @private */\n    this._redos = [];\n    /** @private */\n    this._isUndoing = false;\n    /** @private */\n    this._isRedoing = false;\n  }\n\n  /**\n   * Determines whether there are any undo actions on the stack.\n   *\n   * @returns {boolean}\n   */\n\n  _createClass(UndoManager, [{\n    key: 'canUndo',\n    value: function canUndo() {\n      return this._undos.length !== 0;\n    }\n\n    /**\n     * Determines whether there are any redo actions on the stack.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: 'canRedo',\n    value: function canRedo() {\n      return this._redos.length !== 0;\n    }\n\n    /**\n     * Indicates whether or not this manager is currently processing an undo.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isUndoing',\n    value: function isUndoing() {\n      return this._isUndoing;\n    }\n\n    /**\n     * Indicates whether or not this manager is currently processing a redo.\n     *\n     * @returns {boolean}\n     */\n  }, {\n    key: 'isRedoing',\n    value: function isRedoing() {\n      return this._isRedoing;\n    }\n\n    /**\n     * Manually registers an simple undo action with the given args.\n     *\n     * If this undo manager is currently undoing then this will register a redo\n     * action instead. If this undo manager is neither undoing or redoing then the\n     * redo stack will be cleared.\n     *\n     * @param {Object} target call `selector` on this object\n     * @param {string} selector the method name to call on `target`\n     * @param {...Object} args arguments to pass when calling `selector` on `target`\n     */\n  }, {\n    key: 'registerUndo',\n    value: function registerUndo(target, selector) {\n      for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n\n      if (this._isUndoing) {\n        this._appendRedo.apply(this, [target, selector].concat(args));\n      } else {\n        if (!this._isRedoing) {\n          this._redos.length = 0;\n        }\n        this._appendUndo.apply(this, [target, selector].concat(args));\n      }\n    }\n\n    /**\n     * Appends an undo action to the internal stack.\n     *\n     * @param {Object} target call `selector` on this object\n     * @param {string} selector the method name to call on `target`\n     * @param {...Object} args arguments to pass when calling `selector` on `target`\n     * @private\n     */\n  }, {\n    key: '_appendUndo',\n    value: function _appendUndo(target, selector) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      this._undos.push({\n        target: target,\n        selector: selector,\n        args: args\n      });\n    }\n\n    /**\n     * Appends a redo action to the internal stack.\n     *\n     * @param {Object} target call `selector` on this object\n     * @param {string} selector the method name to call on `target`\n     * @param {...Object} args arguments to pass when calling `selector` on `target`\n     * @private\n     */\n  }, {\n    key: '_appendRedo',\n    value: function _appendRedo(target, selector) {\n      for (var _len3 = arguments.length, args = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n\n      this._redos.push({\n        target: target,\n        selector: selector,\n        args: args\n      });\n    }\n\n    /**\n     * Performs the top-most undo action on the stack.\n     *\n     * @throws {Error} Raises an error if there are no available undo actions.\n     */\n  }, {\n    key: 'undo',\n    value: function undo() {\n      if (!this.canUndo()) {\n        throw new Error('there are no registered undos');\n      }\n      var data = this._undos.pop();\n      var target = data.target;\n      var selector = data.selector;\n      var args = data.args;\n      this._isUndoing = true;\n      target[selector].apply(target, args);\n      this._isUndoing = false;\n    }\n\n    /**\n     * Performs the top-most redo action on the stack.\n     *\n     * @throws {Error} Raises an error if there are no available redo actions.\n     */\n  }, {\n    key: 'redo',\n    value: function redo() {\n      if (!this.canRedo()) {\n        throw new Error('there are no registered redos');\n      }\n      var data = this._redos.pop();\n      var target = data.target;\n      var selector = data.selector;\n      var args = data.args;\n      this._isRedoing = true;\n      target[selector].apply(target, args);\n      this._isRedoing = false;\n    }\n\n    /**\n     * Returns a proxy object based on target that will register undo/redo actions\n     * by calling methods on the proxy.\n     *\n     * @example\n     *     setSize(size) {\n     *       this.undoManager.proxyFor(this).setSize(this._size);\n     *       this._size = size;\n     *     }\n     *\n     * @param {Object} target call `selector` on this object\n     * @returns {Object}\n     */\n  }, {\n    key: 'proxyFor',\n    value: function proxyFor(target) {\n      var proxy = {};\n      var self = this;\n\n      function proxyMethod(selector) {\n        return function () {\n          for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          self.registerUndo.apply(self, [target, selector].concat(args));\n        };\n      }\n\n      (0, _utils.getAllPropertyNames)(target).forEach(function (selector) {\n        // don't trigger anything that has a getter\n        if ((0, _utils.hasGetter)(target, selector)) {\n          return;\n        }\n\n        // don't try to proxy properties that aren't functions\n        if (typeof target[selector] !== 'function') {\n          return;\n        }\n\n        // set up a proxy function to register an undo\n        proxy[selector] = proxyMethod(selector);\n      });\n\n      return proxy;\n    }\n  }]);\n\n  return UndoManager;\n})();\n\nexports['default'] = UndoManager;\nmodule.exports = exports['default'];\n\n},{\"./utils\":22}],22:[function(require,module,exports){\n/**\n * @const\n * @private\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.isDigits = isDigits;\nexports.startsWith = startsWith;\nexports.endsWith = endsWith;\nexports.zpad = zpad;\nexports.zpad2 = zpad2;\nexports.bind = bind;\nexports.replaceStringSelection = replaceStringSelection;\nexports.forEach = forEach;\nexports.hasGetter = hasGetter;\nexports.getAllPropertyNames = getAllPropertyNames;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar DIGITS_PATTERN = /^\\d*$/;\n\n/**\n * @const\n * @private\n */\nvar SURROUNDING_SPACE_PATTERN = /(^\\s+|\\s+$)/;\n\n/**\n * @param {string} string\n * @returns {boolean}\n */\n\nfunction isDigits(string) {\n  return DIGITS_PATTERN.test(string);\n}\n\n/**\n * @param {string} prefix\n * @param {string} string\n * @returns {boolean}\n */\n\nfunction startsWith(prefix, string) {\n  return string.slice(0, prefix.length) === prefix;\n}\n\n/**\n * @param {string} suffix\n * @param {string} string\n * @returns {boolean}\n */\n\nfunction endsWith(suffix, string) {\n  return string.slice(string.length - suffix.length) === suffix;\n}\n\n/**\n * @param {string} string\n * @returns {string}\n */\nvar trim = typeof ''.trim === 'function' ? function (string) {\n  return string.trim();\n} : function (string) {\n  return string.replace(SURROUNDING_SPACE_PATTERN, '');\n};\n\nexports.trim = trim;\n/**\n * Will pad n with `0` up until length.\n *\n * @example\n *     zpad(16, '1234');\n *     // => 0000000000001234\n *\n * @param {number} length\n * @param {(string|number)} n\n * @returns {string}\n */\n\nfunction zpad(length, n) {\n  var result = '' + n;\n  while (result.length < length) {\n    result = '0' + result;\n  }\n  return result;\n}\n\n/**\n * Will pad n with `0` up until length is 2.\n *\n * @example\n *     zpad2('2');\n *     // => 02\n *\n * @param {(string|number)} n\n * @returns {string}\n */\n\nfunction zpad2(n) {\n  return zpad(2, n);\n}\n\n/**\n * PhantomJS 1.9 does not have Function.bind.\n *\n * @param {Function} fn\n * @param {*} context\n * @returns {*}\n */\n\nfunction bind(fn, context) {\n  return fn.bind(context);\n}\n\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function (context) {\n    for (var _len = arguments.length, prependedArgs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      prependedArgs[_key - 1] = arguments[_key];\n    }\n\n    var self = this;\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return self.apply(context, prependedArgs.concat(args));\n    };\n  };\n}\n\n/**\n * Replaces the characters within the selection with given text.\n *\n * @example\n *     // 12|34567|8\n *     replaceStringSelection('12345678', '00', { start: 2, length: 5 });\n *     // 12|00|8\n *\n * @param   {string} replacement\n * @param   {string} text\n * @param   {object} {start: number, length: number}\n * @returns {string}\n */\n\nfunction replaceStringSelection(replacement, text, range) {\n  var end = range.start + range.length;\n  return text.substring(0, range.start) + replacement + text.substring(end);\n}\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n/**\n * @param {*} iterable\n * @param {Function} iterator\n */\n\nfunction forEach(iterable, iterator) {\n  if (iterable && typeof iterable.forEach === 'function') {\n    iterable.forEach(iterator);\n  } else if (({}).toString.call(iterable) === '[object Array]') {\n    for (var i = 0, l = iterable.length; i < l; i++) {\n      iterator.call(null, iterable[i], i, iterable);\n    }\n  } else {\n    for (var key in iterable) {\n      if (hasOwnProp.call(iterable, key)) {\n        iterator.call(null, iterable[key], key, iterable);\n      }\n    }\n  }\n}\n\nvar getOwnPropertyNames = (function () {\n  var getOwnPropertyNames = Object.getOwnPropertyNames;\n\n  try {\n    Object.getOwnPropertyNames({}, 'sq');\n  } catch (e) {\n    // IE 8\n    getOwnPropertyNames = function (object) {\n      var result = [];\n      for (var key in object) {\n        if (hasOwnProp.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    };\n  }\n\n  return getOwnPropertyNames;\n})();\n\nvar getPrototypeOf = Object.getPrototypeOf || function (object) {\n  return object.__proto__;\n};\n/**\n * @param {Object} object\n * @param {string} property\n * @returns {boolean}\n */\n\nfunction hasGetter(object, property) {\n  // Skip if getOwnPropertyDescriptor throws (IE8)\n  try {\n    Object.getOwnPropertyDescriptor({}, 'sq');\n  } catch (e) {\n    return false;\n  }\n\n  var descriptor;\n\n  if (object && object.constructor && object.constructor.prototype) {\n    descriptor = Object.getOwnPropertyDescriptor(object.constructor.prototype, property);\n  }\n\n  if (!descriptor) {\n    descriptor = Object.getOwnPropertyDescriptor(object, property);\n  }\n\n  if (descriptor && descriptor.get) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * @param {Object} object\n * @returns {?string[]}\n */\n\nfunction getAllPropertyNames(object) {\n  if (object === null || object === undefined) {\n    return [];\n  }\n\n  var result = getOwnPropertyNames(object);\n\n  var prototype = object.constructor && object.constructor.prototype;\n  while (prototype) {\n    result.push.apply(result, _toConsumableArray(getOwnPropertyNames(prototype)));\n    prototype = getPrototypeOf(prototype);\n  }\n\n  return result;\n}\n\n},{}]},{},[11]);\n"],"sourceRoot":"/source/"}