!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("hoist-non-inferno-statics"),require("inferno"),require("redux")):"function"==typeof define&&define.amd?define(["exports","hoist-non-inferno-statics","inferno","redux"],e):e((t.Inferno=t.Inferno||{},t.Inferno.Redux=t.Inferno.Redux||{}),t.hoistNonReactStatics,t.Inferno,t.redux)}(this,function(t,b,v,n){"use strict";function m(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n}b=b&&b.hasOwnProperty("default")?b.default:b;var e=function(){},o={clear:function(){},notify:function(){},subscribe:function(t){return e}},y=function(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=o};y.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},y.prototype.notifyNestedSubs=function(){this.listeners.notify()},y.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},y.prototype.trySubscribe=function(){var n,o;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(n=[],o=[],{clear:function(){n=o=null},notify:function(){for(var t=n=o,e=0;e<t.length;e++)t[e]()},subscribe:function(t){var e=!0;return o===n&&(o=n.slice()),o.push(t),function(){e&&null!==n&&(e=!1,o===n&&(o=n.slice()),o.splice(o.indexOf(t),1))}}}))},y.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)};var i=0,P={},S=function(){},O=function(t,e){if(!t)throw new Error(e)};function C(t){return"ConnectAdvanced("+t+")"}function r(s,t){var r=t.getDisplayName;void 0===r&&(r=C);var p=t.methodName;void 0===p&&(p="connectAdvanced");var u=t.renderCountProp;void 0===u&&(u=null);var a=t.shouldHandleStateChanges;void 0===a&&(a=!0);var c=t.storeKey;void 0===c&&(c="store");var d=t.withRef;void 0===d&&(d=!1);var h=m(t,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),f=c+"Subscription",l=i++;return function(e){O("function"==typeof e,"You must pass a component to the function returned by connect. Instead received "+e);var t=e.displayName||e.name||"Component",o=r(t),i=Object.assign({},h,{WrappedComponent:e,displayName:o,getDisplayName:r,methodName:p,renderCountProp:u,shouldHandleStateChanges:a,storeKey:c,withRef:d,wrappedComponentName:t}),n=function(n){function t(t,e){n.call(this,t,e),this.version=l,this.state={},this.renderCount=0,this.store=this.props[c]||this.context[c],this.propsMode=Boolean(t[c]),this.setWrappedInstance=this.setWrappedInstance.bind(this),O(!!this.store,'Could not find "'+c+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+c+'" as a prop to "'+o+'".'),this.initSelector(),this.initSubscription()}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[f]=e||this.context[f],t},t.prototype.componentDidMount=function(){a&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},t.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},t.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},t.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=S,this.store=null,this.selector.run=S,this.selector.shouldComponentUpdate=!1},t.prototype.getWrappedInstance=function(){return O(d,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+p+"() call."),this.wrappedInstance},t.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},t.prototype.initSelector=function(){var n,o,r,t=s(this.store.dispatch,i);this.selector=(n=t,o=this.store,r={error:null,props:{},run:function(t){try{var e=n(o.getState(),t);(e!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=e,r.error=null)}catch(t){r.shouldComponentUpdate=!0,r.error=t}},shouldComponentUpdate:!1}),this.selector.run(this.props)},t.prototype.initSubscription=function(){if(a){var t=(this.propsMode?this.props:this.context)[f];this.subscription=new y(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},t.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(P)):this.notifyNestedSubs()},t.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},t.prototype.isSubscribed=function(){return Boolean(this.subscription&&this.subscription.isSubscribed())},t.prototype.addExtraProps=function(t){if(!u)return t;var e=Object.assign({},t);return u&&(e[u]=this.renderCount++),this.propsMode&&this.subscription&&(e[f]=this.subscription),e},t.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return v.normalizeProps(v.createComponentVNode(2,e,this.addExtraProps(t.props),null,d?this.setWrappedInstance:null))},t}(v.Component);return n.displayName=o,n.WrappedComponent=e,b(n,e)}}var s=function(n){function t(t,e){n.call(this,t,e),this.store=t.store}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},t.prototype.render=function(){return this.props.children},t}(v.Component);s.displayName="Provider";var p=Object.prototype.hasOwnProperty,g=function(t,e){if(t===e)return!0;var n=0,o=0;for(var r in t){if(p.call(t,r)&&t[r]!==e[r])return!1;n++}for(var i in e)p.call(e,i)&&o++;return n===o},u=function(r){return function(t,e){var n=r(t,e),o=function(){return n};return o.dependsOnOwnProps=!1,o}},a=function(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?!!t.dependsOnOwnProps:1!==t.length},c=function(r,t){return function(t,e){e.displayName;var o=function(t,e){return o.dependsOnOwnProps?o.mapToProps(t,e):o.mapToProps(t)};return o.dependsOnOwnProps=a(r),o.mapToProps=function(t,e){o.mapToProps=r;var n=o(t,e);return"function"==typeof n&&(o.mapToProps=n,o.dependsOnOwnProps=a(n),n=o(t,e)),n},o}},d=[function(t){return"function"==typeof t?c(t):void 0},function(t){return t?void 0:u(function(t){return{dispatch:t}})},function(e){return e&&"object"==typeof e?u(function(t){return n.bindActionCreators(e,t)}):void 0}],h=[function(t){return"function"==typeof t?c(t):void 0},function(t){return t?void 0:u(function(){return{}})}],f=function(t,e,n){return Object.assign({},n,t,e)},w=[function(t){return"function"==typeof t?(u=t,function(t,e){e.displayName;var r,i=e.pure,s=e.areMergedPropsEqual,p=!1;return function(t,e,n){var o=u(t,e,n);return p?i&&s(o,r)||(r=o):(p=!0,r=o),r}}):void 0;var u},function(t){return t?void 0:function(){return f}}],N=function(t,e){var n=e.initMapStateToProps,o=e.initMapDispatchToProps,r=e.initMergeProps,i=m(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=n(t,i),p=o(t,i),u=r(t,i);return(i.pure?function(u,a,c,d,t){var h,f,l,b,v,y=t.areStatesEqual,m=t.areOwnPropsEqual,P=t.areStatePropsEqual,S=!1;return function(t,e){return S?(n=t,s=!m(o=e,f),p=!y(n,h),h=n,f=o,s&&p?(l=u(h,f),a.dependsOnOwnProps&&(b=a(d,f)),v=c(l,b,f)):s?(u.dependsOnOwnProps&&(l=u(h,f)),a.dependsOnOwnProps&&(b=a(d,f)),v=c(l,b,f)):(p&&(r=u(h,f),i=!P(r,l),l=r,i&&(v=c(l,b,f))),v)):(l=u(h=t,f=e),b=a(d,f),v=c(l,b,f),S=!0,v);var n,o,r,i,s,p}}:function(n,o,r,i){return function(t,e){return r(n(t,e),o(i,e),e)}})(s,p,u,t,i)},E=function(n,t,o){for(var e=t.length-1;0<=e;e--){var r=t[e](n);if(r)return r}return function(t,e){throw new Error("Invalid value of type "+typeof n+" for "+o+" argument when connecting component "+e.wrappedComponentName+".")}},x=function(t,e){return t===e},l=function(t){void 0===t&&(t={});var f=t.connectHOC;void 0===f&&(f=r);var l=t.mapStateToPropsFactories;void 0===l&&(l=h);var b=t.mapDispatchToPropsFactories;void 0===b&&(b=d);var v=t.mergePropsFactories;void 0===v&&(v=w);var y=t.selectorFactory;return void 0===y&&(y=N),function(t,e,n,o){void 0===o&&(o={});var r=o.pure;void 0===r&&(r=!0);var i=o.areStatesEqual;void 0===i&&(i=x);var s=o.areOwnPropsEqual;void 0===s&&(s=g);var p=o.areStatePropsEqual;void 0===p&&(p=g);var u=o.areMergedPropsEqual;void 0===u&&(u=g);var a=m(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),c=E(t,l,"mapStateToProps"),d=E(e,b,"mapDispatchToProps"),h=E(n,v,"mergeProps");return f(y,Object.assign({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:!!t,areMergedPropsEqual:u,areOwnPropsEqual:s,areStatePropsEqual:p,areStatesEqual:i,initMapDispatchToProps:d,initMapStateToProps:c,initMergeProps:h,pure:r},a))}}();t.Provider=s,t.connectAdvanced=r,t.connect=l,t.wrapActionCreators=function(e){return function(t){return n.bindActionCreators(e,t)}},Object.defineProperty(t,"__esModule",{value:!0})});
