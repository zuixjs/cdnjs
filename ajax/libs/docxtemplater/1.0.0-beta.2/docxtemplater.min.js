!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.docxgen=t()}}(function(){var define,module,exports;return function t(e,n,r){function i(s,o){if(!n[s]){if(!e[s]){var h="function"==typeof require&&require;if(!o&&h)return h(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return i(n?n:t)},u,u.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({"./js/docxgen.js":[function(t,e,n){(function(n){var r,i,a,s,o,h;r=t("./docUtils"),s=t("./imgManager"),i=t("./docxTemplater"),o=t("jszip"),h=t("fs"),e.exports=a=function(){function t(t,e,n){this.Tags=null!=e?e:{},this.options=n,this.setOptions(this.options),this.finishedCallback=function(){},this.filesProcessed=0,this.qrCodeNumCallBack=0,this.qrCodeWaitingFor=[],null!=t&&t.length>0&&this.load(t)}var e;return e=["word/document.xml","word/footer1.xml","word/footer2.xml","word/footer3.xml","word/header1.xml","word/header2.xml","word/header3.xml"],t.prototype.setOptions=function(t){return this.options=null!=t?t:{},this.intelligentTagging=null==this.options.intelligentTagging||this.options.intelligentTagging,this.qrCode=null!=this.options.qrCode&&this.options.qrCode,this.qrCode===!0&&(this.qrCode=r.unsecureQrCode),null!=this.options.parser&&(this.parser=t.parser),this},t.prototype.loadFromFile=function(t,e){var n;return null==e&&(e={}),this.setOptions(e),n={success:function(t){return this.successFun=t},successFun:function(){}},null==e.docx&&(e.docx=!1),null==e.async&&(e.async=!1),null==e.callback&&(e.callback=function(t){return function(e){return t.load(e),n.successFun(t)}}(this)),r.loadDoc(t,e),e.async===!1?this:n},t.prototype.qrCodeCallBack=function(t,e){var n;return null==e&&(e=!0),e===!0?this.qrCodeWaitingFor.push(t):e===!1&&(n=this.qrCodeWaitingFor.indexOf(t),this.qrCodeWaitingFor.splice(n,1)),this.testReady()},t.prototype.testReady=function(){if(0===this.qrCodeWaitingFor.length&&this.filesProcessed===e.length)return this.ready=!0,this.finishedCallback()},t.prototype.load=function(t){return this.loadedContent=t,this.zip=new o(t),this},t.prototype.applyTags=function(t){var n,r,a,o,h,l,u;for(this.Tags=null!=t?t:this.Tags,o=0,l=e.length;o<l;o++)r=e[o],null==this.zip.files[r]&&this.filesProcessed++;for(h=0,u=e.length;h<u;h++)r=e[h],null!=this.zip.files[r]&&(a=new s(this.zip,r),a.loadImageRels(),n=new i(this.zip.files[r].asText(),{DocxGen:this,Tags:this.Tags,intelligentTagging:this.intelligentTagging,parser:this.parser,imgManager:a,fileName:r}),this.setData(r,n.applyTags().content),this.filesProcessed++);return this.testReady()},t.prototype.setData=function(t,e,n){return null==n&&(n={}),this.zip.file(t,e,n)},t.prototype.getTags=function(){var t,n,a,s,o,h;for(a=[],o=0,h=e.length;o<h;o++)n=e[o],null!=this.zip.files[n]&&(t=new i(this.zip.files[n].asText(),{DocxGen:this,Tags:this.Tags,intelligentTagging:this.intelligentTagging,parser:this.parser}),s=t.applyTags().usedTags,r.sizeOfObject(s)&&a.push({fileName:n,vars:s}));return a},t.prototype.setTags=function(t){return this.Tags=t,this},t.prototype.output=function(t){var e;return null==t&&(t={}),null==t.download&&(t.download=!0),null==t.name&&(t.name="output.docx"),null==t.type&&(t.type="base64"),null==t.compression&&(t.compression="DEFLATE"),e=this.zip.generate({type:t.type,compression:t.compression}),t.download&&("node"===r.env?h.writeFile(n.cwd()+"/"+t.name,e,"base64",function(e){if(e)throw e;if(null!=t.callback)return t.callback()}):document.location.href="data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,"+e),e},t.prototype.getFullText=function(t){var e;return null==t&&(t="word/document.xml"),e=this.zip.files[t].asText(),new i(e,{DocxGen:this,Tags:this.Tags,intelligentTagging:this.intelligentTagging}).getFullText()},t.prototype.download=function(t,e,n){var r;return null==n&&(n="default.docx"),r=this.zip.generate({compression:"DEFLATE"}),Downloadify.create("downloadify",{filename:function(){return n},data:function(){return r},onCancel:function(){return alert("You have cancelled the saving of this file.")},onError:function(){return alert("You must put something in the File Contents or there will be nothing to save!")},swf:t,downloadImage:e,width:100,height:30,transparent:!0,append:!1,dataType:"base64"})},t}()}).call(this,t("_process"))},{"./docUtils":1,"./docxTemplater":3,"./imgManager":4,_process:84,fs:56,jszip:20}],1:[function(t,e,n){var r,i,a,s,o,h,l,u,c=[].slice;o=t("fs"),r=t("xmldom").DOMParser,s=t("xmldom").XMLSerializer,a=t("jszip"),u=t("url"),h=t("http"),l=t("https"),i={},i.env=null!=o.readFile?"node":"browser",i.docX=[],i.docXData=[],i.getPathConfig=function(){return null==i.pathConfig?"":"node"===i.env?i.pathConfig.node:i.pathConfig.browser},i.escapeRegExp=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},i.charMap={"&":"&amp;","'":"&apos;","<":"&lt;",">":"&gt;"},i.wordToUtf8=function(t){var e,n,r;r=i.charMap;for(e in r)n=r[e],t=t.replace(new RegExp(i.escapeRegExp(n),"g"),e);return t},i.utf8ToWord=function(t){var e,n,r;r=i.charMap;for(n in r)e=r[n],t=t.replace(new RegExp(i.escapeRegExp(n),"g"),e);return t},i.defaultParser=function(t){return{get:function(e){return"."===t?e:e[t]}}},i.loadDoc=function(t,e){var n,r,a,s,c,f,d,p,g,m,w,v,b,y;if(null==e&&(e={}),m=null!=e.docx&&!e.docx,n=null!=e.async&&e.async,p=null!=e.intelligentTagging&&e.intelligentTagging,a=null!=e.callback?e.callback:null,r="",null==t)throw new Error("path not defined");if(t.indexOf("/")!==-1?(b=t,d=b):(d=t,""===r&&null!=i.pathConfig&&(r=i.getPathConfig()),b=r+t),g=function(t){return i.docXData[d]=t,m===!1?(i.docX[d]=new DocxGen(t,{},{intelligentTagging:p}),i.docX[d]):null!=a?a(i.docXData[d]):n===!1?i.docXData[d]:void 0},"browser"===i.env)return i.loadHttp(b,function(t,e){return t?(console.log("error"),void(null!=a&&a(!0))):g(e)},n);if(0===t.indexOf("http")){switch(y=u.parse(t),e={hostname:y.hostname,path:y.path,method:"GET",rejectUnauthorized:!1},f=function(t){throw new Error("Error on HTTPS Call")},v=function(t){var e;return t.setEncoding("binary"),e="",t.on("data",function(t){return e+=t}),t.on("end",function(){return g(e)})},y.protocol){case"https:":w=l.request(e,v).on("error",f);break;case"http:":w=h.request(e,v).on("error",f)}return w.end()}if(n===!0)return o.readFile(b,"binary",function(t,e){return t?null!=a?a(t):void 0:g(e)});try{return s=o.readFileSync(b,"binary"),g(s)}catch(t){if(c=t,null!=a)return a(c)}},i.loadHttp=function(t,e,n){var r,a,s,o,c,f,d;if(null==n&&(n=!1),"node"===i.env){switch(f=u.parse(t),a={hostname:f.hostname,path:f.path,method:"GET",rejectUnauthorized:!1},r=function(t){return e(t)},o=function(t){var n;return t.setEncoding("binary"),n="",t.on("data",function(t){return n+=t}),t.on("end",function(){return e(null,n)})},f.protocol){case"https:":s=l.request(a,o).on("error",r);break;case"http:":s=h.request(a,o).on("error",r)}return s.end()}return c="",d=new XMLHttpRequest,d.open("GET",t,n),d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.onreadystatechange=function(t){if(4===this.readyState)return 200===this.status?(c=this.response,e(null,this.response)):e(!0)},d.send(),c},i.unsecureQrCode=function(t,e){var n;return"node"===i.env&&console.log("Your are using an insecure qrcode image finder. With this function, a malicious user could read anyfile that is on the server where docxtemplater resides. The qrcode module now accepts a function as its first parameter instead of a bool see http://docxtemplater.readthedocs.org/en/latest/configuration.html#image-replacing"),"http:"===t.substr(0,5)||"https:"===t.substr(0,6)?i.loadHttp(t,e):"gen:"===t.substr(0,4)?(n=function(t,e){var n;return n=a.base64.decode("iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAIAAABvSEP3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACXSURBVDhPtY7BDYAwDAMZhCf7b8YMxeCoatOQJhWc/KGxT2zlCyaWcz8Y+X7Bs1TFVJSwIHIYyFkQufWIRVX9cNJyW1QpEo4rixaEe7JuQagAUctb7ZFYFh5MVJPBe84CVBnB42//YsZRgKjFDBVg3cI9WbRwXLktQJX8cNIiFhM1ZuTWk7PIYSBhkVcLzwIiCjCxhCjlAkBqYnqFoQQ2AAAAAElFTkSuQmCC"),e(null,n)})(t,e):null!==t&&void 0!==t&&"error decoding QR Code"!==t.substr(0,22)?"node"===i.env?o.readFile(i.getPathConfig()+t,e):i.loadHttp(i.getPathConfig()+t,e):e()},i.tags={start:"{",end:"}"},i.clone=function(t){var e,n,r;if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return e="",null!=t.global&&(e+="g"),null!=t.ignoreCase&&(e+="i"),null!=t.multiline&&(e+="m"),null!=t.sticky&&(e+="y"),new RegExp(t.source,e);r=new t.constructor;for(n in t)r[n]=i.clone(t[n]);return r},i.xml2Str=function(t){var e;return e=new s,e.serializeToString(t)},i.Str2xml=function(t,e){var n,i;return n=new r({errorHandler:e}),i=n.parseFromString(t,"text/xml")},i.replaceFirstFrom=function(t,e,n,r){return t.substr(0,r)+t.substr(r).replace(e,n)},i.encode_utf8=function(t){return unescape(encodeURIComponent(t))},i.convert_spaces=function(t){return t.replace(new RegExp(String.fromCharCode(160),"g")," ")},i.decode_utf8=function(t){var e;try{if(void 0===t)return;return decodeURIComponent(escape(i.convert_spaces(t)))}catch(n){throw e=n,console.log(t),console.log("could not decode"),new Error("end")}},i.base64encode=function(t){return btoa(unescape(encodeURIComponent(t)))},i.preg_match_all=function(t,e){var n,r;return"object"!=typeof t&&(t=new RegExp(t,"g")),n=[],r=function(){var t,e,r,i,a;return t=arguments[0],r=4<=arguments.length?c.call(arguments,1,a=arguments.length-2):(a=1,[]),e=arguments[a++],i=arguments[a++],r.unshift(t),r.offset=e,n.push(r)},e.replace(t,r),n},i.sizeOfObject=function(t){var e,n,r;r=0,n=0;for(e in t)r++;return r},i.maxArray=function(t){return Math.max.apply(null,t)},i.getOuterXml=function(t,e,n,r){var i,a;if(i=t.indexOf("</"+r+">",n),i===-1)throw new Error("can't find endTag "+i);if(i+=("</"+r+">").length,a=Math.max(t.lastIndexOf("<"+r+">",e),t.lastIndexOf("<"+r+" ",e)),a===-1)throw new Error("can't find startTag");return{text:t.substr(a,i-a),startTag:a,endTag:i}},e.exports=i},{fs:56,http:77,https:81,jszip:20,url:102,xmldom:53}],2:[function(t,e,n){var r,i,a,s,o,h;r=t("./docUtils"),i=t("./docxTemplater"),h=t("vm"),s=t("jszip"),o=t("qrcode-reader"),e.exports=a=function(){function t(t,e,n,i,a){if(this.xmlTemplater=e,this.imgName=null!=n?n:"",this.num=i,this.callback=a,this.callbacked=!1,this.data=t,void 0===this.data)throw new Error("data of qrcode can't be undefined");"browser"===r.env&&(this.base64Data=s.base64.encode(this.data)),this.ready=!1,this.result=null}return t.prototype.decode=function(t){var e;return this.callback=t,e=this,this.qr=new o,this.qr.callback=function(){var t;return e.ready=!0,e.result=this.result,t=new e.xmlTemplater.currentClass(this.result,e.xmlTemplater.toJson()),t.applyTags(),e.result=t.content,e.searchImage()},"browser"===r.env?this.qr.decode("data:image/png;base64,"+this.base64Data):this.qr.decode(this.data,this.data.decoded)},t.prototype.searchImage=function(){var t;return t=function(t){return function(e,n){return t.data=null!=n?n:t.data,t.callback(t,t.imgName,t.num)}}(this),null==this.result?t():this.xmlTemplater.DocxGen.qrCode(this.result,t)},t}()},{"./docUtils":1,"./docxTemplater":3,jszip:20,"qrcode-reader":52,vm:105}],3:[function(t,e,n){var r,i,a,s={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("./xmlTemplater"),a=t("./xmlUtil"),r=r=function(t){function e(t,n){if(null==t&&(t=""),null==n&&(n={}),e.__super__.constructor.call(this,"",n),this.currentClass=e,this.tagXml="w:t","string"!=typeof t)throw new Error("content must be string!");this.load(t)}return o(e,t),e.prototype.calcIntellegentlyDashElement=function(){var t,n,r,i,s,o,h,l;for(l=this.templaterState.findOuterTagsContent(this.content),t=l.content,i=l.start,n=l.end,r=a.getListXmlElements(this.content,i,n-i),o=0,h=r.length;o<h;o++)if(s=r[o],"<w:tc>"===s.tag)return"w:tr";return e.__super__.calcIntellegentlyDashElement.call(this)},e}(i),e.exports=r},{"./xmlTemplater":10,"./xmlUtil":11}],4:[function(t,e,n){var r,i,a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=t("./docUtils"),e.exports=i=function(){function t(t,e){this.zip=t,this.fileName=e,this.endFileName=this.fileName.replace(/^.*?([a-z0-9]+)\.xml$/,"$1")}var e;return e=["gif","jpeg","jpg","emf","png"],t.prototype.getImageList=function(){var t,n,r,i;i=/[^.]+\.([^.]+)/,n=[];for(r in this.zip.files)t=r.replace(i,"$1"),a.call(e,t)>=0&&n.push({path:r,files:this.zip.files[r]});return n},t.prototype.setImage=function(t,e,n){return null==n&&(n={}),this.zip.remove(t),this.zip.file(t,e,n)},t.prototype.loadImageRels=function(){var t,e,n,i;if(n=this.zip.files["word/_rels/"+this.endFileName+".xml.rels"],void 0!==n)return e=r.decode_utf8(n.asText()),this.xmlDoc=r.Str2xml(e),t=function(){var t,e,n,r;for(n=this.xmlDoc.getElementsByTagName("Relationship"),r=[],t=0,e=n.length;t<e;t++)i=n[t],r.push(parseInt(i.getAttribute("Id").substr(3)));return r}.call(this),this.maxRid=r.maxArray(t),this.imageRels=[],this},t.prototype.addExtensionRels=function(t,e){var n,i,a,s,o,h,l,u,c;for(i=this.zip.files["[Content_Types].xml"].asText(),l=r.Str2xml(i),n=!0,a=l.getElementsByTagName("Default"),u=0,c=a.length;u<c;u++)o=a[u],o.getAttribute("Extension")===e&&(n=!1);if(n)return h=l.getElementsByTagName("Types")[0],s=l.createElement("Default"),s.namespaceURI=null,s.setAttribute("ContentType",t),s.setAttribute("Extension",e),h.appendChild(s),this.setImage("[Content_Types].xml",r.encode_utf8(r.xml2Str(l)))},t.prototype.addImageRels=function(t,e,n){var i,a,s,o,h;return null==n&&(n=0),o=0===n?t:t+("("+n+")"),null!=this.zip.files["word/media/"+o]?this.addImageRels(t,e,n+1):(this.maxRid++,a={name:"word/media/"+o,data:e,options:{base64:!1,binary:!0,compression:null,date:new Date,dir:!1}},this.zip.file(a.name,a.data,a.options),i=o.replace(/[^.]+\.([^.]+)/,"$1"),this.addExtensionRels("image/"+i,i),h=this.xmlDoc.getElementsByTagName("Relationships")[0],s=this.xmlDoc.createElement("Relationship"),s.namespaceURI=null,s.setAttribute("Id","rId"+this.maxRid),s.setAttribute("Type","http://schemas.openxmlformats.org/officeDocument/2006/relationships/image"),s.setAttribute("Target","media/"+o),h.appendChild(s),this.setImage("word/_rels/"+this.endFileName+".xml.rels",r.encode_utf8(r.xml2Str(this.xmlDoc))),this.maxRid)},t.prototype.getImageByRid=function(t){var e,n,r,i,a,s;for(i=this.xmlDoc.getElementsByTagName("Relationship"),a=0,s=i.length;a<s;a++)if(r=i[a],e=r.getAttribute("Id"),t===e){if(n=r.getAttribute("Target"),"media/"===n.substr(0,6))return this.zip.files["word/"+n];throw new Error("Rid is not an image")}throw new Error("No Media with this Rid found")},t}()},{"./docUtils":1}],5:[function(t,e,n){(function(n){var r,i,a,s,o;r=t("./docUtils"),i=t("./docxQrCode"),o=t("png-js"),s=t("jszip"),e.exports=a=function(){function t(t){this.xmlTemplater=t,this.imgMatches=[],this.xmlTemplater.numQrCode=0}return t.prototype.findImages=function(){return this.imgMatches=r.preg_match_all(/<w:drawing[^>]*>.*?<a:blip.r:embed.*?<\/w:drawing>/g,this.xmlTemplater.content),this},t.prototype.replaceImages=function(){var t,e,n,r,i;for(this.qr=[],this.xmlTemplater.numQrCode+=this.imgMatches.length,i=this.imgMatches,e=n=0,r=i.length;n<r;e=++n)t=i[e],this.replaceImage(t,e);return this},t.prototype.imageSetter=function(t){if(t.callbacked!==!0)return t.callbacked=!0,t.xmlTemplater.numQrCode--,t.xmlTemplater.imgManager.setImage("word/media/"+t.imgName,t.data,{binary:!0}),t.xmlTemplater.DocxGen.qrCodeCallBack(t.xmlTemplater.fileName+"-"+t.num,!1)},t.prototype.replaceImage=function(t,e){var a,h,l,u,c,f,d,p,g,m,w;try{w=r.Str2xml('<?xml version="1.0" ?><w:document mc:Ignorable="w14 wp14" xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main" xmlns:w10="urn:schemas-microsoft-com:office:word" xmlns:w14="http://schemas.microsoft.com/office/word/2010/wordml" xmlns:wne="http://schemas.microsoft.com/office/word/2006/wordml" xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing" xmlns:wp14="http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing" xmlns:wpc="http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas" xmlns:wpg="http://schemas.microsoft.com/office/word/2010/wordprocessingGroup" xmlns:wpi="http://schemas.microsoft.com/office/word/2010/wordprocessingInk" xmlns:wps="http://schemas.microsoft.com/office/word/2010/wordprocessingShape">'+t[0]+"</w:document>",function(t,e){if("fatalError"===t)throw"fatalError"})}catch(t){return void(a=t)}if(m=w.getElementsByTagName("a:blip")[0],void 0===m)throw new Error("tagRiD undefined !");if(d=m.getAttribute("r:embed"),f=this.xmlTemplater.imgManager.getImageByRid(d),g=w.getElementsByTagName("wp:docPr")[0],void 0===g)throw new Error("tag undefined");if("Copie_"!==g.getAttribute("name").substr(0,6)){if(l=("Copie_"+this.xmlTemplater.imageId+".png").replace(/\x20/,""),this.xmlTemplater.DocxGen.qrCodeNumCallBack++,this.xmlTemplater.DocxGen.qrCodeCallBack(this.xmlTemplater.fileName+"-"+this.xmlTemplater.DocxGen.qrCodeNumCallBack,!0),c=this.xmlTemplater.imgManager.addImageRels(l,""),this.xmlTemplater.imageId++,this.xmlTemplater.imgManager.setImage("word/media/"+l,f.data,{binary:!0}),g.setAttribute("name",""+l),m.setAttribute("r:embed","rId"+c),h=w.getElementsByTagName("w:drawing")[0],void 0===h)throw new Error("imageTag undefined");return p=r.xml2Str(h),this.xmlTemplater.content=this.xmlTemplater.content.replace(t[0],p),"browser"===r.env?(this.qr[e]=new i(f.asBinary(),this.xmlTemplater,l,this.xmlTemplater.DocxGen.qrCodeNumCallBack),this.qr[e].decode(this.imageSetter)):/\.png$/.test(f.name)?function(t){return function(r){var h,l,u,c,d;return h=s.base64.encode(f.asBinary()),l=new n(h,"base64"),d=new o(l),c=function(n){var s;d.decoded=n;try{return t.qr[e]=new i(d,t.xmlTemplater,r,t.xmlTemplater.DocxGen.qrCodeNumCallBack),t.qr[e].decode(t.imageSetter)}catch(e){return a=e,s={xmlTemplater:t.xmlTemplater,imgName:r,data:f.asBinary()},t.imageSetter(s)}},u=d.decode(c)}}(this)(l):(u={xmlTemplater:this.xmlTemplater,imgName:l,data:f.asBinary()},this.imageSetter(u))}},t}()}).call(this,t("buffer").Buffer)},{"./docUtils":1,"./docxQrCode":2,buffer:73,jszip:20,"png-js":51}],6:[function(t,e,n){var r,i;r=t("./docUtils"),e.exports=i=function(){function t(t,e,n,r,i){this.tags=t,this.scopePath=e,this.usedTags=n,this.scopeList=r,this.parser=i}return t.prototype.loopOver=function(t,e,n){var r,i,a,s,o,h;if(null==n&&(n=!1),s=this.getValue(t),a=typeof s,n){if(!s)return e(this.scopeList[this.num]);if("string"===a)return;return void("object"===a&&s.length<1&&e(this.scopeList[this.num]))}if(null!=s){if("object"===a)for(r=o=0,h=s.length;o<h;r=++o)i=s[r],e(i);return s===!0?e(this.scopeList[this.num]):void 0}},t.prototype.getValue=function(t,e){var n,i,a;return this.num=null!=e?e:this.scopeList.length-1,a=this.scopeList[this.num],n=this.parser(r.wordToUtf8(t)),i=n.get(a),void 0===i&&this.num>0?this.getValue(t,this.num-1):i},t.prototype.getValueFromScope=function(t){var e,n;if(e=this.getValue(t),null!=e)if("string"==typeof e){if(this.useTag(t),n=e,n.indexOf(r.tags.start)!==-1||n.indexOf(r.tags.end)!==-1)throw new Error("You can't enter "+r.tags.start+" or\t"+r.tags.end+" inside the content of the variable. Tag: "+t+", Value: "+e)}else n="number"==typeof e?String(e):e;else this.useTag(t),n="undefined";return n},t.prototype.useTag=function(t){var e,n,r,i,a,s;for(r=this.usedTags,s=this.scopePath,e=i=0,a=s.length;i<a;e=++i)n=s[e],null==r[n]&&(r[n]={}),r=r[n];if(""!==t)return r[t]=!0},t}()},{"./docUtils":1}],7:[function(t,e,n){var r;e.exports=r=function(){function t(t){this.fullText=null!=t?t:"",this.text="",this.start=0,this.end=0}return t.prototype.getInnerTag=function(t){return this.start=t.calcPosition(t.tagStart),this.end=t.calcPosition(t.tagEnd)+1,this.refreshText()},t.prototype.refreshText=function(){return this.text=this.fullText.substr(this.start,this.end-this.start),this},t.prototype.getOuterXml=function(t){if(this.end=this.fullText.indexOf("</"+t+">",this.end),this.end===-1)throw new Error("can't find endTag "+this.end);if(this.end+=("</"+t+">").length,this.start=Math.max(this.fullText.lastIndexOf("<"+t+">",this.start),this.fullText.lastIndexOf("<"+t+" ",this.start)),this.start===-1)throw new Error("can't find startTag");return this.refreshText()},t.prototype.replace=function(t){return this.fullText=this.fullText.substr(0,this.start)+t+this.fullText.substr(this.end),this.end=this.start+t.length,this.refreshText()},t}()},{}],8:[function(t,e,n){var r;e.exports=r=function(){function t(){}return t.prototype.moveCharacters=function(t,e,n){var r,i,a,s;for(s=[],r=i=t,a=this.matches.length;t<=a?i<=a:i>=a;r=t<=a?++i:--i)s.push(this.charactersAdded[r]+=e-n);return s},t.prototype.calcStartTag=function(t){return this.calcPosition(t.start)},t.prototype.calcXmlTagPosition=function(t){return this.matches[t].offset+this.charactersAdded[t]},t.prototype.calcEndTag=function(t){return this.calcPosition(t.end)+1},t.prototype.calcPosition=function(t){return this.matches[t.numXmlTag].offset+this.matches[t.numXmlTag][1].length+this.charactersAdded[t.numXmlTag]+t.numCharacter},t.prototype.findOuterTagsContent=function(t){var e,n;return n=this.calcStartTag(this.loopOpen),e=this.calcEndTag(this.loopClose),{content:t.substr(n,e-n),start:n,end:e}},t.prototype.innerContent=function(t){return this.matches[this[t].numXmlTag][2]},t.prototype.findInnerTagsContent=function(t){var e,n;return n=this.calcEndTag(this.loopOpen),e=this.calcStartTag(this.loopClose),{content:t.substr(n,e-n),start:n,end:e}},t.prototype.initialize=function(){return this.context="",this.inForLoop=!1,this.loopIsInverted=!1,this.inTag=!1,this.inDashLoop=!1,this.rawXmlTag=!1,this.textInsideTag=""},t.prototype.startTag=function(t){if(this.inTag===!0)throw new Error("Unclosed tag : '"+this.textInsideTag+"'");return this.inTag=!0,this.rawXmlTag=!1,this.textInsideTag="",this.tagStart=this.currentStep},t.prototype.loopType=function(){return this.inDashLoop?"dash":this.inForLoop?"for":this.rawXmlTag?"xml":"simple"},t.prototype.isLoopClosingTag=function(){return"/"===this.textInsideTag[0]&&"/"+this.loopOpen.tag===this.textInsideTag},t.prototype.endTag=function(){var t;if(this.inTag===!1)throw new Error("Unopened tag near : '"+this.context.substr(this.context.length-10,10)+"'");if(this.inTag=!1,this.tagEnd=this.currentStep,"@"===this.textInsideTag[0]&&"simple"===this.loopType()&&(this.rawXmlTag=!0,this.tag=this.textInsideTag.substr(1)),"#"===this.textInsideTag[0]&&"simple"===this.loopType()&&(this.inForLoop=!0,this.loopOpen={start:this.tagStart,end:this.tagEnd,tag:this.textInsideTag.substr(1),raw:this.textInsideTag}),"^"===this.textInsideTag[0]&&"simple"===this.loopType()&&(this.inForLoop=!0,this.loopIsInverted=!0,this.loopOpen={start:this.tagStart,end:this.tagEnd,tag:this.textInsideTag.substr(1),raw:this.textInsideTag}),"-"===this.textInsideTag[0]&&"simple"===this.loopType()&&(this.inDashLoop=!0,t=/^-([^\s]+)\s(.+)$/,this.loopOpen={start:this.tagStart,end:this.tagEnd,tag:this.textInsideTag.replace(t,"$2"),element:this.textInsideTag.replace(t,"$1"),raw:this.textInsideTag}),"/"===this.textInsideTag[0])return this.loopClose={start:this.tagStart,end:this.tagEnd,raw:this.textInsideTag}},t}()},{}],9:[function(t,e,n){var r,i,a=[].slice;r=t("./docUtils"),e.exports=i=function(){function t(t){this.content=t}return t.prototype.parse=function(t){var e;return this.tagXml=t,this.matches=r.preg_match_all("(<"+this.tagXml+"[^>]*>)([^<>]*)</"+this.tagXml+">",this.content),this.charactersAdded=function(){var t,n,r;for(r=[],e=t=0,n=this.matches.length;0<=n?t<n:t>n;e=0<=n?++t:--t)r.push(0);return r}.call(this),this.handleRecursiveCase(),this},t.prototype.handleRecursiveCase=function(){var t,e,n;return n=function(t){return function(){var e,n,r,i,s;return e=arguments[0],r=4<=arguments.length?a.call(arguments,1,s=arguments.length-2):(s=1,[]),n=arguments[s++],i=arguments[s++],r.unshift(e),r.offset=n,r.first=!0,t.matches.unshift(r),t.charactersAdded.unshift(0)}}(this),this.content.replace(/^()([^<]+)/,n),e=function(t){return function(){var e,n,r,i,s;return e=arguments[0],r=4<=arguments.length?a.call(arguments,1,s=arguments.length-2):(s=1,[]),n=arguments[s++],i=arguments[s++],r.unshift(e),r.offset=n,r.last=!0,t.matches.push(r),t.charactersAdded.push(0)}}(this),t="(<"+this.tagXml+"[^>]*>)([^>]+)$",this.content.replace(new RegExp(t),e),this},t}()},{"./docUtils":1}],10:[function(t,e,n){var r,i,a,s,o,h,l;r=t("./docUtils"),a=t("./scopeManager"),s=t("./subContent"),o=t("./templaterState"),h=t("./xmlMatcher"),i=t("./imgReplacer"),e.exports=l=function(){function t(e,n){null==e&&(e=""),null==n&&(n={}),this.tagXml="",this.currentClass=t,this.fromJson(n),this.templaterState=new o}return t.prototype.load=function(t){var e;return this.content=t,e=new h(this.content).parse(this.tagXml),this.templaterState.matches=e.matches,this.templaterState.charactersAdded=e.charactersAdded},t.prototype.fromJson=function(t){return null==t&&(t={}),this.Tags=null!=t.Tags?t.Tags:{},this.DocxGen=null!=t.DocxGen?t.DocxGen:null,this.intelligentTagging=null!=t.intelligentTagging&&t.intelligentTagging,this.scopePath=null!=t.scopePath?t.scopePath:[],this.scopeList=null!=t.scopeList?t.scopeList:[this.Tags],this.usedTags=null!=t.usedTags?t.usedTags:{},this.imageId=null!=t.imageId?t.imageId:0,this.parser=null!=t.parser?t.parser:r.defaultParser,this.fileName=t.fileName,this.scopeManager=new a(this.Tags,this.scopePath,this.usedTags,this.scopeList,this.parser),this.imgManager=t.imgManager},t.prototype.toJson=function(){return{Tags:r.clone(this.scopeManager.tags),DocxGen:this.DocxGen,intelligentTagging:r.clone(this.intelligentTagging),scopePath:r.clone(this.scopeManager.scopePath),scopeList:r.clone(this.scopeManager.scopeList),usedTags:this.scopeManager.usedTags,localImageCreator:this.localImageCreator,imageId:this.imageId,parser:this.parser,imgManager:this.imgManager,fileName:this.fileName}},t.prototype.calcIntellegentlyDashElement=function(){return!1},t.prototype.getFullText=function(t){var e,n,i;return this.tagXml=null!=t?t:this.tagXml,n=new h(this.content).parse(this.tagXml),i=function(){var t,r,i,a;for(i=n.matches,a=[],t=0,r=i.length;t<r;t++)e=i[t],a.push(e[2]);return a}(),r.wordToUtf8(r.convert_spaces(i.join("")))},t.prototype.applyTags=function(){var t,e,n,a,s,o,h,l,u,c,f,d,p,g,m;for(this.templaterState.initialize(),g=this.templaterState.matches,o=l=0,f=g.length;l<f;o=++l)for(a=g[o],e=a[2],s=u=0,d=e.length;u<d;s=++u){for(t=e[s],this.templaterState.currentStep={numXmlTag:o,numCharacter:s},this.templaterState.context+=t,m=this.templaterState.matches,h=c=0,p=m.length;c<p;h=++c)if(n=m[h],h===o&&this.content[n.offset+this.templaterState.charactersAdded[h]]!==n[0][0])throw new Error("no < at the beginning of "+n[0][0]+" (2)");if(t===r.tags.start)this.templaterState.startTag();else if(t===r.tags.end){if(this.templaterState.endTag(),"simple"===this.templaterState.loopType()&&this.replaceSimpleTag(),"xml"===this.templaterState.loopType()){this.replaceSimpleTagRawXml();break}if(this.templaterState.isLoopClosingTag())return this.replaceLoopTag()}else this.templaterState.inTag===!0&&(this.templaterState.textInsideTag+=t)}return null!=this.DocxGen&&this.DocxGen.qrCode!==!1&&new i(this).findImages().replaceImages(),this},t.prototype.replaceSimpleTag=function(){var t;return t=this.scopeManager.getValueFromScope(this.templaterState.textInsideTag),this.content=this.replaceTagByValue(r.utf8ToWord(t),this.content)},t.prototype.replaceSimpleTagRawXml=function(){var t,e;return e=new s(this.content).getInnerTag(this.templaterState).getOuterXml("w:p"),t=this.scopeManager.getValueFromScope(this.templaterState.tag),this.templaterState.moveCharacters(this.templaterState.tagStart.numXmlTag,t.length,e.text.length),this.content=e.replace(t).fullText},t.prototype.deleteTag=function(t,e){var n;return this.templaterState.tagStart=e.start,this.templaterState.tagEnd=e.end,this.templaterState.textInsideTag=e.raw,n=this.replaceTagByValue("",t)},t.prototype.deleteOuterTags=function(t){return this.deleteTag(this.deleteTag(t,this.templaterState.loopOpen),this.templaterState.loopClose)},t.prototype.dashLoop=function(t,e){var n,i,a,s,o,h,l;return null==e&&(e=!1),l=this.templaterState.findOuterTagsContent(this.content),h=l._,o=l.start,n=l.end,a=r.getOuterXml(this.content,o,n,t),this.templaterState.moveCharacters(0,0,a.startTag),s=a.text,i=this.deleteOuterTags(s,e),this.forLoop(i,s)},t.prototype.xmlToBeReplaced=function(t,e,n,r,i){var a;return t===!0?n:(a=e===!0?"<"+this.tagXml+' xml:space="preserve">'+n:this.templaterState.matches[r][1]+n,i===!0?a:a+("</"+this.tagXml+">"))},t.prototype.replaceXmlTag=function(t,e){var n,i,a,s,o,h,l;if(l=e.xmlTagNumber,n=e.insideValue,o=null==e.spacePreserve||e.spacePreserve,a=null!=e.noStartTag&&e.noStartTag,i=null!=e.noEndTag&&e.noEndTag,s=this.xmlToBeReplaced(a,o,n,l,i),this.templaterState.matches[l][2]=n,h=this.templaterState.calcXmlTagPosition(l),this.templaterState.moveCharacters(l+1,s.length,this.templaterState.matches[l][0].length),t.indexOf(this.templaterState.matches[l][0])===-1)throw new Error("content "+this.templaterState.matches[l][0]+" not found in content");return t=r.replaceFirstFrom(t,this.templaterState.matches[l][0],s,h),this.templaterState.matches[l][0]=s,t},t.prototype.replaceTagByValue=function(t,e){var n,i,a,s,o,h,l,u,c;if(this.templaterState.innerContent("tagEnd").indexOf(r.tags.end)===-1)throw new Error("no closing tag at @templaterState.tagEnd.numXmlTag "+this.templaterState.innerContent("tagEnd"));if(this.templaterState.innerContent("tagStart").indexOf(r.tags.start)===-1)throw new Error("no opening tag at @templaterState.tagStart.numXmlTag "+this.templaterState.innerContent("tagStart"));if(h=r.tags.start,n=r.tags.end,this.templaterState.tagEnd.numXmlTag===this.templaterState.tagStart.numXmlTag)return s={xmlTagNumber:this.templaterState.tagStart.numXmlTag,insideValue:this.templaterState.innerContent("tagStart").replace(""+h+this.templaterState.textInsideTag+n,t),noStartTag:null!=this.templaterState.matches[this.templaterState.tagStart.numXmlTag].first,noEndTag:null!=this.templaterState.matches[this.templaterState.tagStart.numXmlTag].last},this.replaceXmlTag(e,s);if(this.templaterState.tagEnd.numXmlTag>this.templaterState.tagStart.numXmlTag){for(o=this.templaterState.innerContent("tagStart"),a=o.substr(0,o.indexOf(h)),s={xmlTagNumber:this.templaterState.tagStart.numXmlTag,noStartTag:null!=this.templaterState.matches[this.templaterState.tagStart.numXmlTag].first},s.insideValue=t,null==this.templaterState.matches[this.templaterState.tagStart.numXmlTag].first&&null==this.templaterState.matches[this.templaterState.tagStart.numXmlTag].last&&(s.insideValue=a+t),e=this.replaceXmlTag(e,s),s={insideValue:"",spacePreserve:!1},i=l=u=this.templaterState.tagStart.numXmlTag+1,c=this.templaterState.tagEnd.numXmlTag;u<=c?l<c:l>c;i=u<=c?++l:--l)s.xmlTagNumber=i,e=this.replaceXmlTag(e,s);return o=this.templaterState.innerContent("tagEnd"),a=o.substr(o.indexOf(n)+1),s={insideValue:a,spacePreserve:!0,xmlTagNumber:i,noEndTag:null!=this.templaterState.matches[this.templaterState.tagStart.numXmlTag].last||null!=this.templaterState.matches[this.templaterState.tagStart.numXmlTag].first},this.replaceXmlTag(e,s)}},t.prototype.replaceLoopTag=function(){var t;return"dash"===this.templaterState.loopType()?this.dashLoop(this.templaterState.loopOpen.element):this.intelligentTagging===!0&&(t=this.calcIntellegentlyDashElement(),
t!==!1)?this.dashLoop(t,!0):this.forLoop()},t.prototype.calcSubXmlTemplater=function(t,e){var n,r,i;return n=this.toJson(),null!=e&&null!=e.Tags&&(n.Tags=e.Tags,n.scopeList=n.scopeList.concat(e.Tags),n.scopePath=n.scopePath.concat(this.templaterState.loopOpen.tag)),r=new this.currentClass(t,n),i=r.applyTags(),this.imageId=r.imageId,i},t.prototype.forLoop=function(t,e){var n,r;return null==t&&(t=this.templaterState.findInnerTagsContent(this.content).content),null==e&&(e=this.templaterState.findOuterTagsContent(this.content).content),r=this.templaterState.loopOpen.tag,n="",this.scopeManager.loopOver(r,function(e){return function(r){var i;return i=e.calcSubXmlTemplater(t,{Tags:r}),n+=i.content}}(this),this.templaterState.loopIsInverted),null==this.scopeManager.getValue(r)&&this.calcSubXmlTemplater(t,{Tags:{}}),this.content=this.content.replace(e,n),this.calcSubXmlTemplater(this.content)},t}()},{"./docUtils":1,"./imgReplacer":5,"./scopeManager":6,"./subContent":7,"./templaterState":8,"./xmlMatcher":9}],11:[function(t,e,n){var r,i;r=t("./docUtils"),i={},i.getListXmlElements=function(t,e,n){var i,a,s,o,h,l,u,c,f,d;for(null==e&&(e=0),null==n&&(n=t.length-1),c=r.preg_match_all("<(/?[^/> ]+)([^>]*)>",t.substr(e,n)),l=[],i=f=0,d=c.length;f<d;i=++f)u=c[i],"/"===u[1][0]?(o=!1,l.length>0&&(h=l[l.length-1],s=h.tag.substr(1,h.tag.length-2),a=u[1].substr(1),s===a&&(o=!0)),o?l.pop():l.push({tag:"<"+u[1]+">",offset:u.offset})):"/"===u[2][u[2].length-1]||l.push({tag:"<"+u[1]+">",offset:u.offset});return l},i.getListDifferenceXmlElements=function(t,e,n){var r;for(null==e&&(e=0),null==n&&(n=t.length-1),r=this.getListXmlElements(t,e,n);;){if(r.length<=1)break;if(r[0].tag.substr(2)!==r[r.length-1].tag.substr(1))break;r.pop(),r.shift()}return r},e.exports=i},{"./docUtils":1}],12:[function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t,e){for(var n,i,a,s,o,h,l,u="",c=0;c<t.length;)n=t.charCodeAt(c++),i=t.charCodeAt(c++),a=t.charCodeAt(c++),s=n>>2,o=(3&n)<<4|i>>4,h=(15&i)<<2|a>>6,l=63&a,isNaN(i)?h=l=64:isNaN(a)&&(l=64),u=u+r.charAt(s)+r.charAt(o)+r.charAt(h)+r.charAt(l);return u},n.decode=function(t,e){var n,i,a,s,o,h,l,u="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)s=r.indexOf(t.charAt(c++)),o=r.indexOf(t.charAt(c++)),h=r.indexOf(t.charAt(c++)),l=r.indexOf(t.charAt(c++)),n=s<<2|o>>4,i=(15&o)<<4|h>>2,a=(3&h)<<6|l,u+=String.fromCharCode(n),64!=h&&(u+=String.fromCharCode(i)),64!=l&&(u+=String.fromCharCode(a));return u}},{}],13:[function(t,e,n){"use strict";function r(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}r.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=r},{}],14:[function(t,e,n){"use strict";n.STORE={magic:"\0\0",compress:function(t){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},n.DEFLATE=t("./flate")},{"./flate":19}],15:[function(t,e,n){"use strict";var r=t("./utils"),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if("undefined"==typeof t||!t.length)return 0;var n="string"!==r.getTypeOf(t);"undefined"==typeof e&&(e=0);var a=0,s=0,o=0;e^=-1;for(var h=0,l=t.length;h<l;h++)o=n?t[h]:t.charCodeAt(h),s=255&(e^o),a=i[s],e=e>>>8^a;return e^-1}},{"./utils":32}],16:[function(t,e,n){"use strict";function r(t){this.data=null,this.length=0,this.index=0}var i=t("./utils");r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=r},{"./utils":32}],17:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.comment=null},{}],18:[function(t,e,n){"use strict";var r=t("./utils");n.string2binary=function(t){return r.string2binary(t)},n.string2Uint8Array=function(t){return r.transformTo("uint8array",t)},n.uint8Array2String=function(t){return r.transformTo("string",t)},n.string2Blob=function(t){var e=r.transformTo("arraybuffer",t);return r.arrayBuffer2Blob(e)},n.arrayBuffer2Blob=function(t){return r.arrayBuffer2Blob(t)},n.transformTo=function(t,e){return r.transformTo(t,e)},n.getTypeOf=function(t){return r.getTypeOf(t)},n.checkSupport=function(t){return r.checkSupport(t)},n.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,n.pretty=function(t){return r.pretty(t)},n.findCompression=function(t){return r.findCompression(t)},n.isRegExp=function(t){return r.isRegExp(t)}},{"./utils":32}],19:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako");n.uncompressInputType=r?"uint8array":"array",n.compressInputType=r?"uint8array":"array",n.magic="\b\0",n.compress=function(t){return i.deflateRaw(t)},n.uncompress=function(t){return i.inflateRaw(t)}},{pako:35}],20:[function(t,e,n){"use strict";function r(t,e){return this instanceof r?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),void(this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t})):new r(t,e)}var i=t("./base64");r.prototype=t("./object"),r.prototype.load=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.utils=t("./deprecatedPublicUtils"),r.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},r.compressions=t("./compressions"),e.exports=r},{"./base64":12,"./compressions":14,"./defaults":17,"./deprecatedPublicUtils":18,"./load":21,"./object":24,"./support":28}],21:[function(t,e,n){"use strict";var r=t("./base64"),i=t("./zipEntries");e.exports=function(t,e){var n,a,s,o;for(e=e||{},e.base64&&(t=r.decode(t)),a=new i(t,e),n=a.files,s=0;s<n.length;s++)o=n[s],this.file(o.fileName,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileComment.length?o.fileComment:null,createFolders:e.createFolders});return a.zipComment.length&&(this.comment=a.zipComment),this}},{"./base64":12,"./zipEntries":33}],22:[function(t,e,n){(function(t){"use strict";e.exports=function(e,n){return new t(e,n)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,t("buffer").Buffer)},{buffer:73}],23:[function(t,e,n){"use strict";function r(t){this.data=t,this.length=this.data.length,this.index=0}var i=t("./uint8ArrayReader");r.prototype=new i,r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=r},{"./uint8ArrayReader":29}],24:[function(t,e,n){"use strict";var r=t("./support"),i=t("./utils"),a=t("./crc32"),s=t("./signature"),o=t("./defaults"),h=t("./base64"),l=t("./compressions"),u=t("./compressedObject"),c=t("./nodeBuffer"),f=t("./utf8"),d=t("./stringWriter"),p=t("./uint8ArrayWriter"),g=function(t){if(t._data instanceof u&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},m=function(t){var e=g(t),n=i.getTypeOf(e);return"string"===n?!t.options.binary&&r.nodebuffer?c(e,"utf-8"):t.asBinary():e},w=function(t){var e=g(this);return null===e||"undefined"==typeof e?"":(this.options.base64&&(e=h.decode(e)),e=t&&this.options.binary?A.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",A.utf8encode(e))),e)},v=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};v.prototype={asText:function(){return w.call(this,!0)},asBinary:function(){return w.call(this,!1)},asNodeBuffer:function(){var t=m(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=m(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},y=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof n[e]&&(n[e]=arguments[t][e]);return n},_=function(t){return t=t||{},t.base64!==!0||null!==t.binary&&void 0!==t.binary||(t.binary=!0),t=y(t,o),t.date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},x=function(t,e,n){var r,a=i.getTypeOf(e);if(n=_(n),n.createFolders&&(r=E(t))&&S.call(this,r,!0),n.dir||null===e||"undefined"==typeof e)n.base64=!1,n.binary=!1,e=null;else if("string"===a)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(e=i.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(a||e instanceof u))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===a&&(e=i.transformTo("uint8array",e))}var s=new v(t,e,n);return this.files[t]=s,s},E=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},S=function(t,e){return"/"!=t.slice(-1)&&(t+="/"),e="undefined"!=typeof e&&e,this.files[t]||x.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},C=function(t,e){var n,r=new u;return t._data instanceof u?(r.uncompressedSize=t._data.uncompressedSize,r.crc32=t._data.crc32,0===r.uncompressedSize||t.dir?(e=l.STORE,r.compressedContent="",r.crc32=0):t._data.compressionMethod===e.magic?r.compressedContent=t._data.getCompressedContent():(n=t._data.getContent(),r.compressedContent=e.compress(i.transformTo(e.compressInputType,n)))):(n=m(t),n&&0!==n.length&&!t.dir||(e=l.STORE,n=""),r.uncompressedSize=n.length,r.crc32=a(n),r.compressedContent=e.compress(i.transformTo(e.compressInputType,n))),r.compressedSize=r.compressedContent.length,r.compressionMethod=e.magic,r},T=function(t,e,n,r){var o,h,l,u,c=(n.compressedContent,i.transformTo("string",f.utf8encode(e.name))),d=e.comment||"",p=i.transformTo("string",f.utf8encode(d)),g=c.length!==e.name.length,m=p.length!==d.length,w=e.options,v="",y="",_="";l=e._initialMetadata.dir!==e.dir?e.dir:w.dir,u=e._initialMetadata.date!==e.date?e.date:w.date,o=u.getHours(),o<<=6,o|=u.getMinutes(),o<<=5,o|=u.getSeconds()/2,h=u.getFullYear()-1980,h<<=4,h|=u.getMonth()+1,h<<=5,h|=u.getDate(),g&&(y=b(1,1)+b(a(c),4)+c,v+="up"+b(y.length,2)+y),m&&(_=b(1,1)+b(this.crc32(p),4)+p,v+="uc"+b(_.length,2)+_);var x="";x+="\n\0",x+=g||m?"\0\b":"\0\0",x+=n.compressionMethod,x+=b(o,2),x+=b(h,2),x+=b(n.crc32,4),x+=b(n.compressedSize,4),x+=b(n.uncompressedSize,4),x+=b(c.length,2),x+=b(v.length,2);var E=s.LOCAL_FILE_HEADER+x+c+v,S=s.CENTRAL_FILE_HEADER+"\0"+x+b(p.length,2)+"\0\0\0\0"+(l===!0?"\0\0\0":"\0\0\0\0")+b(r,4)+c+v+p;return{fileRecord:E,dirRecord:S,compressedObject:n}},A={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,r,i,a=[];for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],i=new v(r.name,r._data,y(r.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,i)&&a.push(i));return a},file:function(t,e,n){if(1===arguments.length){if(i.isRegExp(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return t=this.root+t,x.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=S.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){t=y(t||{},{base64:!0,compression:"STORE",type:"base64",comment:null}),i.checkSupport(t.type);var e,n,r=[],a=0,o=0,u=i.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var c in this.files)if(this.files.hasOwnProperty(c)){var f=this.files[c],g=f.options.compression||t.compression.toUpperCase(),m=l[g];if(!m)throw new Error(g+" is not a valid compression method !");var w=C.call(this,f,m),v=T.call(this,c,f,w,a);a+=v.fileRecord.length+w.compressedSize,o+=v.dirRecord.length,r.push(v)}var _="";_=s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(r.length,2)+b(r.length,2)+b(o,4)+b(a,4)+b(u.length,2)+u;var x=t.type.toLowerCase();for(e="uint8array"===x||"arraybuffer"===x||"blob"===x||"nodebuffer"===x?new p(a+o+_.length):new d(a+o+_.length),n=0;n<r.length;n++)e.append(r[n].fileRecord),e.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)e.append(r[n].dirRecord);e.append(_);var E=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),E);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",E));case"base64":return t.base64?h.encode(E):E;default:return E}},crc32:function(t,e){return a(t,e)},utf8encode:function(t){return i.transformTo("string",f.utf8encode(t))},utf8decode:function(t){return f.utf8decode(t)}};e.exports=A},{"./base64":12,"./compressedObject":13,"./compressions":14,"./crc32":15,"./defaults":17,"./nodeBuffer":22,"./signature":25,"./stringWriter":27,"./support":28,"./uint8ArrayWriter":30,"./utf8":31,"./utils":32}],25:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],26:[function(t,e,n){"use strict";function r(t,e){this.data=t,e||(this.data=a.string2binary(this.data)),this.length=this.data.length,this.index=0}var i=t("./dataReader"),a=t("./utils");r.prototype=new i,r.prototype.byteAt=function(t){return this.data.charCodeAt(t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=r},{"./dataReader":16,"./utils":32}],27:[function(t,e,n){"use strict";var r=t("./utils"),i=function(){this.data=[]};i.prototype={append:function(t){t=r.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=i},{"./utils":32}],28:[function(t,e,n){(function(t){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof t,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var e=new ArrayBuffer(0);try{n.blob=0===new Blob([e],{type:"application/zip"}).size}catch(t){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;i.append(e),n.blob=0===i.getBlob("application/zip").size}catch(t){n.blob=!1}}}}).call(this,t("buffer").Buffer)},{buffer:73}],29:[function(t,e,n){"use strict";function r(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}var i=t("./dataReader");r.prototype=new i,r.prototype.byteAt=function(t){return this.data[t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===e&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a;return-1},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},e.exports=r},{"./dataReader":16}],30:[function(t,e,n){"use strict";var r=t("./utils"),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=r.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=i},{"./utils":32}],31:[function(t,e,n){"use strict";for(var r=t("./utils"),i=t("./support"),a=t("./nodeBuffer"),s=new Array(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;s[254]=s[254]=1;var h=function(t){var e,n,r,a,s,o=t.length,h=0;for(a=0;a<o;a++)n=t.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=t.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(h):new Array(h),s=0,a=0;s<h;a++)n=t.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=t.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},l=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e},u=function(t){var e,n,i,a,o=t.length,h=new Array(2*o);for(n=0,e=0;e<o;)if(i=t[e++],i<128)h[n++]=i;else if(a=s[i],a>4)h[n++]=65533,e+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&e<o;)i=i<<6|63&t[e++],a--;a>1?h[n++]=65533:i<65536?h[n++]=i:(i-=65536,h[n++]=55296|i>>10&1023,h[n++]=56320|1023&i)}return h.length!==n&&(h.subarray?h=h.subarray(0,n):h.length=n),r.applyFromCharCode(h)};n.utf8encode=function(t){return i.nodebuffer?a(t,"utf-8"):h(t)},n.utf8decode=function(t){if(i.nodebuffer)return r.transformTo("nodebuffer",t).toString("utf-8");t=r.transformTo(i.uint8array?"uint8array":"array",t);for(var e=[],n=0,a=t.length,s=65536;n<a;){var o=l(t,Math.min(n+s,a));i.uint8array?e.push(u(t.subarray(n,o))):e.push(u(t.slice(n,o))),n=o}return e.join("")}},{"./nodeBuffer":22,"./support":28,"./utils":32}],32:[function(t,e,n){"use strict";function r(t){return t}function i(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function a(t){var e=65536,r=[],i=t.length,a=n.getTypeOf(t),s=0,o=!0;try{switch(a){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,l(0))}}catch(t){o=!1}if(!o){for(var h="",u=0;u<t.length;u++)h+=String.fromCharCode(t[u]);return h}for(;s<i&&e>1;)try{"array"===a||"nodebuffer"===a?r.push(String.fromCharCode.apply(null,t.slice(s,Math.min(s+e,i)))):r.push(String.fromCharCode.apply(null,t.subarray(s,Math.min(s+e,i)))),s+=e}catch(t){e=Math.floor(e/2)}return r.join("")}function s(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var o=t("./support"),h=t("./compressions"),l=t("./nodeBuffer");n.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},n.arrayBuffer2Blob=function(t){n.checkSupport("blob");try{return new Blob([t],{type:"application/zip"})}catch(n){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new e;return r.append(t),r.getBlob("application/zip")}catch(t){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=a;var u={};u.string={string:r,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return u.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,l(t.length))}},u.array={string:a,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(t)}},u.arraybuffer={string:function(t){return a(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(new Uint8Array(t))}},u.uint8array={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return l(t)}},u.nodebuffer={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return u.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:r},n.transformTo=function(t,e){if(e||(e=""),!t)return e;n.checkSupport(t);var r=n.getTypeOf(e),i=u[r][t](e);return i},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":o.nodebuffer&&l.test(t)?"nodebuffer":o.uint8array&&t instanceof Uint8Array?"uint8array":o.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){var e=o[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)e=t.charCodeAt(n),r+="\\x"+(e<16?"0":"")+e.toString(16).toUpperCase();return r},n.findCompression=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},{"./compressions":14,"./nodeBuffer":22,"./support":28}],33:[function(t,e,n){"use strict";function r(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var i=t("./stringReader"),a=t("./nodeBufferReader"),s=t("./uint8ArrayReader"),o=t("./utils"),h=t("./signature"),l=t("./zipEntry"),u=t("./support"),c=t("./object");r.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=c.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44,i=0;i<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===h.CENTRAL_FILE_HEADER;)t=new l({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(t===-1)throw new Error("Corrupted zip : can't find end of central directory");if(this.reader.setIndex(t),this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),t===-1)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=o.getTypeOf(t);"string"!==e||u.uint8array?"nodebuffer"===e?this.reader=new a(t):this.reader=new s(o.transformTo("uint8array",t)):this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=r},{"./nodeBufferReader":23,"./object":24,"./signature":25,"./stringReader":26,"./support":28,"./uint8ArrayReader":29,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var i=t("./stringReader"),a=t("./utils"),s=t("./compressedObject"),o=t("./object");r.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var r=t.index;t.setIndex(e);var i=t.readData(n);return t.setIndex(r),i}},prepareContent:function(t,e,n,r,i){return function(){var t=a.transformTo(r.uncompressInputType,this.getCompressedContent()),e=r.uncompress(t);if(e.length!==i)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(n),this.compressedSize==-1||this.uncompressedSize==-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(e=a.findCompression(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=a.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readString(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength),this.dir=!!(16&this.externalFileAttributes)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),r=t.readString(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){if(this.useUTF8())this.fileName=o.utf8decode(this.fileName),this.fileComment=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null}},e.exports=r},{"./compressedObject":13,"./object":24,"./stringReader":26,
"./utils":32}],35:[function(t,e,n){"use strict";var r=t("./lib/utils/common").assign,i=t("./lib/deflate"),a=t("./lib/inflate"),s=t("./lib/zlib/constants"),o={};r(o,i,a,s),e.exports=o},{"./lib/deflate":36,"./lib/inflate":37,"./lib/utils/common":38,"./lib/zlib/constants":41}],36:[function(t,e,n){"use strict";function r(t,e){var n=new v(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function i(t,e){return e=e||{},e.raw=!0,r(t,e)}function a(t,e){return e=e||{},e.gzip=!0,r(t,e)}var s=t("./zlib/deflate.js"),o=t("./utils/common"),h=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),c=0,f=4,d=0,p=1,g=-1,m=0,w=8,v=function(t){this.options=o.assign({level:g,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==d)throw new Error(l[n]);e.header&&s.deflateSetHeader(this.strm,e.header)};v.prototype.push=function(t,e){var n,r,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?f:c,"string"==typeof t?i.input=h.string2buf(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(a),i.next_out=0,i.avail_out=a),n=s.deflate(i,r),n!==p&&n!==d)return this.onEnd(n),this.ended=!0,!1;(0===i.avail_out||0===i.avail_in&&r===f)&&("string"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&n!==p);return r!==f||(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d)},v.prototype.onData=function(t){this.chunks.push(t)},v.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=v,n.deflate=r,n.deflateRaw=i,n.gzip=a},{"./utils/common":38,"./utils/strings":39,"./zlib/deflate.js":43,"./zlib/messages":48,"./zlib/zstream":50}],37:[function(t,e,n){"use strict";function r(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function i(t,e){return e=e||{},e.raw=!0,r(t,e)}var a=t("./zlib/inflate.js"),s=t("./utils/common"),o=t("./utils/strings"),h=t("./zlib/constants"),l=t("./zlib/messages"),u=t("./zlib/zstream"),c=t("./zlib/gzheader"),f=function(t){this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==h.Z_OK)throw new Error(l[n]);this.header=new c,a.inflateGetHeader(this.strm,this.header)};f.prototype.push=function(t,e){var n,r,i,l,u,c=this.strm,f=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof t?c.input=o.binstring2buf(t):c.input=t,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new s.Buf8(f),c.next_out=0,c.avail_out=f),n=a.inflate(c,h.Z_NO_FLUSH),n!==h.Z_STREAM_END&&n!==h.Z_OK)return this.onEnd(n),this.ended=!0,!1;c.next_out&&(0===c.avail_out||n===h.Z_STREAM_END||0===c.avail_in&&r===h.Z_FINISH)&&("string"===this.options.to?(i=o.utf8border(c.output,c.next_out),l=c.next_out-i,u=o.buf2string(c.output,i),c.next_out=l,c.avail_out=f-l,l&&s.arraySet(c.output,c.output,i,l,0),this.onData(u)):this.onData(s.shrinkBuf(c.output,c.next_out)))}while(c.avail_in>0&&n!==h.Z_STREAM_END);return n===h.Z_STREAM_END&&(r=h.Z_FINISH),r!==h.Z_FINISH||(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h.Z_OK)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=f,n.inflate=r,n.inflateRaw=i,n.ungzip=r},{"./utils/common":38,"./utils/strings":39,"./zlib/constants":41,"./zlib/gzheader":44,"./zlib/inflate.js":46,"./zlib/messages":48,"./zlib/zstream":50}],38:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),i);for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){var e,n,r,i,a,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)a=t[e],s.set(a,i),i+=a.length;return s}},a={arraySet:function(t,e,n,r,i){for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],39:[function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=t("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var o=new i.Buf8(256),h=0;h<256;h++)o[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;o[254]=o[254]=1,n.string2buf=function(t){var e,n,r,a,s,o=t.length,h=0;for(a=0;a<o;a++)n=t.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=t.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(h),s=0,a=0;s<h;a++)n=t.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=t.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},n.buf2binstring=function(t){return r(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,a,s,h=e||t.length,l=new Array(2*h);for(i=0,n=0;n<h;)if(a=t[n++],a<128)l[i++]=a;else if(s=o[a],s>4)l[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<h;)a=a<<6|63&t[n++],s--;s>1?l[i++]=65533:a<65536?l[i++]=a:(a-=65536,l[i++]=55296|a>>10&1023,l[i++]=56320|1023&a)}return r(l,i)},n.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+o[t[n]]>e?n:e}},{"./common":38}],40:[function(t,e,n){"use strict";function r(t,e,n,r){for(var i=65535&t|0,a=t>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}e.exports=r},{}],41:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],42:[function(t,e,n){"use strict";function r(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function i(t,e,n,r){var i=a,s=r+n;t^=-1;for(var o=r;o<s;o++)t=t>>>8^i[255&(t^e[o])];return t^-1}var a=r();e.exports=i},{}],43:[function(t,e,n){"use strict";function r(t,e){return t.msg=R[e],e}function i(t){return(t<<1)-(t>4?9:0)}function a(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(k.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function o(t,e){I._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function h(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function u(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,k.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=N(t.adler,e,i,n):2===t.state.wrap&&(t.adler=D(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function c(t,e){var n,r,i=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,l=t.window,u=t.w_mask,c=t.prev,f=t.strstart+ht,d=l[a+s-1],p=l[a+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do if(n=e,l[n+s]===p&&l[n+s-1]===d&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do;while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<f);if(r=ht-(f-a),a=f-ht,r>s){if(t.match_start=e,s=r,r>=o)break;d=l[a+s-1],p=l[a+s]}}while((e=c[e&u])>h&&0!==--i);return s<=t.lookahead?s:t.lookahead}function f(t){var e,n,r,i,a,s=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-lt)){k.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,n=t.hash_size,e=n;do r=t.head[--e],t.head[e]=r>=s?r-s:0;while(--n);n=s,e=n;do r=t.prev[--e],t.prev[e]=r>=s?r-s:0;while(--n);i+=s}if(0===t.strm.avail_in)break;if(n=u(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=ot)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+ot-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<ot)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function d(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===B)return vt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,o(t,!1),0===t.strm.avail_out))return vt;if(t.strstart-t.block_start>=t.w_size-lt&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===O?(o(t,!0),0===t.strm.avail_out?yt:_t):t.strstart>t.block_start&&(o(t,!1),0===t.strm.avail_out)?vt:vt}function p(t,e){for(var n,r;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===B)return vt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ot&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-lt&&(t.match_length=c(t,n)),t.match_length>=ot)if(r=I._tr_tally(t,t.strstart-t.match_start,t.match_length-ot),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ot){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=t.strstart<ot-1?t.strstart:ot-1,e===O?(o(t,!0),0===t.strm.avail_out?yt:_t):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:bt}function g(t,e){for(var n,r,i;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===B)return vt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ot&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ot-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-lt&&(t.match_length=c(t,n),t.match_length<=5&&(t.strategy===q||t.match_length===ot&&t.strstart-t.match_start>4096)&&(t.match_length=ot-1)),t.prev_length>=ot&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ot,r=I._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ot),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ot-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ot-1,t.strstart++,r&&(o(t,!1),0===t.strm.avail_out))return vt}else if(t.match_available){if(r=I._tr_tally(t,0,t.window[t.strstart-1]),r&&o(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return vt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=I._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ot-1?t.strstart:ot-1,e===O?(o(t,!0),0===t.strm.avail_out?yt:_t):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:bt}function m(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=ht){if(f(t),t.lookahead<=ht&&e===B)return vt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ot&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=t.strstart+ht;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=ht-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ot?(n=I._tr_tally(t,1,t.match_length-ot),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===O?(o(t,!0),0===t.strm.avail_out?yt:_t):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:bt}function w(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===B)return vt;break}if(t.match_length=0,n=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===O?(o(t,!0),0===t.strm.avail_out?yt:_t):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:bt}function v(t){t.window_size=2*t.w_size,a(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ot-1,t.match_available=0,t.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new k.Buf16(2*at),this.dyn_dtree=new k.Buf16(2*(2*rt+1)),this.bl_tree=new k.Buf16(2*(2*it+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new k.Buf16(st+1),this.heap=new k.Buf16(2*nt+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new k.Buf16(2*nt+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Y,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ct:mt,t.adler=2===e.wrap?0:1,e.last_flush=B,I._tr_init(e),F):r(t,P)}function _(t){var e=y(t);return e===F&&v(t.state),e}function x(t,e){return t&&t.state?2!==t.state.wrap?P:(t.state.gzhead=e,F):P}function E(t,e,n,i,a,s){if(!t)return P;var o=1;if(e===X&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),a<1||a>Q||n!==K||i<8||i>15||e<0||e>9||s<0||s>H)return r(t,P);8===i&&(i=9);var h=new b;return t.state=h,h.strm=t,h.wrap=o,h.gzhead=null,h.w_bits=i,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+ot-1)/ot),h.window=new k.Buf8(2*h.w_size),h.head=new k.Buf16(h.hash_size),h.prev=new k.Buf16(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new k.Buf8(h.pending_buf_size),h.d_buf=h.lit_bufsize>>1,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=s,h.method=n,_(t)}function S(t,e){return E(t,e,K,$,J,W)}function C(t,e){var n,o,u,c;if(!t||!t.state||e>z||e<0)return t?r(t,P):P;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||o.status===wt&&e!==O)return r(t,0===t.avail_out?Z:P);if(o.strm=t,n=o.last_flush,o.last_flush=e,o.status===ct)if(2===o.wrap)t.adler=0,h(o,31),h(o,139),h(o,8),o.gzhead?(h(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),h(o,255&o.gzhead.time),h(o,o.gzhead.time>>8&255),h(o,o.gzhead.time>>16&255),h(o,o.gzhead.time>>24&255),h(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),h(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(h(o,255&o.gzhead.extra.length),h(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=D(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=ft):(h(o,0),h(o,0),h(o,0),h(o,0),h(o,0),h(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),h(o,xt),o.status=mt);else{var f=K+(o.w_bits-8<<4)<<8,d=-1;d=o.strategy>=G||o.level<2?0:o.level<6?1:6===o.level?2:3,f|=d<<6,0!==o.strstart&&(f|=ut),f+=31-f%31,o.status=mt,l(o,f),0!==o.strstart&&(l(o,t.adler>>>16),l(o,65535&t.adler)),t.adler=1}if(o.status===ft)if(o.gzhead.extra){for(u=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>u&&(t.adler=D(t.adler,o.pending_buf,o.pending-u,u)),s(t),u=o.pending,o.pending!==o.pending_buf_size));)h(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>u&&(t.adler=D(t.adler,o.pending_buf,o.pending-u,u)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=dt)}else o.status=dt;if(o.status===dt)if(o.gzhead.name){u=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>u&&(t.adler=D(t.adler,o.pending_buf,o.pending-u,u)),s(t),u=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,h(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>u&&(t.adler=D(t.adler,o.pending_buf,o.pending-u,u)),0===c&&(o.gzindex=0,o.status=pt)}else o.status=pt;if(o.status===pt)if(o.gzhead.comment){u=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>u&&(t.adler=D(t.adler,o.pending_buf,o.pending-u,u)),s(t),u=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,h(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>u&&(t.adler=D(t.adler,o.pending_buf,o.pending-u,u)),0===c&&(o.status=gt)}else o.status=gt;if(o.status===gt&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(t),o.pending+2<=o.pending_buf_size&&(h(o,255&t.adler),h(o,t.adler>>8&255),t.adler=0,o.status=mt)):o.status=mt),0!==o.pending){if(s(t),0===t.avail_out)return o.last_flush=-1,F}else if(0===t.avail_in&&i(e)<=i(n)&&e!==O)return r(t,Z);if(o.status===wt&&0!==t.avail_in)return r(t,Z);if(0!==t.avail_in||0!==o.lookahead||e!==B&&o.status!==wt){var p=o.strategy===G?w(o,e):o.strategy===V?m(o,e):A[o.level].func(o,e);if(p!==yt&&p!==_t||(o.status=wt),p===vt||p===yt)return 0===t.avail_out&&(o.last_flush=-1),F;if(p===bt&&(e===L?I._tr_align(o):e!==z&&(I._tr_stored_block(o,0,0,!1),e===M&&(a(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(t),0===t.avail_out))return o.last_flush=-1,F}return e!==O?F:o.wrap<=0?U:(2===o.wrap?(h(o,255&t.adler),h(o,t.adler>>8&255),h(o,t.adler>>16&255),h(o,t.adler>>24&255),h(o,255&t.total_in),h(o,t.total_in>>8&255),h(o,t.total_in>>16&255),h(o,t.total_in>>24&255)):(l(o,t.adler>>>16),l(o,65535&t.adler)),s(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?F:U)}function T(t){var e;return t&&t.state?(e=t.state.status,e!==ct&&e!==ft&&e!==dt&&e!==pt&&e!==gt&&e!==mt&&e!==wt?r(t,P):(t.state=null,e===mt?r(t,j):F)):P}var A,k=t("../utils/common"),I=t("./trees"),N=t("./adler32"),D=t("./crc32"),R=t("./messages"),B=0,L=1,M=3,O=4,z=5,F=0,U=1,P=-2,j=-3,Z=-5,X=-1,q=1,G=2,V=3,H=4,W=0,Y=2,K=8,Q=9,$=15,J=8,tt=29,et=256,nt=et+1+tt,rt=30,it=19,at=2*nt+1,st=15,ot=3,ht=258,lt=ht+ot+1,ut=32,ct=42,ft=69,dt=73,pt=91,gt=103,mt=113,wt=666,vt=1,bt=2,yt=3,_t=4,xt=3,Et=function(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i};A=[new Et(0,0,0,0,d),new Et(4,4,8,4,p),new Et(4,5,16,8,p),new Et(4,6,32,32,p),new Et(4,4,16,16,g),new Et(8,16,32,32,g),new Et(8,16,128,128,g),new Et(8,32,128,256,g),new Et(32,128,258,1024,g),new Et(32,258,258,4096,g)],n.deflateInit=S,n.deflateInit2=E,n.deflateReset=_,n.deflateResetKeep=y,n.deflateSetHeader=x,n.deflate=C,n.deflateEnd=T,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":38,"./adler32":40,"./crc32":42,"./messages":48,"./trees":49}],44:[function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=r},{}],45:[function(t,e,n){"use strict";var r=30,i=12;e.exports=function(t,e){var n,a,s,o,h,l,u,c,f,d,p,g,m,w,v,b,y,_,x,E,S,C,T,A,k;n=t.state,a=t.next_in,A=t.input,s=a+(t.avail_in-5),o=t.next_out,k=t.output,h=o-(e-t.avail_out),l=o+(t.avail_out-257),u=n.dmax,c=n.wsize,f=n.whave,d=n.wnext,p=n.window,g=n.hold,m=n.bits,w=n.lencode,v=n.distcode,b=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{m<15&&(g+=A[a++]<<m,m+=8,g+=A[a++]<<m,m+=8),_=w[g&b];e:for(;;){if(x=_>>>24,g>>>=x,m-=x,x=_>>>16&255,0===x)k[o++]=65535&_;else{if(!(16&x)){if(0===(64&x)){_=w[(65535&_)+(g&(1<<x)-1)];continue e}if(32&x){n.mode=i;break t}t.msg="invalid literal/length code",n.mode=r;break t}E=65535&_,x&=15,x&&(m<x&&(g+=A[a++]<<m,m+=8),E+=g&(1<<x)-1,g>>>=x,m-=x),m<15&&(g+=A[a++]<<m,m+=8,g+=A[a++]<<m,m+=8),_=v[g&y];n:for(;;){if(x=_>>>24,g>>>=x,m-=x,x=_>>>16&255,!(16&x)){if(0===(64&x)){_=v[(65535&_)+(g&(1<<x)-1)];continue n}t.msg="invalid distance code",n.mode=r;break t}if(S=65535&_,x&=15,m<x&&(g+=A[a++]<<m,m+=8,m<x&&(g+=A[a++]<<m,m+=8)),S+=g&(1<<x)-1,S>u){t.msg="invalid distance too far back",n.mode=r;break t}if(g>>>=x,m-=x,x=o-h,S>x){if(x=S-x,x>f&&n.sane){t.msg="invalid distance too far back",n.mode=r;break t}if(C=0,T=p,0===d){if(C+=c-x,x<E){E-=x;do k[o++]=p[C++];while(--x);C=o-S,T=k}}else if(d<x){if(C+=c+d-x,x-=d,x<E){E-=x;do k[o++]=p[C++];while(--x);if(C=0,d<E){x=d,E-=x;do k[o++]=p[C++];while(--x);C=o-S,T=k}}}else if(C+=d-x,x<E){E-=x;do k[o++]=p[C++];while(--x);C=o-S,T=k}for(;E>2;)k[o++]=T[C++],k[o++]=T[C++],k[o++]=T[C++],E-=3;E&&(k[o++]=T[C++],E>1&&(k[o++]=T[C++]))}else{C=o-S;do k[o++]=k[C++],k[o++]=k[C++],k[o++]=k[C++],E-=3;while(E>2);E&&(k[o++]=k[C++],E>1&&(k[o++]=k[C++]))}break}}break}}while(a<s&&o<l);E=m>>3,a-=E,m-=E<<3,g&=(1<<m)-1,t.next_in=a,t.next_out=o,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=o<l?257+(l-o):257-(o-l),n.hold=g,n.bits=m}},{}],46:[function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=O,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new w.Buf32(pt),e.distcode=e.distdyn=new w.Buf32(gt),e.sane=1,e.back=-1,k):D}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,a(t)):D}function o(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?D:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,s(t))):D}function h(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,n=o(t,e),n!==k&&(t.state=null),n):D}function l(t){return h(t,wt)}function u(t){if(vt){var e;for(g=new w.Buf32(512),m=new w.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_(E,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_(S,t.lens,0,32,m,0,t.work,{bits:5}),vt=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function c(t,e,n,r){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new w.Buf8(a.wsize)),r>=a.wsize?(w.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),w.arraySet(a.window,e,n-r,i,a.wnext),r-=i,r?(w.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function f(t,e){var n,i,a,s,o,h,l,f,d,p,g,m,pt,gt,mt,wt,vt,bt,yt,_t,xt,Et,St,Ct,Tt=0,At=new w.Buf8(4),kt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return D;n=t.state,n.mode===H&&(n.mode=W),o=t.next_out,a=t.output,l=t.avail_out,s=t.next_in,i=t.input,h=t.avail_in,f=n.hold,d=n.bits,p=h,g=l,Et=k;t:for(;;)switch(n.mode){case O:if(0===n.wrap){n.mode=W;break}for(;d<16;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,At[0]=255&f,At[1]=f>>>8&255,n.check=b(n.check,At,2,0),f=0,d=0,n.mode=z;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ct;break}if((15&f)!==M){t.msg="unknown compression method",n.mode=ct;break}if(f>>>=4,d-=4,xt=(15&f)+8,0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=ct;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&f?G:H,f=0,d=0;break;case z:for(;d<16;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==M){t.msg="unknown compression method",n.mode=ct;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ct;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(At[0]=255&f,At[1]=f>>>8&255,n.check=b(n.check,At,2,0)),f=0,d=0,n.mode=F;case F:for(;d<32;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(At[0]=255&f,At[1]=f>>>8&255,At[2]=f>>>16&255,At[3]=f>>>24&255,n.check=b(n.check,At,4,0)),f=0,d=0,n.mode=U;case U:for(;d<16;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(At[0]=255&f,At[1]=f>>>8&255,n.check=b(n.check,At,2,0)),f=0,d=0,n.mode=P;case P:if(1024&n.flags){for(;d<16;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(At[0]=255&f,At[1]=f>>>8&255,n.check=b(n.check,At,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=j;case j:if(1024&n.flags&&(m=n.length,m>h&&(m=h),m&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),w.arraySet(n.head.extra,i,s,m,xt)),512&n.flags&&(n.check=b(n.check,i,m,s)),h-=m,s+=m,n.length-=m),n.length))break t;n.length=0,n.mode=Z;case Z:if(2048&n.flags){if(0===h)break t;m=0;do xt=i[s+m++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt));while(xt&&m<h);if(512&n.flags&&(n.check=b(n.check,i,m,s)),h-=m,s+=m,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=X;case X:if(4096&n.flags){if(0===h)break t;m=0;do xt=i[s+m++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt));while(xt&&m<h);if(512&n.flags&&(n.check=b(n.check,i,m,s)),h-=m,s+=m,xt)break t}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;d<16;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ct;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=H;break;case G:for(;d<32;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}t.adler=n.check=r(f),f=0,d=0,n.mode=V;case V:if(0===n.havedict)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=h,n.hold=f,n.bits=d,N;t.adler=n.check=1,n.mode=H;case H:if(e===T||e===A)break t;case W:if(n.last){f>>>=7&d,d-=7&d,n.mode=ht;break}for(;d<3;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}switch(n.last=1&f,f>>>=1,d-=1,3&f){case 0:n.mode=Y;break;case 1:if(u(n),n.mode=et,e===A){f>>>=2,d-=2;break t}break;case 2:n.mode=$;break;case 3:t.msg="invalid block type",n.mode=ct}f>>>=2,d-=2;break;case Y:for(f>>>=7&d,d-=7&d;d<32;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if((65535&f)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ct;break}if(n.length=65535&f,f=0,d=0,n.mode=K,e===A)break t;case K:n.mode=Q;case Q:if(m=n.length){if(m>h&&(m=h),m>l&&(m=l),0===m)break t;w.arraySet(a,i,s,m,o),h-=m,s+=m,l-=m,o+=m,n.length-=m;break}n.mode=H;break;case $:for(;d<14;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if(n.nlen=(31&f)+257,f>>>=5,d-=5,n.ndist=(31&f)+1,f>>>=5,d-=5,n.ncode=(15&f)+4,f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ct;break}n.have=0,n.mode=J;case J:for(;n.have<n.ncode;){for(;d<3;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}n.lens[kt[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[kt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,St={bits:n.lenbits},Et=_(x,n.lens,0,19,n.lencode,0,n.work,St),n.lenbits=St.bits,Et){t.msg="invalid code lengths set",n.mode=ct;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.nlen+n.ndist;){for(;Tt=n.lencode[f&(1<<n.lenbits)-1],mt=Tt>>>24,wt=Tt>>>16&255,vt=65535&Tt,!(mt<=d);){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if(vt<16)f>>>=mt,d-=mt,n.lens[n.have++]=vt;else{if(16===vt){for(Ct=mt+2;d<Ct;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if(f>>>=mt,d-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=ct;break}xt=n.lens[n.have-1],m=3+(3&f),f>>>=2,d-=2}else if(17===vt){for(Ct=mt+3;d<Ct;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}f>>>=mt,d-=mt,xt=0,m=3+(7&f),f>>>=3,d-=3}else{for(Ct=mt+7;d<Ct;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}f>>>=mt,d-=mt,xt=0,m=11+(127&f),f>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ct;break}for(;m--;)n.lens[n.have++]=xt}}if(n.mode===ct)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ct;break}if(n.lenbits=9,St={bits:n.lenbits},Et=_(E,n.lens,0,n.nlen,n.lencode,0,n.work,St),n.lenbits=St.bits,Et){t.msg="invalid literal/lengths set",n.mode=ct;break}if(n.distbits=6,n.distcode=n.distdyn,St={bits:n.distbits},Et=_(S,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,St),n.distbits=St.bits,Et){t.msg="invalid distances set",n.mode=ct;break}if(n.mode=et,e===A)break t;case et:n.mode=nt;case nt:if(h>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=h,n.hold=f,n.bits=d,y(t,g),o=t.next_out,a=t.output,l=t.avail_out,s=t.next_in,i=t.input,h=t.avail_in,f=n.hold,d=n.bits,n.mode===H&&(n.back=-1);break}for(n.back=0;Tt=n.lencode[f&(1<<n.lenbits)-1],mt=Tt>>>24,wt=Tt>>>16&255,vt=65535&Tt,!(mt<=d);){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if(wt&&0===(240&wt)){for(bt=mt,yt=wt,_t=vt;Tt=n.lencode[_t+((f&(1<<bt+yt)-1)>>bt)],
mt=Tt>>>24,wt=Tt>>>16&255,vt=65535&Tt,!(bt+mt<=d);){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}f>>>=bt,d-=bt,n.back+=bt}if(f>>>=mt,d-=mt,n.back+=mt,n.length=vt,0===wt){n.mode=ot;break}if(32&wt){n.back=-1,n.mode=H;break}if(64&wt){t.msg="invalid literal/length code",n.mode=ct;break}n.extra=15&wt,n.mode=rt;case rt:if(n.extra){for(Ct=n.extra;d<Ct;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=it;case it:for(;Tt=n.distcode[f&(1<<n.distbits)-1],mt=Tt>>>24,wt=Tt>>>16&255,vt=65535&Tt,!(mt<=d);){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if(0===(240&wt)){for(bt=mt,yt=wt,_t=vt;Tt=n.distcode[_t+((f&(1<<bt+yt)-1)>>bt)],mt=Tt>>>24,wt=Tt>>>16&255,vt=65535&Tt,!(bt+mt<=d);){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}f>>>=bt,d-=bt,n.back+=bt}if(f>>>=mt,d-=mt,n.back+=mt,64&wt){t.msg="invalid distance code",n.mode=ct;break}n.offset=vt,n.extra=15&wt,n.mode=at;case at:if(n.extra){for(Ct=n.extra;d<Ct;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ct;break}n.mode=st;case st:if(0===l)break t;if(m=g-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ct;break}m>n.wnext?(m-=n.wnext,pt=n.wsize-m):pt=n.wnext-m,m>n.length&&(m=n.length),gt=n.window}else gt=a,pt=o-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do a[o++]=gt[pt++];while(--m);0===n.length&&(n.mode=nt);break;case ot:if(0===l)break t;a[o++]=n.length,l--,n.mode=nt;break;case ht:if(n.wrap){for(;d<32;){if(0===h)break t;h--,f|=i[s++]<<d,d+=8}if(g-=l,t.total_out+=g,n.total+=g,g&&(t.adler=n.check=n.flags?b(n.check,a,g,o-g):v(n.check,a,g,o-g)),g=l,(n.flags?f:r(f))!==n.check){t.msg="incorrect data check",n.mode=ct;break}f=0,d=0}n.mode=lt;case lt:if(n.wrap&&n.flags){for(;d<32;){if(0===h)break t;h--,f+=i[s++]<<d,d+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ct;break}f=0,d=0}n.mode=ut;case ut:Et=I;break t;case ct:Et=R;break t;case ft:return B;case dt:default:return D}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=h,n.hold=f,n.bits=d,(n.wsize||g!==t.avail_out&&n.mode<ct&&(n.mode<ht||e!==C))&&c(t,t.output,t.next_out,g-t.avail_out)?(n.mode=ft,B):(p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,n.total+=g,n.wrap&&g&&(t.adler=n.check=n.flags?b(n.check,a,g,t.next_out-g):v(n.check,a,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===H?128:0)+(n.mode===et||n.mode===K?256:0),(0===p&&0===g||e===C)&&Et===k&&(Et=L),Et)}function d(t){if(!t||!t.state)return D;var e=t.state;return e.window&&(e.window=null),t.state=null,k}function p(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?D:(n.head=e,e.done=!1,k)):D}var g,m,w=t("../utils/common"),v=t("./adler32"),b=t("./crc32"),y=t("./inffast"),_=t("./inftrees"),x=0,E=1,S=2,C=4,T=5,A=6,k=0,I=1,N=2,D=-2,R=-3,B=-4,L=-5,M=8,O=1,z=2,F=3,U=4,P=5,j=6,Z=7,X=8,q=9,G=10,V=11,H=12,W=13,Y=14,K=15,Q=16,$=17,J=18,tt=19,et=20,nt=21,rt=22,it=23,at=24,st=25,ot=26,ht=27,lt=28,ut=29,ct=30,ft=31,dt=32,pt=852,gt=592,mt=15,wt=mt,vt=!0;n.inflateReset=s,n.inflateReset2=o,n.inflateResetKeep=a,n.inflateInit=l,n.inflateInit2=h,n.inflate=f,n.inflateEnd=d,n.inflateGetHeader=p,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":38,"./adler32":40,"./crc32":42,"./inffast":45,"./inftrees":47}],47:[function(t,e,n){"use strict";var r=t("../utils/common"),i=15,a=852,s=592,o=0,h=1,l=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,p,g,m,w,v){var b,y,_,x,E,S,C,T,A,k=v.bits,I=0,N=0,D=0,R=0,B=0,L=0,M=0,O=0,z=0,F=0,U=null,P=0,j=new r.Buf16(i+1),Z=new r.Buf16(i+1),X=null,q=0;for(I=0;I<=i;I++)j[I]=0;for(N=0;N<p;N++)j[e[n+N]]++;for(B=k,R=i;R>=1&&0===j[R];R--);if(B>R&&(B=R),0===R)return g[m++]=20971520,g[m++]=20971520,v.bits=1,0;for(D=1;D<R&&0===j[D];D++);for(B<D&&(B=D),O=1,I=1;I<=i;I++)if(O<<=1,O-=j[I],O<0)return-1;if(O>0&&(t===o||1!==R))return-1;for(Z[1]=0,I=1;I<i;I++)Z[I+1]=Z[I]+j[I];for(N=0;N<p;N++)0!==e[n+N]&&(w[Z[e[n+N]]++]=N);if(t===o?(U=X=w,S=19):t===h?(U=u,P-=257,X=c,q-=257,S=256):(U=f,X=d,S=-1),F=0,N=0,I=D,E=m,L=B,M=0,_=-1,z=1<<B,x=z-1,t===h&&z>a||t===l&&z>s)return 1;for(var G=0;;){G++,C=I-M,w[N]<S?(T=0,A=w[N]):w[N]>S?(T=X[q+w[N]],A=U[P+w[N]]):(T=96,A=0),b=1<<I-M,y=1<<L,D=y;do y-=b,g[E+(F>>M)+y]=C<<24|T<<16|A|0;while(0!==y);for(b=1<<I-1;F&b;)b>>=1;if(0!==b?(F&=b-1,F+=b):F=0,N++,0===--j[I]){if(I===R)break;I=e[n+w[N]]}if(I>B&&(F&x)!==_){for(0===M&&(M=B),E+=D,L=I-M,O=1<<L;L+M<R&&(O-=j[L+M],!(O<=0));)L++,O<<=1;if(z+=1<<L,t===h&&z>a||t===l&&z>s)return 1;_=F&x,g[_]=B<<24|L<<16|E-m|0}}return 0!==F&&(g[E+F]=I-M<<24|64<<16|0),v.bits=B,0}},{"../utils/common":38}],48:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],49:[function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t){return t<256?st[t]:st[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function s(t,e,n){t.bi_valid>H-n?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>H-t.bi_valid,t.bi_valid+=n-H):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function o(t,e,n){s(t,n[2*e],n[2*e+1])}function h(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function l(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function u(t,e){var n,r,i,a,s,o,h=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,c=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(a=0;a<=V;a++)t.bl_count[a]=0;for(h[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<G;n++)r=t.heap[n],a=h[2*h[2*r+1]+1]+1,a>p&&(a=p,g++),h[2*r+1]=a,r>l||(t.bl_count[a]++,s=0,r>=d&&(s=f[r-d]),o=h[2*r],t.opt_len+=o*(a+s),c&&(t.static_len+=o*(u[2*r+1]+s)));if(0!==g){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(a=p;0!==a;a--)for(r=t.bl_count[a];0!==r;)i=t.heap[--n],i>l||(h[2*i+1]!==a&&(t.opt_len+=(a-h[2*i+1])*h[2*i],h[2*i+1]=a),r--)}}function c(t,e,n){var r,i,a=new Array(V+1),s=0;for(r=1;r<=V;r++)a[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++){var o=t[2*i+1];0!==o&&(t[2*i]=h(a[o]++,o))}}function f(){var t,e,n,r,i,a=new Array(V+1);for(n=0,r=0;r<P-1;r++)for(ht[r]=n,t=0;t<1<<J[r];t++)ot[n++]=r;for(ot[n-1]=r,i=0,r=0;r<16;r++)for(lt[r]=i,t=0;t<1<<tt[r];t++)st[i++]=r;for(i>>=7;r<X;r++)for(lt[r]=i<<7,t=0;t<1<<tt[r]-7;t++)st[256+i++]=r;for(e=0;e<=V;e++)a[e]=0;for(t=0;t<=143;)it[2*t+1]=8,t++,a[8]++;for(;t<=255;)it[2*t+1]=9,t++,a[9]++;for(;t<=279;)it[2*t+1]=7,t++,a[7]++;for(;t<=287;)it[2*t+1]=8,t++,a[8]++;for(c(it,Z+1,a),t=0;t<X;t++)at[2*t+1]=5,at[2*t]=h(t,5);ut=new dt(it,J,j+1,Z,V),ct=new dt(at,tt,0,X,V),ft=new dt(new Array(0),et,0,q,W)}function d(t){var e;for(e=0;e<Z;e++)t.dyn_ltree[2*e]=0;for(e=0;e<X;e++)t.dyn_dtree[2*e]=0;for(e=0;e<q;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Y]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function p(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,n,r){p(t),r&&(a(t,n),a(t,~n)),N.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function m(t,e,n,r){var i=2*e,a=2*n;return t[i]<t[a]||t[i]===t[a]&&r[e]<=r[n]}function w(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&m(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!m(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function v(t,e,n){var r,a,h,l,u=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],a=t.pending_buf[t.l_buf+u],u++,0===r?o(t,a,e):(h=ot[a],o(t,h+j+1,e),l=J[h],0!==l&&(a-=ht[h],s(t,a,l)),r--,h=i(r),o(t,h,n),l=tt[h],0!==l&&(r-=lt[h],s(t,r,l)));while(u<t.last_lit);o(t,Y,e)}function b(t,e){var n,r,i,a=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=G,n=0;n<h;n++)0!==a[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=l<2?++l:0,a[2*i]=1,t.depth[i]=0,t.opt_len--,o&&(t.static_len-=s[2*i+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)w(t,a,n);i=h;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],w(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,w(t,a,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],u(t,e),c(a,l,t.bl_count)}function y(t,e,n){var r,i,a=-1,s=e[1],o=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++o<h&&i===s||(o<l?t.bl_tree[2*i]+=o:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[2*K]++):o<=10?t.bl_tree[2*Q]++:t.bl_tree[2*$]++,o=0,a=i,0===s?(h=138,l=3):i===s?(h=6,l=3):(h=7,l=4))}function _(t,e,n){var r,i,a=-1,h=e[1],l=0,u=7,c=4;for(0===h&&(u=138,c=3),r=0;r<=n;r++)if(i=h,h=e[2*(r+1)+1],!(++l<u&&i===h)){if(l<c){do o(t,i,t.bl_tree);while(0!==--l)}else 0!==i?(i!==a&&(o(t,i,t.bl_tree),l--),o(t,K,t.bl_tree),s(t,l-3,2)):l<=10?(o(t,Q,t.bl_tree),s(t,l-3,3)):(o(t,$,t.bl_tree),s(t,l-11,7));l=0,a=i,0===h?(u=138,c=3):i===h?(u=6,c=3):(u=7,c=4)}}function x(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),b(t,t.bl_desc),e=q-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function E(t,e,n,r){var i;for(s(t,e-257,5),s(t,n-1,5),s(t,r-4,4),i=0;i<r;i++)s(t,t.bl_tree[2*nt[i]+1],3);_(t,t.dyn_ltree,e-1),_(t,t.dyn_dtree,n-1)}function S(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return R;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return B;for(e=32;e<j;e++)if(0!==t.dyn_ltree[2*e])return B;return R}function C(t){gt||(f(),gt=!0),t.l_desc=new pt(t.dyn_ltree,ut),t.d_desc=new pt(t.dyn_dtree,ct),t.bl_desc=new pt(t.bl_tree,ft),t.bi_buf=0,t.bi_valid=0,d(t)}function T(t,e,n,r){s(t,(M<<1)+(r?1:0),3),g(t,e,n,!0)}function A(t){s(t,O<<1,3),o(t,Y,it),l(t)}function k(t,e,n,r){var i,a,o=0;t.level>0?(t.strm.data_type===L&&(t.strm.data_type=S(t)),b(t,t.l_desc),b(t,t.d_desc),o=x(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&e!==-1?T(t,e,n,r):t.strategy===D||a===i?(s(t,(O<<1)+(r?1:0),3),v(t,it,at)):(s(t,(z<<1)+(r?1:0),3),E(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),v(t,t.dyn_ltree,t.dyn_dtree)),d(t),r&&p(t)}function I(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ot[n]+j+1)]++,t.dyn_dtree[2*i(e)]++),t.last_lit===t.lit_bufsize-1}var N=t("../utils/common"),D=4,R=0,B=1,L=2,M=0,O=1,z=2,F=3,U=258,P=29,j=256,Z=j+1+P,X=30,q=19,G=2*Z+1,V=15,H=16,W=7,Y=256,K=16,Q=17,$=18,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=512,it=new Array(2*(Z+2));r(it);var at=new Array(2*X);r(at);var st=new Array(rt);r(st);var ot=new Array(U-F+1);r(ot);var ht=new Array(P);r(ht);var lt=new Array(X);r(lt);var ut,ct,ft,dt=function(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length},pt=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e},gt=!1;n._tr_init=C,n._tr_stored_block=T,n._tr_flush_block=k,n._tr_tally=I,n._tr_align=A},{"../utils/common":38}],50:[function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},{}],51:[function(t,e,n){(function(n){(function(){var r,i,a;i=t("fs"),a=t("zlib"),e.exports=r=function(){function t(t){var e,r,i,a,s,o,h,l,u,c,f;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.text={};;){switch(e=this.readUInt32(),o=function(){var t,e;for(e=[],i=t=0;t<4;i=++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"PLTE":this.palette=this.read(e);break;case"IDAT":for(i=u=0;u<e;i=u+=1)this.imgData.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(e),h=255-this.transparency.indexed.length,h>0)for(i=c=0;0<=h?c<h:c>h;i=0<=h?++c:--c)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":l=this.read(e),a=l.indexOf(0),s=String.fromCharCode.apply(String,l.slice(0,a)),this.text[s]=String.fromCharCode.apply(String,l.slice(a+1));break;case"IEND":return this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new n(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return t.decode=function(e,n){return i.readFile(e,function(e,r){var i;return i=new t(r),i.decode(function(t){return n(t)})})},t.load=function(e){var n;return n=i.readFileSync(e),new t(n)},t.prototype.read=function(t){var e,n,r;for(r=[],e=n=0;0<=t?n<t:n>t;e=0<=t?++n:--n)r.push(this.data[this.pos++]);return r},t.prototype.readUInt32=function(){var t,e,n,r;return t=this.data[this.pos++]<<24,e=this.data[this.pos++]<<16,n=this.data[this.pos++]<<8,r=this.data[this.pos++],t|e|n|r},t.prototype.readUInt16=function(){var t,e;return t=this.data[this.pos++]<<8,e=this.data[this.pos++],t|e},t.prototype.decodePixels=function(t){var e=this;return a.inflate(this.imgData,function(r,i){var a,s,o,h,l,u,c,f,d,p,g,m,w,v,b,y,_,x,E,S,C,T,A;if(r)throw r;for(m=e.pixelBitlength/8,y=m*e.width,w=new n(y*e.height),u=i.length,b=0,v=0,s=0;v<u;){switch(i[v++]){case 0:for(h=E=0;E<y;h=E+=1)w[s++]=i[v++];break;case 1:for(h=S=0;S<y;h=S+=1)a=i[v++],l=h<m?0:w[s-m],w[s++]=(a+l)%256;break;case 2:for(h=C=0;C<y;h=C+=1)a=i[v++],o=(h-h%m)/m,_=b&&w[(b-1)*y+o*m+h%m],w[s++]=(_+a)%256;break;case 3:for(h=T=0;T<y;h=T+=1)a=i[v++],o=(h-h%m)/m,l=h<m?0:w[s-m],_=b&&w[(b-1)*y+o*m+h%m],w[s++]=(a+Math.floor((l+_)/2))%256;break;case 4:for(h=A=0;A<y;h=A+=1)a=i[v++],o=(h-h%m)/m,l=h<m?0:w[s-m],0===b?_=x=0:(_=w[(b-1)*y+o*m+h%m],x=o&&w[(b-1)*y+(o-1)*m+h%m]),c=l+_-x,f=Math.abs(c-l),p=Math.abs(c-_),g=Math.abs(c-x),d=f<=p&&f<=g?l:p<=g?_:x,w[s++]=(a+d)%256;break;default:throw new Error("Invalid filter algorithm: "+i[v-1])}b++}return t(w)})},t.prototype.decodePalette=function(){var t,e,r,i,a,s,o,h,l,u;for(i=this.palette,o=this.transparency.indexed||[],s=new n(o.length+i.length),a=0,r=i.length,t=0,e=h=0,l=i.length;h<l;e=h+=3)s[a++]=i[e],s[a++]=i[e+1],s[a++]=i[e+2],s[a++]=null!=(u=o[t++])?u:255;return s},t.prototype.copyToImageData=function(t,e){var n,r,i,a,s,o,h,l,u,c,f;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),i=(null!=t?t.data:void 0)||t,l=i.length,s=u||e,a=o=0,1===r)for(;a<l;)h=u?4*e[a/4]:o,c=s[h++],i[a++]=c,i[a++]=c,i[a++]=c,i[a++]=n?s[h++]:255,o=h;else for(;a<l;)h=u?4*e[a/4]:o,i[a++]=s[h++],i[a++]=s[h++],i[a++]=s[h++],i[a++]=n?s[h++]:255,o=h},t.prototype.decode=function(t){var e,r=this;return e=new n(this.width*this.height*4),this.decodePixels(function(n){return r.copyToImageData(e,n),t(e)})},t}()}).call(this)}).call(this,t("buffer").Buffer)},{buffer:73,fs:56,zlib:72}],52:[function(t,e,n){function r(t,e){this.count=t,this.dataCodewords=e,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("DataCodewords",function(){return this.dataCodewords})}function i(t,e,n){this.ecCodewordsPerBlock=t,n?this.ecBlocks=new Array(e,n):this.ecBlocks=new Array(e),this.__defineGetter__("ECCodewordsPerBlock",function(){return this.ecCodewordsPerBlock}),this.__defineGetter__("TotalECCodewords",function(){return this.ecCodewordsPerBlock*this.NumBlocks}),this.__defineGetter__("NumBlocks",function(){for(var t=0,e=0;e<this.ecBlocks.length;e++)t+=this.ecBlocks[e].length;return t}),this.getECBlocks=function(){return this.ecBlocks}}function a(t,e,n,r,i,a){this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=new Array(n,r,i,a);for(var s=0,o=n.ECCodewordsPerBlock,h=n.getECBlocks(),l=0;l<h.length;l++){var u=h[l];s+=u.Count*(u.DataCodewords+o)}this.totalCodewords=s,this.__defineGetter__("VersionNumber",function(){return this.versionNumber}),this.__defineGetter__("AlignmentPatternCenters",function(){return this.alignmentPatternCenters}),this.__defineGetter__("TotalCodewords",function(){return this.totalCodewords}),this.__defineGetter__("DimensionForVersion",function(){return 17+4*this.versionNumber}),this.buildFunctionPattern=function(){var t=this.DimensionForVersion,e=new f(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var i=this.alignmentPatternCenters[r]-2,a=0;a<n;a++)0==r&&(0==a||a==n-1)||r==n-1&&0==a||e.setRegion(this.alignmentPatternCenters[a]-2,i,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},this.getECBlocksForLevel=function(t){return this.ecBlocks[t.ordinal()]}}function s(){return new Array(new a(1,new Array,new i(7,new r(1,19)),new i(10,new r(1,16)),new i(13,new r(1,13)),new i(17,new r(1,9))),new a(2,new Array(6,18),new i(10,new r(1,34)),new i(16,new r(1,28)),new i(22,new r(1,22)),new i(28,new r(1,16))),new a(3,new Array(6,22),new i(15,new r(1,55)),new i(26,new r(1,44)),new i(18,new r(2,17)),new i(22,new r(2,13))),new a(4,new Array(6,26),new i(20,new r(1,80)),new i(18,new r(2,32)),new i(26,new r(2,24)),new i(16,new r(4,9))),new a(5,new Array(6,30),new i(26,new r(1,108)),new i(24,new r(2,43)),new i(18,new r(2,15),new r(2,16)),new i(22,new r(2,11),new r(2,12))),new a(6,new Array(6,34),new i(18,new r(2,68)),new i(16,new r(4,27)),new i(24,new r(4,19)),new i(28,new r(4,15))),new a(7,new Array(6,22,38),new i(20,new r(2,78)),new i(18,new r(4,31)),new i(18,new r(2,14),new r(4,15)),new i(26,new r(4,13),new r(1,14))),new a(8,new Array(6,24,42),new i(24,new r(2,97)),new i(22,new r(2,38),new r(2,39)),new i(22,new r(4,18),new r(2,19)),new i(26,new r(4,14),new r(2,15))),new a(9,new Array(6,26,46),new i(30,new r(2,116)),new i(22,new r(3,36),new r(2,37)),new i(20,new r(4,16),new r(4,17)),new i(24,new r(4,12),new r(4,13))),new a(10,new Array(6,28,50),new i(18,new r(2,68),new r(2,69)),new i(26,new r(4,43),new r(1,44)),new i(24,new r(6,19),new r(2,20)),new i(28,new r(6,15),new r(2,16))),new a(11,new Array(6,30,54),new i(20,new r(4,81)),new i(30,new r(1,50),new r(4,51)),new i(28,new r(4,22),new r(4,23)),new i(24,new r(3,12),new r(8,13))),new a(12,new Array(6,32,58),new i(24,new r(2,92),new r(2,93)),new i(22,new r(6,36),new r(2,37)),new i(26,new r(4,20),new r(6,21)),new i(28,new r(7,14),new r(4,15))),new a(13,new Array(6,34,62),new i(26,new r(4,107)),new i(22,new r(8,37),new r(1,38)),new i(24,new r(8,20),new r(4,21)),new i(22,new r(12,11),new r(4,12))),new a(14,new Array(6,26,46,66),new i(30,new r(3,115),new r(1,116)),new i(24,new r(4,40),new r(5,41)),new i(20,new r(11,16),new r(5,17)),new i(24,new r(11,12),new r(5,13))),new a(15,new Array(6,26,48,70),new i(22,new r(5,87),new r(1,88)),new i(24,new r(5,41),new r(5,42)),new i(30,new r(5,24),new r(7,25)),new i(24,new r(11,12),new r(7,13))),new a(16,new Array(6,26,50,74),new i(24,new r(5,98),new r(1,99)),new i(28,new r(7,45),new r(3,46)),new i(24,new r(15,19),new r(2,20)),new i(30,new r(3,15),new r(13,16))),new a(17,new Array(6,30,54,78),new i(28,new r(1,107),new r(5,108)),new i(28,new r(10,46),new r(1,47)),new i(28,new r(1,22),new r(15,23)),new i(28,new r(2,14),new r(17,15))),new a(18,new Array(6,30,56,82),new i(30,new r(5,120),new r(1,121)),new i(26,new r(9,43),new r(4,44)),new i(28,new r(17,22),new r(1,23)),new i(28,new r(2,14),new r(19,15))),new a(19,new Array(6,30,58,86),new i(28,new r(3,113),new r(4,114)),new i(26,new r(3,44),new r(11,45)),new i(26,new r(17,21),new r(4,22)),new i(26,new r(9,13),new r(16,14))),new a(20,new Array(6,34,62,90),new i(28,new r(3,107),new r(5,108)),new i(26,new r(3,41),new r(13,42)),new i(30,new r(15,24),new r(5,25)),new i(28,new r(15,15),new r(10,16))),new a(21,new Array(6,28,50,72,94),new i(28,new r(4,116),new r(4,117)),new i(26,new r(17,42)),new i(28,new r(17,22),new r(6,23)),new i(30,new r(19,16),new r(6,17))),new a(22,new Array(6,26,50,74,98),new i(28,new r(2,111),new r(7,112)),new i(28,new r(17,46)),new i(30,new r(7,24),new r(16,25)),new i(24,new r(34,13))),new a(23,new Array(6,30,54,74,102),new i(30,new r(4,121),new r(5,122)),new i(28,new r(4,47),new r(14,48)),new i(30,new r(11,24),new r(14,25)),new i(30,new r(16,15),new r(14,16))),new a(24,new Array(6,28,54,80,106),new i(30,new r(6,117),new r(4,118)),new i(28,new r(6,45),new r(14,46)),new i(30,new r(11,24),new r(16,25)),new i(30,new r(30,16),new r(2,17))),new a(25,new Array(6,32,58,84,110),new i(26,new r(8,106),new r(4,107)),new i(28,new r(8,47),new r(13,48)),new i(30,new r(7,24),new r(22,25)),new i(30,new r(22,15),new r(13,16))),new a(26,new Array(6,30,58,86,114),new i(28,new r(10,114),new r(2,115)),new i(28,new r(19,46),new r(4,47)),new i(28,new r(28,22),new r(6,23)),new i(30,new r(33,16),new r(4,17))),new a(27,new Array(6,34,62,90,118),new i(30,new r(8,122),new r(4,123)),new i(28,new r(22,45),new r(3,46)),new i(30,new r(8,23),new r(26,24)),new i(30,new r(12,15),new r(28,16))),new a(28,new Array(6,26,50,74,98,122),new i(30,new r(3,117),new r(10,118)),new i(28,new r(3,45),new r(23,46)),new i(30,new r(4,24),new r(31,25)),new i(30,new r(11,15),new r(31,16))),new a(29,new Array(6,30,54,78,102,126),new i(30,new r(7,116),new r(7,117)),new i(28,new r(21,45),new r(7,46)),new i(30,new r(1,23),new r(37,24)),new i(30,new r(19,15),new r(26,16))),new a(30,new Array(6,26,52,78,104,130),new i(30,new r(5,115),new r(10,116)),new i(28,new r(19,47),new r(10,48)),new i(30,new r(15,24),new r(25,25)),new i(30,new r(23,15),new r(25,16))),new a(31,new Array(6,30,56,82,108,134),new i(30,new r(13,115),new r(3,116)),new i(28,new r(2,46),new r(29,47)),new i(30,new r(42,24),new r(1,25)),new i(30,new r(23,15),new r(28,16))),new a(32,new Array(6,34,60,86,112,138),new i(30,new r(17,115)),new i(28,new r(10,46),new r(23,47)),new i(30,new r(10,24),new r(35,25)),new i(30,new r(19,15),new r(35,16))),new a(33,new Array(6,30,58,86,114,142),new i(30,new r(17,115),new r(1,116)),new i(28,new r(14,46),new r(21,47)),new i(30,new r(29,24),new r(19,25)),new i(30,new r(11,15),new r(46,16))),new a(34,new Array(6,34,62,90,118,146),new i(30,new r(13,115),new r(6,116)),new i(28,new r(14,46),new r(23,47)),new i(30,new r(44,24),new r(7,25)),new i(30,new r(59,16),new r(1,17))),new a(35,new Array(6,30,54,78,102,126,150),new i(30,new r(12,121),new r(7,122)),new i(28,new r(12,47),new r(26,48)),new i(30,new r(39,24),new r(14,25)),new i(30,new r(22,15),new r(41,16))),new a(36,new Array(6,24,50,76,102,128,154),new i(30,new r(6,121),new r(14,122)),new i(28,new r(6,47),new r(34,48)),new i(30,new r(46,24),new r(10,25)),new i(30,new r(2,15),new r(64,16))),new a(37,new Array(6,28,54,80,106,132,158),new i(30,new r(17,122),new r(4,123)),new i(28,new r(29,46),new r(14,47)),new i(30,new r(49,24),new r(10,25)),new i(30,new r(24,15),new r(46,16))),new a(38,new Array(6,32,58,84,110,136,162),new i(30,new r(4,122),new r(18,123)),new i(28,new r(13,46),new r(32,47)),new i(30,new r(48,24),new r(14,25)),new i(30,new r(42,15),new r(32,16))),new a(39,new Array(6,26,54,82,110,138,166),new i(30,new r(20,117),new r(4,118)),new i(28,new r(40,47),new r(7,48)),new i(30,new r(43,24),new r(22,25)),new i(30,new r(10,15),new r(67,16))),new a(40,new Array(6,30,58,86,114,142,170),new i(30,new r(19,118),new r(6,119)),new i(28,new r(18,47),new r(31,48)),new i(30,new r(34,24),new r(34,25)),new i(30,new r(20,15),new r(61,16))))}function o(t,e,n,r,i,a,s,h,l){this.a11=t,this.a12=r,this.a13=s,this.a21=e,this.a22=i,this.a23=h,this.a31=n,this.a32=a,this.a33=l,this.transformPoints1=function(t){for(var e=t.length,n=this.a11,r=this.a12,i=this.a13,a=this.a21,s=this.a22,o=this.a23,h=this.a31,l=this.a32,u=this.a33,c=0;c<e;c+=2){var f=t[c],d=t[c+1],p=i*f+o*d+u;t[c]=(n*f+a*d+h)/p,t[c+1]=(r*f+s*d+l)/p}},this.transformPoints2=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r],a=e[r],s=this.a13*i+this.a23*a+this.a33;t[r]=(this.a11*i+this.a21*a+this.a31)/s,e[r]=(this.a12*i+this.a22*a+this.a32)/s}},this.buildAdjoint=function(){return new o(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(t){return new o(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}function h(t,e){this.bits=t,this.points=e}function l(t,e){this.image=t,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(t,n,r,i){var a=Math.abs(i-n)>Math.abs(r-t);if(a){var s=t;t=n,n=s,s=r,r=i,i=s}for(var o=Math.abs(r-t),h=Math.abs(i-n),l=-o>>1,u=n<i?1:-1,c=t<r?1:-1,f=0,d=t,p=n;d!=r;d+=c){var g=a?p:d,m=a?d:p;if(1==f?this.image[g+m*e.width]&&f++:this.image[g+m*e.width]||f++,3==f){var w=d-t,v=p-n;return Math.sqrt(w*w+v*v)}if(l+=h,l>0){if(p==i)break;p+=u,l-=o}}var b=r-t,y=i-n;return Math.sqrt(b*b+y*y)},this.sizeOfBlackWhiteBlackRunBothWays=function(t,n,r,i){var a=this.sizeOfBlackWhiteBlackRun(t,n,r,i),s=1,o=t-(r-t);o<0?(s=t/(t-o),o=0):o>=e.width&&(s=(e.width-1-t)/(o-t),o=e.width-1);var h=Math.floor(n-(i-n)*s);return s=1,h<0?(s=n/(n-h),h=0):h>=e.height&&(s=(e.height-1-n)/(h-n),h=e.height-1),o=Math.floor(t+(o-t)*s),a+=this.sizeOfBlackWhiteBlackRun(t,n,o,h),a-1},this.calculateModuleSizeOneWay=function(t,e){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y)),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},this.calculateModuleSize=function(t,e,n){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,n))/2},this.distance=function(t,e){return xDiff=t.X-e.X,yDiff=t.Y-e.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)},this.computeDimension=function(t,e,n,r){var i=Math.round(this.distance(t,e)/r),a=Math.round(this.distance(t,n)/r),s=(i+a>>1)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw"Error"}return s},this.findAlignmentInRegion=function(t,n,r,i){var a=Math.floor(i*t),s=Math.max(0,n-a),o=Math.min(e.width-1,n+a);if(o-s<3*t)throw"Error";var h=Math.max(0,r-a),l=Math.min(e.height-1,r+a),u=new R(this.image,s,h,o-s,l-h,t,this.resultPointCallback,e);return u.find()},this.createTransform=function(t,e,n,r,i){var a,s,h,l,u=i-3.5;null!=r?(a=r.X,s=r.Y,h=l=u-3):(a=e.X-t.X+n.X,s=e.Y-t.Y+n.Y,h=l=u);var c=o.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,h,l,3.5,u,t.X,t.Y,e.X,e.Y,a,s,n.X,n.Y);return c},this.sampleGrid=function(t,n,r){var i=GridSampler;return i.sampleGrid3(t,r,n,e)},this.processFinderPatternInfo=function(t){var e=t.TopLeft,n=t.TopRight,r=t.BottomLeft,i=this.calculateModuleSize(e,n,r);if(i<1)throw"Error";var s=this.computeDimension(e,n,r,i),o=a.getProvisionalVersionForDimension(s),l=o.DimensionForVersion-7,u=null;if(o.AlignmentPatternCenters.length>0)for(var c=n.X-e.X+r.X,f=n.Y-e.Y+r.Y,d=1-3/l,p=Math.floor(e.X+d*(c-e.X)),g=Math.floor(e.Y+d*(f-e.Y)),m=4;m<=16;m<<=1){u=this.findAlignmentInRegion(i,p,g,m);break}var w,v=this.createTransform(e,n,r,u,s),b=this.sampleGrid(this.image,v,s);return w=null==u?new Array(r,e,n):new Array(r,e,n,u),new h(b,w)},this.detect=function(){var t=new N(e).findFinderPattern(this.image);return this.processFinderPatternInfo(t)}}function u(t){this.errorCorrectionLevel=c.forBits(t>>3&3),this.dataMask=7&t,this.__defineGetter__("ErrorCorrectionLevel",function(){return this.errorCorrectionLevel}),this.__defineGetter__("DataMask",function(){return this.dataMask}),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|dataMask},this.Equals=function(t){var e=t;return this.errorCorrectionLevel==e.errorCorrectionLevel&&this.dataMask==e.dataMask}}function c(t,e,n){this.ordinal_Renamed_Field=t,this.bits=e,this.name=n,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this.ordinal_Renamed_Field}}function f(t,e){if(e||(e=t),t<1||e<1)throw"Both dimensions must be greater than 0";this.width=t,this.height=e;var n=t>>5;0!=(31&t)&&n++,this.rowSize=n,this.bits=new Array(n*e);for(var r=0;r<this.bits.length;r++)this.bits[r]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this.get_Renamed=function(t,e){var n=e*this.rowSize+(t>>5);return 0!=(1&A(this.bits[n],31&t))},this.set_Renamed=function(t,e){var n=e*this.rowSize+(t>>5);this.bits[n]|=1<<(31&t)},this.flip=function(t,e){var n=e*this.rowSize+(t>>5);this.bits[n]^=1<<(31&t)},this.clear=function(){for(var t=this.bits.length,e=0;e<t;e++)this.bits[e]=0},this.setRegion=function(t,e,n,r){if(e<0||t<0)throw"Left and top must be nonnegative";if(r<1||n<1)throw"Height and width must be at least 1";var i=t+n,a=e+r;if(a>this.height||i>this.width)throw"The region must fit inside the matrix";for(var s=e;s<a;s++)for(var o=s*this.rowSize,h=t;h<i;h++)this.bits[o+(h>>5)]|=1<<(31&h)}}function d(t,e){this.numDataCodewords=t,this.codewords=e,this.__defineGetter__("NumDataCodewords",function(){return this.numDataCodewords}),this.__defineGetter__("Codewords",function(){return this.codewords})}function g(t){var e=t.Dimension;if(e<21||1!=(3&e))throw"Error BitMatrixParser";this.bitMatrix=t,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(t,e,n){return this.bitMatrix.get_Renamed(t,e)?n<<1|1:n<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);if(this.parsedFormatInfo=u.decodeFormatInformation(t),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var r=this.bitMatrix.Dimension;t=0;for(var i=r-8,e=r-1;e>=i;e--)t=this.copyBit(e,8,t);for(var n=r-7;n<r;n++)t=this.copyBit(8,n,t);if(this.parsedFormatInfo=u.decodeFormatInformation(t),
null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.Dimension,e=t-17>>2;if(e<=6)return a.getVersionForNumber(e);for(var n=0,r=t-11,i=5;i>=0;i--)for(var s=t-9;s>=r;s--)n=this.copyBit(s,i,n);if(this.parsedVersion=a.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==t)return this.parsedVersion;n=0;for(var s=5;s>=0;s--)for(var i=t-9;i>=r;i--)n=this.copyBit(s,i,n);if(this.parsedVersion=a.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==t)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),n=DataMask.forReference(t.DataMask),r=this.bitMatrix.Dimension;n.unmaskBitMatrix(this.bitMatrix,r);for(var i=e.buildFunctionPattern(),a=!0,s=new Array(e.TotalCodewords),o=0,h=0,l=0,u=r-1;u>0;u-=2){6==u&&u--;for(var c=0;c<r;c++)for(var f=a?r-1-c:c,d=0;d<2;d++)i.get_Renamed(u-d,f)||(l++,h<<=1,this.bitMatrix.get_Renamed(u-d,f)&&(h|=1),8==l&&(s[o++]=h,l=0,h=0));a^=!0}if(o!=e.TotalCodewords)throw"Error readCodewords";return s}}function m(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(t+e&1)}}function w(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(1&t)}}function v(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return e%3==0}}function b(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return(t+e)%3==0}}function y(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(A(t,1)+e/3&1)}}function _(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){var n=t*e;return(1&n)+n%3==0}}function x(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){var n=t*e;return 0==((1&n)+n%3&1)}}function E(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==((t+e&1)+t*e%3&1)}}function S(t){this.field=t,this.decode=function(t,e){for(var n=new C(this.field,t),r=new Array(e),i=0;i<r.length;i++)r[i]=0;for(var a=!1,s=!0,i=0;i<e;i++){var o=n.evaluateAt(this.field.exp(a?i+1:i));r[r.length-1-i]=o,0!=o&&(s=!1)}if(!s)for(var h=new C(this.field,r),l=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),h,e),u=l[0],c=l[1],f=this.findErrorLocations(u),d=this.findErrorMagnitudes(c,f,a),i=0;i<f.length;i++){var p=t.length-1-this.field.log(f[i]);if(p<0)throw"ReedSolomonException Bad error location";t[p]=T.addOrSubtract(t[p],d[i])}},this.runEuclideanAlgorithm=function(t,e,n){if(t.Degree<e.Degree){var r=t;t=e,e=r}for(var i=t,a=e,s=this.field.One,o=this.field.Zero,h=this.field.Zero,l=this.field.One;a.Degree>=Math.floor(n/2);){var u=i,c=s,f=h;if(i=a,s=o,h=l,i.Zero)throw"r_{i-1} was zero";a=u;for(var d=this.field.Zero,p=i.getCoefficient(i.Degree),g=this.field.inverse(p);a.Degree>=i.Degree&&!a.Zero;){var m=a.Degree-i.Degree,w=this.field.multiply(a.getCoefficient(a.Degree),g);d=d.addOrSubtract(this.field.buildMonomial(m,w)),a=a.addOrSubtract(i.multiplyByMonomial(m,w))}o=d.multiply1(s).addOrSubtract(c),l=d.multiply1(h).addOrSubtract(f)}var v=l.getCoefficient(0);if(0==v)throw"ReedSolomonException sigmaTilde(0) was zero";var b=this.field.inverse(v),y=l.multiply2(b),_=a.multiply2(b);return new Array(y,_)},this.findErrorLocations=function(t){var e=t.Degree;if(1==e)return new Array(t.getCoefficient(1));for(var n=new Array(e),r=0,i=1;i<256&&r<e;i++)0==t.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!=e)throw"Error locator degree does not match number of roots";return n},this.findErrorMagnitudes=function(t,e,n){for(var r=e.length,i=new Array(r),a=0;a<r;a++){for(var s=this.field.inverse(e[a]),o=1,h=0;h<r;h++)a!=h&&(o=this.field.multiply(o,T.addOrSubtract(1,this.field.multiply(e[h],s))));i[a]=this.field.multiply(t.evaluateAt(s),this.field.inverse(o)),n&&(i[a]=this.field.multiply(i[a],s))}return i}}function C(t,e){if(null==e||0==e.length)throw"System.ArgumentException";this.field=t;var n=e.length;if(n>1&&0==e[0]){for(var r=1;r<n&&0==e[r];)r++;if(r==n)this.coefficients=t.Zero.coefficients;else{this.coefficients=new Array(n-r);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=0;for(var a=0;a<this.coefficients.length;a++)this.coefficients[a]=e[r+a]}}else this.coefficients=e;this.__defineGetter__("Zero",function(){return 0==this.coefficients[0]}),this.__defineGetter__("Degree",function(){return this.coefficients.length-1}),this.__defineGetter__("Coefficients",function(){return this.coefficients}),this.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},this.evaluateAt=function(t){if(0==t)return this.getCoefficient(0);var e=this.coefficients.length;if(1==t){for(var n=0,r=0;r<e;r++)n=T.addOrSubtract(n,this.coefficients[r]);return n}for(var i=this.coefficients[0],r=1;r<e;r++)i=T.addOrSubtract(this.field.multiply(t,i),this.coefficients[r]);return i},this.addOrSubtract=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return e;if(e.Zero)return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}for(var a=new Array(r.length),s=r.length-n.length,o=0;o<s;o++)a[o]=r[o];for(var h=s;h<r.length;h++)a[h]=T.addOrSubtract(n[h-s],r[h]);return new C(t,a)},this.multiply1=function(t){if(this.field!=t.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||t.Zero)return this.field.Zero;for(var e=this.coefficients,n=e.length,r=t.coefficients,i=r.length,a=new Array(n+i-1),s=0;s<n;s++)for(var o=e[s],h=0;h<i;h++)a[s+h]=T.addOrSubtract(a[s+h],this.field.multiply(o,r[h]));return new C(this.field,a)},this.multiply2=function(t){if(0==t)return this.field.Zero;if(1==t)return this;for(var e=this.coefficients.length,n=new Array(e),r=0;r<e;r++)n[r]=this.field.multiply(this.coefficients[r],t);return new C(this.field,n)},this.multiplyByMonomial=function(t,e){if(t<0)throw"System.ArgumentException";if(0==e)return this.field.Zero;for(var n=this.coefficients.length,r=new Array(n+t),i=0;i<r.length;i++)r[i]=0;for(var i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new C(this.field,r)},this.divide=function(t){if(this.field!=t.field)throw"GF256Polys do not have same GF256 field";if(t.Zero)throw"Divide by 0";for(var e=this.field.Zero,n=this,r=t.getCoefficient(t.Degree),i=this.field.inverse(r);n.Degree>=t.Degree&&!n.Zero;){var a=n.Degree-t.Degree,s=this.field.multiply(n.getCoefficient(n.Degree),i),o=t.multiplyByMonomial(a,s),h=this.field.buildMonomial(a,s);e=e.addOrSubtract(h),n=n.addOrSubtract(o)}return new Array(e,n)}}function T(t){this.expTable=new Array(256),this.logTable=new Array(256);for(var e=1,n=0;n<256;n++)this.expTable[n]=e,e<<=1,e>=256&&(e^=t);for(var n=0;n<255;n++)this.logTable[this.expTable[n]]=n;var r=new Array(1);r[0]=0,this.zero=new C(this,new Array(r));var i=new Array(1);i[0]=1,this.one=new C(this,new Array(i)),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this.buildMonomial=function(t,e){if(t<0)throw"System.ArgumentException";if(0==e)return zero;for(var n=new Array(t+1),r=0;r<n.length;r++)n[r]=0;return n[0]=e,new C(this,n)},this.exp=function(t){return this.expTable[t]},this.log=function(t){if(0==t)throw"System.ArgumentException";return this.logTable[t]},this.inverse=function(t){if(0==t)throw"System.ArithmeticException";return this.expTable[255-this.logTable[t]]},this.multiply=function(t,e){return 0==t||0==e?0:1==t?e:1==e?t:this.expTable[(this.logTable[t]+this.logTable[e])%255]}}function A(t,e){return t>=0?t>>e:(t>>e)+(2<<~e)}function k(t,e,n){this.x=t,this.y=e,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this.incrementCount=function(){this.count++},this.aboutEquals=function(t,e,n){if(Math.abs(e-this.y)<=t&&Math.abs(n-this.x)<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1}}function I(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2],this.__defineGetter__("BottomLeft",function(){return this.bottomLeft}),this.__defineGetter__("TopLeft",function(){return this.topLeft}),this.__defineGetter__("TopRight",function(){return this.topRight})}function N(t){if(null==t)throw"no qrcode defined!!";this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}),this.foundPatternCross=function(t){for(var e=0,n=0;n<5;n++){var r=t[n];if(0==r)return!1;e+=r}if(e<7)return!1;var i=Math.floor((e<<q)/7),a=Math.floor(i/2);return Math.abs(i-(t[0]<<q))<a&&Math.abs(i-(t[1]<<q))<a&&Math.abs(3*i-(t[2]<<q))<3*a&&Math.abs(i-(t[3]<<q))<a&&Math.abs(i-(t[4]<<q))<a},this.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},this.crossCheckVertical=function(e,n,r,i){if(null==t)throw"qrcode not defined";for(var a=this.image,s=t.height,o=this.CrossCheckStateCount,h=e;h>=0&&a[n+h*t.width];)o[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a[n+h*t.width]&&o[1]<=r;)o[1]++,h--;if(h<0||o[1]>r)return NaN;for(;h>=0&&a[n+h*t.width]&&o[0]<=r;)o[0]++,h--;if(o[0]>r)return NaN;for(h=e+1;h<s&&a[n+h*t.width];)o[2]++,h++;if(h==s)return NaN;for(;h<s&&!a[n+h*t.width]&&o[3]<r;)o[3]++,h++;if(h==s||o[3]>=r)return NaN;for(;h<s&&a[n+h*t.width]&&o[4]<r;)o[4]++,h++;if(o[4]>=r)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(o)?this.centerFromEnd(o,h):NaN},this.crossCheckHorizontal=function(e,n,r,i){for(var a=this.image,s=t.width,o=this.CrossCheckStateCount,h=e;h>=0&&a[h+n*t.width];)o[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a[h+n*t.width]&&o[1]<=r;)o[1]++,h--;if(h<0||o[1]>r)return NaN;for(;h>=0&&a[h+n*t.width]&&o[0]<=r;)o[0]++,h--;if(o[0]>r)return NaN;for(h=e+1;h<s&&a[h+n*t.width];)o[2]++,h++;if(h==s)return NaN;for(;h<s&&!a[h+n*t.width]&&o[3]<r;)o[3]++,h++;if(h==s||o[3]>=r)return NaN;for(;h<s&&a[h+n*t.width]&&o[4]<r;)o[4]++,h++;if(o[4]>=r)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-i)>=i?NaN:this.foundPatternCross(o)?this.centerFromEnd(o,h):NaN},this.handlePossibleCenter=function(t,e,n){var r=t[0]+t[1]+t[2]+t[3]+t[4],i=this.centerFromEnd(t,n),a=this.crossCheckVertical(e,Math.floor(i),t[2],r);if(!isNaN(a)&&(i=this.crossCheckHorizontal(Math.floor(i),Math.floor(a),t[2],r),!isNaN(i))){for(var s=r/7,o=!1,h=this.possibleCenters.length,l=0;l<h;l++){var u=this.possibleCenters[l];if(u.aboutEquals(s,a,i)){u.incrementCount(),o=!0;break}}if(!o){var c=new k(i,a,s);this.possibleCenters.push(c),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(c)}return!0}return!1},this.selectBestPatterns=function(){var t=this.possibleCenters.length;if(t<3)throw"Couldn't find enough finder patterns:"+t+" patterns found";if(t>3){for(var e=0,n=0;n<t;n++)e+=this.possibleCenters[n].EstimatedModuleSize;for(var r=e/t,n=0;n<this.possibleCenters.length&&this.possibleCenters.length>3;n++){var i=this.possibleCenters[n];Math.abs(i.EstimatedModuleSize-r)>.2*r&&(this.possibleCenters.remove(n),n--)}}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(t,e){return t.count>e.count?-1:t.count<e.count?1:0}),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var t=this.possibleCenters.length;if(t<=1)return 0;for(var e=null,n=0;n<t;n++){var r=this.possibleCenters[n];if(r.Count>=G){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.X-r.X)-Math.abs(e.Y-r.Y))/2);e=r}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var t=0,e=0,n=this.possibleCenters.length,r=0;r<n;r++){var i=this.possibleCenters[r];i.Count>=G&&(t++,e+=i.EstimatedModuleSize)}if(t<3)return!1;for(var a=e/n,s=0,r=0;r<n;r++)i=this.possibleCenters[r],s+=Math.abs(i.EstimatedModuleSize-a);return s<=.05*e},this.findFinderPattern=function(e){var n=!1;this.image=e;var r=t.height,i=t.width,a=Math.floor(3*r/(4*X));(a<Z||n)&&(a=Z);for(var s=!1,o=new Array(5),h=a-1;h<r&&!s;h+=a){o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0;for(var l=0,u=0;u<i;u++)if(e[u+h*t.width])1==(1&l)&&l++,o[l]++;else if(0==(1&l))if(4==l)if(this.foundPatternCross(o)){var c=this.handlePossibleCenter(o,h,u);if(c)if(a=2,this.hasSkipped)s=this.haveMultiplyConfirmedCenters();else{var f=this.findRowSkip();f>o[2]&&(h+=f-o[2]-a,u=i-1)}else{do u++;while(u<i&&!e[u+h*t.width]);u--}l=0,o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0}else o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,l=3;else o[++l]++;else o[l]++;if(this.foundPatternCross(o)){var c=this.handlePossibleCenter(o,h,i);c&&(a=o[0],this.hasSkipped&&(s=haveMultiplyConfirmedCenters()))}}var d=this.selectBestPatterns();return t.orderBestPatterns(d),new I(d)}}function D(t,e,n){this.x=t,this.y=e,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this.incrementCount=function(){this.count++},this.aboutEquals=function(t,e,n){if(Math.abs(e-this.y)<=t&&Math.abs(n-this.x)<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1}}function R(t,e,n,r,i,a,s,o){this.image=t,this.possibleCenters=new Array,this.startX=e,this.startY=n,this.width=r,this.height=i,this.moduleSize=a,this.crossCheckStateCount=new Array(0,0,0),this.resultPointCallback=s,this.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},this.foundPatternCross=function(t){for(var e=this.moduleSize,n=e/2,r=0;r<3;r++)if(Math.abs(e-t[r])>=n)return!1;return!0},this.crossCheckVertical=function(t,e,n,r){var i=this.image,a=o.height,s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var h=t;h>=0&&i[e+h*o.width]&&s[1]<=n;)s[1]++,h--;if(h<0||s[1]>n)return NaN;for(;h>=0&&!i[e+h*o.width]&&s[0]<=n;)s[0]++,h--;if(s[0]>n)return NaN;for(h=t+1;h<a&&i[e+h*o.width]&&s[1]<=n;)s[1]++,h++;if(h==a||s[1]>n)return NaN;for(;h<a&&!i[e+h*o.width]&&s[2]<=n;)s[2]++,h++;if(s[2]>n)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-r)>=2*r?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,h):NaN},this.handlePossibleCenter=function(t,e,n){var r=t[0]+t[1]+t[2],i=this.centerFromEnd(t,n),a=this.crossCheckVertical(e,Math.floor(i),2*t[1],r);if(!isNaN(a)){for(var s=(t[0]+t[1]+t[2])/3,o=this.possibleCenters.length,h=0;h<o;h++){var l=this.possibleCenters[h];if(l.aboutEquals(s,a,i))return new D(i,a,s)}var u=new D(i,a,s);this.possibleCenters.push(u),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(u)}return null},this.find=function(){for(var e=this.startX,i=this.height,a=e+r,s=n+(i>>1),h=new Array(0,0,0),l=0;l<i;l++){var u=s+(0==(1&l)?l+1>>1:-(l+1>>1));h[0]=0,h[1]=0,h[2]=0;for(var c=e;c<a&&!t[c+o.width*u];)c++;for(var f=0;c<a;){if(t[c+u*o.width])if(1==f)h[f]++;else if(2==f){if(this.foundPatternCross(h)){var d=this.handlePossibleCenter(h,u,c);if(null!=d)return d}h[0]=h[2],h[1]=1,h[2]=0,f=1}else h[++f]++;else 1==f&&f++,h[f]++;c++}if(this.foundPatternCross(h)){var d=this.handlePossibleCenter(h,u,a);if(null!=d)return d}}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}function B(t,e,n,r){if(null==r)throw"no qrcode";this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=t,this.numErrorCorrectionCode=n,e<=9?this.dataLengthMode=0:e>=10&&e<=26?this.dataLengthMode=1:e>=27&&e<=40&&(this.dataLengthMode=2),this.getNextBits=function(t){var e=0;if(t<this.bitPointer+1){for(var n=0,r=0;r<t;r++)n+=1<<r;return n<<=this.bitPointer-t+1,e=(this.blocks[this.blockPointer]&n)>>this.bitPointer-t+1,this.bitPointer-=t,e}if(t<this.bitPointer+1+8){for(var i=0,r=0;r<this.bitPointer+1;r++)i+=1<<r;return e=(this.blocks[this.blockPointer]&i)<<t-(this.bitPointer+1),this.blockPointer++,e+=this.blocks[this.blockPointer]>>8-(t-(this.bitPointer+1)),this.bitPointer=this.bitPointer-t%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),e}if(t<this.bitPointer+1+16){for(var i=0,a=0,r=0;r<this.bitPointer+1;r++)i+=1<<r;var s=(this.blocks[this.blockPointer]&i)<<t-(this.bitPointer+1);this.blockPointer++;var o=this.blocks[this.blockPointer]<<t-(this.bitPointer+1+8);this.blockPointer++;for(var r=0;r<t-(this.bitPointer+1+8);r++)a+=1<<r;a<<=8-(t-(this.bitPointer+1+8));var h=(this.blocks[this.blockPointer]&a)>>8-(t-(this.bitPointer+1+8));return e=s+o+h,this.bitPointer=this.bitPointer-(t-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),e}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(t){for(var e=0;;){if(t>>e==1)break;e++}return this.getNextBits(r.sizeOfDataLengthInfo[this.dataLengthMode][e])},this.getRomanAndFigureString=function(t){var e=t,n=0,r="",i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do if(e>1){n=this.getNextBits(11);var a=Math.floor(n/45),s=n%45;r+=i[a],r+=i[s],e-=2}else 1==e&&(n=this.getNextBits(6),r+=i[n],e-=1);while(e>0);return r},this.getFigureString=function(t){var e=t,n=0,r="";do e>=3?(n=this.getNextBits(10),n<100&&(r+="0"),n<10&&(r+="0"),e-=3):2==e?(n=this.getNextBits(7),n<10&&(r+="0"),e-=2):1==e&&(n=this.getNextBits(4),e-=1),r+=n;while(e>0);return r},this.get8bitByteArray=function(t){var e=t,n=0,r=new Array;do n=this.getNextBits(8),r.push(n),e--;while(e>0);return r},this.getKanjiString=function(t){var e=t,n=0,r="";do{n=getNextBits(13);var i=n%192,a=n/192,s=(a<<8)+i,o=0;o=s+33088<=40956?s+33088:s+49472,r+=String.fromCharCode(o),e--}while(e>0);return r},this.__defineGetter__("DataByte",function(){for(var t=new Array,e=1,n=2,r=4,i=8;;){var a=this.NextMode();if(0==a){if(t.length>0)break;throw"Empty data block"}if(a!=e&&a!=n&&a!=r&&a!=i)throw"Invalid mode: "+a+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(dataLength=this.getDataLength(a),dataLength<1)throw"Invalid data length: "+dataLength;switch(a){case e:for(var s=this.getFigureString(dataLength),o=new Array(s.length),h=0;h<s.length;h++)o[h]=s.charCodeAt(h);t.push(o);break;case n:for(var s=this.getRomanAndFigureString(dataLength),o=new Array(s.length),h=0;h<s.length;h++)o[h]=s.charCodeAt(h);t.push(o);break;case r:var l=this.get8bitByteArray(dataLength);t.push(l);break;case i:var s=this.getKanjiString(dataLength);t.push(s)}}return t})}GridSampler={},GridSampler.checkAndNudgePoints=function(t,e,n){if(null==n)throw"no qrcode found";for(var r=n.width,i=n.height,a=!0,s=0;s<e.Length&&a;s+=2){var o=Math.floor(e[s]),h=Math.floor(e[s+1]);if(o<-1||o>r||h<-1||h>i)throw"Error.checkAndNudgePoints ";a=!1,o==-1?(e[s]=0,a=!0):o==r&&(e[s]=r-1,a=!0),h==-1?(e[s+1]=0,a=!0):h==i&&(e[s+1]=i-1,a=!0)}a=!0;for(var s=e.Length-2;s>=0&&a;s-=2){var o=Math.floor(e[s]),h=Math.floor(e[s+1]);if(o<-1||o>r||h<-1||h>i)throw"Error.checkAndNudgePoints ";a=!1,o==-1?(e[s]=0,a=!0):o==r&&(e[s]=r-1,a=!0),h==-1?(e[s+1]=0,a=!0):h==i&&(e[s+1]=i-1,a=!0)}},GridSampler.sampleGrid3=function(t,e,n,r){for(var i=new f(e),a=new Array(e<<1),s=0;s<e;s++){for(var o=a.length,h=s+.5,l=0;l<o;l+=2)a[l]=(l>>1)+.5,a[l+1]=h;n.transformPoints1(a),GridSampler.checkAndNudgePoints(t,a,r);try{for(var l=0;l<o;l+=2){var u=4*Math.floor(a[l])+Math.floor(a[l+1])*r.width*4,c=t[Math.floor(a[l])+r.width*Math.floor(a[l+1])];r.imagedata.data[u]=c?255:0,r.imagedata.data[u+1]=c?255:0,r.imagedata.data[u+2]=0,r.imagedata.data[u+3]=255,c&&i.set_Renamed(l>>1,s)}}catch(t){throw"Error.checkAndNudgePoints"}}return i},GridSampler.sampleGridx=function(t,e,n,r,i,a,s,h,l,u,c,f,d,p,g,m,w,v){var b=o.quadrilateralToQuadrilateral(n,r,i,a,s,h,l,u,c,f,d,p,g,m,w,v);return GridSampler.sampleGrid3(t,e,b)},a.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),a.VERSIONS=s(),a.getVersionForNumber=function(t){if(t<1||t>40)throw"ArgumentException";return a.VERSIONS[t-1]},a.getProvisionalVersionForDimension=function(t){if(t%4!=1)throw"Error getProvisionalVersionForDimension";try{return a.getVersionForNumber(t-17>>2)}catch(t){throw"Error getVersionForNumber"}},a.decodeVersionInformation=function(t){for(var e=4294967295,n=0,r=0;r<a.VERSION_DECODE_INFO.length;r++){var i=a.VERSION_DECODE_INFO[r];if(i==t)return this.getVersionForNumber(r+7);var s=u.numBitsDiffering(t,i);s<e&&(n=r+7,e=s)}return e<=3?this.getVersionForNumber(n):null},o.quadrilateralToQuadrilateral=function(t,e,n,r,i,a,s,o,h,l,u,c,f,d,p,g){var m=this.quadrilateralToSquare(t,e,n,r,i,a,s,o),w=this.squareToQuadrilateral(h,l,u,c,f,d,p,g);return w.times(m)},o.squareToQuadrilateral=function(t,e,n,r,i,a,s,h){return dy2=h-a,dy3=e-r+a-h,0==dy2&&0==dy3?new o(n-t,i-n,t,r-e,a-r,e,0,0,1):(dx1=n-i,dx2=s-i,dx3=t-n+i-s,dy1=r-a,denominator=dx1*dy2-dx2*dy1,a13=(dx3*dy2-dx2*dy3)/denominator,a23=(dx1*dy3-dx3*dy1)/denominator,new o(n-t+a13*n,s-t+a23*s,t,r-e+a13*r,h-e+a23*h,e,a13,a23,1))},o.quadrilateralToSquare=function(t,e,n,r,i,a,s,o){return this.squareToQuadrilateral(t,e,n,r,i,a,s,o).buildAdjoint()};var L=21522,M=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),O=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);u.numBitsDiffering=function(t,e){return t^=e,O[15&t]+O[15&A(t,4)]+O[15&A(t,8)]+O[15&A(t,12)]+O[15&A(t,16)]+O[15&A(t,20)]+O[15&A(t,24)]+O[15&A(t,28)]},u.decodeFormatInformation=function(t){var e=u.doDecodeFormatInformation(t);return null!=e?e:u.doDecodeFormatInformation(t^L)},u.doDecodeFormatInformation=function(t){for(var e=4294967295,n=0,r=0;r<M.length;r++){var i=M[r],a=i[0];if(a==t)return new u(i[1]);var s=this.numBitsDiffering(t,a);s<e&&(n=i[1],e=s)}return e<=3?new u(n):null},c.forBits=function(t){if(t<0||t>=j.Length)throw"ArgumentException";return j[t]};var z=new c(0,1,"L"),F=new c(1,0,"M"),U=new c(2,3,"Q"),P=new c(3,2,"H"),j=new Array(F,z,P,U);d.getDataBlocks=function(t,e,n){if(t.length!=e.TotalCodewords)throw"ArgumentException";for(var r=e.getECBlocksForLevel(n),i=0,a=r.getECBlocks(),s=0;s<a.length;s++)i+=a[s].Count;for(var o=new Array(i),h=0,l=0;l<a.length;l++)for(var u=a[l],s=0;s<u.Count;s++){var c=u.DataCodewords,f=r.ECCodewordsPerBlock+c;o[h++]=new d(c,new Array(f))}for(var p=o[0].codewords.length,g=o.length-1;g>=0;){var m=o[g].codewords.length;if(m==p)break;g--}g++;for(var w=p-r.ECCodewordsPerBlock,v=0,s=0;s<w;s++)for(var l=0;l<h;l++)o[l].codewords[s]=t[v++];for(var l=g;l<h;l++)o[l].codewords[w]=t[v++];for(var b=o[0].codewords.length,s=w;s<b;s++)for(var l=0;l<h;l++){var y=l<g?s:s+1;o[l].codewords[y]=t[v++]}return o},DataMask={},DataMask.forReference=function(t){if(t<0||t>7)throw"System.ArgumentException";return DataMask.DATA_MASKS[t]},DataMask.DATA_MASKS=new Array(new m,new w,new v,new b,new y,new _,new x,new E),T.QR_CODE_FIELD=new T(285),T.DATA_MATRIX_FIELD=new T(301),T.addOrSubtract=function(t,e){return t^e},Decoder={},Decoder.rsDecoder=new S(T.QR_CODE_FIELD),Decoder.correctErrors=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=255&t[i];var a=t.length-e;try{Decoder.rsDecoder.decode(r,a)}catch(t){throw t}for(var i=0;i<e;i++)t[i]=r[i]},Decoder.decode=function(t,e){for(var n=new g(t),r=n.readVersion(),i=n.readFormatInformation().ErrorCorrectionLevel,a=n.readCodewords(),s=d.getDataBlocks(a,r,i),o=0,h=0;h<s.Length;h++)o+=s[h].NumDataCodewords;for(var l=new Array(o),u=0,c=0;c<s.length;c++){var f=s[c],p=f.Codewords,m=f.NumDataCodewords;Decoder.correctErrors(p,m);for(var h=0;h<m;h++)l[u++]=p[h]}var w=new B(l,r.VersionNumber,i.Bits,e);return w},QrCode=function(){this.imagedata=null,this.width=0,this.height=0,this.qrCodeSymbol=null,this.debug=!1,this.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],this.callback=null,this.decode=function(t,e){if(0==arguments.length){var n=document.getElementById("qr-canvas"),r=n.getContext("2d");return this.width=n.width,this.height=n.height,this.imagedata=r.getImageData(0,0,this.width,this.height),null!=this.callback&&this.callback(this.result),this.result}if(void 0!=t.width)this.width=t.width,this.height=t.height,this.imagedata={data:e},this.imagedata.width=t.width,this.imagedata.height=t.height,this.result=this.process(null),null!=this.callback&&this.callback(this.result);else{var i=new Image,a=this;i.onload=function(){var t=document.createElement("canvas"),e=t.getContext("2d"),n=document.getElementById("out-canvas");if(body=document.getElementsByTagName("body")[0],null!=n){var r=n.getContext("2d");r.clearRect(0,0,320,240),r.drawImage(i,0,0,320,240)}t.width=i.width,t.height=i.height,e.drawImage(i,0,0),a.width=i.width,a.height=i.height;try{a.imagedata=e.getImageData(0,0,i.width,i.height)}catch(t){return a.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=a.callback&&a.callback(a.result))}try{window.context=e,a.result=a.process(e)}catch(t){a.result="error decoding QR Code:"+t}null!=a.callback&&a.callback(a.result)},i.src=t}},this.decode_utf8=function(t){return decodeURIComponent(escape(t))},this.process=function(t){var e=((new Date).getTime(),this.grayScaleToBitmap(this.grayscale()));if(this.debug){for(var n=0;n<this.height;n++)for(var r=0;r<this.width;r++){var i=4*r+n*this.width*4;this.imagedata.data[i]=(e[r+n*this.width],0),this.imagedata.data[i+1]=(e[r+n*this.width],0),this.imagedata.data[i+2]=e[r+n*this.width]?255:0}t.putImageData(this.imagedata,0,0)}var a=new l(e,this),s=a.detect();this.debug&&t.putImageData(this.imagedata,0,0);for(var o=Decoder.decode(s.bits,this),h=o.DataByte,u="",c=0;c<h.length;c++)for(var f=0;f<h[c].length;f++)u+=String.fromCharCode(h[c][f]);(new Date).getTime();return this.decode_utf8(u)},this.getPixel=function(t,e){if(this.width<t)throw"point error";if(this.height<e)throw"point error";return point=4*t+e*this.width*4,p=(33*this.imagedata.data[point]+34*this.imagedata.data[point+1]+33*this.imagedata.data[point+2])/100,p},this.binarize=function(t){for(var e=new Array(this.width*this.height),n=0;n<this.height;n++)for(var r=0;r<this.width;r++){var i=this.getPixel(r,n);e[r+n*this.width]=i<=t}return e},this.getMiddleBrightnessPerArea=function(t){for(var e=4,n=Math.floor(this.width/e),r=Math.floor(this.height/e),i=new Array(e),a=0;a<e;a++){i[a]=new Array(e);for(var s=0;s<e;s++)i[a][s]=new Array(0,0)}for(var o=0;o<e;o++)for(var h=0;h<e;h++){i[h][o][0]=255;for(var l=0;l<r;l++)for(var u=0;u<n;u++){var c=t[n*h+u+(r*o+l)*this.width];c<i[h][o][0]&&(i[h][o][0]=c),c>i[h][o][1]&&(i[h][o][1]=c)}}for(var f=new Array(e),d=0;d<e;d++)f[d]=new Array(e);for(var o=0;o<e;o++)for(var h=0;h<e;h++)f[h][o]=Math.floor((i[h][o][0]+i[h][o][1])/2);return f},this.grayScaleToBitmap=function(t){for(var e=this.getMiddleBrightnessPerArea(t),n=e.length,r=Math.floor(this.width/n),i=Math.floor(this.height/n),a=new Array(this.height*this.width),s=0;s<n;s++)for(var o=0;o<n;o++)for(var h=0;h<i;h++)for(var l=0;l<r;l++)a[r*o+l+(i*s+h)*this.width]=t[r*o+l+(i*s+h)*this.width]<e[o][s];return a},this.grayscale=function(){for(var t=new Array(this.width*this.height),e=0;e<this.height;e++)for(var n=0;n<this.width;n++){var r=this.getPixel(n,e);t[n+e*this.width]=r}return t}},Array.prototype.remove=function(t,e){var n=this.slice((e||t)+1||this.length);return this.length=t<0?this.length+t:t,this.push.apply(this,n)};var Z=3,X=57,q=8,G=2;QrCode.prototype.orderBestPatterns=function(t){function e(t,e){return xDiff=t.X-e.X,yDiff=t.Y-e.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)}function n(t,e,n){var r=e.x,i=e.y;return(n.x-r)*(t.y-i)-(n.y-i)*(t.x-r)}var r,i,a,s=e(t[0],t[1]),o=e(t[1],t[2]),h=e(t[0],t[2]);if(o>=s&&o>=h?(i=t[0],r=t[1],a=t[2]):h>=o&&h>=s?(i=t[1],r=t[0],a=t[2]):(i=t[2],r=t[0],a=t[1]),n(r,i,a)<0){var l=r;r=a,a=l}t[0]=r,t[1]=i,t[2]=a},e.exports=QrCode},{}],53:[function(t,e,n){function r(t){this.options=t||{locator:{}}}function i(t,e,n){function r(e){var r=t[e];if(!r)if(s)r=2==t.length?function(n){t(e,n)}:t;else for(var a=arguments.length;--a&&!(r=t[arguments[a]]););i[e]=r&&function(t){r(t+o(n))}||function(){}}if(!t){if(e instanceof a)return e;t=e}var i={},s=t instanceof Function;return n=n||{},r("warning","warn"),r("error","warn","warning"),r("fatalError","warn","warning","error"),i}function a(){this.cdata=!1}function s(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function h(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function l(t,e){t.currentElement?t.currentElement.appendChild(e):t.document.appendChild(e)}if(r.prototype.parseFromString=function(t,e){var n=this.options,r=new u,s=n.domBuilder||new a,o=n.errorHandler,h=n.locator,l=n.xmlns||{},c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return h&&s.setDocumentLocator(h),r.errorHandler=i(o,s,h),r.domBuilder=n.domBuilder||s,/\/x?html?$/.test(e)&&(c.nbsp="",c.copy="",l[""]="http://www.w3.org/1999/xhtml"),t?r.parse(t,l,c):r.errorHandler.error("invalid document source"),s.document},a.prototype={startDocument:function(){this.document=(new c).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.document,a=i.createElementNS(t,n||e),o=r.length;l(this,a),this.currentElement=a,this.locator&&s(this.locator,a);for(var h=0;h<o;h++){var t=r.getURI(h),u=r.getValue(h),n=r.getQName(h),c=i.createAttributeNS(t,n);c.getOffset&&s(c.getOffset(1),c),c.value=c.nodeValue=u,a.setAttributeNode(c)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.document.createProcessingInstruction(t,e);this.locator&&s(this.locator,n),l(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=h.apply(this,arguments),this.currentElement&&t){if(this.cdata){var r=this.document.createCDATASection(t);this.currentElement.appendChild(r)}else{var r=this.document.createTextNode(t);this.currentElement.appendChild(r)}this.locator&&s(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=h.apply(this,arguments);
var r=this.document.createComment(t);this.locator&&s(this.locator,r),l(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.document.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&s(this.locator,i),l(this,i)}},warning:function(t){console.warn(t,o(this.locator))},error:function(t){console.error(t,o(this.locator))},fatalError:function(t){throw console.error(t,o(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){a.prototype[t]=function(){return null}}),"function"==typeof t){var u=t("./sax").XMLReader,c=n.DOMImplementation=t("./dom").DOMImplementation;n.XMLSerializer=t("./dom").XMLSerializer,n.DOMParser=r}},{"./dom":54,"./sax":55}],54:[function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e){function n(){}var i=t.prototype;if(Object.create){var a=Object.create(e.prototype);i.__proto__=a}i instanceof e||(n.prototype=e.prototype,n=new n,r(i,n),t.prototype=i=n),i.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),i.constructor=t)}function a(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,rt[t]),this.message=rt[t],Error.captureStackTrace&&Error.captureStackTrace(this,a);return n.code=t,e&&(this.message=this.message+": "+e),n}function s(){}function o(t,e){this._node=t,this._refresh=e,h(this)}function h(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);P(t,"length",n.length),r(n,t),t._inc=e}}function l(){}function u(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function c(t,e,n,r){if(r?e[u(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&b(i,t,r),v(i,t,n))}}function f(t,e,n){var r=u(e,n);if(!(r>=0))throw a(it,new Error);for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(b(s,t,n),n.ownerElement=null)}}function d(t){if(this._features={},t)for(var e in t)this._features=t[e]}function p(){}function g(t){return"<"==t&&"&lt;"||">"==t&&"&gt;"||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function m(t,e){if(e(t))return!0;if(t=t.firstChild)do if(m(t,e))return!0;while(t=t.nextSibling)}function w(){}function v(t,e,n){t&&t._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function b(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&delete e._nsMap[n.prefix?n.localName:""]}function y(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a}}}function _(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,y(t.ownerDocument,t),e}function x(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===tt){var i=e.firstChild;if(null==i)return e;var a=e.lastChild}else i=a=e;var s=n?n.previousSibling:t.lastChild;i.previousSibling=s,a.nextSibling=n,s?s.nextSibling=i:t.firstChild=i,null==n?t.lastChild=a:n.previousSibling=a;do i.parentNode=t;while(i!==a&&(i=i.nextSibling));return y(t.ownerDocument||t,t),e.nodeType==tt&&(e.firstChild=e.lastChild=null),e}function E(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,y(t.ownerDocument,t,e),e}function S(){this._nsMap={}}function C(){}function T(){}function A(){}function k(){}function I(){}function N(){}function D(){}function R(){}function B(){}function L(){}function M(){}function O(){}function z(t,e){switch(t.nodeType){case q:var n=t.attributes,r=n.length,i=t.firstChild,a=t.tagName,s=Z===t.namespaceURI;e.push("<",a);for(var o=0;o<r;o++)z(n.item(o),e,s);if(i||s&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),s&&/^script$/i.test(a))i&&e.push(i.data);else for(;i;)z(i,e),i=i.nextSibling;e.push("</",a,">")}else e.push("/>");return;case $:case tt:for(var i=t.firstChild;i;)z(i,e),i=i.nextSibling;return;case G:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,g),'"');case V:return e.push(t.data.replace(/[<&]/g,g));case H:return e.push("<![CDATA[",t.data,"]]>");case Q:return e.push("<!--",t.data,"-->");case J:var h=t.publicId,l=t.systemId;if(e.push("<!DOCTYPE ",t.name),h)e.push(' PUBLIC "',h),l&&"."!=l&&e.push('" "',l),e.push('">');else if(l&&"."!=l)e.push(' SYSTEM "',l,'">');else{var u=t.internalSubset;u&&e.push(" [",u,"]"),e.push(">")}return;case K:return e.push("<?",t.target," ",t.data,"?>");case W:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function F(t,e,n){var r;switch(e.nodeType){case q:r=e.cloneNode(!1),r.ownerDocument=t;case tt:break;case G:n=!0}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(F(t,i,n)),i=i.nextSibling;return r}function U(t,e,n){var r=new e.constructor;for(var i in e){var a=e[i];"object"!=typeof a&&a!=r[i]&&(r[i]=a)}switch(e.childNodes&&(r.childNodes=new s),r.ownerDocument=t,r.nodeType){case q:var o=e.attributes,h=r.attributes=new l,u=o.length;h._ownerElement=r;for(var c=0;c<u;c++)r.setAttributeNode(U(t,o.item(c),!0));break;case G:n=!0}if(n)for(var f=e.firstChild;f;)r.appendChild(U(t,f,n)),f=f.nextSibling;return r}function P(t,e,n){t[e]=n}function j(t){switch(t.nodeType){case 1:case 11:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(j(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}var Z="http://www.w3.org/1999/xhtml",X={},q=X.ELEMENT_NODE=1,G=X.ATTRIBUTE_NODE=2,V=X.TEXT_NODE=3,H=X.CDATA_SECTION_NODE=4,W=X.ENTITY_REFERENCE_NODE=5,Y=X.ENTITY_NODE=6,K=X.PROCESSING_INSTRUCTION_NODE=7,Q=X.COMMENT_NODE=8,$=X.DOCUMENT_NODE=9,J=X.DOCUMENT_TYPE_NODE=10,tt=X.DOCUMENT_FRAGMENT_NODE=11,et=X.NOTATION_NODE=12,nt={},rt={},it=(nt.INDEX_SIZE_ERR=(rt[1]="Index size error",1),nt.DOMSTRING_SIZE_ERR=(rt[2]="DOMString size error",2),nt.HIERARCHY_REQUEST_ERR=(rt[3]="Hierarchy request error",3),nt.WRONG_DOCUMENT_ERR=(rt[4]="Wrong document",4),nt.INVALID_CHARACTER_ERR=(rt[5]="Invalid character",5),nt.NO_DATA_ALLOWED_ERR=(rt[6]="No data allowed",6),nt.NO_MODIFICATION_ALLOWED_ERR=(rt[7]="No modification allowed",7),nt.NOT_FOUND_ERR=(rt[8]="Not found",8)),at=(nt.NOT_SUPPORTED_ERR=(rt[9]="Not supported",9),nt.INUSE_ATTRIBUTE_ERR=(rt[10]="Attribute in use",10));nt.INVALID_STATE_ERR=(rt[11]="Invalid state",11),nt.SYNTAX_ERR=(rt[12]="Syntax error",12),nt.INVALID_MODIFICATION_ERR=(rt[13]="Invalid modification",13),nt.NAMESPACE_ERR=(rt[14]="Invalid namespace",14),nt.INVALID_ACCESS_ERR=(rt[15]="Invalid access",15);a.prototype=Error.prototype,r(nt,a),s.prototype={length:0,item:function(t){return this[t]||null}},o.prototype.item=function(t){return h(this),this[t]},i(o,s),l.prototype={length:0,item:s.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new a(at);var n=this.getNamedItem(t.nodeName);return c(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new a(at);return e=this.getNamedItemNS(t.namespaceURI,t.localName),c(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return f(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return f(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},d.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var r=new w;if(r.doctype=n,n&&r.appendChild(n),r.implementation=this,r.childNodes=new s,e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new N;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},p.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return x(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return _(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return U(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==V&&t.nodeType==V?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return null==e}},r(X,p),r(X,p.prototype),w.prototype={nodeName:"#document",nodeType:$,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==tt){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return null==this.documentElement&&1==t.nodeType&&(this.documentElement=t),x(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),_(this,t)},importNode:function(t,e){return F(this,t,e)},getElementById:function(t){var e=null;return m(this.documentElement,function(n){if(1==n.nodeType&&n.getAttribute("id")==t)return e=n,!0}),e},createElement:function(t){var e=new S;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new s;var n=e.attributes=new l;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new L;return t.ownerDocument=this,t.childNodes=new s,t},createTextNode:function(t){var e=new A;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new k;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new I;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new M;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new C;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new B;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new S,r=e.split(":"),i=n.attributes=new l;return n.childNodes=new s,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new C,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},i(w,p),S.prototype={nodeType:q,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===tt?this.insertBefore(t,null):E(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new o(this,function(e){var n=[];return m(e,function(r){r===e||r.nodeType!=q||"*"!==t&&r.tagName!=t||n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new o(this,function(n){var r=[];return m(n,function(i){i===n||i.nodeType!==q||i.namespaceURI!==t||"*"!==e&&i.localName!=e||r.push(i)}),r})}},w.prototype.getElementsByTagName=S.prototype.getElementsByTagName,w.prototype.getElementsByTagNameNS=S.prototype.getElementsByTagNameNS,i(S,p),C.prototype.nodeType=G,i(C,p),T.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(rt[3])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}},i(T,p),A.prototype={nodeName:"#text",nodeType:V,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},i(A,T),k.prototype={nodeName:"#comment",nodeType:Q},i(k,T),I.prototype={nodeName:"#cdata-section",nodeType:H},i(I,T),N.prototype.nodeType=J,i(N,p),D.prototype.nodeType=et,i(D,p),R.prototype.nodeType=Y,i(R,p),B.prototype.nodeType=W,i(B,p),L.prototype.nodeName="#document-fragment",L.prototype.nodeType=tt,i(L,p),M.prototype.nodeType=K,i(M,p),O.prototype.serializeToString=function(t){var e=[];return z(t,e),e.join("")},p.prototype.toString=function(){return O.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(o.prototype,"length",{get:function(){return h(this),this.$$length}}),Object.defineProperty(p.prototype,"textContent",{get:function(){return j(this)},set:function(t){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=value,this.nodeValue=t}}}),P=function(t,e,n){t["$$"+e]=n})}catch(t){}"function"==typeof t&&(n.DOMImplementation=d,n.XMLSerializer=O)},{}],55:[function(t,e,n){function r(){}function i(t,e,n,r,i){function u(t){if(t>65535){t-=65536;var e=55296+(t>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}function p(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?u(parseInt(e.substr(1).replace("x","0x"))):(i.error("entity not found:"+t),t)}function g(e){var n=t.substring(E,e).replace(/&#?\w+;/g,p);y&&m(E),r.characters(n,0,e-E),E=e}function m(e,n){for(;e>=v&&(n=b.exec(t));)w=n.index,v=w+n[0].length,y.lineNumber++;y.columnNumber=e-w+1}for(var w=0,v=0,b=/.+(?:\r\n?|\n)|.*$/g,y=r.locator,_=[{currentNSMap:e}],x={},E=0;;){var S=t.indexOf("<",E);if(S<0){if(!t.substr(E).match(/^\s*$/)){var C=r.document,T=C.createTextNode(t.substr(E));C.appendChild(T),r.currentElement=T}return}switch(S>E&&g(S),t.charAt(S+1)){case"/":var A=t.indexOf(">",S+3),k=t.substring(S+2,A),I=_.pop(),N=I.localNSMap;if(I.tagName!=k&&i.fatalError("end tag name: "+k+" is not match the current start tagName:"+I.tagName),r.endElement(I.uri,I.localName,k),N)for(var D in N)r.endPrefixMapping(D);A++;break;case"?":y&&m(S),A=f(t,S,r);break;case"!":y&&m(S),A=c(t,S,r,i);break;default:try{y&&m(S);var R=new d,A=s(t,S,R,p,i),B=R.length;if(B&&y){for(var L=a(y,{}),S=0;S<B;S++){var M=R[S];m(M.offset),M.offset=a(y,{})}a(L,y)}!R.closed&&l(t,A,R.tagName,x)&&(R.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),o(R,r,_),"http://www.w3.org/1999/xhtml"!==R.uri||R.closed?A++:A=h(t,A,R.tagName,p,r)}catch(t){i.error("element parse error: "+t),A=-1}}A<0?g(S+1):E=A}}function a(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function s(t,e,n,r,i){for(var a,s,o=++e,h=b;;){var l=t.charAt(o);switch(l){case"=":if(h===y)a=t.slice(e,o),h=x;else{if(h!==_)throw new Error("attribute equal must after attrName");h=x}break;case"'":case'"':if(h===x){if(e=o+1,o=t.indexOf(l,e),!(o>0))throw new Error("attribute value no end '"+l+"' match");s=t.slice(e,o).replace(/&#?\w+;/g,r),n.add(a,s,e-1),h=S}else{if(h!=E)throw new Error('attribute value must after "="');s=t.slice(e,o).replace(/&#?\w+;/g,r),n.add(a,s,e),i.warning('attribute "'+a+'" missed start quot('+l+")!!"),e=o+1,h=S}break;case"/":switch(h){case b:n.setTagName(t.slice(e,o));case S:case C:case T:h=T,n.closed=!0;case E:case y:case _:break;default:throw new Error("attribute invalid close char('/')")}break;case"":i.error("unexpected end of input");case">":switch(h){case b:n.setTagName(t.slice(e,o));case S:case C:case T:break;case E:case y:s=t.slice(e,o),"/"===s.slice(-1)&&(n.closed=!0,s=s.slice(0,-1));case _:h===_&&(s=a),h==E?(i.warning('attribute "'+s+'" missed quot(")!!'),n.add(a,s.replace(/&#?\w+;/g,r),e)):(i.warning('attribute "'+s+'" missed value!! "'+s+'" instead!!'),n.add(s,s,e));break;case x:throw new Error("attribute value missed!!")}return o;case"":l=" ";default:if(l<=" ")switch(h){case b:n.setTagName(t.slice(e,o)),h=C;break;case y:a=t.slice(e,o),h=_;break;case E:var s=t.slice(e,o).replace(/&#?\w+;/g,r);i.warning('attribute "'+s+'" missed quot(")!!'),n.add(a,s,e);case S:h=C}else switch(h){case _:i.warning('attribute "'+a+'" missed value!! "'+a+'" instead!!'),n.add(a,a,e),e=o,h=y;break;case S:i.warning('attribute space is required"'+a+'"!!');case C:h=y,e=o;break;case x:h=E,e=o;break;case T:throw new Error("elements closed character '/' and '>' must be connected to")}}o++}}function o(t,e,n){for(var r=t.tagName,i=null,a=n[n.length-1].currentNSMap,s=t.length;s--;){var o=t[s],h=o.qName,l=o.value,c=h.indexOf(":");if(c>0)var f=o.prefix=h.slice(0,c),d=h.slice(c+1),p="xmlns"===f&&d;else d=h,f=null,p="xmlns"===h&&"";o.localName=d,p!==!1&&(null==i&&(i={},u(a,a={})),a[p]=i[p]=l,o.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(p,l))}for(var s=t.length;s--;){o=t[s];var f=o.prefix;f&&("xml"===f&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==f&&(o.uri=a[f]))}var c=r.indexOf(":");c>0?(f=t.prefix=r.slice(0,c),d=t.localName=r.slice(c+1)):(f=null,d=t.localName=r);var g=t.uri=a[f||""];if(e.startElement(g,d,r,t),t.closed){if(e.endElement(g,d,r),i)for(f in i)e.endPrefixMapping(f)}else t.currentNSMap=a,t.localNSMap=i,n.push(t)}function h(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=t.indexOf("</"+n+">",e),s=t.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),a)}return e+1}function l(t,e,n,r){var i=r[n];return null==i&&(i=r[n]=t.lastIndexOf("</"+n+">")),i<e}function u(t,e){for(var n in t)e[n]=t[n]}function c(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if("-"===t.charAt(e+3)){var a=t.indexOf("-->",e+4);return a>e?(n.comment(t,e+4,a-e-4),a+3):(r.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==t.substr(e+3,6)){var a=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,a-e-9),n.endCDATA(),a+3}var s=g(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var h=s[1][0],l=o>3&&/^public$/i.test(s[2][0])&&s[3][0],u=o>4&&s[4][0],c=s[o-1];return n.startDTD(h,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function f(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function d(t){}function p(t,e){return t.__proto__=e,t}function g(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}var m=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=new RegExp("[\\-\\.0-9"+m.source.slice(1,-1)+"-\\ux203F-]"),v=new RegExp("^"+m.source+w.source+"*(?::"+m.source+w.source+"*)?$"),b=0,y=1,_=2,x=3,E=4,S=5,C=6,T=7;r.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),u(e,e={}),i(t,e,n,r,this.errorHandler),r.endDocument()}},d.prototype={setTagName:function(t){if(!v.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!v.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getOffset:function(t){return this[t].offset},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},p({},p.prototype)instanceof p||(p=function(t,e){function n(){}n.prototype=e,n=new n;for(e in t)n[e]=t[e];return n}),"function"==typeof t&&(n.XMLReader=r)},{}],56:[function(t,e,n){},{}],57:[function(t,e,n){function r(t,e){return d.isUndefined(e)?""+e:!d.isNumber(e)||!isNaN(e)&&isFinite(e)?d.isFunction(e)||d.isRegExp(e)?e.toString():e:e.toString()}function i(t,e){return d.isString(t)?t.length<e?t:t.slice(0,e):t}function a(t){return i(JSON.stringify(t.actual,r),128)+" "+t.operator+" "+i(JSON.stringify(t.expected,r),128)}function s(t,e,n,r,i){throw new m.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function o(t,e){t||s(t,!0,e,"==",m.ok)}function h(t,e){if(t===e)return!0;if(d.isBuffer(t)&&d.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return d.isDate(t)&&d.isDate(e)?t.getTime()===e.getTime():d.isRegExp(t)&&d.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:d.isObject(t)||d.isObject(e)?u(t,e):t==e}function l(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function u(t,e){if(d.isNullOrUndefined(t)||d.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(l(t))return!!l(e)&&(t=p.call(t),e=p.call(e),h(t,e));try{var n,r,i=w(t),a=w(e)}catch(t){return!1}if(i.length!=a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!h(t[n],e[n]))return!1;return!0}function c(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||e.call({},t)===!0)}function f(t,e,n,r){var i;d.isString(n)&&(r=n,n=null);try{e()}catch(t){i=t}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&s(i,n,"Missing expected exception"+r),!t&&c(i,n)&&s(i,n,"Got unwanted exception"+r),t&&i&&n&&!c(i,n)||!t&&i)throw i}var d=t("util/"),p=Array.prototype.slice,g=Object.prototype.hasOwnProperty,m=e.exports=o;m.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=a(this),this.generatedMessage=!0);var e=t.stackStartFunction||s;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=e.name,o=r.indexOf("\n"+i);if(o>=0){var h=r.indexOf("\n",o+1);r=r.substring(h+1)}this.stack=r}}},d.inherits(m.AssertionError,Error),m.fail=s,m.ok=o,m.equal=function(t,e,n){t!=e&&s(t,e,n,"==",m.equal)},m.notEqual=function(t,e,n){t==e&&s(t,e,n,"!=",m.notEqual)},m.deepEqual=function(t,e,n){h(t,e)||s(t,e,n,"deepEqual",m.deepEqual)},m.notDeepEqual=function(t,e,n){h(t,e)&&s(t,e,n,"notDeepEqual",m.notDeepEqual)},m.strictEqual=function(t,e,n){t!==e&&s(t,e,n,"===",m.strictEqual)},m.notStrictEqual=function(t,e,n){t===e&&s(t,e,n,"!==",m.notStrictEqual)},m.throws=function(t,e,n){f.apply(this,[!0].concat(p.call(arguments)))},m.doesNotThrow=function(t,e){f.apply(this,[!1].concat(p.call(arguments)))},m.ifError=function(t){if(t)throw t};var w=Object.keys||function(t){var e=[];for(var n in t)g.call(t,n)&&e.push(n);return e}},{"util/":59}],58:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],59:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(e)?r.showHidden=e:e&&n._extend(r,e),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),h(r,t,r.depth)}function a(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function o(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function h(t,e,r){if(t.customInspect&&e&&T(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return b(i)||(i=h(t,i,r)),i}var a=l(t,e);if(a)return a;var s=Object.keys(e),g=o(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),C(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(e);if(0===s.length){if(T(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(S(e))return t.stylize(Date.prototype.toString.call(e),"date");if(C(e))return u(e)}var w="",v=!1,y=["{","}"];if(p(e)&&(v=!0,y=["[","]"]),T(e)){var _=e.name?": "+e.name:"";w=" [Function"+_+"]"}if(x(e)&&(w=" "+RegExp.prototype.toString.call(e)),S(e)&&(w=" "+Date.prototype.toUTCString.call(e)),C(e)&&(w=" "+u(e)),0===s.length&&(!v||0==e.length))return y[0]+w+y[1];if(r<0)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return E=v?c(t,e,r,g,s):s.map(function(n){return f(t,e,r,g,n,v)}),t.seen.pop(),d(E,w,y)}function l(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function c(t,e,n,r,i){for(var a=[],s=0,o=e.length;s<o;++s)D(e,String(s))?a.push(f(t,e,n,r,String(s),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(f(t,e,n,r,i,!0))}),a}function f(t,e,n,r,i,a){var s,o,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?o=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(o=t.stylize("[Setter]","special")),D(r,i)||(s="["+i+"]"),o||(t.seen.indexOf(l.value)<0?(o=m(n)?h(t,l.value,null):h(t,l.value,n-1),o.indexOf("\n")>-1&&(o=a?o.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+o.split("\n").map(function(t){return"   "+t}).join("\n"))):o=t.stylize("[Circular]","special")),_(s)){if(a&&i.match(/^\d+$/))return o;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+o}function d(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function w(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function y(t){return"symbol"==typeof t}function _(t){return void 0===t}function x(t){return E(t)&&"[object RegExp]"===k(t)}function E(t){return"object"==typeof t&&null!==t}function S(t){return E(t)&&"[object Date]"===k(t)}function C(t){return E(t)&&("[object Error]"===k(t)||t instanceof Error)}function T(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function k(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}function N(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),M[t.getMonth()],e].join(" ")}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var R=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,a=r.length,s=String(t).replace(R,function(t){if("%%"===t)return"%";if(n>=a)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),o=r[n];n<a;o=r[++n])s+=m(o)||!E(o)?" "+o:" "+i(o);return s},n.deprecate=function(t,i){function a(){if(!s){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}if(_(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return a};var B,L={};n.debuglog=function(t){if(_(B)&&(B=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!L[t])if(new RegExp("\\b"+t+"\\b","i").test(B)){var r=e.pid;L[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else L[t]=function(){};return L[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=w,n.isNumber=v,n.isString=b,n.isSymbol=y,n.isUndefined=_,n.isRegExp=x,n.isObject=E,n.isDate=S,n.isError=C,n.isFunction=T,n.isPrimitive=A,n.isBuffer=t("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":58,_process:84,inherits:82}],60:[function(t,e,n){e.exports=t(38)},{}],61:[function(t,e,n){e.exports=t(40)},{}],62:[function(t,e,n){e.exports=t(41)},{}],63:[function(t,e,n){e.exports=t(42)},{}],64:[function(t,e,n){arguments[4][43][0].apply(n,arguments)},{"../utils/common":60,"./adler32":61,"./crc32":63,"./messages":68,"./trees":69}],65:[function(t,e,n){e.exports=t(45)},{}],66:[function(t,e,n){arguments[4][46][0].apply(n,arguments)},{"../utils/common":60,"./adler32":61,"./crc32":63,"./inffast":65,"./inftrees":67}],67:[function(t,e,n){e.exports=t(47)},{"../utils/common":60}],68:[function(t,e,n){e.exports=t(48)},{}],69:[function(t,e,n){e.exports=t(49)},{"../utils/common":60}],70:[function(t,e,n){e.exports=t(50)},{}],71:[function(t,e,n){(function(e,r){function i(t){if(t<n.DEFLATE||t>n.UNZIP)throw new TypeError("Bad argument");this.mode=t,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function a(t,e){for(var n=0;n<t.length;n++)this[e+n]=t[n]}var s=t("pako/lib/zlib/messages"),o=t("pako/lib/zlib/zstream"),h=t("pako/lib/zlib/deflate.js"),l=t("pako/lib/zlib/inflate.js"),u=t("pako/lib/zlib/constants");
for(var c in u)n[c]=u[c];n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7,i.prototype.init=function(t,e,r,i,a){switch(this.windowBits=t,this.level=e,this.memLevel=r,this.strategy=i,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new o,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:var s=h.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:var s=l.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}return s!==n.Z_OK?void this._error(s):(this.write_in_progress=!1,void(this.init_done=!0))},i.prototype.params=function(){throw new Error("deflateParams Not supported")},i.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===n.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},i.prototype.write=function(t,n,r,i,a,s,o){this._writeCheck(),this.write_in_progress=!0;var h=this;return e.nextTick(function(){h.write_in_progress=!1;var e=h._write(t,n,r,i,a,s,o);h.callback(e[0],e[1]),h.pending_close&&h.close()}),this},i.prototype.writeSync=function(t,e,n,r,i,a,s){return this._writeCheck(),this._write(t,e,n,r,i,a,s)},i.prototype._write=function(t,e,i,s,o,u,c){if(this.write_in_progress=!0,t!==n.Z_NO_FLUSH&&t!==n.Z_PARTIAL_FLUSH&&t!==n.Z_SYNC_FLUSH&&t!==n.Z_FULL_FLUSH&&t!==n.Z_FINISH&&t!==n.Z_BLOCK)throw new Error("Invalid flush value");null==e&&(e=new r(0),s=0,i=0),o._set?o.set=o._set:o.set=a;var f=this.strm;switch(f.avail_in=s,f.input=e,f.next_in=i,f.avail_out=c,f.output=o,f.next_out=u,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:var d=h.deflate(f,t);break;case n.UNZIP:case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:var d=l.inflate(f,t);break;default:throw new Error("Unknown mode "+this.mode)}return d!==n.Z_STREAM_END&&d!==n.Z_OK&&this._error(d),this.write_in_progress=!1,[f.avail_in,f.avail_out]},i.prototype.close=function(){return this.write_in_progress?void(this.pending_close=!0):(this.pending_close=!1,this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?h.deflateEnd(this.strm):l.inflateEnd(this.strm),void(this.mode=n.NONE))},i.prototype.reset=function(){switch(this.mode){case n.DEFLATE:case n.DEFLATERAW:var t=h.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:var t=l.inflateReset(this.strm)}t!==n.Z_OK&&this._error(t)},i.prototype._error=function(t){this.onerror(s[t]+": "+this.strm.msg,t),this.write_in_progress=!1,this.pending_close&&this.close()},n.Zlib=i}).call(this,t("_process"),t("buffer").Buffer)},{_process:84,buffer:73,"pako/lib/zlib/constants":62,"pako/lib/zlib/deflate.js":64,"pako/lib/zlib/inflate.js":66,"pako/lib/zlib/messages":68,"pako/lib/zlib/zstream":70}],72:[function(t,e,n){(function(e,r){function i(t,e,n){function i(){for(var e;null!==(e=t.read());)o.push(e),h+=e.length;t.once("readable",i)}function a(e){t.removeListener("end",s),t.removeListener("readable",i),n(e)}function s(){var e=r.concat(o,h);o=[],n(null,e),t.close()}var o=[],h=0;t.on("error",a),t.on("end",s),t.end(e),i()}function a(t,e){if("string"==typeof e&&(e=new r(e)),!r.isBuffer(e))throw new TypeError("Not a string or buffer");var n=g.Z_FINISH;return t._processChunk(e,n)}function s(t){return this instanceof s?void d.call(this,t,g.DEFLATE):new s(t)}function o(t){return this instanceof o?void d.call(this,t,g.INFLATE):new o(t)}function h(t){return this instanceof h?void d.call(this,t,g.GZIP):new h(t)}function l(t){return this instanceof l?void d.call(this,t,g.GUNZIP):new l(t)}function u(t){return this instanceof u?void d.call(this,t,g.DEFLATERAW):new u(t)}function c(t){return this instanceof c?void d.call(this,t,g.INFLATERAW):new c(t)}function f(t){return this instanceof f?void d.call(this,t,g.UNZIP):new f(t)}function d(t,e){if(this._opts=t=t||{},this._chunkSize=t.chunkSize||n.Z_DEFAULT_CHUNK,p.call(this,t),t.flush&&t.flush!==g.Z_NO_FLUSH&&t.flush!==g.Z_PARTIAL_FLUSH&&t.flush!==g.Z_SYNC_FLUSH&&t.flush!==g.Z_FULL_FLUSH&&t.flush!==g.Z_FINISH&&t.flush!==g.Z_BLOCK)throw new Error("Invalid flush flag: "+t.flush);if(this._flushFlag=t.flush||g.Z_NO_FLUSH,t.chunkSize&&(t.chunkSize<n.Z_MIN_CHUNK||t.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<n.Z_MIN_WINDOWBITS||t.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<n.Z_MIN_LEVEL||t.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<n.Z_MIN_MEMLEVEL||t.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=n.Z_FILTERED&&t.strategy!=n.Z_HUFFMAN_ONLY&&t.strategy!=n.Z_RLE&&t.strategy!=n.Z_FIXED&&t.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!r.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new g.Zlib(e);var i=this;this._hadError=!1,this._binding.onerror=function(t,e){i._binding=null,i._hadError=!0;var r=new Error(t);r.errno=e,r.code=n.codes[e],i.emit("error",r)};var a=n.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(a=t.level);var s=n.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(s=t.strategy),this._binding.init(t.windowBits||n.Z_DEFAULT_WINDOWBITS,a,t.memLevel||n.Z_DEFAULT_MEMLEVEL,s,t.dictionary),this._buffer=new r(this._chunkSize),this._offset=0,this._closed=!1,this._level=a,this._strategy=s,this.once("end",this.close)}var p=t("_stream_transform"),g=t("./binding"),m=t("util"),w=t("assert").ok;g.Z_MIN_WINDOWBITS=8,g.Z_MAX_WINDOWBITS=15,g.Z_DEFAULT_WINDOWBITS=15,g.Z_MIN_CHUNK=64,g.Z_MAX_CHUNK=1/0,g.Z_DEFAULT_CHUNK=16384,g.Z_MIN_MEMLEVEL=1,g.Z_MAX_MEMLEVEL=9,g.Z_DEFAULT_MEMLEVEL=8,g.Z_MIN_LEVEL=-1,g.Z_MAX_LEVEL=9,g.Z_DEFAULT_LEVEL=g.Z_DEFAULT_COMPRESSION,Object.keys(g).forEach(function(t){t.match(/^Z/)&&(n[t]=g[t])}),n.codes={Z_OK:g.Z_OK,Z_STREAM_END:g.Z_STREAM_END,Z_NEED_DICT:g.Z_NEED_DICT,Z_ERRNO:g.Z_ERRNO,Z_STREAM_ERROR:g.Z_STREAM_ERROR,Z_DATA_ERROR:g.Z_DATA_ERROR,Z_MEM_ERROR:g.Z_MEM_ERROR,Z_BUF_ERROR:g.Z_BUF_ERROR,Z_VERSION_ERROR:g.Z_VERSION_ERROR},Object.keys(n.codes).forEach(function(t){n.codes[n.codes[t]]=t}),n.Deflate=s,n.Inflate=o,n.Gzip=h,n.Gunzip=l,n.DeflateRaw=u,n.InflateRaw=c,n.Unzip=f,n.createDeflate=function(t){return new s(t)},n.createInflate=function(t){return new o(t)},n.createDeflateRaw=function(t){return new u(t)},n.createInflateRaw=function(t){return new c(t)},n.createGzip=function(t){return new h(t)},n.createGunzip=function(t){return new l(t)},n.createUnzip=function(t){return new f(t)},n.deflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),i(new s(e),t,n)},n.deflateSync=function(t,e){return a(new s(e),t)},n.gzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),i(new h(e),t,n)},n.gzipSync=function(t,e){return a(new h(e),t)},n.deflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),i(new u(e),t,n)},n.deflateRawSync=function(t,e){return a(new u(e),t)},n.unzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),i(new f(e),t,n)},n.unzipSync=function(t,e){return a(new f(e),t)},n.inflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),i(new o(e),t,n)},n.inflateSync=function(t,e){return a(new o(e),t)},n.gunzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),i(new l(e),t,n)},n.gunzipSync=function(t,e){return a(new l(e),t)},n.inflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),i(new c(e),t,n)},n.inflateRawSync=function(t,e){return a(new c(e),t)},m.inherits(d,p),d.prototype.params=function(t,r,i){if(t<n.Z_MIN_LEVEL||t>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==t||this._strategy!==r){var a=this;this.flush(g.Z_SYNC_FLUSH,function(){a._binding.params(t,r),a._hadError||(a._level=t,a._strategy=r,i&&i())})}else e.nextTick(i)},d.prototype.reset=function(){return this._binding.reset()},d.prototype._flush=function(t){this._transform(new r(0),"",t)},d.prototype.flush=function(t,n){var i=this._writableState;if(("function"==typeof t||void 0===t&&!n)&&(n=t,t=g.Z_FULL_FLUSH),i.ended)n&&e.nextTick(n);else if(i.ending)n&&this.once("end",n);else if(i.needDrain){var a=this;this.once("drain",function(){a.flush(n)})}else this._flushFlag=t,this.write(new r(0),"",n)},d.prototype.close=function(t){if(t&&e.nextTick(t),!this._closed){this._closed=!0,this._binding.close();var n=this;e.nextTick(function(){n.emit("close")})}},d.prototype._transform=function(t,e,n){var i,a=this._writableState,s=a.ending||a.ended,o=s&&(!t||a.length===t.length);if(null===!t&&!r.isBuffer(t))return n(new Error("invalid input"));o?i=g.Z_FINISH:(i=this._flushFlag,t.length>=a.length&&(this._flushFlag=this._opts.flush||g.Z_NO_FLUSH));this._processChunk(t,i,n)},d.prototype._processChunk=function(t,e,n){function i(u,d){if(!h._hadError){var p=s-d;if(w(p>=0,"have should not go down"),p>0){var g=h._buffer.slice(h._offset,h._offset+p);h._offset+=p,l?h.push(g):(c.push(g),f+=g.length)}if((0===d||h._offset>=h._chunkSize)&&(s=h._chunkSize,h._offset=0,h._buffer=new r(h._chunkSize)),0===d){if(o+=a-u,a=u,!l)return!0;var m=h._binding.write(e,t,o,a,h._buffer,h._offset,h._chunkSize);return m.callback=i,void(m.buffer=t)}return!!l&&void n()}}var a=t&&t.length,s=this._chunkSize-this._offset,o=0,h=this,l="function"==typeof n;if(!l){var u,c=[],f=0;this.on("error",function(t){u=t});do var d=this._binding.writeSync(e,t,o,a,this._buffer,this._offset,s);while(!this._hadError&&i(d[0],d[1]));if(this._hadError)throw u;var p=r.concat(c,f);return this.close(),p}var g=this._binding.write(e,t,o,a,this._buffer,this._offset,s);g.buffer=t,g.callback=i},m.inherits(s,d),m.inherits(o,d),m.inherits(h,d),m.inherits(l,d),m.inherits(u,d),m.inherits(c,d),m.inherits(f,d)}).call(this,t("_process"),t("buffer").Buffer)},{"./binding":71,_process:84,_stream_transform:99,assert:57,buffer:73,util:104}],73:[function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var i,a=typeof t;if("number"===a)i=t>0?t>>>0:0;else if("string"===a)"base64"===e&&(t=k(t)),i=r.byteLength(t,e);else{if("object"!==a||null===t)throw new Error("First argument needs to be a number, array or string.");"Buffer"===t.type&&N(t.data)&&(t=t.data),i=+t.length>0?Math.floor(+t.length):0}var s;G?s=r._augment(new Uint8Array(i)):(s=this,s.length=i,s._isBuffer=!0);var o;if(G&&"number"==typeof t.byteLength)s._set(t);else if(D(t))if(r.isBuffer(t))for(o=0;o<i;o++)s[o]=t.readUInt8(o);else for(o=0;o<i;o++)s[o]=(t[o]%256+256)%256;else if("string"===a)s.write(t,0,e);else if("number"===a&&!G&&!n)for(o=0;o<i;o++)s[o]=0;return s}function i(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=e.length;Z(a%2===0,"Invalid hex string"),r>a/2&&(r=a/2);for(var s=0;s<r;s++){var o=parseInt(e.substr(2*s,2),16);Z(!isNaN(o),"Invalid hex string"),t[n+s]=o}return s}function a(t,e,n,r){var i=z(B(e),t,n,r);return i}function s(t,e,n,r){var i=z(L(e),t,n,r);return i}function o(t,e,n,r){return s(t,e,n,r)}function h(t,e,n,r){var i=z(O(e),t,n,r);return i}function l(t,e,n,r){var i=z(M(e),t,n,r);return i}function u(t,e,n){return 0===e&&n===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,n))}function c(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var a=e;a<n;a++)t[a]<=127?(r+=F(i)+String.fromCharCode(t[a]),i=""):i+="%"+t[a].toString(16);return r+F(i)}function f(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}function d(t,e,n){return f(t,e,n)}function p(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;a++)i+=R(t[a]);return i}function g(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function m(t,e,n,r){r||(Z("boolean"==typeof n,"missing or invalid endian"),Z(void 0!==e&&null!==e,"missing offset"),Z(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var a;return n?(a=t[e],e+1<i&&(a|=t[e+1]<<8)):(a=t[e]<<8,e+1<i&&(a|=t[e+1])),a}}function w(t,e,n,r){r||(Z("boolean"==typeof n,"missing or invalid endian"),Z(void 0!==e&&null!==e,"missing offset"),Z(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var a;return n?(e+2<i&&(a=t[e+2]<<16),e+1<i&&(a|=t[e+1]<<8),a|=t[e],e+3<i&&(a+=t[e+3]<<24>>>0)):(e+1<i&&(a=t[e+1]<<16),e+2<i&&(a|=t[e+2]<<8),e+3<i&&(a|=t[e+3]),a+=t[e]<<24>>>0),a}}function v(t,e,n,r){r||(Z("boolean"==typeof n,"missing or invalid endian"),Z(void 0!==e&&null!==e,"missing offset"),Z(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var a=m(t,e,n,!0),s=32768&a;return s?(65535-a+1)*-1:a}}function b(t,e,n,r){r||(Z("boolean"==typeof n,"missing or invalid endian"),Z(void 0!==e&&null!==e,"missing offset"),Z(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var a=w(t,e,n,!0),s=2147483648&a;return s?(4294967295-a+1)*-1:a}}function y(t,e,n,r){return r||(Z("boolean"==typeof n,"missing or invalid endian"),Z(e+3<t.length,"Trying to read beyond buffer length")),q.read(t,e,n,23,4)}function _(t,e,n,r){return r||(Z("boolean"==typeof n,"missing or invalid endian"),Z(e+7<t.length,"Trying to read beyond buffer length")),q.read(t,e,n,52,8)}function x(t,e,n,r,i){i||(Z(void 0!==e&&null!==e,"missing value"),Z("boolean"==typeof r,"missing or invalid endian"),Z(void 0!==n&&null!==n,"missing offset"),Z(n+1<t.length,"trying to write beyond buffer length"),U(e,65535));var a=t.length;if(!(n>=a)){for(var s=0,o=Math.min(a-n,2);s<o;s++)t[n+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s);return n+2}}function E(t,e,n,r,i){i||(Z(void 0!==e&&null!==e,"missing value"),Z("boolean"==typeof r,"missing or invalid endian"),Z(void 0!==n&&null!==n,"missing offset"),Z(n+3<t.length,"trying to write beyond buffer length"),U(e,4294967295));var a=t.length;if(!(n>=a)){for(var s=0,o=Math.min(a-n,4);s<o;s++)t[n+s]=e>>>8*(r?s:3-s)&255;return n+4}}function S(t,e,n,r,i){i||(Z(void 0!==e&&null!==e,"missing value"),Z("boolean"==typeof r,"missing or invalid endian"),Z(void 0!==n&&null!==n,"missing offset"),Z(n+1<t.length,"Trying to write beyond buffer length"),P(e,32767,-32768));var a=t.length;if(!(n>=a))return e>=0?x(t,e,n,r,i):x(t,65535+e+1,n,r,i),n+2}function C(t,e,n,r,i){i||(Z(void 0!==e&&null!==e,"missing value"),Z("boolean"==typeof r,"missing or invalid endian"),Z(void 0!==n&&null!==n,"missing offset"),Z(n+3<t.length,"Trying to write beyond buffer length"),P(e,2147483647,-2147483648));var a=t.length;if(!(n>=a))return e>=0?E(t,e,n,r,i):E(t,4294967295+e+1,n,r,i),n+4}function T(t,e,n,r,i){i||(Z(void 0!==e&&null!==e,"missing value"),Z("boolean"==typeof r,"missing or invalid endian"),Z(void 0!==n&&null!==n,"missing offset"),Z(n+3<t.length,"Trying to write beyond buffer length"),j(e,3.4028234663852886e38,-3.4028234663852886e38));var a=t.length;if(!(n>=a))return q.write(t,e,n,r,23,4),n+4}function A(t,e,n,r,i){i||(Z(void 0!==e&&null!==e,"missing value"),Z("boolean"==typeof r,"missing or invalid endian"),Z(void 0!==n&&null!==n,"missing offset"),Z(n+7<t.length,"Trying to write beyond buffer length"),j(e,1.7976931348623157e308,-1.7976931348623157e308));var a=t.length;if(!(n>=a))return q.write(t,e,n,r,52,8),n+8}function k(t){for(t=I(t).replace(H,"");t.length%4!==0;)t+="=";return t}function I(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function N(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function D(t){return N(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function R(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else{var i=n;r>=55296&&r<=57343&&n++;for(var a=encodeURIComponent(t.slice(i,n+1)).substr(1).split("%"),s=0;s<a.length;s++)e.push(parseInt(a[s],16))}}return e}function L(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function M(t){for(var e,n,r,i=[],a=0;a<t.length;a++)e=t.charCodeAt(a),n=e>>8,r=e%256,i.push(r),i.push(n);return i}function O(t){return X.toByteArray(t)}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function F(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}function U(t,e){Z("number"==typeof t,"cannot write a non-number as a number"),Z(t>=0,"specified a negative value for writing an unsigned value"),Z(t<=e,"value is larger than maximum value for type"),Z(Math.floor(t)===t,"value has a fractional component")}function P(t,e,n){Z("number"==typeof t,"cannot write a non-number as a number"),Z(t<=e,"value larger than maximum allowed value"),Z(t>=n,"value smaller than minimum allowed value"),Z(Math.floor(t)===t,"value has a fractional component")}function j(t,e,n){Z("number"==typeof t,"cannot write a non-number as a number"),Z(t<=e,"value larger than maximum allowed value"),Z(t>=n,"value smaller than minimum allowed value")}function Z(t,e){if(!t)throw new Error(e||"Failed assertion")}var X=t("base64-js"),q=t("ieee754");n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var G=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(t){return!1}}();r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.byteLength=function(t,e){var n;switch(t=t.toString(),e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=B(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=O(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(t,e){if(Z(N(t),"Usage: Buffer.concat(list[, length])"),0===t.length)return new r(0);if(1===t.length)return t[0];var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new r(e),a=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(i,a),a+=s.length}return i},r.compare=function(t,e){Z(r.isBuffer(t)&&r.isBuffer(e),"Arguments must be Buffers");for(var n=t.length,i=e.length,a=0,s=Math.min(n,i);a<s&&t[a]===e[a];a++);return a!==s&&(n=t[a],i=e[a]),n<i?-1:i<n?1:0},r.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var u=r;r=e,e=n,n=u}e=Number(e)||0;var c=this.length-e;n?(n=Number(n),n>c&&(n=c)):n=c,r=String(r||"utf8").toLowerCase();var f;switch(r){case"hex":f=i(this,t,e,n);break;case"utf8":case"utf-8":f=a(this,t,e,n);break;case"ascii":f=s(this,t,e,n);break;case"binary":f=o(this,t,e,n);break;case"base64":f=h(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=l(this,t,e,n);break;default:throw new Error("Unknown encoding")}return f},r.prototype.toString=function(t,e,n){var r=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,n=void 0===n?r.length:Number(n),n===e)return"";var i;switch(t){case"hex":i=p(r,e,n);break;case"utf8":case"utf-8":i=c(r,e,n);break;case"ascii":i=f(r,e,n);break;case"binary":i=d(r,e,n);break;case"base64":i=u(r,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=g(r,e,n);break;default:throw new Error("Unknown encoding")}return i},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.equals=function(t){return Z(r.isBuffer(t),"Argument must be a Buffer"),0===r.compare(this,t)},r.prototype.compare=function(t){return Z(r.isBuffer(t),"Argument must be a Buffer"),r.compare(this,t)},r.prototype.copy=function(t,e,n,r){var i=this;if(n||(n=0),r||0===r||(r=this.length),e||(e=0),r!==n&&0!==t.length&&0!==i.length){Z(r>=n,"sourceEnd < sourceStart"),Z(e>=0&&e<t.length,"targetStart out of bounds"),Z(n>=0&&n<i.length,"sourceStart out of bounds"),Z(r>=0&&r<=i.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var a=r-n;if(a<100||!G)for(var s=0;s<a;s++)t[s+e]=this[s+n];else t._set(this.subarray(n,n+a),e)}},r.prototype.slice=function(t,e){var n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),G)return r._augment(this.subarray(t,e));for(var i=e-t,a=new r(i,void 0,!0),s=0;s<i;s++)a[s]=this[s+t];return a},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.readUInt8=function(t,e){if(e||(Z(void 0!==t&&null!==t,"missing offset"),Z(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return this[t]},r.prototype.readUInt16LE=function(t,e){return m(this,t,!0,e)},r.prototype.readUInt16BE=function(t,e){return m(this,t,!1,e)},r.prototype.readUInt32LE=function(t,e){return w(this,t,!0,e)},r.prototype.readUInt32BE=function(t,e){return w(this,t,!1,e)},r.prototype.readInt8=function(t,e){if(e||(Z(void 0!==t&&null!==t,"missing offset"),Z(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var n=128&this[t];return n?(255-this[t]+1)*-1:this[t]}},r.prototype.readInt16LE=function(t,e){return v(this,t,!0,e)},r.prototype.readInt16BE=function(t,e){return v(this,t,!1,e)},r.prototype.readInt32LE=function(t,e){return b(this,t,!0,e)},r.prototype.readInt32BE=function(t,e){return b(this,t,!1,e)},r.prototype.readFloatLE=function(t,e){return y(this,t,!0,e)},r.prototype.readFloatBE=function(t,e){return y(this,t,!1,e)},r.prototype.readDoubleLE=function(t,e){return _(this,t,!0,e)},r.prototype.readDoubleBE=function(t,e){return _(this,t,!1,e)},r.prototype.writeUInt8=function(t,e,n){if(n||(Z(void 0!==t&&null!==t,"missing value"),Z(void 0!==e&&null!==e,"missing offset"),Z(e<this.length,"trying to write beyond buffer length"),U(t,255)),!(e>=this.length))return this[e]=t,e+1},r.prototype.writeUInt16LE=function(t,e,n){return x(this,t,e,!0,n)},r.prototype.writeUInt16BE=function(t,e,n){return x(this,t,e,!1,n)},r.prototype.writeUInt32LE=function(t,e,n){return E(this,t,e,!0,n)},r.prototype.writeUInt32BE=function(t,e,n){return E(this,t,e,!1,n)},r.prototype.writeInt8=function(t,e,n){if(n||(Z(void 0!==t&&null!==t,"missing value"),Z(void 0!==e&&null!==e,"missing offset"),Z(e<this.length,"Trying to write beyond buffer length"),P(t,127,-128)),!(e>=this.length))return t>=0?this.writeUInt8(t,e,n):this.writeUInt8(255+t+1,e,n),e+1},r.prototype.writeInt16LE=function(t,e,n){return S(this,t,e,!0,n)},r.prototype.writeInt16BE=function(t,e,n){return S(this,t,e,!1,n)},r.prototype.writeInt32LE=function(t,e,n){return C(this,t,e,!0,n)},r.prototype.writeInt32BE=function(t,e,n){return C(this,t,e,!1,n)},r.prototype.writeFloatLE=function(t,e,n){return T(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return T(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return A(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){return A(this,t,e,!1,n)},r.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),Z(n>=e,"end < start"),n!==e&&0!==this.length){Z(e>=0&&e<this.length,"start out of bounds"),Z(n>=0&&n<=this.length,"end out of bounds");var r;if("number"==typeof t)for(r=e;r<n;r++)this[r]=t;else{var i=B(t.toString()),a=i.length;for(r=e;r<n;r++)this[r]=i[r%a]}return this}},r.prototype.inspect=function(){for(var t=[],e=this.length,r=0;r<e;r++)if(t[r]=R(this[r]),r===n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(G)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var V=r.prototype;r._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=V.get,t.set=V.set,t.write=V.write,t.toString=V.toString,t.toLocaleString=V.toString,t.toJSON=V.toJSON,t.equals=V.equals,t.compare=V.compare,t.copy=V.copy,t.slice=V.slice,t.readUInt8=V.readUInt8,t.readUInt16LE=V.readUInt16LE,t.readUInt16BE=V.readUInt16BE,t.readUInt32LE=V.readUInt32LE,t.readUInt32BE=V.readUInt32BE,t.readInt8=V.readInt8,t.readInt16LE=V.readInt16LE,t.readInt16BE=V.readInt16BE,t.readInt32LE=V.readInt32LE,t.readInt32BE=V.readInt32BE,t.readFloatLE=V.readFloatLE,t.readFloatBE=V.readFloatBE,t.readDoubleLE=V.readDoubleLE,t.readDoubleBE=V.readDoubleBE,t.writeUInt8=V.writeUInt8,t.writeUInt16LE=V.writeUInt16LE,t.writeUInt16BE=V.writeUInt16BE,t.writeUInt32LE=V.writeUInt32LE,t.writeUInt32BE=V.writeUInt32BE,t.writeInt8=V.writeInt8,t.writeInt16LE=V.writeInt16LE,t.writeInt16BE=V.writeInt16BE,t.writeInt32LE=V.writeInt32LE,t.writeInt32BE=V.writeInt32BE,t.writeFloatLE=V.writeFloatLE,t.writeFloatBE=V.writeFloatBE,t.writeDoubleLE=V.writeDoubleLE,t.writeDoubleBE=V.writeDoubleBE,t.fill=V.fill,t.inspect=V.inspect,t.toArrayBuffer=V.toArrayBuffer,t};var H=/[^+\/0-9A-z]/g},{"base64-js":74,ieee754:75}],74:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s?62:e===o?63:e<h?-1:e<h+10?e-h+26+26:e<u+26?e-u:e<l+26?e-l+26:void 0}function n(t){function n(t){l[c++]=t}var r,i,s,o,h,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;h="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,l=new a(3*t.length/4-h),s=h>0?t.length-4:t.length;var c=0;for(r=0,i=0;r<s;r+=4,i+=3)o=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&o)>>16),n((65280&o)>>8),n(255&o);return 2===h?(o=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&o)):1===h&&(o=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(o>>8&255),n(255&o)),l}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,a,s,o=t.length%3,h="";for(i=0,s=t.length-o;i<s;i+=3)a=(t[i]<<16)+(t[i+1]<<8)+t[i+2],h+=n(a);switch(o){case 1:a=t[t.length-1],h+=e(a>>2),h+=e(a<<4&63),h+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],h+=e(a>>10),h+=e(a>>4&63),h+=e(a<<2&63),h+="="}return h}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),o="/".charCodeAt(0),h="0".charCodeAt(0),l="a".charCodeAt(0),u="A".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],75:[function(t,e,n){n.read=function(t,e,n,r,i){var a,s,o=8*i-r-1,h=(1<<o)-1,l=h>>1,u=-7,c=n?i-1:0,f=n?-1:1,d=t[e+c];for(c+=f,a=d&(1<<-u)-1,d>>=-u,u+=o;u>0;a=256*a+t[e+c],c+=f,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=256*s+t[e+c],c+=f,u-=8);if(0===a)a=1-l;else{if(a===h)return s?NaN:(d?-1:1)*(1/0);s+=Math.pow(2,r),a-=l}return(d?-1:1)*s*Math.pow(2,a-r)},n.write=function(t,e,n,r,i,a){var s,o,h,l=8*a-i-1,u=(1<<l)-1,c=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),e+=s+c>=1?f/h:f*Math.pow(2,1-c),e*h>=2&&(s++,h/=2),s+c>=u?(o=0,s=u):s+c>=1?(o=(e*h-1)*Math.pow(2,i),s+=c):(o=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&o,d+=p,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*g}},{}],76:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function a(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!a(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,a,h,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length))throw e=arguments[1],e instanceof Error?e:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[t],o(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,a=new Array(r-1),h=1;h<r;h++)a[h-1]=arguments[h];n.apply(this,a)}else if(s(n)){for(r=arguments.length,a=new Array(r-1),h=1;h<r;h++)a[h-1]=arguments[h];for(l=n.slice(),r=l.length,h=0;h<r;h++)l[h].apply(this,a)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,a,o;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(o=a;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],77:[function(t,e,n){var r=e.exports,i=(t("events").EventEmitter,t("./lib/request")),a=t("url");r.request=function(t,e){"string"==typeof t&&(t=a.parse(t)),t||(t={}),t.host||t.port||(t.port=parseInt(window.location.port,10)),!t.host&&t.hostname&&(t.host=t.hostname),t.scheme||(t.scheme=window.location.protocol.split(":")[0]),t.host||(t.host=window.location.hostname||window.location.host),/:/.test(t.host)&&(t.port||(t.port=t.host.split(":")[1]),t.host=t.host.split(":")[0]),t.port||(t.port="https"==t.scheme?443:80);var n=new i(new s,t);return e&&n.on("response",e),n},r.get=function(t,e){t.method="GET";var n=r.request(t,e);return n.end(),n},r.Agent=function(){},
r.Agent.defaultMaxSockets=4;var s=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],e=0;e<t.length;e++)try{var n=new window.ActiveXObject(t[e]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(t[e])}}catch(t){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":78,events:76,url:102}],78:[function(t,e,n){var r=t("stream"),i=t("./response"),a=t("Base64"),s=t("inherits"),o=e.exports=function(t,e){var n=this;n.writable=!0,n.xhr=t,n.body=[],n.uri=(e.scheme||"http")+"://"+e.host+(e.port?":"+e.port:"")+(e.path||"/"),"undefined"==typeof e.withCredentials&&(e.withCredentials=!0);try{t.withCredentials=e.withCredentials}catch(t){}if(e.responseType)try{t.responseType=e.responseType}catch(t){}if(t.open(e.method||"GET",n.uri,!0),n._headers={},e.headers)for(var r=h(e.headers),s=0;s<r.length;s++){var o=r[s];if(n.isSafeRequestHeader(o)){var l=e.headers[o];n.setHeader(o,l)}}e.auth&&this.setHeader("Authorization","Basic "+a.btoa(e.auth));var u=new i;u.on("close",function(){n.emit("close")}),u.on("ready",function(){n.emit("response",u)}),t.onreadystatechange=function(){t.__aborted||u.handle(t)}};s(o,r),o.prototype.setHeader=function(t,e){this._headers[t.toLowerCase()]=e},o.prototype.getHeader=function(t){return this._headers[t.toLowerCase()]},o.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},o.prototype.write=function(t){this.body.push(t)},o.prototype.destroy=function(t){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},o.prototype.end=function(t){void 0!==t&&this.body.push(t);for(var e=h(this._headers),n=0;n<e.length;n++){var r=e[n],i=this._headers[r];if(l(i))for(var a=0;a<i.length;a++)this.xhr.setRequestHeader(r,i[a]);else this.xhr.setRequestHeader(r,i)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(l(this.body[0])){for(var s=[],n=0;n<this.body.length;n++)s.push.apply(s,this.body[n]);this.xhr.send(s)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var o=0,n=0;n<this.body.length;n++)o+=this.body[n].length;for(var s=new this.body[0].constructor(o),u=0,n=0;n<this.body.length;n++)for(var c=this.body[n],a=0;a<c.length;a++)s[u++]=c[a];this.xhr.send(s)}else{for(var s="",n=0;n<this.body.length;n++)s+=this.body[n].toString();this.xhr.send(s)}},o.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],o.prototype.isSafeRequestHeader=function(t){return!!t&&u(o.unsafeHeaders,t.toLowerCase())===-1};var h=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}},{"./response":79,Base64:80,inherits:82,stream:101}],79:[function(t,e,n){function r(t){for(var e=t.getAllResponseHeaders().split(/\r?\n/),n={},r=0;r<e.length;r++){var i=e[r];if(""!==i){var a=i.match(/^([^:]+):\s*(.*)/);if(a){var s=a[1].toLowerCase(),o=a[2];void 0!==n[s]?h(n[s])?n[s].push(o):n[s]=[n[s],o]:n[s]=o}else n[i]=!0}}return n}var i=t("stream"),a=t("util"),s=e.exports=function(t){this.offset=0,this.readable=!0};a.inherits(s,i);var o={streaming:!0,status2:!0};s.prototype.getResponse=function(t){var e=String(t.responseType).toLowerCase();return"blob"===e?t.responseBlob||t.response:"arraybuffer"===e?t.response:t.responseText},s.prototype.getHeader=function(t){return this.headers[t.toLowerCase()]},s.prototype.handle=function(t){if(2===t.readyState&&o.status2){try{this.statusCode=t.status,this.headers=r(t)}catch(t){o.status2=!1}o.status2&&this.emit("ready")}else if(o.streaming&&3===t.readyState){try{this.statusCode||(this.statusCode=t.status,this.headers=r(t),this.emit("ready"))}catch(t){}try{this._emitData(t)}catch(t){o.streaming=!1}}else 4===t.readyState&&(this.statusCode||(this.statusCode=t.status,this.emit("ready")),this._emitData(t),t.error?this.emit("error",this.getResponse(t)):this.emit("end"),this.emit("close"))},s.prototype._emitData=function(t){var e=this.getResponse(t);return e.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(e,this.offset)),void(this.offset=e.byteLength)):void(e.length>this.offset&&(this.emit("data",e.slice(this.offset)),this.offset=e.length))};var h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{stream:101,util:104}],80:[function(t,e,n){!function(){function t(t){this.message=t}var e="undefined"!=typeof n?n:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var n,i,a=0,s=r,o="";e.charAt(0|a)||(s="=",a%1);o+=s.charAt(63&n>>8-a%1*8)){if(i=e.charCodeAt(a+=.75),i>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return o}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),e.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,a=0,s=0,o="";i=e.charAt(s++);~i&&(n=a%4?64*n+i:i,a++%4)?o+=String.fromCharCode(255&n>>(-2*a&6)):0)i=r.indexOf(i);return o})}()},{}],81:[function(t,e,n){var r=t("http"),i=e.exports;for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);i.request=function(t,e){return t||(t={}),t.scheme="https",r.request.call(this,t,e)}},{http:77}],82:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],83:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],84:[function(t,e,n){function r(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],85:[function(t,e,n){(function(t){!function(r){function i(t){throw RangeError(B[t])}function a(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function s(t,e){return a(t.split(R),e).join(".")}function o(t){for(var e,n,r=[],i=0,a=t.length;i<a;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<a?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function h(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=O(t>>>10&1023|55296),t=56320|1023&t),e+=O(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:x}function u(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function c(t,e,n){var r=0;for(t=n?M(t/T):t>>1,t+=M(t/e);t>L*S>>1;r+=x)t=M(t/L);return M(r+(L+1)*t/(t+C))}function f(t){var e,n,r,a,s,o,u,f,d,p,g=[],m=t.length,w=0,v=k,b=A;for(n=t.lastIndexOf(I),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),g.push(t.charCodeAt(r));for(a=n>0?n+1:0;a<m;){for(s=w,o=1,u=x;a>=m&&i("invalid-input"),f=l(t.charCodeAt(a++)),(f>=x||f>M((_-w)/o))&&i("overflow"),w+=f*o,d=u<=b?E:u>=b+S?S:u-b,!(f<d);u+=x)p=x-d,o>M(_/p)&&i("overflow"),o*=p;e=g.length+1,b=c(w-s,e,0==s),M(w/e)>_-v&&i("overflow"),v+=M(w/e),w%=e,g.splice(w++,0,v)}return h(g)}function d(t){var e,n,r,a,s,h,l,f,d,p,g,m,w,v,b,y=[];for(t=o(t),m=t.length,e=k,n=0,s=A,h=0;h<m;++h)g=t[h],g<128&&y.push(O(g));for(r=a=y.length,a&&y.push(I);r<m;){for(l=_,h=0;h<m;++h)g=t[h],g>=e&&g<l&&(l=g);for(w=r+1,l-e>M((_-n)/w)&&i("overflow"),n+=(l-e)*w,e=l,h=0;h<m;++h)if(g=t[h],g<e&&++n>_&&i("overflow"),g==e){for(f=n,d=x;p=d<=s?E:d>=s+S?S:d-s,!(f<p);d+=x)b=f-p,v=x-p,y.push(O(u(p+b%v,0))),f=M(b/v);y.push(O(u(f,0))),s=c(n,w,r==a),n=0,++r}++n,++e}return y.join("")}function p(t){return s(t,function(t){return N.test(t)?f(t.slice(4).toLowerCase()):t})}function g(t){return s(t,function(t){return D.test(t)?"xn--"+d(t):t})}var m="object"==typeof n&&n,w="object"==typeof e&&e&&e.exports==m&&e,v="object"==typeof t&&t;v.global!==v&&v.window!==v||(r=v);var b,y,_=2147483647,x=36,E=1,S=26,C=38,T=700,A=72,k=128,I="-",N=/^xn--/,D=/[^ -~]/,R=/\x2E|\u3002|\uFF0E|\uFF61/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=x-E,M=Math.floor,O=String.fromCharCode;if(b={version:"1.2.4",ucs2:{decode:o,encode:h},decode:f,encode:d,toASCII:g,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(m&&!m.nodeType)if(w)w.exports=b;else for(y in b)b.hasOwnProperty(y)&&(m[y]=b[y]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],86:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,a){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e);var h=1e3;a&&"number"==typeof a.maxKeys&&(h=a.maxKeys);var l=t.length;h>0&&l>h&&(l=h);for(var u=0;u<l;++u){var c,f,d,p,g=t[u].replace(o,"%20"),m=g.indexOf(n);m>=0?(c=g.substr(0,m),f=g.substr(m+1)):(c=g,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],87:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,o){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(s(t),function(s){var o=encodeURIComponent(i(s))+n;return a(t[s])?r(t[s],function(t){return o+encodeURIComponent(i(t))}).join(e):o+encodeURIComponent(i(t[s]))}).join(e):o?encodeURIComponent(i(o))+n+encodeURIComponent(i(t)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],88:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":86,"./encode":87}],89:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":90}],90:[function(t,e,n){(function(n){function r(t){return this instanceof r?(h.call(this,t),l.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(t)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function a(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}e.exports=r;var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},o=t("core-util-is");o.inherits=t("inherits");var h=t("./_stream_readable"),l=t("./_stream_writable");o.inherits(r,h),a(s(l.prototype),function(t){r.prototype[t]||(r.prototype[t]=l.prototype[t])})}).call(this,t("_process"))},{"./_stream_readable":92,"./_stream_writable":94,_process:84,"core-util-is":95,inherits:82}],91:[function(t,e,n){function r(t){return this instanceof r?void i.call(this,t):new r(t)}e.exports=r;var i=t("./_stream_transform"),a=t("core-util-is");a.inherits=t("inherits"),a.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":93,"core-util-is":95,inherits:82}],92:[function(t,e,n){(function(n){function r(e,n){e=e||{};var r=e.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(k||(k=t("string_decoder/").StringDecoder),this.decoder=new k(e.encoding),this.encoding=e.encoding)}function i(t){return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void T.call(this)):new i(t)}function a(t,e,n,r,i){var a=l(e,n);if(a)t.emit("error",a);else if(null===n||void 0===n)e.reading=!1,e.ended||u(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var o=new Error("stream.push() after EOF");t.emit("error",o)}else if(e.endEmitted&&i){var o=new Error("stream.unshift() after end event");t.emit("error",o)}else!e.decoder||i||r||(n=e.decoder.write(n)),e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):(e.reading=!1,e.buffer.push(n)),e.needReadable&&c(t),d(t,e);else i||(e.reading=!1);return s(e)}function s(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function o(t){if(t>=I)t=I;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}function h(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||null===t?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=o(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function l(t,e){var n=null;return S.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||n||(n=new TypeError("Invalid non-string/buffer chunk")),n}function u(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.length>0?c(t):y(t)}function c(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,e.sync?n.nextTick(function(){f(t)}):f(t))}function f(t){t.emit("readable")}function d(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(function(){p(t,e)}))}function p(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function g(t){return function(){var e=t._readableState;e.awaitDrain--,0===e.awaitDrain&&m(t)}}function m(t){function e(t,e,i){var a=t.write(n);!1===a&&r.awaitDrain++}var n,r=t._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=t.read());)if(1===r.pipesCount?e(r.pipes,0,null):_(r.pipes,e),t.emit("data",n),r.awaitDrain>0)return;return 0===r.pipesCount?(r.flowing=!1,void(C.listenerCount(t,"data")>0&&v(t))):void(r.ranOut=!0)}function w(){this._readableState.ranOut&&(this._readableState.ranOut=!1,m(this))}function v(t,e){var r=t._readableState;if(r.flowing)throw new Error("Cannot switch to old mode now.");var i=e||!1,a=!1;t.readable=!0,t.pipe=T.prototype.pipe,t.on=t.addListener=T.prototype.on,t.on("readable",function(){a=!0;for(var e;!i&&null!==(e=t.read());)t.emit("data",e);null===e&&(a=!1,t._readableState.needReadable=!0)}),t.pause=function(){i=!0,this.emit("pause")},t.resume=function(){i=!1,a?n.nextTick(function(){t.emit("readable")}):this.read(0),this.emit("resume")},t.emit("readable")}function b(t,e){var n,r=e.buffer,i=e.length,a=!!e.decoder,s=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!t||t>=i)n=a?r.join(""):S.concat(r,i),r.length=0;else if(t<r[0].length){var o=r[0];n=o.slice(0,t),r[0]=o.slice(t)}else if(t===r[0].length)n=r.shift();else{n=a?"":new S(t);for(var h=0,l=0,u=r.length;l<u&&h<t;l++){var o=r[0],c=Math.min(t-h,o.length);a?n+=o.slice(0,c):o.copy(n,h,0,c),c<o.length?r[0]=o.slice(c):r.shift(),h+=c}}return n}function y(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");!e.endEmitted&&e.calledRead&&(e.ended=!0,n.nextTick(function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function _(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function x(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}e.exports=i;var E=t("isarray"),S=t("buffer").Buffer;i.ReadableState=r;var C=t("events").EventEmitter;C.listenerCount||(C.listenerCount=function(t,e){return t.listeners(e).length});var T=t("stream"),A=t("core-util-is");A.inherits=t("inherits");var k;A.inherits(i,T),i.prototype.push=function(t,e){var n=this._readableState;return"string"!=typeof t||n.objectMode||(e=e||n.defaultEncoding,e!==n.encoding&&(t=new S(t,e),e="")),a(this,n,t,e,!1)},i.prototype.unshift=function(t){var e=this._readableState;return a(this,e,t,"",!0)},i.prototype.setEncoding=function(e){k||(k=t("string_decoder/").StringDecoder),this._readableState.decoder=new k(e),this._readableState.encoding=e};var I=8388608;i.prototype.read=function(t){var e=this._readableState;e.calledRead=!0;var n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return c(this),null;if(t=h(t,e),0===t&&e.ended)return 0===e.length&&y(this),null;var r=e.needReadable;e.length-t<=e.highWaterMark&&(r=!0),(e.ended||e.reading)&&(r=!1),r&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=h(n,e));var i;return i=t>0?b(t,e):null,null===i&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),e.ended&&!e.endEmitted&&0===e.length&&y(this),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,e){function r(t){t===u&&a()}function i(){t.end()}function a(){t.removeListener("close",o),t.removeListener("finish",h),t.removeListener("drain",p),t.removeListener("error",s),t.removeListener("unpipe",r),u.removeListener("end",i),u.removeListener("end",a),t._writableState&&!t._writableState.needDrain||p()}function s(e){l(),t.removeListener("error",s),0===C.listenerCount(t,"error")&&t.emit("error",e)}function o(){t.removeListener("finish",h),l()}function h(){t.removeListener("close",o),l()}function l(){u.unpipe(t)}var u=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=t;break;case 1:c.pipes=[c.pipes,t];break;default:c.pipes.push(t)}c.pipesCount+=1;var f=(!e||e.end!==!1)&&t!==n.stdout&&t!==n.stderr,d=f?i:a;c.endEmitted?n.nextTick(d):u.once("end",d),t.on("unpipe",r);var p=g(u);return t.on("drain",p),t._events&&t._events.error?E(t._events.error)?t._events.error.unshift(s):t._events.error=[s,t._events.error]:t.on("error",s),t.once("close",o),t.once("finish",h),t.emit("pipe",u),c.flowing||(this.on("readable",w),c.flowing=!0,n.nextTick(function(){m(u)})),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,this.removeListener("readable",w),e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,this.removeListener("readable",w),e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=x(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,e){var n=T.prototype.on.call(this,t,e);if("data"!==t||this._readableState.flowing||v(this),"readable"===t&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&c(this,r):this.read(0))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){v(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){v(this,!0),this.emit("pause")},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(e.decoder&&(i=e.decoder.write(i)),i&&(e.objectMode||i.length)){var a=r.push(i);a||(n=!0,t.pause())}});for(var i in t)"function"==typeof t[i]&&"undefined"==typeof this[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return _(a,function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){n&&(n=!1,t.resume())},r},i._fromList=b}).call(this,t("_process"))},{_process:84,buffer:73,"core-util-is":95,events:76,inherits:82,isarray:83,stream:101,"string_decoder/":96}],93:[function(t,e,n){function r(t,e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i&&i(e);var a=t._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&t._read(a.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);o.call(this,t);var e=(this._transformState=new r(t,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(t){s(e,t)}):s(e)})}function s(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=(t._readableState,t._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}e.exports=a;var o=t("./_stream_duplex"),h=t("core-util-is");h.inherits=t("inherits"),h.inherits(a,o),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":90,"core-util-is":95,inherits:82}],94:[function(t,e,n){(function(n){function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function i(t,e){t=t||{};var n=t.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!t.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=t.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){d(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function a(e){var n=t("./_stream_duplex");return this instanceof a||this instanceof n?(this._writableState=new i(e,this),this.writable=!0,void x.call(this)):new a(e)}function s(t,e,r){var i=new Error("write after end");t.emit("error",i),n.nextTick(function(){r(i)})}function o(t,e,r,i){var a=!0;if(!y.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!e.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");t.emit("error",s),n.nextTick(function(){i(s)}),a=!1}return a}function h(t,e,n){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=new y(e,n)),e}function l(t,e,n,i,a){n=h(e,n,i),y.isBuffer(n)&&(i="buffer");var s=e.objectMode?1:n.length;e.length+=s;var o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing?e.buffer.push(new r(n,i,a)):u(t,e,s,n,i,a),o}function u(t,e,n,r,i,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1}function c(t,e,r,i,a){r?n.nextTick(function(){a(i)}):a(i),t._writableState.errorEmitted=!0,t.emit("error",i)}function f(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function d(t,e){var r=t._writableState,i=r.sync,a=r.writecb;if(f(r),e)c(t,r,i,e,a);else{var s=w(t,r);s||r.bufferProcessing||!r.buffer.length||m(t,r),i?n.nextTick(function(){p(t,r,s,a)}):p(t,r,s,a)}}function p(t,e,n,r){n||g(t,e),r(),n&&v(t,e)}function g(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function m(t,e){e.bufferProcessing=!0;for(var n=0;n<e.buffer.length;n++){var r=e.buffer[n],i=r.chunk,a=r.encoding,s=r.callback,o=e.objectMode?1:i.length;if(u(t,e,o,i,a,s),e.writing){n++;break}}e.bufferProcessing=!1,n<e.buffer.length?e.buffer=e.buffer.slice(n):e.buffer.length=0}function w(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function v(t,e){var n=w(t,e);return n&&(e.finished=!0,t.emit("finish")),n}function b(t,e,r){e.ending=!0,v(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0}e.exports=a;var y=t("buffer").Buffer;a.WritableState=i;var _=t("core-util-is");_.inherits=t("inherits");var x=t("stream");_.inherits(a,x),a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},a.prototype.write=function(t,e,n){var r=this._writableState,i=!1;return"function"==typeof e&&(n=e,e=null),y.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?s(this,r,n):o(this,r,t,n)&&(i=l(this,r,t,e,n)),i},a.prototype._write=function(t,e,n){n(new Error("not implemented"))},a.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),"undefined"!=typeof t&&null!==t&&this.write(t,e),r.ending||r.finished||b(this,r,n)}}).call(this,t("_process"))},{"./_stream_duplex":90,_process:84,buffer:73,"core-util-is":95,inherits:82,stream:101}],95:[function(t,e,n){(function(t){function e(t){return Array.isArray(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function a(t){return null==t}function s(t){return"number"==typeof t}function o(t){return"string"==typeof t}function h(t){return"symbol"==typeof t}function l(t){return void 0===t}function u(t){return c(t)&&"[object RegExp]"===w(t)}function c(t){return"object"==typeof t&&null!==t}function f(t){return c(t)&&"[object Date]"===w(t)}function d(t){return c(t)&&("[object Error]"===w(t)||t instanceof Error)}function p(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function m(e){return t.isBuffer(e)}function w(t){return Object.prototype.toString.call(t)}n.isArray=e,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=a,n.isNumber=s,n.isString=o,n.isSymbol=h,n.isUndefined=l,n.isRegExp=u,n.isObject=c,n.isDate=f,n.isError=d,n.isFunction=p,n.isPrimitive=g,n.isBuffer=m}).call(this,t("buffer").Buffer)},{buffer:73}],96:[function(t,e,n){function r(t){if(t&&!h(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function a(t){var e=this.charReceived=t.length%2;return this.charLength=e?2:0,e}function s(t){var e=this.charReceived=t.length%3;return this.charLength=e?3:0,e}var o=t("buffer").Buffer,h=o.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},l=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new o(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(t){for(var e="",n=0;this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,n,r),this.charReceived+=r-n,n=r,this.charReceived<this.charLength)return"";e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(!(i>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,r==t.length)return e;t=t.slice(r,t.length);break}this.charLength+=this.surrogateSize,e=""}var a=this.detectIncompleteChar(t),s=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-a,s),this.charReceived=a,s-=a),e+=t.toString(this.encoding,0,s);var s=e.length-1,i=e.charCodeAt(s);if(i>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),this.charBuffer.write(e.charAt(e.length-1),this.encoding),e.substring(0,s)}return e},l.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}return e},l.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},{buffer:73}],97:[function(t,e,n){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":91}],98:[function(t,e,n){n=e.exports=t("./lib/_stream_readable.js"),n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":90,"./lib/_stream_passthrough.js":91,"./lib/_stream_readable.js":92,"./lib/_stream_transform.js":93,"./lib/_stream_writable.js":94}],99:[function(t,e,n){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":93}],100:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":94
}],101:[function(t,e,n){function r(){i.call(this)}e.exports=r;var i=t("events").EventEmitter,a=t("inherits");a(r,i),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function a(){u||(u=!0,t.end())}function s(){u||(u=!0,"function"==typeof t.destroy&&t.destroy())}function o(t){if(h(),0===i.listenerCount(this,"error"))throw t}function h(){l.removeListener("data",n),t.removeListener("drain",r),l.removeListener("end",a),l.removeListener("close",s),l.removeListener("error",o),t.removeListener("error",o),l.removeListener("end",h),l.removeListener("close",h),t.removeListener("close",h)}var l=this;l.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(l.on("end",a),l.on("close",s));var u=!1;return l.on("error",o),t.on("error",o),l.on("end",h),l.on("close",h),t.on("close",h),t.emit("pipe",l),t}},{events:76,inherits:82,"readable-stream/duplex.js":89,"readable-stream/passthrough.js":97,"readable-stream/readable.js":98,"readable-stream/transform.js":99,"readable-stream/writable.js":100}],102:[function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&l(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function a(t){return h(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function s(t,e){return i(t,!1,!0).resolve(e)}function o(t,e){return t?i(t,!1,!0).resolveObject(e):e}function h(t){return"string"==typeof t}function l(t){return"object"==typeof t&&null!==t}function u(t){return null===t}function c(t){return null==t}var f=t("punycode");n.parse=i,n.resolve=s,n.resolveObject=o,n.format=a,n.Url=r;var d=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","\t"],m=["{","}","|","\\","^","`"].concat(g),w=["'"].concat(m),v=["%","/","?",";","#"].concat(w),b=["/","?","#"],y=255,_=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=t("querystring");r.prototype.parse=function(t,e,n){if(!h(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=d.exec(r);if(i){i=i[0];var a=i.toLowerCase();this.protocol=a,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);!s||i&&S[i]||(r=r.substr(2),this.slashes=!0)}if(!S[i]&&(s||i&&!C[i])){for(var o=-1,l=0;l<b.length;l++){var u=r.indexOf(b[l]);u!==-1&&(o===-1||u<o)&&(o=u)}var c,p;p=o===-1?r.lastIndexOf("@"):r.lastIndexOf("@",o),p!==-1&&(c=r.slice(0,p),r=r.slice(p+1),this.auth=decodeURIComponent(c)),o=-1;for(var l=0;l<v.length;l++){var u=r.indexOf(v[l]);u!==-1&&(o===-1||u<o)&&(o=u)}o===-1&&(o=r.length),this.host=r.slice(0,o),r=r.slice(o),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var m=this.hostname.split(/\./),l=0,A=m.length;l<A;l++){var k=m[l];if(k&&!k.match(_)){for(var I="",N=0,D=k.length;N<D;N++)I+=k.charCodeAt(N)>127?"x":k[N];if(!I.match(_)){var R=m.slice(0,l),B=m.slice(l+1),L=k.match(x);L&&(R.push(L[1]),B.unshift(L[2])),B.length&&(r="/"+B.join(".")+r),this.hostname=R.join(".");break}}}if(this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),!g){for(var M=this.hostname.split("."),O=[],l=0;l<M.length;++l){var z=M[l];O.push(z.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(z):z)}this.hostname=O.join(".")}var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!E[a])for(var l=0,A=w.length;l<A;l++){var P=w[l],j=encodeURIComponent(P);j===P&&(j=escape(P)),r=r.split(P).join(j)}var Z=r.indexOf("#");Z!==-1&&(this.hash=r.substr(Z),r=r.slice(0,Z));var X=r.indexOf("?");if(X!==-1?(this.search=r.substr(X),this.query=r.substr(X+1),e&&(this.query=T.parse(this.query)),r=r.slice(0,X)):e&&(this.search="",this.query={}),r&&(this.pathname=r),C[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",z=this.search||"";this.path=F+z}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(a=T.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||C[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+n+s+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(h(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!C[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||S[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var a=n.pathname||"",s=n.search||"";n.path=a+s}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var o=n.pathname&&"/"===n.pathname.charAt(0),l=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=l||o||n.host&&t.pathname,d=f,p=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],g=n.protocol&&!C[n.protocol];if(g&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),f=f&&(""===i[0]||""===p[0])),l)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,p=i;else if(i.length)p||(p=[]),p.pop(),p=p.concat(i),n.search=t.search,n.query=t.query;else if(!c(t.search)){if(g){n.hostname=n.host=p.shift();var m=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return n.search=t.search,n.query=t.query,u(n.pathname)&&u(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!p.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var w=p.slice(-1)[0],v=(n.host||t.host)&&("."===w||".."===w)||""===w,b=0,y=p.length;y>=0;y--)w=p[y],"."==w?p.splice(y,1):".."===w?(p.splice(y,1),b++):b&&(p.splice(y,1),b--);if(!f&&!d)for(;b--;b)p.unshift("..");!f||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),v&&"/"!==p.join("/").substr(-1)&&p.push("");var _=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(g){n.hostname=n.host=_?"":p.length?p.shift():"";var m=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return f=f||n.host&&p.length,f&&!_&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),u(n.pathname)&&u(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=p.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:85,querystring:88}],103:[function(t,e,n){e.exports=t(58)},{}],104:[function(t,e,n){e.exports=t(59)},{"./support/isBuffer":103,_process:84,inherits:82}],105:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(t){return this instanceof Script?void(this.code=t):new Script(t)};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(t),function(e){n[e]=t[e]}),forEach(globals,function(e){t[e]&&(n[e]=t[e])});var a=Object_keys(n),s=r.call(n,this.code);return forEach(Object_keys(n),function(e){(e in t||indexOf(a,e)===-1)&&(t[e]=n[e])}),forEach(globals,function(e){e in t||defineProp(t,e,n[e])}),document.body.removeChild(e),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return forEach(Object_keys(e),function(n){t[n]=e[n]}),n},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(n){e[n]=t[n]}),e}},{indexof:106}],106:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}]},{},[])("./js/docxgen.js")});