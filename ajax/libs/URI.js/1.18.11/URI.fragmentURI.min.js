!function(t,r){"use strict";"object"==typeof module&&module.exports?module.exports=r(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],r):r(t.URI)}(this,function(t){"use strict";var r=t.prototype,e=r.fragment,n=r.build;t.fragmentPrefix="!";var i=t._parts;return t._parts=function(){var r=i();return r.fragmentPrefix=t.fragmentPrefix,r},r.fragmentPrefix=function(t){return this._parts.fragmentPrefix=t,this},r.fragment=function(r,n){var i,s=this._parts.fragmentPrefix,f=this._parts.fragment||"";return!0===r?(i=f.substring(0,s.length)!==s?t(""):new t(f.substring(s.length)),this._fragmentURI=i,i._parentURI=this,i):void 0!==r&&"string"!=typeof r?(this._fragmentURI=r,r._parentURI=r,this._parts.fragment=s+r.toString(),this.build(!n),this):("string"==typeof r&&(this._fragmentURI=void 0),e.call(this,r,n))},r.build=function(t){var r=n.call(this,t);return!1!==t&&this._parentURI&&this._parentURI.fragment(this),r},t});