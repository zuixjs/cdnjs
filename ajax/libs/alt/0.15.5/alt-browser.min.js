(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.Alt=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(j,i,k){var m={};var f=Object.create;var p=Object.defineProperties;var q=Object.defineProperty;var s=function(v){var e=arguments[1]===undefined?{}:arguments[1];return{value:v,configurable:!!e.c,writable:!!e.w,enumerable:!!e.e}};var t=function(e){return e&&e[l.toStringTag]==="Symbol"};var u=undefined;try{var r=q({},"y",{get:function(){return 1}});u=r.y===1}catch(o){u=false}var h={};var n=function(y){y=String(y);var v="";var w=0;while(h[y+v]){v=w+=1}h[y+v]=1;var e="Symbol("+y+""+v+")";if(u){q(Object.prototype,e,{get:undefined,set:function(x){q(this,e,s(x,{c:true,w:true}))},configurable:true,enumerable:false})}return e};var g=f(null);function l(v){if(this instanceof l){throw new TypeError("Symbol is not a constructor")}v=v===undefined?"":String(v);var e=n(v);if(!u){return e}return f(g,{__description__:s(v),__tag__:s(e)})}p(l,{"for":s(function(e){var w=String(e);if(m[w]){return m[w]}var v=l(w);m[w]=v;return v}),keyFor:s(function(e){if(!t(e)){throw new TypeError(""+e+" is not a symbol")}for(var v in m){if(m[v]===e){return m[v].__description__}}})});p(l,{hasInstance:s(l("hasInstance")),isConcatSpreadable:s(l("isConcatSpreadable")),iterator:s(l("iterator")),match:s(l("match")),replace:s(l("replace")),search:s(l("search")),species:s(l("species")),split:s(l("split")),toPrimitive:s(l("toPrimitive")),toStringTag:s(l("toStringTag")),unscopables:s(l("unscopables"))});p(g,{constructor:s(l),toString:s(function(){return this.__tag__}),valueOf:s(function(){return"Symbol("+this.__description__+")"})});if(u){q(g,l.toStringTag,s("Symbol",{c:true}))}i.exports=typeof Symbol==="function"?Symbol:l},{}],2:[function(h,g,i){function p(s,q,r){this.fn=s;this.context=q;this.once=r||false}function o(){}o.prototype._events=undefined;o.prototype.listeners=function l(t){if(!this._events||!this._events[t]){return[]}if(this._events[t].fn){return[this._events[t].fn]}for(var s=0,r=this._events[t].length,q=new Array(r);s<r;s++){q[s]=this._events[t][s].fn}return q};o.prototype.emit=function m(r,t,s,q,B,A){if(!this._events||!this._events[r]){return false}var z=this._events[r],x=arguments.length,y,w;if("function"===typeof z.fn){if(z.once){this.removeListener(r,z.fn,true)}switch(x){case 1:return z.fn.call(z.context),true;case 2:return z.fn.call(z.context,t),true;case 3:return z.fn.call(z.context,t,s),true;case 4:return z.fn.call(z.context,t,s,q),true;case 5:return z.fn.call(z.context,t,s,q,B),true;case 6:return z.fn.call(z.context,t,s,q,B,A),true}for(w=1,y=new Array(x-1);w<x;w++){y[w-1]=arguments[w]}z.fn.apply(z.context,y)}else{var u=z.length,v;for(w=0;w<u;w++){if(z[w].once){this.removeListener(r,z[w].fn,true)}switch(x){case 1:z[w].fn.call(z[w].context);break;case 2:z[w].fn.call(z[w].context,t);break;case 3:z[w].fn.call(z[w].context,t,s);break;default:if(!y){for(v=1,y=new Array(x-1);v<x;v++){y[v-1]=arguments[v]}}z[w].fn.apply(z[w].context,y)}}}return true};o.prototype.on=function k(s,r,q){var t=new p(r,q||this);if(!this._events){this._events={}}if(!this._events[s]){this._events[s]=t}else{if(!this._events[s].fn){this._events[s].push(t)}else{this._events[s]=[this._events[s],t]}}return this};o.prototype.once=function f(s,r,q){var t=new p(r,q||this,true);if(!this._events){this._events={}}if(!this._events[s]){this._events[s]=t}else{if(!this._events[s].fn){this._events[s].push(t)}else{this._events[s]=[this._events[s],t]}}return this};o.prototype.removeListener=function j(w,u,t){if(!this._events||!this._events[w]){return this}var s=this._events[w],r=[];if(u){if(s.fn&&(s.fn!==u||(t&&!s.once))){r.push(s)}if(!s.fn){for(var q=0,v=s.length;q<v;q++){if(s[q].fn!==u||(t&&!s[q].once)){r.push(s[q])}}}}if(r.length){this._events[w]=r.length===1?r[0]:r}else{delete this._events[w]}return this};o.prototype.removeAllListeners=function n(q){if(!this._events){return this}if(q){delete this._events[q]}else{this._events={}}return this};o.prototype.off=o.prototype.removeListener;o.prototype.addListener=o.prototype.on;o.prototype.setMaxListeners=function e(){return this};o.EventEmitter=o;o.EventEmitter2=o;o.EventEmitter3=o;g.exports=o},{}],3:[function(f,g,e){g.exports.Dispatcher=f("./lib/Dispatcher")},{"./lib/Dispatcher":4}],4:[function(j,k,i){var h=j("./invariant");var g=1;var e="ID_";function f(){this.$Dispatcher_callbacks={};this.$Dispatcher_isPending={};this.$Dispatcher_isHandled={};this.$Dispatcher_isDispatching=false;this.$Dispatcher_pendingPayload=null}f.prototype.register=function(m){var l=e+g++;this.$Dispatcher_callbacks[l]=m;return l};f.prototype.unregister=function(l){h(this.$Dispatcher_callbacks[l],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",l);delete this.$Dispatcher_callbacks[l]};f.prototype.waitFor=function(m){h(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var l=0;l<m.length;l++){var n=m[l];if(this.$Dispatcher_isPending[n]){h(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n);continue}h(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n);this.$Dispatcher_invokeCallback(n)}};f.prototype.dispatch=function(l){h(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this.$Dispatcher_startDispatching(l);try{for(var m in this.$Dispatcher_callbacks){if(this.$Dispatcher_isPending[m]){continue}this.$Dispatcher_invokeCallback(m)}}finally{this.$Dispatcher_stopDispatching()}};f.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching};f.prototype.$Dispatcher_invokeCallback=function(l){this.$Dispatcher_isPending[l]=true;this.$Dispatcher_callbacks[l](this.$Dispatcher_pendingPayload);this.$Dispatcher_isHandled[l]=true};f.prototype.$Dispatcher_startDispatching=function(l){for(var m in this.$Dispatcher_callbacks){this.$Dispatcher_isPending[m]=false;this.$Dispatcher_isHandled[m]=false}this.$Dispatcher_pendingPayload=l;this.$Dispatcher_isDispatching=true};f.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null;this.$Dispatcher_isDispatching=false};k.exports=f},{"./invariant":5}],5:[function(g,h,f){var e=function(i,s,r,q,p,n,l,k){if(false){if(s===undefined){throw new Error("invariant requires an error message argument")}}if(!i){var o;if(s===undefined){o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.")}else{var m=[r,q,p,n,l,k];var j=0;o=new Error("Invariant Violation: "+s.replace(/%s/g,function(){return m[j++]}))}o.framesToPop=1;throw o}};h.exports=e},{}],6:[function(f,g,e){function h(i){if(i==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(i)}g.exports=Object.assign||function(n,m){var p;var l;var o=h(n);for(var k=1;k<arguments.length;k++){p=arguments[k];l=Object.keys(Object(p));for(var j=0;j<l.length;j++){o[l[j]]=p[l[j]]}}return o}},{}],7:[function(j,g,R){var l=function(ac){return ac&&ac.__esModule?ac["default"]:ac};var X=function V(ad,ag,af){var ah=Object.getOwnPropertyDescriptor(ad,ag);if(ah===undefined){var ae=Object.getPrototypeOf(ad);if(ae===null){return undefined}else{return V(ae,ag,af)}}else{if("value" in ah&&ah.writable){return ah.value}else{var ac=ah.get;if(ac===undefined){return undefined}return ac.call(af)}}};var z=function(ad,ac){if(typeof ac!=="function"&&ac!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof ac)}ad.prototype=Object.create(ac&&ac.prototype,{constructor:{value:ad,enumerable:false,writable:true,configurable:true}});if(ac){ad.__proto__=ac}};var m=(function(){function ac(af,ae){for(var ad in ae){var ag=ae[ad];ag.configurable=true;if(ag.value){ag.writable=true}}Object.defineProperties(af,ae)}return function(af,ad,ae){if(ad){ac(af.prototype,ad)}if(ae){ac(af,ae)}return af}})();var L=function(ac,ad){if(!(ac instanceof ad)){throw new TypeError("Cannot call a class as a function")}};var W=j("flux").Dispatcher;var r=l(j("eventemitter3"));var K=l(j("es-symbol"));var U=l(j("object-assign"));var F=K("action creator handler");var i=K("holds the actions uid symbol for listening");var S=K("the actions uid name");var B=K("name of listeners");var J=K("event emitter instance");var s=K("init snapshot storage");var T=K("last snapshot storage");var P=K("store lifecycle listeners");var n=K("stores action listeners storage");var aa=K("store public method storage");var o=K();var I=K("the state container");var H={};function Z(ac){return ac.replace(/[a-z]([A-Z])/g,function(ad){return""+ad[0]+"_"+ad[1].toLowerCase()}).toUpperCase()}function k(ac,ad){var af=0;var ae=ad;while(Object.hasOwnProperty.call(ac,ae)){ae=ad+String(++af)}return ae}function u(ac,ae,ad){if(!ad){return}if(!ac.alt.dispatcher.isDispatching()){throw new Error("You can only use setState while dispatching")}if(typeof ad==="function"){U(ae[I],ad(ae[I]))}else{U(ae[I],ad)}ae[o]=true}function f(){}var E=Object.getOwnPropertyNames(f);var M=Object.getOwnPropertyNames(f.prototype);var N=function(ad,ac){return Object.getOwnPropertyNames(ad).reduce(function(af,ae){if(ac.indexOf(ae)!==-1){return af}af[ae]=ad[ae];return af},{})};var ab=(function(){function ah(al,ak,am,aj){var ai=this;L(this,ah);this[J]=new r();this[P]={};this[o]=false;this[I]=am||ak;this.boundListeners=ak[B];this.StoreModel=aj;if(typeof this.StoreModel==="object"){this.StoreModel.state=U({},aj.state)}U(this[P],ak[P]);U(this,ak[aa]);this.dispatchToken=al.register(function(ap){if(typeof ak.beforeEach==="function"){ak.beforeEach(ap.action.toString(),ap.data,ai[I])}if(ak[n][ap.action]){var an=false;try{an=ak[n][ap.action](ap.data)}catch(ao){if(ai[P].error){ai[P].error(ao,ap.action.toString(),ap.data,ai[I])}else{throw ao}}if(an!==false||ai[o]){ai.emitChange()}ai[o]=false}if(typeof ak.afterEach==="function"){ak.afterEach(ap.action.toString(),ap.data,ai[I])}});if(this[P].init){this[P].init()}}m(ah,{getEventEmitter:{value:function af(){return this[J]}},emitChange:{value:function ag(){this[J].emit("change",this[I])}},listen:{value:function ad(ai){this[J].on("change",ai)}},unlisten:{value:function ae(ai){this[J].removeListener("change",ai)}},getState:{value:function ac(){var ai=this[I];return Object.keys(ai).reduce(function(ak,aj){ak[aj]=ai[aj];return ak},{})}}});return ah})();var A=(function(){function ad(ag,ae,af,ah){L(this,ad);this[S]=ae;this[F]=af.bind(this);this.actions=ah;this.alt=ag}m(ad,{dispatch:{value:function ac(ae){this.alt.dispatch(this[S],ae)}}});return ad})();var O={on:function C(ad,ac){this[P][ad]=ac.bind(this)},bindAction:function w(ae,ad){if(!ae){throw new ReferenceError("Invalid action reference passed in")}if(typeof ad!=="function"){throw new TypeError("bindAction expects a function")}if(ad.length>1){throw new TypeError("Action handler in store "+this._storeName+" for "+(""+(ae[i]||ae).toString()+" was defined with 2 ")+"parameters. Only a single parameter is passed through the dispatcher, did you mean to pass in an Object instead?")}var ac=ae[i]?ae[i]:ae;this[n][ac]=ad.bind(this);this[B].push(K.keyFor(ac))},bindActions:function Y(ad){var ac=this;Object.keys(ad).forEach(function(ag){var af=ad[ag];var ai=/./;var ah=ag.replace(ai,function(aj){return"on"+aj[0].toUpperCase()});var ae=null;if(ac[ag]&&ac[ah]){throw new ReferenceError("You have multiple action handlers bound to an action: "+(""+ag+" and "+ah))}else{if(ac[ag]){ae=ac[ag]}else{if(ac[ah]){ae=ac[ah]}}}if(ae){ac.bindAction(af,ae)}})},bindListeners:function p(ad){var ac=this;Object.keys(ad).forEach(function(ae){var ag=ad[ae];var af=ac[ae];if(!af){throw new ReferenceError(""+ae+" defined but does not exist in "+ac._storeName)}if(Array.isArray(ag)){ag.forEach(function(ah){ac.bindAction(ah,af)})}else{ac.bindAction(ag,af)}})}};var D={waitFor:function G(ac){if(!ac){throw new ReferenceError("Dispatch tokens not provided")}if(arguments.length===1){ac=Array.isArray(ac)?ac:[ac]}else{ac=Array.prototype.slice.call(arguments)}var ad=ac.map(function(ae){return ae.dispatchToken||ae});this.dispatcher.waitFor(ad)},exportPublicMethods:function x(ad){var ac=this;Object.keys(ad).forEach(function(ae){if(typeof ad[ae]!=="function"){throw new TypeError("exportPublicMethods expects a function")}ac[aa][ae]=ad[ae]})},emitChange:function v(){this.getInstance().emitChange()}};var y=function(ac,ae,ad){var af=ac.deserialize(ae);Object.keys(af).forEach(function(ah){var ag=ac.stores[ah];if(ag){if(ag[P].deserialize){af[ah]=ag[P].deserialize(af[ah])||af[ah]}U(ag[I],af[ah]);ad(ag)}})};var t=function(ac){for(var af=arguments.length,ae=Array(af>1?af-1:0),ag=1;ag<af;ag++){ae[ag-1]=arguments[ag]}var ad=ae.length?ae:Object.keys(ac.stores);return ad.reduce(function(ak,aj){var ai=ac.stores[aj];if(ai[P].snapshot){ai[P].snapshot()}var ah=ai[P].serialize&&ai[P].serialize();ak[aj]=ah?ah:ai.getState();return ak},{})};var Q=function(ac,ae){var af=ac.stores[ae][I];var ad=ac.deserialize(ac[s]);ad[ae]=af;ac[s]=ac.serialize(ad);ac[T]=ac[s]};var q=function(ac,af,ae){var ad=ac.deserialize(af);var ag=ae.reduce(function(ai,ah){if(!ad[ah]){throw new ReferenceError(""+ah+" is not a valid store")}ai[ah]=ad[ah];return ai},{});return ac.serialize(ag)};var h=function(ai,ac,ad,ah){var ag=undefined;var af={};af[B]=[];af[P]={};af[n]={};U(af,{_storeName:ad,alt:ai,dispatcher:ai.dispatcher,getInstance:function ae(){return ag},setState:function aj(ak){u(this,ag,ak)}},O,D,ac);if(af.bindListeners){O.bindListeners.call(af,af.bindListeners)}if(af.lifecycle){Object.keys(af.lifecycle).forEach(function(ak){O.on.call(af,ak,af.lifecycle[ak])})}ag=U(new ab(ai.dispatcher,af,af.state,ac),af.publicMethods);if(ah){ai.stores[ad]=ag;Q(ai,ad)}return ag};var e=(function(){function aj(){var ar=arguments[0]===undefined?{}:arguments[0];L(this,aj);this.serialize=ar.serialize||JSON.stringify;this.deserialize=ar.deserialize||JSON.parse;this.dispatcher=ar.dispatcher||new W();this.actions={};this.stores={};this[T]=this[s]="{}"}m(aj,{dispatch:{value:function ak(at,ar){this.dispatcher.dispatch({action:at,data:ar})}},createStore:{value:function al(av,au){var ar=arguments[2]===undefined?true:arguments[2];var ay=undefined;var aA=au||av.name||av.displayName||"";if(ar&&(this.stores[aA]||!aA)){if(typeof console!=="undefined"){if(this.stores[aA]){console.warn(new ReferenceError("A store named "+aA+" already exists, double check your store names or pass in your own custom identifier for each store"))}else{console.warn(new ReferenceError("Store name was not specified"))}}aA=k(this.stores,aA)}if(typeof av==="object"){return h(this,av,aA,ar)}var ax=(function(aC){function aB(aD){L(this,aB);X(Object.getPrototypeOf(aB.prototype),"constructor",this).call(this,aD)}z(aB,aC);return aB})(av);U(ax.prototype,O,D,{_storeName:aA,alt:this,dispatcher:this.dispatcher,getInstance:function at(){return ay},setState:function aw(aB){u(this,ay,aB)}});ax.prototype[B]=[];ax.prototype[P]={};ax.prototype[n]={};ax.prototype[aa]={};var az=new ax(this);ay=U(new ab(this.dispatcher,az,null,av),N(av,E));if(ar){this.stores[aA]=ay;Q(this,aA)}return ay}},generateActions:{value:function am(){for(var ar=arguments.length,au=Array(ar),at=0;at<ar;at++){au[at]=arguments[at]}return this.createActions(function(){var av;(av=this).generateActions.apply(av,au)})}},createAction:{value:function an(au,at,ax){var ay=k(H,au);H[ay]=1;var ar=K["for"](ay);var aw=new A(this,ar,at,ax);var av=aw[F];av.defer=function(){for(var az=arguments.length,aA=Array(az),aB=0;aB<az;aB++){aA[aB]=arguments[aB]}setTimeout(function(){aw[F].apply(null,aA)})};av[i]=ar;return av}},createActions:{value:function ag(aw){var ar=this;var au=arguments[1]===undefined?{}:arguments[1];var av={};var at=aw.name||aw.displayName||"";if(typeof aw==="function"){(function(){U(av,N(aw.prototype,M));var ax=(function(aA){function ay(aB){L(this,ay);X(Object.getPrototypeOf(ay.prototype),"constructor",this).call(this,aB)}z(ay,aA);m(ay,{generateActions:{value:function az(){for(var aB=arguments.length,aD=Array(aB),aC=0;aC<aB;aC++){aD[aC]=arguments[aC]}aD.forEach(function(aE){av[aE]=function(aG){for(var aF=arguments.length,aH=Array(aF>1?aF-1:0),aI=1;aI<aF;aI++){aH[aI-1]=arguments[aI]}this.dispatch(aH.length?[aG].concat(aH):aG)}})}}});return ay})(aw);new ax(ar)})()}else{U(av,aw)}return Object.keys(av).reduce(function(az,ay){az[ay]=ar.createAction(""+at+"#"+ay,av[ay],az);var ax=Z(ay);az[ax]=az[ay][i];return az},au)}},takeSnapshot:{value:function ao(){for(var at=arguments.length,ar=Array(at),au=0;au<at;au++){ar[au]=arguments[au]}var av=t.apply(undefined,[this].concat(ar));this[T]=this.serialize(U(this.deserialize(this[T]),av));return this.serialize(av)}},rollback:{value:function ap(){y(this,this[T],function(ar){if(ar[P].rollback){ar[P].rollback()}ar.emitChange()})}},recycle:{value:function af(){for(var au=arguments.length,at=Array(au),av=0;av<au;av++){at[av]=arguments[av]}var ar=at.length?q(this,this[s],at):this[s];y(this,ar,function(aw){if(aw[P].init){aw[P].init()}aw.emitChange()})}},flush:{value:function aq(){var ar=this.serialize(t(this));this.recycle();return ar}},bootstrap:{value:function ah(ar){y(this,ar,function(at){if(at[P].bootstrap){at[P].bootstrap()}at.emitChange()})}},addActions:{value:function ae(ar,at){this.actions[ar]=Array.isArray(at)?this.generateActions.apply(this,at):this.createActions(at)}},addStore:{value:function ad(at,ar,au){this.createStore(ar,at,au)}},getActions:{value:function ac(ar){return this.actions[ar]}},getStore:{value:function ai(ar){return this.stores[ar]}}});return aj})();g.exports=e},{"es-symbol":1,eventemitter3:2,flux:3,"object-assign":6}]},{},[7])(7)});