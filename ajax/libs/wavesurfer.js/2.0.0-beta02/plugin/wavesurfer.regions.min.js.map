{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*","webpack:///wavesurfer.regions.min.js","webpack:///webpack/bootstrap eef2a76fa4bb7fc480b0?32f9*","webpack:///./src/plugin/regions.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","4","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Region","params","ws","wavesurfer","wrapper","drawer","style","util","id","getId","start","Number","end","scrollWidth","getDuration","resize","undefined","Boolean","drag","loop","color","data","attributes","maxLength","minLength","bindInOut","render","onZoom","updateRender","bind","on","fireEvent","element","removeChild","un","play","_this","once","playLoop","regionEl","document","createElement","className","title","formatTime","setAttribute","attrname","position","zIndex","height","top","handleLeft","appendChild","handleRight","css","cursor","left","width","maxWidth","bindEvents","map","time","Math","floor","slice","join","pixelRatio","dur","getWidth","max","min","round","regionWidth","backgroundColor","_this2","firedIn","firedOut","onProcess","backend","_this3","addEventListener","e","preventDefault","stopPropagation","duration","startTime","touchId","onDown","touches","targetTouches","identifier","handleEvent","tagName","toLowerCase","classList","contains","onUp","onMove","delta","onDrag","onResize","body","removeEventListener","maxEnd","update","direction","RegionsPlugin","_this4","getOwnPropertyNames","Observer","forEach","list","_onReady","regions","region","add","dragSelection","enableDragSelection","deferInit","initRegions","console","warn","initPlugin","addRegion","options","initialisedPluginList","clearRegions","clear","disableDragSelection","isReady","_this5","_this6","keys","remove","_this7","slop","pxMove","eventDown","eventUp","eventMove","_this8","getCurrentTime","cur","default"],"mappings":"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","file":"wavesurfer.regions.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"regions\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"regions\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = root[\"WaveSurfer\"] || {}, root[\"WaveSurfer\"][\"regions\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"regions\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"regions\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = root[\"WaveSurfer\"] || {}, root[\"WaveSurfer\"][\"regions\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"localhost:8080/dist/plugin/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * (Single) Region plugin class\n *\n * Must be turned into an observer before instantiating. This is done in\n * RegionsPlugin (main plugin class)\n *\n * @extends {Observer}\n */\nvar Region = function () {\n    function Region(params, ws) {\n        _classCallCheck(this, Region);\n\n        this.wavesurfer = ws;\n        this.wrapper = ws.drawer.wrapper;\n        this.style = ws.util.style;\n\n        this.id = params.id == null ? ws.util.getId() : params.id;\n        this.start = Number(params.start) || 0;\n        this.end = params.end == null ?\n        // small marker-like region\n        this.start + 4 / this.wrapper.scrollWidth * this.wavesurfer.getDuration() : Number(params.end);\n        this.resize = params.resize === undefined ? true : Boolean(params.resize);\n        this.drag = params.drag === undefined ? true : Boolean(params.drag);\n        this.loop = Boolean(params.loop);\n        this.color = params.color || 'rgba(0, 0, 0, 0.1)';\n        this.data = params.data || {};\n        this.attributes = params.attributes || {};\n\n        this.maxLength = params.maxLength;\n        this.minLength = params.minLength;\n\n        this.bindInOut();\n        this.render();\n        this.onZoom = this.updateRender.bind(this);\n        this.wavesurfer.on('zoom', this.onZoom);\n        this.wavesurfer.fireEvent('region-created', this);\n    }\n\n    /* Update region params. */\n\n\n    _createClass(Region, [{\n        key: 'update',\n        value: function update(params) {\n            if (null != params.start) {\n                this.start = Number(params.start);\n            }\n            if (null != params.end) {\n                this.end = Number(params.end);\n            }\n            if (null != params.loop) {\n                this.loop = Boolean(params.loop);\n            }\n            if (null != params.color) {\n                this.color = params.color;\n            }\n            if (null != params.data) {\n                this.data = params.data;\n            }\n            if (null != params.resize) {\n                this.resize = Boolean(params.resize);\n            }\n            if (null != params.drag) {\n                this.drag = Boolean(params.drag);\n            }\n            if (null != params.maxLength) {\n                this.maxLength = Number(params.maxLength);\n            }\n            if (null != params.minLength) {\n                this.minLength = Number(params.minLength);\n            }\n            if (null != params.attributes) {\n                this.attributes = params.attributes;\n            }\n\n            this.updateRender();\n            this.fireEvent('update');\n            this.wavesurfer.fireEvent('region-updated', this);\n        }\n\n        /* Remove a single region. */\n\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.element) {\n                this.wrapper.removeChild(this.element);\n                this.element = null;\n                this.fireEvent('remove');\n                this.wavesurfer.un('zoom', this.onZoom);\n                this.wavesurfer.fireEvent('region-removed', this);\n            }\n        }\n\n        /* Play the audio region. */\n\n    }, {\n        key: 'play',\n        value: function play() {\n            this.wavesurfer.play(this.start, this.end);\n            this.fireEvent('play');\n            this.wavesurfer.fireEvent('region-play', this);\n        }\n\n        /* Play the region in loop. */\n\n    }, {\n        key: 'playLoop',\n        value: function playLoop() {\n            var _this = this;\n\n            this.play();\n            this.once('out', function () {\n                return _this.playLoop();\n            });\n        }\n\n        /* Render a region as a DOM element. */\n\n    }, {\n        key: 'render',\n        value: function render() {\n            var regionEl = document.createElement('region');\n            regionEl.className = 'wavesurfer-region';\n            regionEl.title = this.formatTime(this.start, this.end);\n            regionEl.setAttribute('data-id', this.id);\n\n            for (var attrname in this.attributes) {\n                regionEl.setAttribute('data-region-' + attrname, this.attributes[attrname]);\n            }\n\n            var width = this.wrapper.scrollWidth;\n            this.style(regionEl, {\n                position: 'absolute',\n                zIndex: 2,\n                height: '100%',\n                top: '0px'\n            });\n\n            /* Resize handles */\n            if (this.resize) {\n                var handleLeft = regionEl.appendChild(document.createElement('handle'));\n                var handleRight = regionEl.appendChild(document.createElement('handle'));\n                handleLeft.className = 'wavesurfer-handle wavesurfer-handle-start';\n                handleRight.className = 'wavesurfer-handle wavesurfer-handle-end';\n                var css = {\n                    cursor: 'col-resize',\n                    position: 'absolute',\n                    left: '0px',\n                    top: '0px',\n                    width: '1%',\n                    maxWidth: '4px',\n                    height: '100%'\n                };\n                this.style(handleLeft, css);\n                this.style(handleRight, css);\n                this.style(handleRight, {\n                    left: '100%'\n                });\n            }\n\n            this.element = this.wrapper.appendChild(regionEl);\n            this.updateRender();\n            this.bindEvents(regionEl);\n        }\n    }, {\n        key: 'formatTime',\n        value: function formatTime(start, end) {\n            return (start == end ? [start] : [start, end]).map(function (time) {\n                return [Math.floor(time % 3600 / 60), // minutes\n                ('00' + Math.floor(time % 60)).slice(-2) // seconds\n                ].join(':');\n            }).join('-');\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;\n        }\n\n        /* Update element's position, width, color. */\n\n    }, {\n        key: 'updateRender',\n        value: function updateRender() {\n            var dur = this.wavesurfer.getDuration();\n            var width = this.getWidth();\n\n            if (this.start < 0) {\n                this.start = 0;\n                this.end = this.end - this.start;\n            }\n            if (this.end > dur) {\n                this.end = dur;\n                this.start = dur - (this.end - this.start);\n            }\n\n            if (this.minLength != null) {\n                this.end = Math.max(this.start + this.minLength, this.end);\n            }\n\n            if (this.maxLength != null) {\n                this.end = Math.min(this.start + this.maxLength, this.end);\n            }\n\n            if (this.element != null) {\n                // Calculate the left and width values of the region such that\n                // no gaps appear between regions.\n                var left = Math.round(this.start / dur * width);\n                var regionWidth = Math.round(this.end / dur * width) - left;\n\n                this.style(this.element, {\n                    left: left + 'px',\n                    width: regionWidth + 'px',\n                    backgroundColor: this.color,\n                    cursor: this.drag ? 'move' : 'default'\n                });\n\n                for (var attrname in this.attributes) {\n                    this.element.setAttribute('data-region-' + attrname, this.attributes[attrname]);\n                }\n\n                this.element.title = this.formatTime(this.start, this.end);\n            }\n        }\n\n        /* Bind audio events. */\n\n    }, {\n        key: 'bindInOut',\n        value: function bindInOut() {\n            var _this2 = this;\n\n            this.firedIn = false;\n            this.firedOut = false;\n\n            var onProcess = function onProcess(time) {\n                if (!_this2.firedOut && _this2.firedIn && (_this2.start >= Math.round(time * 100) / 100 || _this2.end <= Math.round(time * 100) / 100)) {\n                    _this2.firedOut = true;\n                    _this2.firedIn = false;\n                    _this2.fireEvent('out');\n                    _this2.wavesurfer.fireEvent('region-out', _this2);\n                }\n                if (!_this2.firedIn && _this2.start <= time && _this2.end > time) {\n                    _this2.firedIn = true;\n                    _this2.firedOut = false;\n                    _this2.fireEvent('in');\n                    _this2.wavesurfer.fireEvent('region-in', _this2);\n                }\n            };\n\n            this.wavesurfer.backend.on('audioprocess', onProcess);\n\n            this.on('remove', function () {\n                _this2.wavesurfer.backend.un('audioprocess', onProcess);\n            });\n\n            /* Loop playback. */\n            this.on('out', function () {\n                if (_this2.loop) {\n                    _this2.wavesurfer.play(_this2.start);\n                }\n            });\n        }\n\n        /* Bind DOM events. */\n\n    }, {\n        key: 'bindEvents',\n        value: function bindEvents() {\n            var _this3 = this;\n\n            this.element.addEventListener('mouseenter', function (e) {\n                _this3.fireEvent('mouseenter', e);\n                _this3.wavesurfer.fireEvent('region-mouseenter', _this3, e);\n            });\n\n            this.element.addEventListener('mouseleave', function (e) {\n                _this3.fireEvent('mouseleave', e);\n                _this3.wavesurfer.fireEvent('region-mouseleave', _this3, e);\n            });\n\n            this.element.addEventListener('click', function (e) {\n                e.preventDefault();\n                _this3.fireEvent('click', e);\n                _this3.wavesurfer.fireEvent('region-click', _this3, e);\n            });\n\n            this.element.addEventListener('dblclick', function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                _this3.fireEvent('dblclick', e);\n                _this3.wavesurfer.fireEvent('region-dblclick', _this3, e);\n            });\n\n            /* Drag or resize on mousemove. */\n            (this.drag || this.resize) && function () {\n                var duration = _this3.wavesurfer.getDuration();\n                var startTime = void 0;\n                var touchId = void 0;\n                var drag = void 0;\n                var resize = void 0;\n\n                var onDown = function onDown(e) {\n                    if (e.touches && e.touches.length > 1) {\n                        return;\n                    }\n                    touchId = e.targetTouches ? e.targetTouches[0].identifier : null;\n\n                    e.stopPropagation();\n                    startTime = _this3.wavesurfer.drawer.handleEvent(e, true) * duration;\n\n                    if (e.target.tagName.toLowerCase() == 'handle') {\n                        if (e.target.classList.contains('wavesurfer-handle-start')) {\n                            resize = 'start';\n                        } else {\n                            resize = 'end';\n                        }\n                    } else {\n                        drag = true;\n                        resize = false;\n                    }\n                };\n                var onUp = function onUp(e) {\n                    if (e.touches && e.touches.length > 1) {\n                        return;\n                    }\n\n                    if (drag || resize) {\n                        drag = false;\n                        resize = false;\n\n                        _this3.fireEvent('update-end', e);\n                        _this3.wavesurfer.fireEvent('region-update-end', _this3, e);\n                    }\n                };\n                var onMove = function onMove(e) {\n                    if (e.touches && e.touches.length > 1) {\n                        return;\n                    }\n                    if (e.targetTouches && e.targetTouches[0].identifier != touchId) {\n                        return;\n                    }\n\n                    if (drag || resize) {\n                        var time = _this3.wavesurfer.drawer.handleEvent(e) * duration;\n                        var delta = time - startTime;\n                        startTime = time;\n\n                        // Drag\n                        if (_this3.drag && drag) {\n                            _this3.onDrag(delta);\n                        }\n\n                        // Resize\n                        if (_this3.resize && resize) {\n                            _this3.onResize(delta, resize);\n                        }\n                    }\n                };\n\n                _this3.element.addEventListener('mousedown', onDown);\n                _this3.element.addEventListener('touchstart', onDown);\n\n                _this3.wrapper.addEventListener('mousemove', onMove);\n                _this3.wrapper.addEventListener('touchmove', onMove);\n\n                document.body.addEventListener('mouseup', onUp);\n                document.body.addEventListener('touchend', onUp);\n\n                _this3.on('remove', function () {\n                    document.body.removeEventListener('mouseup', onUp);\n                    document.body.removeEventListener('touchend', onUp);\n                    _this3.wrapper.removeEventListener('mousemove', onMove);\n                    _this3.wrapper.removeEventListener('touchmove', onMove);\n                });\n\n                _this3.wavesurfer.on('destroy', function () {\n                    document.body.removeEventListener('mouseup', onUp);\n                    document.body.removeEventListener('touchend', onUp);\n                });\n            }();\n        }\n    }, {\n        key: 'onDrag',\n        value: function onDrag(delta) {\n            var maxEnd = this.wavesurfer.getDuration();\n            if (this.end + delta > maxEnd || this.start + delta < 0) {\n                return;\n            }\n\n            this.update({\n                start: this.start + delta,\n                end: this.end + delta\n            });\n        }\n    }, {\n        key: 'onResize',\n        value: function onResize(delta, direction) {\n            if (direction == 'start') {\n                this.update({\n                    start: Math.min(this.start + delta, this.end),\n                    end: Math.max(this.start + delta, this.end)\n                });\n            } else {\n                this.update({\n                    start: Math.min(this.end + delta, this.start),\n                    end: Math.max(this.end + delta, this.start)\n                });\n            }\n        }\n    }]);\n\n    return Region;\n}();\n\n/**\n * @typedef {Object} RegionsPluginParams\n * @property {?boolean} dragSelection Enable creating regions by dragging wih\n * the mouse\n * @property {?RegionParams[]} regions Regions that should be added upon\n * initialisation\n * @property {number} slop=2 The sensitivity of the mouse dragging\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('regions')`\n */\n\n/**\n * @typedef {Object} RegionParams\n * @desc The parameters used to describe a region.\n * @example wavesurfer.addRegion(regionParams);\n * @property {string} id=â†’random The id of the region\n * @property {number} start=0 The start position of the region (in seconds).\n * @property {number} end=0 The end position of the region (in seconds).\n * @property {?boolean} loop Whether to loop the region when played back.\n * @property {boolean} drag=true Allow/dissallow dragging the region.\n * @property {boolean} resize=true Allow/dissallow resizing the region.\n * @property {string} [color='rgba(0, 0, 0, 0.1)'] HTML color code.\n */\n\n/**\n * Regions are visual overlays on waveform that can be used to play and loop\n * portions of audio. Regions can be dragged and resized.\n *\n * Visual customization is possible via CSS (using the selectors\n * `.wavesurfer-region` and `.wavesurfer-handle`).\n *\n * @implements {PluginClass}\n * @extends {Observer}\n *\n * @example\n * // es6\n * import RegionsPlugin from 'wavesurfer.regions.js';\n *\n * // commonjs\n * var RegionsPlugin = require('wavesurfer.regions.js');\n *\n * // if you are using <script> tags\n * var RegionsPlugin = window.WaveSurfer.regions;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     RegionsPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\n\n\nvar RegionsPlugin = function () {\n    _createClass(RegionsPlugin, null, [{\n        key: 'create',\n\n        /**\n         * Regions plugin definition factory\n         *\n         * This function must be used to create a plugin definition which can be\n         * used by wavesurfer to correctly instantiate the plugin.\n         *\n         * @param {RegionsPluginParams} params parameters use to initialise the plugin\n         * @return {PluginDefinition} an object representing the plugin\n         */\n        value: function create(params) {\n            return {\n                name: 'regions',\n                deferInit: params && params.deferInit ? params.deferInit : false,\n                params: params,\n                staticProps: {\n                    initRegions: function initRegions() {\n                        console.warn('Deprecated initRegions! Use wavesurfer.initPlugins(\"regions\") instead!');\n                        this.initPlugin('regions');\n                    },\n                    addRegion: function addRegion(options) {\n                        if (!this.initialisedPluginList.regions) {\n                            this.initPlugin('regions');\n                        }\n                        return this.regions.add(options);\n                    },\n                    clearRegions: function clearRegions() {\n                        this.regions && this.regions.clear();\n                    },\n                    enableDragSelection: function enableDragSelection(options) {\n                        if (!this.initialisedPluginList.regions) {\n                            this.initPlugin('regions');\n                        }\n                        this.regions.enableDragSelection(options);\n                    },\n                    disableDragSelection: function disableDragSelection() {\n                        this.regions.disableDragSelection();\n                    }\n                },\n                instance: RegionsPlugin\n            };\n        }\n    }]);\n\n    function RegionsPlugin(params, ws) {\n        var _this4 = this;\n\n        _classCallCheck(this, RegionsPlugin);\n\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = ws.util;\n\n        // turn the plugin instance into an observer\n        var observerPrototypeKeys = Object.getOwnPropertyNames(this.util.Observer.prototype);\n        observerPrototypeKeys.forEach(function (key) {\n            Region.prototype[key] = _this4.util.Observer.prototype[key];\n        });\n        this.wavesurfer.Region = Region;\n\n        // Id-based hash of regions.\n        this.list = {};\n        this._onReady = function () {\n            _this4.wrapper = _this4.wavesurfer.drawer.wrapper;\n            if (_this4.params.regions) {\n                _this4.params.regions.forEach(function (region) {\n                    _this4.add(region);\n                });\n            }\n            if (_this4.params.dragSelection) {\n                _this4.enableDragSelection(_this4.params);\n            }\n        };\n    }\n\n    _createClass(RegionsPlugin, [{\n        key: 'init',\n        value: function init() {\n            // Check if ws is ready\n            if (this.wavesurfer.isReady) {\n                this._onReady();\n            }\n            this.wavesurfer.on('ready', this._onReady);\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.wavesurfer.un('ready', this._onReady);\n            this.disableDragSelection();\n            this.clear();\n        }\n        /* Add a region. */\n\n    }, {\n        key: 'add',\n        value: function add(params) {\n            var _this5 = this;\n\n            var region = new this.wavesurfer.Region(params, this.wavesurfer);\n\n            this.list[region.id] = region;\n\n            region.on('remove', function () {\n                delete _this5.list[region.id];\n            });\n\n            return region;\n        }\n\n        /* Remove all regions. */\n\n    }, {\n        key: 'clear',\n        value: function clear() {\n            var _this6 = this;\n\n            Object.keys(this.list).forEach(function (id) {\n                _this6.list[id].remove();\n            });\n        }\n    }, {\n        key: 'enableDragSelection',\n        value: function enableDragSelection(params) {\n            var _this7 = this;\n\n            var slop = params.slop || 2;\n            var drag = void 0;\n            var start = void 0;\n            var region = void 0;\n            var touchId = void 0;\n            var pxMove = 0;\n\n            var eventDown = function eventDown(e) {\n                if (e.touches && e.touches.length > 1) {\n                    return;\n                }\n                touchId = e.targetTouches ? e.targetTouches[0].identifier : null;\n\n                drag = true;\n                start = _this7.wavesurfer.drawer.handleEvent(e, true);\n                region = null;\n            };\n            this.wrapper.addEventListener('mousedown', eventDown);\n            this.wrapper.addEventListener('touchstart', eventDown);\n            this.on('disable-drag-selection', function () {\n                _this7.wrapper.removeEventListener('touchstart', eventDown);\n                _this7.wrapper.removeEventListener('mousedown', eventDown);\n            });\n\n            var eventUp = function eventUp(e) {\n                if (e.touches && e.touches.length > 1) {\n                    return;\n                }\n\n                drag = false;\n                pxMove = 0;\n\n                if (region) {\n                    region.fireEvent('update-end', e);\n                    _this7.wavesurfer.fireEvent('region-update-end', region, e);\n                }\n\n                region = null;\n            };\n            this.wrapper.addEventListener('mouseup', eventUp);\n            this.wrapper.addEventListener('touchend', eventUp);\n            this.on('disable-drag-selection', function () {\n                _this7.wrapper.removeEventListener('touchend', eventUp);\n                _this7.wrapper.removeEventListener('mouseup', eventUp);\n            });\n\n            var eventMove = function eventMove(e) {\n                if (!drag) {\n                    return;\n                }\n                if (++pxMove <= slop) {\n                    return;\n                }\n\n                if (e.touches && e.touches.length > 1) {\n                    return;\n                }\n                if (e.targetTouches && e.targetTouches[0].identifier != touchId) {\n                    return;\n                }\n\n                if (!region) {\n                    region = _this7.add(params || {});\n                }\n\n                var duration = _this7.wavesurfer.getDuration();\n                var end = _this7.wavesurfer.drawer.handleEvent(e);\n                region.update({\n                    start: Math.min(end * duration, start * duration),\n                    end: Math.max(end * duration, start * duration)\n                });\n            };\n            this.wrapper.addEventListener('mousemove', eventMove);\n            this.wrapper.addEventListener('touchmove', eventMove);\n            this.on('disable-drag-selection', function () {\n                _this7.wrapper.removeEventListener('touchmove', eventMove);\n                _this7.wrapper.removeEventListener('mousemove', eventMove);\n            });\n        }\n    }, {\n        key: 'disableDragSelection',\n        value: function disableDragSelection() {\n            this.fireEvent('disable-drag-selection');\n        }\n\n        /* Get current region\n         *  The smallest region that contains the current time.\n         *  If several such regions exist, we take the first.\n         *  Return null if none exist. */\n\n    }, {\n        key: 'getCurrentRegion',\n        value: function getCurrentRegion() {\n            var _this8 = this;\n\n            var time = this.wavesurfer.getCurrentTime();\n            var min = null;\n            Object.keys(this.list).forEach(function (id) {\n                var cur = _this8.list[id];\n                if (cur.start <= time && cur.end >= time) {\n                    if (!min || cur.end - cur.start < min.end - min.start) {\n                        min = cur;\n                    }\n                }\n            });\n\n            return min;\n        }\n    }]);\n\n    return RegionsPlugin;\n}();\n\nexports.default = RegionsPlugin;\nmodule.exports = exports['default'];\n\n/***/ })\n\n/******/ });\n});\n\n\n// WEBPACK FOOTER //\n// wavesurfer.regions.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"localhost:8080/dist/plugin/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap eef2a76fa4bb7fc480b0","/**\n * (Single) Region plugin class\n *\n * Must be turned into an observer before instantiating. This is done in\n * RegionsPlugin (main plugin class)\n *\n * @extends {Observer}\n */\nclass Region {\n    constructor(params, ws) {\n        this.wavesurfer = ws;\n        this.wrapper = ws.drawer.wrapper;\n        this.style = ws.util.style;\n\n        this.id = params.id == null ? ws.util.getId() : params.id;\n        this.start = Number(params.start) || 0;\n        this.end = params.end == null ?\n            // small marker-like region\n            this.start + (4 / this.wrapper.scrollWidth) * this.wavesurfer.getDuration() :\n            Number(params.end);\n        this.resize = params.resize === undefined ? true : Boolean(params.resize);\n        this.drag = params.drag === undefined ? true : Boolean(params.drag);\n        this.loop = Boolean(params.loop);\n        this.color = params.color || 'rgba(0, 0, 0, 0.1)';\n        this.data = params.data || {};\n        this.attributes = params.attributes || {};\n\n        this.maxLength = params.maxLength;\n        this.minLength = params.minLength;\n\n        this.bindInOut();\n        this.render();\n        this.onZoom = this.updateRender.bind(this);\n        this.wavesurfer.on('zoom', this.onZoom);\n        this.wavesurfer.fireEvent('region-created', this);\n\n    }\n\n    /* Update region params. */\n    update(params) {\n        if (null != params.start) {\n            this.start = Number(params.start);\n        }\n        if (null != params.end) {\n            this.end = Number(params.end);\n        }\n        if (null != params.loop) {\n            this.loop = Boolean(params.loop);\n        }\n        if (null != params.color) {\n            this.color = params.color;\n        }\n        if (null != params.data) {\n            this.data = params.data;\n        }\n        if (null != params.resize) {\n            this.resize = Boolean(params.resize);\n        }\n        if (null != params.drag) {\n            this.drag = Boolean(params.drag);\n        }\n        if (null != params.maxLength) {\n            this.maxLength = Number(params.maxLength);\n        }\n        if (null != params.minLength) {\n            this.minLength = Number(params.minLength);\n        }\n        if (null != params.attributes) {\n            this.attributes = params.attributes;\n        }\n\n        this.updateRender();\n        this.fireEvent('update');\n        this.wavesurfer.fireEvent('region-updated', this);\n    }\n\n    /* Remove a single region. */\n    remove() {\n        if (this.element) {\n            this.wrapper.removeChild(this.element);\n            this.element = null;\n            this.fireEvent('remove');\n            this.wavesurfer.un('zoom', this.onZoom);\n            this.wavesurfer.fireEvent('region-removed', this);\n        }\n    }\n\n    /* Play the audio region. */\n    play() {\n        this.wavesurfer.play(this.start, this.end);\n        this.fireEvent('play');\n        this.wavesurfer.fireEvent('region-play', this);\n    }\n\n    /* Play the region in loop. */\n    playLoop() {\n        this.play();\n        this.once('out', () => this.playLoop());\n    }\n\n    /* Render a region as a DOM element. */\n    render() {\n        const regionEl = document.createElement('region');\n        regionEl.className = 'wavesurfer-region';\n        regionEl.title = this.formatTime(this.start, this.end);\n        regionEl.setAttribute('data-id', this.id);\n\n        for (const attrname in this.attributes) {\n            regionEl.setAttribute('data-region-' + attrname, this.attributes[attrname]);\n        }\n\n        const width = this.wrapper.scrollWidth;\n        this.style(regionEl, {\n            position: 'absolute',\n            zIndex: 2,\n            height: '100%',\n            top: '0px'\n        });\n\n        /* Resize handles */\n        if (this.resize) {\n            const handleLeft = regionEl.appendChild(document.createElement('handle'));\n            const handleRight = regionEl.appendChild(document.createElement('handle'));\n            handleLeft.className = 'wavesurfer-handle wavesurfer-handle-start';\n            handleRight.className = 'wavesurfer-handle wavesurfer-handle-end';\n            const css = {\n                cursor: 'col-resize',\n                position: 'absolute',\n                left: '0px',\n                top: '0px',\n                width: '1%',\n                maxWidth: '4px',\n                height: '100%'\n            };\n            this.style(handleLeft, css);\n            this.style(handleRight, css);\n            this.style(handleRight, {\n                left: '100%'\n            });\n        }\n\n        this.element = this.wrapper.appendChild(regionEl);\n        this.updateRender();\n        this.bindEvents(regionEl);\n    }\n\n    formatTime(start, end) {\n        return (start == end ? [start] : [start, end]).map(time => [\n            Math.floor((time % 3600) / 60), // minutes\n            ('00' + Math.floor(time % 60)).slice(-2) // seconds\n        ].join(':')).join('-');\n    }\n\n    getWidth() {\n        return this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;\n    }\n\n    /* Update element's position, width, color. */\n    updateRender() {\n        const dur = this.wavesurfer.getDuration();\n        const width = this.getWidth();\n\n        if (this.start < 0) {\n            this.start = 0;\n            this.end = this.end - this.start;\n        }\n        if (this.end > dur) {\n            this.end = dur;\n            this.start = dur - (this.end - this.start);\n        }\n\n        if (this.minLength != null) {\n            this.end = Math.max(this.start + this.minLength, this.end);\n        }\n\n        if (this.maxLength != null) {\n            this.end = Math.min(this.start + this.maxLength, this.end);\n        }\n\n        if (this.element != null) {\n            // Calculate the left and width values of the region such that\n            // no gaps appear between regions.\n            const left = Math.round(this.start / dur * width);\n            const regionWidth =\n                Math.round(this.end / dur * width) - left;\n\n            this.style(this.element, {\n                left: left + 'px',\n                width: regionWidth + 'px',\n                backgroundColor: this.color,\n                cursor: this.drag ? 'move' : 'default'\n            });\n\n            for (const attrname in this.attributes) {\n                this.element.setAttribute('data-region-' + attrname, this.attributes[attrname]);\n            }\n\n            this.element.title = this.formatTime(this.start, this.end);\n        }\n    }\n\n    /* Bind audio events. */\n    bindInOut() {\n        this.firedIn = false;\n        this.firedOut = false;\n\n        const onProcess = time => {\n            if (!this.firedOut && this.firedIn && (this.start >= Math.round(time * 100) / 100 || this.end <= Math.round(time * 100) / 100)) {\n                this.firedOut = true;\n                this.firedIn = false;\n                this.fireEvent('out');\n                this.wavesurfer.fireEvent('region-out', this);\n            }\n            if (!this.firedIn && this.start <= time && this.end > time) {\n                this.firedIn = true;\n                this.firedOut = false;\n                this.fireEvent('in');\n                this.wavesurfer.fireEvent('region-in', this);\n            }\n        };\n\n        this.wavesurfer.backend.on('audioprocess', onProcess);\n\n        this.on('remove', () => {\n            this.wavesurfer.backend.un('audioprocess', onProcess);\n        });\n\n        /* Loop playback. */\n        this.on('out', () => {\n            if (this.loop) {\n                this.wavesurfer.play(this.start);\n            }\n        });\n    }\n\n    /* Bind DOM events. */\n    bindEvents() {\n        this.element.addEventListener('mouseenter', e => {\n            this.fireEvent('mouseenter', e);\n            this.wavesurfer.fireEvent('region-mouseenter', this, e);\n        });\n\n        this.element.addEventListener('mouseleave', e => {\n            this.fireEvent('mouseleave', e);\n            this.wavesurfer.fireEvent('region-mouseleave', this, e);\n        });\n\n        this.element.addEventListener('click', e => {\n            e.preventDefault();\n            this.fireEvent('click', e);\n            this.wavesurfer.fireEvent('region-click', this, e);\n        });\n\n        this.element.addEventListener('dblclick', e => {\n            e.stopPropagation();\n            e.preventDefault();\n            this.fireEvent('dblclick', e);\n            this.wavesurfer.fireEvent('region-dblclick', this, e);\n        });\n\n        /* Drag or resize on mousemove. */\n        (this.drag || this.resize) && (() => {\n            const duration = this.wavesurfer.getDuration();\n            let startTime;\n            let touchId;\n            let drag;\n            let resize;\n\n            const onDown = e => {\n                if (e.touches && e.touches.length > 1) { return; }\n                touchId = e.targetTouches ? e.targetTouches[0].identifier : null;\n\n                e.stopPropagation();\n                startTime = this.wavesurfer.drawer.handleEvent(e, true) * duration;\n\n                if (e.target.tagName.toLowerCase() == 'handle') {\n                    if (e.target.classList.contains('wavesurfer-handle-start')) {\n                        resize = 'start';\n                    } else {\n                        resize = 'end';\n                    }\n                } else {\n                    drag = true;\n                    resize = false;\n                }\n            };\n            const onUp = e => {\n                if (e.touches && e.touches.length > 1) { return; }\n\n                if (drag || resize) {\n                    drag = false;\n                    resize = false;\n\n                    this.fireEvent('update-end', e);\n                    this.wavesurfer.fireEvent('region-update-end', this, e);\n                }\n            };\n            const onMove = e => {\n                if (e.touches && e.touches.length > 1) { return; }\n                if (e.targetTouches && e.targetTouches[0].identifier != touchId) { return; }\n\n                if (drag || resize) {\n                    const time = this.wavesurfer.drawer.handleEvent(e) * duration;\n                    const delta = time - startTime;\n                    startTime = time;\n\n                    // Drag\n                    if (this.drag && drag) {\n                        this.onDrag(delta);\n                    }\n\n                    // Resize\n                    if (this.resize && resize) {\n                        this.onResize(delta, resize);\n                    }\n                }\n            };\n\n            this.element.addEventListener('mousedown', onDown);\n            this.element.addEventListener('touchstart', onDown);\n\n            this.wrapper.addEventListener('mousemove', onMove);\n            this.wrapper.addEventListener('touchmove', onMove);\n\n            document.body.addEventListener('mouseup', onUp);\n            document.body.addEventListener('touchend', onUp);\n\n            this.on('remove', () => {\n                document.body.removeEventListener('mouseup', onUp);\n                document.body.removeEventListener('touchend', onUp);\n                this.wrapper.removeEventListener('mousemove', onMove);\n                this.wrapper.removeEventListener('touchmove', onMove);\n            });\n\n            this.wavesurfer.on('destroy', () => {\n                document.body.removeEventListener('mouseup', onUp);\n                document.body.removeEventListener('touchend', onUp);\n            });\n        })();\n    }\n\n    onDrag(delta) {\n        const maxEnd = this.wavesurfer.getDuration();\n        if ((this.end + delta) > maxEnd || (this.start + delta) < 0) {\n            return;\n        }\n\n        this.update({\n            start: this.start + delta,\n            end: this.end + delta\n        });\n    }\n\n    onResize(delta, direction) {\n        if (direction == 'start') {\n            this.update({\n                start: Math.min(this.start + delta, this.end),\n                end: Math.max(this.start + delta, this.end)\n            });\n        } else {\n            this.update({\n                start: Math.min(this.end + delta, this.start),\n                end: Math.max(this.end + delta, this.start)\n            });\n        }\n    }\n}\n\n/**\n * @typedef {Object} RegionsPluginParams\n * @property {?boolean} dragSelection Enable creating regions by dragging wih\n * the mouse\n * @property {?RegionParams[]} regions Regions that should be added upon\n * initialisation\n * @property {number} slop=2 The sensitivity of the mouse dragging\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('regions')`\n */\n\n/**\n * @typedef {Object} RegionParams\n * @desc The parameters used to describe a region.\n * @example wavesurfer.addRegion(regionParams);\n * @property {string} id=â†’random The id of the region\n * @property {number} start=0 The start position of the region (in seconds).\n * @property {number} end=0 The end position of the region (in seconds).\n * @property {?boolean} loop Whether to loop the region when played back.\n * @property {boolean} drag=true Allow/dissallow dragging the region.\n * @property {boolean} resize=true Allow/dissallow resizing the region.\n * @property {string} [color='rgba(0, 0, 0, 0.1)'] HTML color code.\n */\n\n/**\n * Regions are visual overlays on waveform that can be used to play and loop\n * portions of audio. Regions can be dragged and resized.\n *\n * Visual customization is possible via CSS (using the selectors\n * `.wavesurfer-region` and `.wavesurfer-handle`).\n *\n * @implements {PluginClass}\n * @extends {Observer}\n *\n * @example\n * // es6\n * import RegionsPlugin from 'wavesurfer.regions.js';\n *\n * // commonjs\n * var RegionsPlugin = require('wavesurfer.regions.js');\n *\n * // if you are using <script> tags\n * var RegionsPlugin = window.WaveSurfer.regions;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     RegionsPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class RegionsPlugin {\n    /**\n     * Regions plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param {RegionsPluginParams} params parameters use to initialise the plugin\n     * @return {PluginDefinition} an object representing the plugin\n     */\n    static create(params) {\n        return {\n            name: 'regions',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            staticProps: {\n                initRegions() {\n                    console.warn('Deprecated initRegions! Use wavesurfer.initPlugins(\"regions\") instead!');\n                    this.initPlugin('regions');\n                },\n\n                addRegion(options) {\n                    if (!this.initialisedPluginList.regions) {\n                        this.initPlugin('regions');\n                    }\n                    return this.regions.add(options);\n                },\n\n                clearRegions() {\n                    this.regions && this.regions.clear();\n                },\n\n                enableDragSelection(options) {\n                    if (!this.initialisedPluginList.regions) {\n                        this.initPlugin('regions');\n                    }\n                    this.regions.enableDragSelection(options);\n                },\n\n                disableDragSelection() {\n                    this.regions.disableDragSelection();\n                }\n            },\n            instance: RegionsPlugin\n        };\n    }\n\n    constructor(params, ws) {\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = ws.util;\n\n        // turn the plugin instance into an observer\n        const observerPrototypeKeys = Object.getOwnPropertyNames(this.util.Observer.prototype);\n        observerPrototypeKeys.forEach(key => {\n            Region.prototype[key] = this.util.Observer.prototype[key];\n        });\n        this.wavesurfer.Region = Region;\n\n        // Id-based hash of regions.\n        this.list = {};\n        this._onReady = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            if (this.params.regions) {\n                this.params.regions.forEach(region => {\n                    this.add(region);\n                });\n            }\n            if (this.params.dragSelection) {\n                this.enableDragSelection(this.params);\n            }\n        };\n    }\n\n    init() {\n        // Check if ws is ready\n        if (this.wavesurfer.isReady) {\n            this._onReady();\n        }\n        this.wavesurfer.on('ready', this._onReady);\n    }\n\n    destroy() {\n        this.wavesurfer.un('ready', this._onReady);\n        this.disableDragSelection();\n        this.clear();\n    }\n    /* Add a region. */\n    add(params) {\n        const region = new this.wavesurfer.Region(params, this.wavesurfer);\n\n        this.list[region.id] = region;\n\n        region.on('remove', () => {\n            delete this.list[region.id];\n        });\n\n        return region;\n    }\n\n    /* Remove all regions. */\n    clear() {\n        Object.keys(this.list).forEach(id => {\n            this.list[id].remove();\n        });\n    }\n\n    enableDragSelection(params) {\n        const slop = params.slop || 2;\n        let drag;\n        let start;\n        let region;\n        let touchId;\n        let pxMove = 0;\n\n        const eventDown = e => {\n            if (e.touches && e.touches.length > 1) { return; }\n            touchId = e.targetTouches ? e.targetTouches[0].identifier : null;\n\n            drag = true;\n            start = this.wavesurfer.drawer.handleEvent(e, true);\n            region = null;\n        };\n        this.wrapper.addEventListener('mousedown', eventDown);\n        this.wrapper.addEventListener('touchstart', eventDown);\n        this.on('disable-drag-selection', () => {\n            this.wrapper.removeEventListener('touchstart', eventDown);\n            this.wrapper.removeEventListener('mousedown', eventDown);\n        });\n\n        const eventUp = e => {\n            if (e.touches && e.touches.length > 1) { return; }\n\n            drag = false;\n            pxMove = 0;\n\n            if (region) {\n                region.fireEvent('update-end', e);\n                this.wavesurfer.fireEvent('region-update-end', region, e);\n            }\n\n            region = null;\n        };\n        this.wrapper.addEventListener('mouseup', eventUp);\n        this.wrapper.addEventListener('touchend', eventUp);\n        this.on('disable-drag-selection', () => {\n            this.wrapper.removeEventListener('touchend', eventUp);\n            this.wrapper.removeEventListener('mouseup', eventUp);\n        });\n\n        const eventMove = e => {\n            if (!drag) { return; }\n            if (++pxMove <= slop) { return; }\n\n            if (e.touches && e.touches.length > 1) { return; }\n            if (e.targetTouches && e.targetTouches[0].identifier != touchId) { return; }\n\n            if (!region) {\n                region = this.add(params || {});\n            }\n\n            const duration = this.wavesurfer.getDuration();\n            const end = this.wavesurfer.drawer.handleEvent(e);\n            region.update({\n                start: Math.min(end * duration, start * duration),\n                end: Math.max(end * duration, start * duration)\n            });\n        };\n        this.wrapper.addEventListener('mousemove', eventMove);\n        this.wrapper.addEventListener('touchmove', eventMove);\n        this.on('disable-drag-selection', () => {\n            this.wrapper.removeEventListener('touchmove', eventMove);\n            this.wrapper.removeEventListener('mousemove', eventMove);\n        });\n    }\n\n    disableDragSelection() {\n        this.fireEvent('disable-drag-selection');\n    }\n\n    /* Get current region\n     *  The smallest region that contains the current time.\n     *  If several such regions exist, we take the first.\n     *  Return null if none exist. */\n    getCurrentRegion() {\n        const time = this.wavesurfer.getCurrentTime();\n        let min = null;\n        Object.keys(this.list).forEach(id => {\n            const cur = this.list[id];\n            if (cur.start <= time && cur.end >= time) {\n                if (!min || ((cur.end - cur.start) < (min.end - min.start))) {\n                    min = cur;\n                }\n            }\n        });\n\n        return min;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugin/regions.js"],"sourceRoot":""}