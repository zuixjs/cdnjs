class DisplayJS{constructor(t){this.obj=t}var(t){const n=()=>{this.if(),this.else();const t=document.querySelectorAll("[var]");for(let n=0;n<t.length;n++){const e=t[n].getAttribute("var");t[n].innerHTML=this.obj[e]}};t?1==t?(n(),this.live(this.obj,()=>{n()})):window.setInterval(()=>{n()},t):n()}xss(t){const n=/</g,e=/>/g,o=/'/g,i=/"/g;return t.toString().replace(n,"&lt;").replace(e,"&gt;").replace(o,"&#39;").replace(i,"&#34;")}xssURI(t){return encodeURI(t)}target(t=()=>{this.var()}){const n=(()=>{return document.addEventListener?(t,n,e)=>{t.addEventListener(n,e,!1)}:(t,n,e)=>{t.attachEvent(`on${n}`,e)}})(),e=this.obj;[].forEach.call(document.querySelectorAll("[target]"),(o,i,s)=>{n(s[i],"change",function(){const n=s[i].getAttribute("target");"checkbox"==this.type?e[n]=this.checked:e[n]=this.value,t()}),n(s[i],"keydown",function(){const n=s[i].getAttribute("target");"checkbox"==this.type?e[n]=this.checked:e[n]=this.value,t()}),n(s[i],"input",function(){const n=s[i].getAttribute("target");"checkbox"==this.type?e[n]=this.checked:e[n]=this.value,t()}),n(s[i],"paste",function(){const n=s[i].getAttribute("target");"checkbox"==this.type?e[n]=this.checked:e[n]=this.value,t()})})}if(push){const if_push=()=>{const elements=document.querySelectorAll("[if]");for(let i=0;i<elements.length;i++){const attr=elements[i].getAttribute("if"),el=[];el.push(elements[i]),eval(this.obj[attr])?this.show(el):this.hide(el)}};push?1==push?(if_push(),this.live(this.obj,()=>{if_push()})):window.setInterval(()=>{if_push()},push):if_push()}else(push){const else_push=()=>{const elements=document.querySelectorAll("[else]");for(let i=0;i<elements.length;i++){const attr=elements[i].getAttribute("else"),el=[];el.push(elements[i]),eval(this.obj[attr])?this.hide(el):this.show(el)}};push?1==push?(else_push(),this.live(this.obj,()=>{else_push()})):window.setInterval(()=>{else_push()},push):else_push()}repeat(t,n,e,o="",i=""){let s=o;if("object"==typeof e)for(let c=0;c<n.length;c++)s+=e[c]+String(n[c]);else for(let c=0;c<n.length;c++)s+=e+String(n[c]);s+=i,t[0].innerHTML=s}custom(t,n,e){const o=()=>{const e=document.querySelectorAll(`[${t}]`);for(let o=0;o<e.length;o++){const i=e[o].getAttribute(t);n(e[o],i)}};e?1==e?(o(),this.live(this.obj,()=>{o()})):window.setInterval(()=>{o()},e):o()}live(t,n){const e={watch(t,n,e){const o=Object.getOwnPropertyDescriptor(t,n);if("undefined"==typeof o)throw new Error(`DisplayJS: Invalid descriptor for property: ${n}, object: ${t}`);if("function"!=typeof e)throw new Error(`DisplayJS: Invalid onPropertyChange handler: ${e}`);let i=t[n];Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get(){return i},set(o){if(o!==i)return e(t,n,o,i),i=o}})},watchAll(t,n){if("function"!=typeof n)throw new Error(`DisplayJS: Invalid onPropertyChange handler: ${n}`);for(const e in t)this.watch(t,e,n)}};e.watchAll(t,(t,e,o,i)=>{n(t,e,o,i)})}onEvent(){const elements=document.querySelectorAll("[on]");for(let i=0;i<elements.length;i++){const attr=elements[i].getAttribute("on"),action=elements[i].getAttribute("action");elements[i].addEventListener(attr,()=>{eval(action)})}}all(t,n){t.forEach(t=>{const e=[];e.push(t),n(e)})}text(t,n){t[0].innerHTML=this.xss(n)}html(t,n){t[0].innerHTML=n}prepend(t,n){const e=document.createElement("div");e.innerHTML=n,t[0].insertBefore(e,t.firstChild)}append(t,n){t[0].innerHTML+=n}after(t,n){t[0].insertAdjacentHTML("afterend",n)}before(t,n){t[0].insertAdjacentHTML("beforebegin",n)}clone(t){t[0].cloneNode(!0)}is(t,n){return t===n}select(t){const n=document.querySelectorAll(t);return n}single(t){const n=document.querySelectorAll(t),e=[];return e.push(n[0]),e}empty(t){t[0].innerHTML=null}valEmpty(t){t[0].value=null}remove(t){t[0].parentNode.removeChild(t)}on(t,n,e){t[0].addEventListener(n,e)}show(t){return t[0].style.display="block",!0}hide(t){return t[0].style.display="none",!0}style(t,n,e){t[0].style[n]=e}ajax(t,n,e,o,i){const s=new XMLHttpRequest;s.open(n,t,!0),i&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),s.onload=(()=>{if(s.status>=200&&s.status<400){const t=s.responseText;o(t)}else console.error("DisplayJS error: The ajax request returned an error.")}),s.onerror=(()=>{console.error("DisplayJS error: The ajax request returned an error.")}),s.send(e)}hasClass(t,n){return t[0].classList?t[0].classList.contains(n):!!t[0].className.match(new RegExp(`(\\s|^)${n}(\\s|$)`))}addClass(t,n){t[0].classList?t[0].classList.add(n):this.hasClass(t,n)||(t[0].className+=` ${n}`)}removeClass(t,n){if(t[0].classList)t[0].classList.remove(n);else if(this.hasClass(t,n)){const e=new RegExp(`(\\s|^)${n}(\\s|$)`);t[0].className=t[0].className.replace(e," ")}}toggleClass(t,n){this.hasClass(t,n)?this.removeClass(t,n):this.addClass(t,n)}each(t,n){for(let e=0;e<t.length;e++)n(t[e])}css(t,n,e){t[0].style[n]=e}getStyle(t,n){return t[0].style[n]}fadeOut(t,n=.1){const e=t[0];e.style.opacity=1,function t(){(e.style.opacity-=n)<0?e.style.display="none":requestAnimationFrame(t)}()}fadeIn(t,n=.1,e){const o=t[0];o.style.opacity=0,o.style.display=e||"block",function t(){let e=parseFloat(o.style.opacity);(e+=n)>1||(o.style.opacity=e,requestAnimationFrame(t))}()}extend(t={}){for(let n=1;n<arguments.length;n++)if(arguments[n])for(const e in arguments[n])arguments[n].hasOwnProperty(e)&&(t[e]=arguments[n][e]);return t}arange(t,n,e,o){const i=(Math.abs(n-t)+2*(o||0))/(e||1)+1,s=t<n?1:-1,c=t-s*(o||0),r=s*(e||1);return Array(i).fill(0).map((t,n)=>c+r*n)}range(t){return this.arange(0,t,1)}linespace(t,n,e){const o=n-t,i=o/e;return this.arange(t,n,i)}forIn(t,n){for(let e=t.length-1;e>=0;e--)n(t[e])}reshape(t,n){const e=[];for(let o=0;o<t.length;o+=n)e.push(t.slice(o,o+n));return e}apply(t,n){this.forIn(t,t=>n(t))}sum(t){return t.reduce((t,n)=>t+n,0)}multiply(t){return t.reduce((t,n)=>t*n,0)}flatten(t){return t.reduce((t,n)=>t.concat(n),[])}drop(t,n){return n>0?t.slice(n,t.length):t.slice(0,t.length-n)}isIn(t,n){return!!t.includes(n)}rmFromArray(t,n){const e=[];this.forIn(t,o=>{return n(o)||e.push(t[o]),e})}average(t){const n=this.sum(t);return n/t.length}median(t){t.sort((t,n)=>t-n);const n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2}predict(t,n){function e(n){const e=t[0][0],o=t[1][0],i=t[0][1],s=t[1][1],c=(i-s)/(e-o),r=s-o*c;return n*c+r}function o(t){return!(t.length>2)||e(t[2][0])==t[2][1]}return o(t)?e(n):"DisplayJS: Error, can't find any pattern."}}class _DOM_DJS extends DisplayJS{}