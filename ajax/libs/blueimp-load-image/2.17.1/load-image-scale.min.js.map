{"version":3,"sources":["load-image-scale.js"],"names":["factory","define","amd","module","exports","require","window","loadImage","originalTransform","transform","img","options","callback","file","data","call","scale","transformCoordinates","getTransformedOptions","newOptions","i","width","height","aspectRatio","hasOwnProperty","crop","naturalWidth","naturalHeight","maxWidth","maxHeight","renderImageToCanvas","canvas","sourceX","sourceY","sourceWidth","sourceHeight","destX","destY","destWidth","destHeight","getContext","drawImage","hasCanvasOption","scaleUp","Math","max","minWidth","minHeight","scaleDown","min","pixelRatio","downsamplingRatio","tmp","document","createElement","useCanvas","left","top","undefined","right","bottom","contain","cover","style"],"mappings":"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"}