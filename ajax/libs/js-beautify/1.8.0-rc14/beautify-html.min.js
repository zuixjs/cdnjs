!function(){var _=function(n){var i={};function _(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,_),e.l=!0,e.exports}return _.m=n,_.c=i,_.d=function(t,e,n){_.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},_.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},_.t=function(e,t){if(1&t&&(e=_(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(_.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)_.d(n,i,function(t){return e[t]}.bind(null,i));return n},_.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return _.d(e,"a",e),e},_.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},_.p="",_(_.s=13)}([,,function(t,e,n){"use strict";t.exports.mergeOpts=function(t,e){var n,i={};for(n in t)n!==e&&(i[n]=t[n]);if(e in t)for(n in t[e])i[n]=t[e][n];return i},t.exports.normalizeOpts=function(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}},function(t,e,n){"use strict";var i="$@A-Z_a-z",_="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",s="$0-9A-Z_a-z",r="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",o=new RegExp("["+i+_+"]"),a=new RegExp("["+s+_+r+"]");e.identifier=new RegExp("["+i+_+"]["+s+_+r+"]*","g"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g"),e.isIdentifierStart=function(t){return o.test(String.fromCharCode(t))},e.isIdentifierChar=function(t){return a.test(String.fromCharCode(t))}},function(t,e,n){"use strict";function _(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__items=[]}function i(t,e){this.__cache=[t],this.__level_string=e}function s(t,e){e=e||"",this.__indent_cache=new i(e,t),this.__alignment_cache=new i(""," "),this.baseIndentLength=e.length,this.indent_length=t.length,this.raw=!1,this.__lines=[],this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.__add_outputline()}_.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},_.prototype.has_match=function(t){for(var e=this.__items.length-1;0<=e;e--)if(this.__items[e].match(t))return!0;return!1},_.prototype.set_indent=function(t,e){this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.baseIndentLength+this.__alignment_count+this.__indent_count*this.__parent.indent_length},_.prototype.get_character_count=function(){return this.__character_count},_.prototype.is_empty=function(){return 0===this.__items.length},_.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},_.prototype.push=function(t){this.__items.push(t),this.__character_count+=t.length},_.prototype.push_raw=function(t){this.push(t);var e=t.lastIndexOf("\n");-1!==e&&(this.__character_count=t.length-e)},_.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},_.prototype.remove_indent=function(){0<this.__indent_count&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_length)},_.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},_.prototype.toString=function(){var t="";return this.is_empty()||(0<=this.__indent_count&&(t=this.__parent.get_indent_string(this.__indent_count)),0<=this.__alignment_count&&(t+=this.__parent.get_alignment_string(this.__alignment_count)),t+=this.__items.join("")),t},i.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__cache.push(this.__cache[this.__cache.length-1]+this.__level_string)},i.prototype.get_level_string=function(t){return this.__ensure_cache(t),this.__cache[t]},s.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=new _(this),this.__lines.push(this.current_line)},s.prototype.get_line_number=function(){return this.__lines.length},s.prototype.get_indent_string=function(t){return this.__indent_cache.get_level_string(t)},s.prototype.get_alignment_string=function(t){return this.__alignment_cache.get_level_string(t)},s.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},s.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},s.prototype.get_code=function(t,e){var n=this.__lines.join("\n").replace(/[\r\n\t ]+$/,"");return t&&(n+="\n"),"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},s.prototype.set_indent=function(t,e){return t=t||0,e=e||0,1<this.__lines.length?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},s.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.push(t.whitespace_before),this.current_line.push_raw(t.text),this.space_before_token=!1},s.prototype.add_token=function(t){this.add_space_before_token(),this.current_line.push(t)},s.prototype.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},s.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t].remove_indent(),t++},s.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim(this.indent_string,this.baseIndentString);t&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},s.prototype.just_added_newline=function(){return this.current_line.is_empty()},s.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},s.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;0<=n;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==e){this.__lines.splice(n+1,0,new _(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.Output=s},,function(t,e,n){"use strict";function i(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){0<this.__position&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,0<=(t+=this.__position)&&t<this.__input_length&&(e=this.__input.charAt(t)),e},i.prototype.test=function(t,e){if(e=e||0,e+=this.__position,0<=(t.lastIndex=e)&&e<this.__input_length){var n=t.exec(this.__input);return n&&n.index===e}return!1},i.prototype.testChar=function(t,e){var n=this.peek(e);return null!==n&&t.test(n)},i.prototype.match=function(t){t.lastIndex=this.__position;var e=t.exec(this.__input);return e&&e.index===this.__position?this.__position+=e[0].length:e=null,e},i.prototype.read=function(t){var e="",n=this.match(t);return n&&(e=n[0]),e},i.prototype.readUntil=function(t,e){var n,i=this.__position;t.lastIndex=this.__position;var _=t.exec(this.__input);return i=_?e?_.index+_[0].length:_.index:this.__input_length,n=this.__input.substring(this.__position,i),this.__position=i,n},i.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},i.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},i.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=i},function(t,e,n){"use strict";var i=n(6).InputScanner,s=n(8).Token,r=n(9).TokenStream,o={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},_=function(t,e){this._input=new i(t),this._options=e||{},this.__tokens=null,this.__newline_count=0,this.__whitespace_before_token="",this._whitespace_pattern=/[\n\r\u2028\u2029\t\u000B\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff ]+/g,this._newline_pattern=/([^\n\r\u2028\u2029]*)(\r\n|[\n\r\u2028\u2029])?/g};_.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new r,this._reset();for(var e=new s(o.START,""),n=null,i=[],_=new r;e.type!==o.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)_.add(t),t=this._get_next_token(e,n);_.isEmpty()||(t.comments_before=_,_=new r),t.parent=n,this._is_opening(t)?(i.push(n),n=t):n&&this._is_closing(t,n)&&((t.opened=n).closed=t,n=i.pop(),t.parent=n),(t.previous=e).next=t,this.__tokens.add(t),e=t}return this.__tokens},_.prototype._is_first_token=function(){return this.__tokens.isEmpty()},_.prototype._reset=function(){},_.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(o.RAW,n):this._create_token(o.EOF,"")},_.prototype._is_comment=function(t){return!1},_.prototype._is_opening=function(t){return!1},_.prototype._is_closing=function(t,e){return!1},_.prototype._create_token=function(t,e){var n=new s(t,e,this.__newline_count,this.__whitespace_before_token);return this.__newline_count=0,this.__whitespace_before_token="",n},_.prototype._readWhitespace=function(){var t=this._input.read(this._whitespace_pattern);if(" "===t)this.__whitespace_before_token=t;else if(""!==t){this._newline_pattern.lastIndex=0;for(var e=this._newline_pattern.exec(t);e[2];)this.__newline_count+=1,e=this._newline_pattern.exec(t);this.__whitespace_before_token=e[1]}},t.exports.Tokenizer=_,t.exports.TOKEN=o},function(t,e,n){"use strict";t.exports.Token=function(t,e,n,i){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(t,e,n){"use strict";function i(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}i.prototype.restart=function(){this.__position=0},i.prototype.isEmpty=function(){return 0===this.__tokens_length},i.prototype.hasNext=function(){return this.__position<this.__tokens_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,0<=(t+=this.__position)&&t<this.__tokens_length&&(e=this.__tokens[t]),e},i.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=i},function(t,e,n){"use strict";function i(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp("(?:[\\s\\S]*?)((?:"+t+/\sbeautify\signore:end\s/.source+e+")|$)","g")}i.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},i.prototype.readIgnored=function(t){return t.read(this.__directives_end_ignore_pattern)},t.exports.Directives=i},,,function(t,e,n){"use strict";var _=n(14).Beautifier;t.exports=function(t,e,n,i){return new _(t,e,n,i).beautify()}},function(t,e,n){"use strict";var _=n(2).mergeOpts,s=n(2).normalizeOpts,i=n(3),r=n(4).Output,a=n(15).Tokenizer,u=n(15).TOKEN,p=i.lineBreak,h=i.allLineBreaks,c=function(t,e,n,i,_){this.indent_character=t,this.indent_string=t,this.indent_size=e,this.indent_level=0,this.alignment_size=0,this.wrap_line_length=n,this.max_preserve_newlines=i,this.preserve_newlines=_,1<this.indent_size&&(this.indent_string=new Array(this.indent_size+1).join(this.indent_character)),this._output=new r(this.indent_string,"")};c.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},c.prototype.set_space_before_token=function(t){this._output.space_before_token=t},c.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},c.prototype.traverse_whitespace=function(t){if(t.whitespace_before||t.newlines){var e=0;if(t.type!==u.TEXT&&t.previous.type!==u.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1),e)for(var n=0;n<e;n++)this.print_newline(0<n);else this._output.space_before_token=!0,this.print_space_or_wrap(t.text);return!0}return!1},c.prototype.print_space_or_wrap=function(t){return!!(this._output.current_line.get_character_count()+t.length+1>=this.wrap_line_length&&this._output.add_new_line())},c.prototype.print_newline=function(t){this._output.add_new_line(t)},c.prototype.print_token=function(t){t&&(this._output.current_line.is_empty()&&this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t))},c.prototype.print_raw_text=function(t){this._output.current_line.push_raw(t)},c.prototype.indent=function(){this.indent_level++},c.prototype.unindent=function(){0<this.indent_level&&this.indent_level--},c.prototype.get_full_indent=function(t){return(t=this.indent_level+(t||0))<1?"":this._output.get_indent_string(t)};function o(t,e){return-1!==e.indexOf(t)}function l(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function d(t){this._printer=t,this._current_frame=null}function f(t,e){var n=e||[];return"object"==typeof t?null!==t&&"function"==typeof t.concat&&(n=t.concat()):"string"==typeof t&&(n=t.trim().replace(/\s*,\s*/g,",").split(",")),n}function g(t,e,n,i){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=i,this._tag_stack=null,e=_(e,"html"),void 0!==(e=s(e)).wrap_line_length&&0!==parseInt(e.wrap_line_length,10)||void 0===e.max_char||0===parseInt(e.max_char,10)||(e.wrap_line_length=e.max_char),this._options=Object.assign({},e),this._options.indent_inner_html=void 0===e.indent_inner_html||e.indent_inner_html,this._options.indent_body_inner_html=void 0===e.indent_body_inner_html||e.indent_body_inner_html,this._options.indent_head_inner_html=void 0===e.indent_head_inner_html||e.indent_head_inner_html,this._options.indent_size=void 0===e.indent_size?4:parseInt(e.indent_size,10),this._options.indent_character=void 0===e.indent_char?" ":e.indent_char,this._options.wrap_line_length=0===parseInt(e.wrap_line_length,10)?32786:parseInt(e.wrap_line_length||250,10),this._options.preserve_newlines=void 0===e.preserve_newlines||e.preserve_newlines,this._options.max_preserve_newlines=this._options.preserve_newlines?isNaN(parseInt(e.max_preserve_newlines,10))?32786:parseInt(e.max_preserve_newlines,10):0,this._options.indent_handlebars=void 0!==e.indent_handlebars&&e.indent_handlebars,this._options.wrap_attributes=void 0===e.wrap_attributes?"auto":e.wrap_attributes,this._options.wrap_attributes_indent_size=isNaN(parseInt(e.wrap_attributes_indent_size,10))?this._options.indent_size:parseInt(e.wrap_attributes_indent_size,10),this._options.end_with_newline=void 0!==e.end_with_newline&&e.end_with_newline,this._options.extra_liners=f(e.extra_liners,["head","body","/html"]),this._options.eol=e.eol?e.eol:"auto",e.indent_with_tabs&&(this._options.indent_character="\t",this._options.indent_size=1),this._options.disabled=void 0!==e.disabled&&e.disabled,this._options.eol=this._options.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),this._options.inline=f(e.inline,["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"]),this._options.void_elements=f(e.void_elements,["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","?=","basefont","isindex"]),this._options.unformatted=f(e.unformatted,[]),this._options.content_unformatted=f(e.content_unformatted,["pre","textarea"]),this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes}d.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},d.prototype.record_tag=function(t){var e=new l(this._current_frame,t,this._printer.indent_level);this._current_frame=e},d.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},d.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&-1===t.indexOf(n.tag);){if(e&&-1!==e.indexOf(n.tag)){n=null;break}n=n.parent}return n},d.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)},d.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)},g.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&p.test(t)&&(e=t.match(p)[0])),t=t.replace(h,"\n");var n={text:"",type:""},i=new m,_=new c(this._options.indent_character,this._options.indent_size,this._options.wrap_line_length,this._options.max_preserve_newlines,this._options.preserve_newlines),s=new a(t,this._options).tokenize();this._tag_stack=new d(_);for(var r=null,o=s.next();o.type!==u.EOF;)o.type===u.TAG_OPEN||o.type===u.COMMENT?i=r=this._handle_tag_open(_,o,i,n):o.type===u.ATTRIBUTE||o.type===u.EQUALS||o.type===u.VALUE||o.type===u.TEXT&&!i.tag_complete?r=this._handle_inside_tag(_,o,i,s):o.type===u.TAG_CLOSE?r=this._handle_tag_close(_,o,i):o.type===u.TEXT?r=this._handle_text(_,o,i):_.add_raw_token(o),n=r,o=s.next();return _._output.get_code(this._options.end_with_newline,e)},g.prototype._handle_tag_close=function(t,e,n){var i={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||""!==e.whitespace_before),n.is_unformatted?t.add_raw_token(e):("<"===n.tag_start_char&&(t.set_space_before_token("/"===e.text[0]),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e.text)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||("{"!==n.tag_start_char&&(!this._options.indent_body_inner_html&&"body"===n.tag_name||!this._options.indent_head_inner_html&&"head"===n.tag_name)||t.indent(),n.indent_content=!1),i},g.prototype._handle_inside_tag=function(t,e,n,i){var _={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||""!==e.whitespace_before),n.is_unformatted)t.add_raw_token(e);else{if("<"===n.tag_start_char&&(e.type===u.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):e.type===u.EQUALS?t.set_space_before_token(!1):e.type===u.VALUE&&e.previous.type===u.EQUALS&&t.set_space_before_token(!1)),t._output.space_before_token&&"<"===n.tag_start_char){var s=t.print_space_or_wrap(e.text);if(e.type===u.ATTRIBUTE){var r=s&&!this._is_wrap_attributes_force;if(this._is_wrap_attributes_force){var o=!1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var a,p=!0,h=0;do{if((a=i.peek(h)).type===u.ATTRIBUTE){p=!1;break}h+=1}while(h<4&&a.type!==u.EOF&&a.type!==u.TAG_CLOSE);o=!p}(1<n.attr_count||o)&&(t.print_newline(!1),r=!0)}r&&(n.has_wrapped_attrs=!0)}}t.print_token(e.text)}return _},g.prototype._handle_text=function(t,e,n){var i={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e.text)),i},g.prototype._print_custom_beatifier_text=function(t,e,n){if(""!==e.text){t.print_newline(!1);var i,_=e.text,s=1;"script"===n.tag_name?i="function"==typeof this._js_beautify&&this._js_beautify:"style"===n.tag_name&&(i="function"==typeof this._css_beautify&&this._css_beautify),"keep"===this._options.indent_scripts?s=0:"separate"===this._options.indent_scripts&&(s=-t.indent_level);var r=t.get_full_indent(s);if(_=_.replace(/\n[ \t]*$/,""),i){var o=function(){this.eol="\n"};o.prototype=this._options,_=i(r+_,new o)}else{var a=_.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(this._indent_string).length-1,p=this._get_full_indent(s-a);_=(r+_.trim()).replace(/\r\n|\r|\n/g,"\n"+p)}_&&(t.print_raw_text(_),t.print_newline(!0))}},g.prototype._handle_tag_open=function(t,e,n,i){var _=this._get_tag_open_token(e);return t.traverse_whitespace(e),this._set_tag_position(t,e,_,n,i),(n.is_unformatted||n.is_content_unformatted)&&e.type===u.TAG_OPEN&&0===e.text.indexOf("</")?t.add_raw_token(e):t.print_token(e.text),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple)&&(_.alignment_size=e.text.length+1),_.tag_complete||_.is_unformatted||(t.alignment_size=_.alignment_size),_};var m=function(t,e){var n;(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier=!1,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",e)?(this.tag_start_char=e.text[0],this.text=e.text,n="<"===this.tag_start_char?e.text.match(/^<([^\s>]*)/):e.text.match(/^{{\#?([^\s}]+)/),this.tag_check=n?n[1]:"",this.tag_check=this.tag_check.toLowerCase(),e.type===u.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&"/>"===e.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};g.prototype._get_tag_open_token=function(t){var e=new m(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||o(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&o(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&o(e.tag_check,this._options.content_unformatted),e.is_inline_element=o(e.tag_name,this._options.inline)||"{"===e.tag_start_char,e},g.prototype._set_tag_position=function(t,e,n,i,_){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier=function(t,e){var n=e.next;if(!e.closed)return!1;for(;n.type!==u.EOF&&n.closed!==e;){if(n.type===u.ATTRIBUTE&&"type"===n.text){var i=n.next?n.next:n,_=i.next?i.next:i;return i.type===u.EQUALS&&_.type===u.VALUE&&("style"===t&&-1<_.text.search("text/css")||"script"===t&&-1<_.text.search(/(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/))}n=n.next}return!0}(n.tag_check,e)))),o(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if("{"===n.tag_start_char&&"else"===n.tag_check)this._tag_stack.indent_to_tag(["if","unless"]),n.indent_content=!0,t.current_line_has_match(/{{#if/)||t.print_newline(!1);"!--"===n.tag_name&&_.type===u.TAG_CLOSE&&i.is_end_tag&&-1===n.text.indexOf("\n")||n.is_inline_element||n.is_unformatted||t.print_newline(!1)}else n.is_unformatted||n.is_content_unformatted?n.is_inline_element||n.is_unformatted||t.print_newline(!1):n.is_end_tag?(n.start_tag_token&&n.start_tag_token.multiline_content||!(n.is_inline_element||i.is_inline_element||_.type===u.TAG_CLOSE&&n.start_tag_token===i||"TK_CONTENT"===_.type))&&t.print_newline(!1):(n.indent_content="html"!==n.tag_check&&!n.custom_beautifier,n.is_inline_element||"TK_CONTENT"===_.type||(n.parent&&(n.parent.multiline_content=!0),t.print_newline(!1)))},g.prototype._do_optional_end_element=function(t){!t.is_empty_element&&t.is_start_tag&&t.parent&&("body"===t.tag_name?this._tag_stack.try_pop("head"):"li"===t.tag_name?this._tag_stack.try_pop("li",["ol","ul"]):"dd"===t.tag_name||"dt"===t.tag_name?(this._tag_stack.try_pop("dt",["dl"]),this._tag_stack.try_pop("dd",["dl"])):"rp"===t.tag_name||"rt"===t.tag_name?(this._tag_stack.try_pop("rt",["ruby","rtc"]),this._tag_stack.try_pop("rp",["ruby","rtc"])):"optgroup"===t.tag_name?this._tag_stack.try_pop("optgroup",["select"]):"option"===t.tag_name?this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===t.tag_name?this._tag_stack.try_pop("caption",["table"]):"thead"===t.tag_name?(this._tag_stack.try_pop("caption",["table"]),this._tag_stack.try_pop("colgroup",["table"])):"tbody"===t.tag_name||"tfoot"===t.tag_name?(this._tag_stack.try_pop("caption",["table"]),this._tag_stack.try_pop("colgroup",["table"]),this._tag_stack.try_pop("thead",["table"]),this._tag_stack.try_pop("tbody",["table"])):"tr"===t.tag_name?(this._tag_stack.try_pop("caption",["table"]),this._tag_stack.try_pop("colgroup",["table"]),this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):"th"!==t.tag_name&&"td"!==t.tag_name||(this._tag_stack.try_pop("td",["tr"]),this._tag_stack.try_pop("th",["tr"])),t.parent=this._tag_stack.get_parser_token())},t.exports.Beautifier=g},function(t,e,n){"use strict";var i=n(7).Tokenizer,_=n(7).TOKEN,s=n(10).Directives,p=n(3),h={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:_.START,RAW:_.RAW,EOF:_.EOF},u=new s(/<\!--/,/-->/),r=function(t,e){i.call(this,t,e),this._current_tag_name="",this._whitespace_pattern=/[\n\r\t ]+/g,this._newline_pattern=/([^\n\r]*)(\r\n|[\n\r])?/g,this._word_pattern=this._options.indent_handlebars?/[\n\r\t <]|{{/g:/[\n\r\t <]/g};(r.prototype=new i)._is_comment=function(t){return!1},r.prototype._is_opening=function(t){return t.type===h.TAG_OPEN},r.prototype._is_closing=function(t,e){return t.type===h.TAG_CLOSE&&e&&((">"===t.text||"/>"===t.text)&&"<"===e.text[0]||"}}"===t.text&&"{"===e.text[0]&&"{"===e.text[1])},r.prototype._reset=function(){this._current_tag_name=""},r.prototype._get_next_token=function(t,e){this._readWhitespace();var n=null,i=this._input.peek();return null===i?this._create_token(h.EOF,""):n=(n=(n=(n=(n=(n=(n=n||this._read_attribute(i,t,e))||this._read_raw_content(t,e))||this._read_comment(i))||this._read_open(i,e))||this._read_close(i,e))||this._read_content_word())||this._create_token(h.UNKNOWN,this._input.next())},r.prototype._read_comment=function(t){var e=null;if("<"===t||"{"===t){var n=this._input.peek(1),i=this._input.peek(2);if("<"===t&&("!"===n||"?"===n||"%"===n)||this._options.indent_handlebars&&"{"===t&&"{"===n&&"!"===i){for(var _="",s=">",r=!1,o=this._input.next();o&&((_+=o).charAt(_.length-1)!==s.charAt(s.length-1)||-1===_.indexOf(s));)r||(r=10<_.length,0===_.indexOf("<![if")?(s="<![endif]>",r=!0):0===_.indexOf("<![cdata[")?(s="]]>",r=!0):0===_.indexOf("<![")?(s="]>",r=!0):0===_.indexOf("\x3c!--")?(s="--\x3e",r=!0):0===_.indexOf("{{!--")?(s="--}}",r=!0):0===_.indexOf("{{!")?5===_.length&&-1===_.indexOf("{{!--")&&(s="}}",r=!0):0===_.indexOf("<?")?(s="?>",r=!0):0===_.indexOf("<%")&&(s="%>",r=!0)),o=this._input.next();var a=u.get_directives(_);a&&"start"===a.ignore&&(_+=u.readIgnored(this._input)),_=_.replace(p.allLineBreaks,"\n"),(e=this._create_token(h.COMMENT,_)).directives=a}}return e},r.prototype._read_open=function(t,e){var n=null,i=null;return e||("<"===t?(n=this._input.read(/<(?:[^\n\r\t >{][^\n\r\t >{/]*)?/g),i=this._create_token(h.TAG_OPEN,n)):this._options.indent_handlebars&&"{"===t&&"{"===this._input.peek(1)&&(n=this._input.readUntil(/[\n\r\t }]/g),i=this._create_token(h.TAG_OPEN,n))),i},r.prototype._read_close=function(t,e){var n=null,i=null;return e&&("<"===e.text[0]&&(">"===t||"/"===t&&">"===this._input.peek(1))?(n=this._input.next(),"/"===t&&(n+=this._input.next()),i=this._create_token(h.TAG_CLOSE,n)):"{"===e.text[0]&&"}"===t&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),i=this._create_token(h.TAG_CLOSE,"}}"))),i},r.prototype._read_attribute=function(t,e,n){var i=null,_="";if(n&&"<"===n.text[0])if("="===t)i=this._create_token(h.EQUALS,this._input.next());else if('"'===t||"'"===t){for(var s=this._input.next(),r="",o=new RegExp(t+"|{{","g");this._input.hasNext()&&(s+=r=this._input.readUntilAfter(o),'"'!==r[r.length-1]&&"'"!==r[r.length-1]);)this._input.hasNext()&&(s+=this._input.readUntilAfter(/}}/g));i=this._create_token(h.VALUE,s)}else(_="{"===t&&"{"===this._input.peek(1)?this._input.readUntilAfter(/}}/g):this._input.readUntil(/[\n\r\t =\/>]/g))&&(i=e.type===h.EQUALS?this._create_token(h.VALUE,_):this._create_token(h.ATTRIBUTE,_));return i},r.prototype._is_content_unformatted=function(t){return-1===this._options.void_elements.indexOf(t)&&("script"===t||"style"===t||-1!==this._options.content_unformatted.indexOf(t)||-1!==this._options.unformatted.indexOf(t))},r.prototype._read_raw_content=function(t,e){var n="";if(e&&"{"===e.text[0])n=this._input.readUntil(/}}/g);else if(t.type===h.TAG_CLOSE&&"<"===t.opened.text[0]){var i=t.opened.text.substr(1).toLowerCase();this._is_content_unformatted(i)&&(n=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return n?this._create_token(h.TEXT,n):null},r.prototype._read_content_word=function(){var t=this._input.readUntil(this._word_pattern);if(t)return this._create_token(h.TEXT,t)},t.exports.Tokenizer=r,t.exports.TOKEN=h}]);if("function"==typeof define&&define.amd)define(["require","./beautify","./beautify-css"],function(t){var n=t("./beautify"),i=t("./beautify-css");return{html_beautify:function(t,e){return _(t,e,n.js_beautify,i.css_beautify)}}});else if("undefined"!=typeof exports){var n=require("./beautify.js"),i=require("./beautify-css.js");exports.html_beautify=function(t,e){return _(t,e,n.js_beautify,i.css_beautify)}}else"undefined"!=typeof window?window.html_beautify=function(t,e){return _(t,e,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(t,e){return _(t,e,global.js_beautify,global.css_beautify)})}();