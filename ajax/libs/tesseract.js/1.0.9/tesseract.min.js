!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Tesseract=e()}}(function(){return function e(t,r,n){function o(i,a){if(!r[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[i]={exports:{}};t[i][0].call(l.exports,function(e){var r=t[i][1][e];return o(r||e)},l,l.exports,e,t,r,n)}return r[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,i,a=n(e),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var u in r)o.call(r,u)&&(a[u]=r[u]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(r);for(var l=0;l<i.length;l++)s.call(r,i[l])&&(a[i[l]]=r[i[l]])}}return a}},{}],2:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(h===clearTimeout)return clearTimeout(e);if((h===o||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){b&&d&&(b=!1,d.length?g=d.concat(g):w=-1,g.length&&c())}function c(){if(!b){var e=s(a);b=!0;for(var t=g.length;t;){for(d=g,g=[];++w<t;)d&&d[w].run();w=-1,t=g.length}d=null,b=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var f,h,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(e){h=o}}();var d,g=[],b=!1,w=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];g.push(new u(e,t)),1!==g.length||b||s(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],3:[function(e,t,r){t.exports={name:"tesseract.js",version:"1.0.9",description:"Pure Javascript Multilingual OCR",main:"src/index.js",scripts:{test:'echo "Error: no test specified" & exit 1',start:"watchify src/index.js  -t [ envify --NODE_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.dev.js --standalone Tesseract & watchify src/browser/worker.js  -t [ envify --NODE_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/worker.dev.js & http-server -p 7355",build:"browserify src/index.js -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.js --standalone Tesseract && browserify src/browser/worker.js -t [ babelify --presets [ es2015 ] ] -o dist/worker.js",release:"npm run build && git commit -am 'new release' && git tag `jq -r '.version' package.json` && git push origin --tags && npm publish && git push"},browser:{"./src/node/index.js":"./src/browser/index.js"},author:"",license:"Apache-2.0",devDependencies:{"babel-preset-es2015":"^6.16.0",babelify:"^7.3.0",browserify:"^13.1.0",envify:"^3.4.1","http-server":"^0.9.0",pako:"^1.0.3",watchify:"^3.7.0"},dependencies:{"file-type":"^3.8.0","is-url":"^1.2.2","jpeg-js":"^0.2.0","level-js":"^2.2.4","node-fetch":"^1.6.3","object-assign":"^4.1.0","png.js":"^0.2.1","tesseract.js-core":"^1.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js"}},{}],4:[function(e,t,r){(function(t){"use strict";function n(e,t){if("string"==typeof e){if(/^\#/.test(e))return n(document.querySelector(e),t);if(/(blob|data)\:/.test(e)){var r=new Image;return r.src=e,void(r.onload=function(e){return n(r,t)})}var o=new XMLHttpRequest;return o.open("GET",e,!0),o.responseType="blob",o.onload=function(e){return n(o.response,t)},o.onerror=function(r){/^https?:\/\//.test(e)&&!/^https:\/\/crossorigin.me/.test(e)&&(console.debug("Attempting to load image with CORS proxy"),n("https://crossorigin.me/"+e,t))},void o.send(null)}if(e instanceof File){var s=new FileReader;return s.onload=function(e){return n(s.result,t)},void s.readAsDataURL(e)}if(e instanceof Blob)return n(URL.createObjectURL(e),t);if(e.getContext)return n(e.getContext("2d"),t);if("IMG"==e.tagName||"VIDEO"==e.tagName){var i=document.createElement("canvas");i.width=e.naturalWidth||e.videoWidth,i.height=e.naturalHeight||e.videoHeight;var a=i.getContext("2d");return a.drawImage(e,0,0),n(a,t)}return e.getImageData?n(e.getImageData(0,0,e.canvas.width,e.canvas.height),t):t(e)}var o={corePath:"https://cdn.rawgit.com/naptha/tesseract.js-core/0.1.0/index.js",langPath:"https://cdn.rawgit.com/naptha/tessdata/gh-pages/3.02/"};if("development"===t.env.NODE_ENV)console.debug("Using Development Configuration"),o.workerPath=location.protocol+"//"+location.host+"/dist/worker.dev.js?nocache="+Math.random().toString(36).slice(3);else{var s=e("../../package.json").version;o.workerPath="https://cdn.rawgit.com/naptha/tesseract.js/"+s+"/dist/worker.js"}r.defaultOptions=o,r.spawnWorker=function(e,t){if(window.Blob&&window.URL)var r=new Blob(['importScripts("'+t.workerPath+'");']),n=new Worker(window.URL.createObjectURL(r));else n=new Worker(t.workerPath);return n.onmessage=function(t){var r=t.data;e._recv(r)},n},r.terminateWorker=function(e){e.worker.terminate()},r.sendPacket=function(e,t){n(t.payload.image,function(r){t.payload.image=r,e.worker.postMessage(t)})}}).call(this,e("_process"))},{"../../package.json":3,_process:2}],5:[function(e,t,r){"use strict";t.exports=function(e){return e.paragraphs=[],e.lines=[],e.words=[],e.symbols=[],e.blocks.forEach(function(t){t.page=e,t.lines=[],t.words=[],t.symbols=[],t.paragraphs.forEach(function(r){r.block=t,r.page=e,r.words=[],r.symbols=[],r.lines.forEach(function(n){n.paragraph=r,n.block=t,n.page=e,n.symbols=[],n.words.forEach(function(o){o.line=n,o.paragraph=r,o.block=t,o.page=e,o.symbols.forEach(function(s){s.word=o,s.line=n,s.paragraph=r,s.block=t,s.page=e,s.line.symbols.push(s),s.paragraph.symbols.push(s),s.block.symbols.push(s),s.page.symbols.push(s)}),o.paragraph.words.push(o),o.block.words.push(o),o.page.words.push(o)}),n.block.lines.push(n),n.page.lines.push(n)}),r.page.paragraphs.push(r)})}),e}},{}],6:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("../node/index.js"),i=0;t.exports=function(){function e(t){n(this,e),this.id="Job-"+ ++i+"-"+Math.random().toString(16).slice(3,8),this._instance=t,this._resolve=[],this._reject=[],this._progress=[],this._finally=[]}return o(e,[{key:"then",value:function(e,t){return this._resolve.push?this._resolve.push(e):e(this._resolve),t&&this.catch(t),this}},{key:"catch",value:function(e){return this._reject.push?this._reject.push(e):e(this._reject),this}},{key:"progress",value:function(e){return this._progress.push(e),this}},{key:"finally",value:function(e){return this._finally.push(e),this}},{key:"_send",value:function(e,t){s.sendPacket(this._instance,{jobId:this.id,action:e,payload:t})}},{key:"_handle",value:function(e){var t=e.data,r=!1;"resolve"===e.status?(0===this._resolve.length&&console.log(t),this._resolve.forEach(function(e){var r=e(t);r&&"function"==typeof r.then&&console.warn("TesseractJob instances do not chain like ES6 Promises. To convert it into a real promise, use Promise.resolve.")}),this._resolve=t,this._instance._dequeue(),r=!0):"reject"===e.status?(0===this._reject.length&&console.error(t),this._reject.forEach(function(e){return e(t)}),this._reject=t,this._instance._dequeue(),r=!0):"progress"===e.status?this._progress.forEach(function(e){return e(t)}):console.warn("Message type unknown",e.status),r&&this._finally.forEach(function(e){return e(t)})}}]),e}()},{"../node/index.js":4}],7:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){e=e||{};var t=new f(u({},i.defaultOptions,e));return t.create=o,t.version=l,t}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("./node/index.js"),a=e("./common/circularize.js"),c=e("./common/job"),u=e("object-assign"),l=e("../package.json").version,f=function(){function e(t){n(this,e),this.worker=null,this.workerOptions=t,this._currentJob=null,this._queue=[]}return s(e,[{key:"recognize",value:function(e,t){var r=this;return this._delay(function(n){"string"==typeof t?t={lang:t}:(t=t||{}).lang=t.lang||"eng",n._send("recognize",{image:e,options:t,workerOptions:r.workerOptions})})}},{key:"detect",value:function(e,t){var r=this;return t=t||{},this._delay(function(n){n._send("detect",{image:e,options:t,workerOptions:r.workerOptions})})}},{key:"terminate",value:function(){this.worker&&i.terminateWorker(this),this.worker=null}},{key:"_delay",value:function(e){var t=this;this.worker||(this.worker=i.spawnWorker(this,this.workerOptions));var r=new c(this);return this._queue.push(function(n){t._queue.shift(),t._currentJob=r,e(r)}),this._currentJob||this._dequeue(),r}},{key:"_dequeue",value:function(){this._currentJob=null,this._queue.length>0&&this._queue[0]()}},{key:"_recv",value:function(e){"resolve"===e.status&&"recognize"===e.action&&(e.data=a(e.data)),this._currentJob.id===e.jobId?this._currentJob._handle(e):console.warn("Job ID "+e.jobId+" not known.")}}]),e}(),h=o();t.exports=h},{"../package.json":3,"./common/circularize.js":5,"./common/job":6,"./node/index.js":4,"object-assign":1}]},{},[7])(7)});