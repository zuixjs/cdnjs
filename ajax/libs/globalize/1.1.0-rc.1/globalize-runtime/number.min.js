/*!
 * Globalize Runtime v1.1.0-rc.1 2015-08-23T14:55Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["../globalize-runtime"],b)}else{if(typeof exports==="object"){module.exports=b(require("./globalize-runtime"))}else{b(a.Globalize)}}}(this,function(p){var c=p._createError,a=p._regexpEscape,g=p._runtimeKey,m=p._stringPad,j=p._validateParameterType,d=p._validateParameterPresence,l=p._validateParameterTypeString;var k=function(v){return c("E_UNSUPPORTED","Unsupported {feature}.",{feature:v})};var o=function(w,v){j(w,v,w===undefined||typeof w==="number","Number")};var e=function(z,v,C){var y,B=v,x="",w=",",A=C?true:false;z=String(z).split(".");y=z[0].length;while(y>B){x=z[0].slice(y-B,y)+(x.length?w:"")+x;y-=B;if(A){B=C;A=false}}z[0]=z[0].slice(0,y)+(x.length?w:"")+x;return z.join(".")};var b=function(z,y,w,A,v,x){if(A){if(x){z=v(z,x)}else{z=v(z,{exponent:-A})}if(w){z=String(z).split(".");z[1]=m(z[1]||"",w,true);z=z.join(".")}}else{z=v(z)}z=String(z);if(y){z=z.split(".");z[0]=m(z[0],y);z=z.join(".")}return z};var i=function(y,v,w){var x;y=y.toPrecision(v+2);x=Math.ceil(Math.log(Math.abs(y))/Math.log(10));x-=v;return w(y,{exponent:x})};var s=function(y,A,z,v){var w,x;if(A>z){z=A}w=i(y,A,v);x=i(y,z,v);y=+w===+x?w:x;y=(+y).toString(10);if((/e/).test(y)){throw k({feature:"integers out of (1e21, 1e-7)"})}if(A-y.replace(/^0+|\./g,"").length>0){y=y.split(".");y[1]=m(y[1]||"",A-y[0].replace(/^0+/,"").length,true);y=y.join(".")}return y};var q=function(v,z){var F,K,w,E,M,A,N,I,D,H,G,J,O,L,C,y,x,B;D=z[1];M=z[2];E=z[3];K=z[4];A=z[5];w=z[6];C=z[7];G=z[8];y=z[9];L=z[15];F=z[16];N=z[17];B=z[18];I=z[19];if(isNaN(v)){return N}if(v<0){J=z[12];H=z[13];x=z[14]}else{J=z[11];H=z[0];x=z[10]}if(!isFinite(v)){return H+F+x}O=H;if(J.indexOf("%")!==-1){v*=100}else{if(J.indexOf("\u2030")!==-1){v*=1000}}if(!isNaN(A*w)){v=s(v,A,w,L)}else{v=b(v,M,E,K,L,C)}v=v.replace(/^-/,"");if(G){v=e(v,G,y)}O+=v;O+=x;return O.replace(/('([^']|'')+'|'')|./g,function(Q,P){if(P){P=P.replace(/''/,"'");if(P.length>2){P=P.slice(1,-1)}return P}Q=Q.replace(/[.,\-+E%\u2030]/,function(R){return B[R]});if(I){Q=Q.replace(/[0-9]/,function(R){return I[+R]})}return Q})};var h=function(v){return function w(x){d(x,"value");o(x,"value");return q(x,v)}};var r=(/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)(E[+-]?[0-9]+)?([^0-9]*)$/);var n=function(G,D){var w,x,C,E,y,A,v,F,z,B,H;x=D[0];E=D[1];v=D[2];F=D[3];C=D[4];if(w=G.match(x)){z=Infinity;B=G.slice(0,w.length);H=G.slice(w.length+1)}else{A=new RegExp(Object.keys(E).map(function(I){return a(I)}).join("|"),"g");G=G.replace(A,function(I){return E[I]});if(C){y=new RegExp(Object.keys(C).map(function(I){return a(I)}).join("|"),"g");G=G.replace(y,function(I){return C[I]})}G=G.match(r);if(!G){return NaN}B=G[1];H=G[6];z=G[2].replace(/,/g,"");if(G[5]){z+=G[5]}z=+z;if(isNaN(z)){return NaN}if(G[0].indexOf("%")!==-1){z/=100;H=H.replace("%","")}else{if(G[0].indexOf("\u2030")!==-1){z/=1000;H=H.replace("\u2030","")}}}if(B===v&&H===F){z*=-1}return z};var t=function(w){return function v(x){d(x,"value");l(x,"value");return n(x,w)}};var f=function(v){if(isNaN(v)){return NaN}return Math[v<0?"ceil":"floor"](v)};var u=function(v){v=v||"round";v=v==="truncate"?f:Math[v];return function(x,z){var y,w;x=+x;if(isNaN(x)){return NaN}if(typeof z==="object"&&z.exponent){y=+z.exponent;w=1;if(y===0){return v(x)}if(!(typeof y==="number"&&y%1===0)){return NaN}}else{w=+z||1;if(w===1){return v(x)}if(isNaN(w)){return NaN}w=w.toExponential().split("e");y=+w[1];w=+w[0]}x=x.toString().split("e");x[0]=+x[0]/w;x[1]=x[1]?(+x[1]-y):-y;x=v(+(x[0]+"e"+x[1]));x=x.toString().split("e");x[0]=+x[0]*w;x[1]=x[1]?(+x[1]+y):y;return +(x[0]+"e"+x[1])}};p._createErrorUnsupportedFeature=k;p._numberFormat=q;p._numberFormatterFn=h;p._numberParse=n;p._numberParserFn=t;p._numberRound=u;p._validateParameterPresence=d;p._validateParameterTypeNumber=o;p._validateParameterTypeString=l;p.numberFormatter=p.prototype.numberFormatter=function(v){v=v||{};return p[g("numberFormatter",this._locale,[v])]};p.numberParser=p.prototype.numberParser=function(v){v=v||{};return p[g("numberParser",this._locale,[v])]};p.formatNumber=p.prototype.formatNumber=function(w,v){d(w,"value");o(w,"value");return this.numberFormatter(v)(w)};p.parseNumber=p.prototype.parseNumber=function(w,v){d(w,"value");l(w,"value");return this.numberParser(v)(w)};return p}));