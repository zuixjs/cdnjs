!function(e,t){"function"==typeof define&&define.amd?define(["cldr","../globalize","./number","./plural"],t):"object"==typeof exports?module.exports=t(require("cldrjs"),require("../globalize")):t(e.Cldr,e.Globalize)}(this,function(e,t){function r(e){var t,r;if(e){t={};for(r in e)t[r.replace(/unitPattern-count-/,"")]=e[r]}return t}var n=t._formatMessage,i=t._runtimeBind,a=t._validateParameterPresence,o=t._validateParameterTypePlainObject,u=t._validateParameterTypeNumber,l=t._validateParameterTypeString,c=function(e,t,r,i){var a,o,u,l,c,m,p,f=i.compoundUnitPattern;return i=i.unitProperties,u=t(e),p=r(e),i instanceof Array?(o=i[0],c=i[1],a=n(o[p],[e]),l=n(c.one,[""]).trim(),n(f,[a,l])):(m=i[p],n(m,[u]))},m=function(e,t,r){return function(n){return a(n,"value"),u(n,"value"),c(n,e,t,r)}},p=["acceleration","angle","area","digital","duration","length","mass","power","pressure","speed","temperature","volume"],f=function(e,t,n){var i;if(e=e.replace(/\//,"-per-"),[""].concat(p).some(function(r){return i=n.main(["units",t,r.length?r+"-"+e:e])}),(i=r(i))||!/-per-/.test(e)||(e=e.split("-per-"),(i=e.map(function(e){return f(e,t,n)}))[0]&&i[1]))return i},s=f,d=function(e,t,r){var n,i;return n=r.main(["units",t,"per/compoundUnitPattern"]),i=s(e,t,r),{compoundUnitPattern:n,unitProperties:i}};return t.formatUnit=t.prototype.formatUnit=function(e,t,r){return a(e,"value"),u(e,"value"),this.unitFormatter(t,r)(e)},t.unitFormatter=t.prototype.unitFormatter=function(e,t){var r,n,u,c,p,f;return a(e,"unit"),l(e,"unit"),o(t,"options"),t=t||{},r=[e,t],n=t.form||"long",f=d(e,n,this.cldr),u=t.numberFormatter||this.numberFormatter(),c=this.pluralGenerator(),p=m(u,c,f),i(r,this.cldr,p,[u,c,f]),p},t});