!function(a){var e={init:function(e){a.fn.jcalendar.defaults||(a.fn.jcalendar.defaults=[]);if((e=a.extend({format:"DD/MM/YYYY",readonly:0,today:0,time:0,clear:1,mask:1,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdays_short:["S","M","T","W","T","F","S"]},e)).format=e.format.toUpperCase(),!a(".jcalendar").length){var n=document.createElement("div");a(n).addClass("jcalendar bossanova-ui"),a(n).css("display","");var r=document.createElement("div");a(r).addClass("jcalendar_container");var l=document.createElement("table");a(l).attr("cellpadding","0"),a(l).attr("cellspacing","0"),a(r).append(l);var t=document.createElement("thead");a(l).append(t);var d=document.createElement("tbody");a(l).append(d);var c=new Date;month=parseInt(c.getMonth())+1,a(t).html('<tr align="center"><td></td><td align="right" class="jcalendar_prev"><div class="jcalendar_left"></div></td><td colspan="3"><input type="hidden" class="jcalendar_day" value="'+c.getDate()+'"> <span class="jcalendar_month_label">'+e.months[c.getMonth()]+'</span><input type="hidden" class="jcalendar_month" value="'+month+'"> <span class="jcalendar_year_label"> '+c.getFullYear()+'</span> <input type="hidden" class="jcalendar_year" value="'+c.getFullYear()+'"></td><td align="left" class="jcalendar_next"><div class="jcalendar_right"></div></td><td class="jcalendar_close">x</td></tr>'),a(n).html(""),a(n).append(a(r)),a(this).before(n)}a.each(a(this),function(n,r){a(this).hasClass("jcalendar_input")||(a(this).jcalendar("create",r,e),a.fn.jcalendar.current=a(r))}),a.fn.jcalendar.onclick||(a.fn.jcalendar.onclick=function(n){if(a(n.target).is(".jcalendar_input"))a(n.target).jcalendar("open");else if(a.fn.jcalendar.current)if(a(n.target).closest(".jcalendar").length>0){var r=a(n.target).prop("class");"jcalendar_prev"==r||"jcalendar_left"==r?a(a.fn.jcalendar.current).jcalendar("prev"):"jcalendar_next"==r||"jcalendar_right"==r?a(a.fn.jcalendar.current).jcalendar("next"):"jcalendar_month_label"==r?a(a.fn.jcalendar.current).jcalendar("months"):"jcalendar_year_label"==r?a(a.fn.jcalendar.current).jcalendar("years"):"setYear"==r?(a(".jcalendar").find(".jcalendar_year").val(a(n.target).text()),a(".jcalendar").find(".jcalendar_year_label").html(a(n.target).text()),a(a.fn.jcalendar.current).jcalendar("days")):"setMonth"==r?(a(".jcalendar").find(".jcalendar_month").val(a(n.target).find("input").val()),a(".jcalendar").find(".jcalendar_month_label").html(a(n.target).text()),a(a.fn.jcalendar.current).jcalendar("days")):"setDay"==r?a(n.target).text()&&(a(".jcalendar").find(".jcalendar_day").val(a(n.target).text()),e.time?a(a.fn.jcalendar.current).jcalendar("days"):a(a.fn.jcalendar.current).jcalendar("close",1)):"jcalendar_confirm"==r?a(a.fn.jcalendar.current).jcalendar("close",1):"jcalendar_reset"==r?a(a.fn.jcalendar.current).jcalendar("reset"):"jcalendar_close"==r&&a(a.fn.jcalendar.current).jcalendar("close",0)}else a(a.fn.jcalendar.current).jcalendar("close",0)},a(document).on("mousedown",function(e){a.fn.jcalendar.onclick(e)}),a(document).on("keydown",function(e){27==e.which&&a.fn.jcalendar.current&&a(a.fn.jcalendar.current).jcalendar("close",0)}))},create:function(e,n){var r=a(e).attr("id");r||(r="calendar_"+Math.floor(1e3*Math.random())+9999,a(this).prop("id",r)),a(e).addClass("jcalendar_input"),a.fn.jcalendar.defaults[r]=n;n.months;if(1==n.readonly)a(e).prop("readonly","readonly");else if(1==n.mask&&a.fn.masked){var l=n.format.replace("24","").replace(/\w{1}/g,"0"),t=n.format.replace("24","").replace(/\w{1}/g,"_");a(e).mask(l,{placeholder:t}),a(e).keyup(function(){var r=a(this).val(),l=n.format.replace(/[0-9]/g,""),t=1,d=l.search("YYYY");4!=(d=r.substr(d,4).replace("_","")).length&&(t=0);var c=l.search("MM");(2!=(c=r.substr(c,2).replace("_","")).length||0==c||c>12)&&(t=0);var s=l.search("DD");(2!=(s=r.substr(s,2).replace("_","")).length||0==s||s>31)&&(t=0);var i=l.search("HH");i>0?(2!=(i=r.substr(i,2).replace("_","")).length||i>23)&&(t=0):i="00";var o=l.search("MI");o>0?(2!=(o=r.substr(o,2).replace("_","")).length||o>60)&&(t=0):o="00";var f=l.search("SS");if(f>0?(2!=(f=r.substr(f,2).replace("_","")).length||f>60)&&(t=0):f="00",1==t){var j=d+"-"+c+"-"+s+" "+i+":"+o+":"+f;a(n.source).val(j),a(this).jcalendar("open"),"function"==typeof n.onchange&&n.onchange(a(e),j)}})}if(n.source||(n.source=document.createElement("input"),a(n.source).prop("type","hidden"),a(e).before(n.source)),a(n.source).prop("class","jcalendar_value"),""==a(n.source).val()&&1==n.today){var d=new Date;dia=""+d.getDate(),1==dia.length&&(dia="0"+dia),mes=""+(d.getMonth()+1),1==mes.length&&(mes="0"+mes),ano=d.getFullYear(),hora=""+d.getHours(),1==hora.length&&(hora="0"+hora),min=""+d.getMinutes(),1==min.length&&(min="0"+min),a(n.source).val(ano+"-"+mes+"-"+dia+" "+hora+":"+min+":00")}if(14==a(n.source).val().replace(/\D/g,"").length){var c=a.fn.jcalendar("label",a(n.source).val(),n.format);a(e).val(c)}},open:function(e){var n=a(this).attr("id");a.fn.jcalendar.current=a(this);a.fn.jcalendar.defaults[n].format;e?a(a.fn.jcalendar.defaults[n].source).val(e):e=a(a.fn.jcalendar.defaults[n].source).val();var r=a(".jcalendar"),l=parseInt(a(this).offset().top)+parseInt(a(this).height())+15,t=parseInt(a(this).offset().left);if(a(r).css("display","block"),a(r).css("top",l),a(r).css("left",t),e){e=e.split(" "),v1=e[0].split("-"),e[1]||(e[1]="00:00:00"),v2=e[1].split(":"),v1[0]=parseInt(v1[0]),v1[1]=parseInt(v1[1]),v1[2]=parseInt(v1[2]),a(r).find(".jcalendar_day").val(v1[2]),a(r).find(".jcalendar_month").val(v1[1]),a(r).find(".jcalendar_year").val(v1[0]),e[1]&&(v2=e[1].split(":")),""!=v2[0]&&a(r).find(".jcalendar_hour").val(v2[0]),""!=v2[1]&&a(r).find(".jcalendar_min").val(v2[1]);var d=a.fn.jcalendar.defaults[n].months;a(r).find(".jcalendar_month_label").html(d[v1[1]-1]),a(r).find(".jcalendar_year_label").html(v1[0])}a(this).jcalendar("days")},close:function(e){var n=a(a.fn.jcalendar.current).attr("id"),r=a.fn.jcalendar.defaults[n];if(1==e){var l=a(".jcalendar"),t=a(l).find(".jcalendar_day").val(),d=a(l).find(".jcalendar_month").val(),c=a(l).find(".jcalendar_year").val();if(1==d.length&&(d="0"+d),1==t.length&&(t="0"+t),r.time){var s=a(l).find(".jcalendar_hour").val(),i=a(l).find(".jcalendar_min").val();1==s.length&&(s="0"+s),1==i.length&&(i="0"+i)}else s="00",i="00";a(r.source).val(c+"-"+d+"-"+t+" "+s+":"+i+":00"),val=a.fn.jcalendar("label",c+"-"+d+"-"+t+" "+s+":"+i+":00",r.format),a(a.fn.jcalendar.current).val(val),"function"==typeof r.onchange&&r.onchange(a(a.fn.jcalendar.current),c+"-"+d+"-"+t+" "+s+":"+i+":00")}a(".jcalendar").fadeOut("fast"),"function"==typeof r.onclose&&r.onclose(a.fn.jcalendar.current),a.fn.jcalendar.current=null},prev:function(){var e=a(a.fn.jcalendar.current).attr("id"),n=a.fn.jcalendar.defaults[e].months,r=a(".jcalendar");if(a(r).find(".jcalendar_years").length>0){var l=a(r).find(".jcalendar_year");a(l).val(a(l).val()-12),a(r).find(".jcalendar_year_label").html(a(l).val()),a(a.fn.jcalendar.current).jcalendar("years")}else{var t=a(r).find(".jcalendar_month");l=a(r).find(".jcalendar_year");a(t).val()<2?(a(t).val(12),a(l).val(a(l).val()-1)):a(t).val(a(t).val()-1),a(r).find(".jcalendar_month_label").html(n[a(t).val()-1]),a(r).find(".jcalendar_year_label").html(a(l).val()),a(a.fn.jcalendar.current).jcalendar("days")}},next:function(){var e=a(a.fn.jcalendar.current).attr("id"),n=a.fn.jcalendar.defaults[e].months,r=a(".jcalendar");if(a(r).find(".jcalendar_years").length>0){var l=a(r).find(".jcalendar_year");a(l).val(parseInt(a(l).val())+12),a(r).find(".jcalendar_year_label").html(a(l).val()),a(a.fn.jcalendar.current).jcalendar("years")}else{var t=a(r).find(".jcalendar_month");l=a(r).find(".jcalendar_year");a(t).val()>11?(a(t).val(1),a(l).val(parseInt(a(l).val())+1)):a(t).val(parseInt(a(t).val())+1),a(r).find(".jcalendar_month_label").html(n[a(t).val()-1]),a(r).find(".jcalendar_year_label").html(a(l).val()),a(a.fn.jcalendar.current).jcalendar("days")}},set:function(e){var n=a(this).attr("id"),r=a.fn.jcalendar.defaults[n];a(r.source).val(e),e=a(this).calendar("label",e,r.format),a(this).val(e)},label:function(e,n){if(n||(n="DD/MM/YYYY"),e){d=e,d=d.split(" ");var r="",l="";d[1]&&(r=(l=d[1].split(":"))[1],l=l[0]),d=d[0].split("-");var t=new Date(d[0],d[1]-1,d[2]),c=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");e=(e=(e=(e=(e=n).replace("WD",c[t.getDay()])).replace("DD",d[2])).replace("MM",d[1])).replace("YYYY",d[0]),l&&(e=e.replace("HH24",l)),e=(e=(e=a(this).find(".calendar_hour").val()>12?e.replace("HH12",l-12):e.replace("HH12",l)).replace("MI",r)).replace("SS",0)}return e},reset:function(){var e=a(a.fn.jcalendar.current).prop("id");a(a.fn.jcalendar.current).val(""),a(a.fn.jcalendar.defaults[e].source).val(""),a(a.fn.jcalendar.current).jcalendar("close",0)},config:function(e){var n=a(this).attr("id");(e=a.extend({format:"DD/MM/YYYY",readonly:1,today:0,time:0,clear:1,mask:1,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdays_short:["S","M","T","W","T","F","S"]},e)).format=e.format.toUpperCase(),n&&a.fn.jcalendar.defaults[n]&&(a.fn.jcalendar.defaults[n]=e)},days:function(e){var n,r,l,t=a(a.fn.jcalendar.current).prop("id"),d=a.fn.jcalendar.defaults[t].clear,c=a.fn.jcalendar.defaults[t].weekdays_short,s=a.fn.jcalendar.defaults[t].time,i=0,o=0,f=0,j=0,u=a(".jcalendar").find(".jcalendar_day").val(),v=a(".jcalendar").find(".jcalendar_month").val(),h=a(".jcalendar").find(".jcalendar_year").val(),p=a(".jcalendar").find(".jcalendar_hour").val(),y=a(".jcalendar").find(".jcalendar_min").val();n=new Date,h||(h=n.getFullYear()),v||(v=parseInt(n.getMonth())+1),p||(p=n.getHours()),y||(y=n.getMinutes()),n.getMonth()==v-1&&n.getFullYear()==h&&(f=1,j=n.getDate()),n=new Date(h,v,0,0,0),nd=n.getDate(),n=new Date(h,v-1,0,p,y),fd=n.getDay()+1;var m="",_="",g="";for(i=0;i<24;i++)g="",i==parseInt(n.getHours())&&(g=" selected"),1==(m=""+i).length&&(m="0"+m),_+='<option value="'+m+'" '+g+">"+m+"</option>";y="";var b="";for(i=0;i<60;i++)min_selected="",i==parseInt(n.getMinutes())&&(min_selected=" selected"),1==(y=""+i).length&&(y="0"+y),b+='<option value="'+y+'" '+min_selected+">"+y+"</option>";var M='<tr align="center" id="jcalendar_weekdays">';for(i=0;i<7;i++)M+='<td width="30">'+c[i]+"</td>";if(M+='</tr><tr align="center">',7==fd)var D=7;else D=0;for(i=D;i<7*Math.ceil((nd+fd)/7);i++)i>=fd&&i<nd+fd?o+=1:o=0,l="",0==o?r="":(r=o,o<10&&(r="0"+o),r=o,i%7||(l+="color:red;"),1==f&&j==o&&(l+="font-weight:bold;"),r==u&&(l+="background-color:#eee;")),i>0&&!(i%7)&&(M+='</tr><tr align="center">'),M+='<td style="'+l+'" class="setDay">'+r+"</td>";M+='<tr><td colspan="7" style="padding:6px;"> ',M+=1==s?'<select class="jcalendar_hour">'+_+'</select> <select class="jcalendar_min">'+b+"</select> ":'<select class="jcalendar_hour" style="display:none">'+_+'</select> <select class="jcalendar_min" style="display:none">'+b+"</select> ",M+='<div class="jcalendar_confirm">Ok</div>',d&&(M+='<div class="jcalendar_reset">clear</div>'),M+="</td></tr>",a(".jcalendar").find("tbody").html(M)},months:function(){var e=a(a.fn.jcalendar.current).prop("id"),n=a.fn.jcalendar.defaults[e].months,r='<td colspan="7"><table class="jcalendar_months" width="100%"><tr align="center">';for(i=0;i<12;i++)i>0&&!(i%3)&&(r+='</tr><tr align="center">'),month=parseInt(i)+1,r+='<td class="setMonth"><input type="hidden" value="'+month+'">'+n[i]+"</td>";r+="</tr></table></td>",a(".jcalendar").find("tbody").html(r)},years:function(){var e=a(".jcalendar").find(".jcalendar_year").val(),n=[];for(i=0;i<25;i++)n[i]=parseInt(e)+(i-12);n[12]="<b>"+n[12]+"</b>";var r='<td colspan="7"><table class="jquery_calendar_years" width="100%"><tr align="center">';for(i=0;i<25;i++)i>0&&!(i%5)&&(r+='</tr><tr align="center">'),r+='<td class="setYear">'+n[i]+"</td>";r+="</tr></table></td>",a(".jcalendar").find("tbody").html(r)}};a.fn.jcalendar=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void a.error("Method "+n+" does not exist on jQuery.tooltip"):e.init.apply(this,arguments)}}(jQuery);