import hyphenate from"fbjs/lib/hyphenateStyleName";import React,{Component,createElement}from"react";import supportsColor from"supports-color";import transformDeclPairs from"css-to-react-native";import PropTypes from"prop-types";import hoist from"hoist-non-react-statics";import{isValidElementType}from"react-is";import reactPrimitives from"react-primitives";function murmurhash(e){for(var t,r=0|e.length,n=0|r,o=0;r>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},objectWithoutProperties=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},isPlainObject=function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&e.constructor===Object},ERRORS="production"!==process.env.NODE_ENV?{1:"Cannot create styled-component for component: %s.\n\n",2:"Can't collect styles once you've consumed a `ServerStyleSheet`'s styles! `ServerStyleSheet` is a one off instance for each server-side render cycle.\n\n* Are you trying to reuse it across renders?\n* Are you accidentally calling collectStyles twice?\n\n",3:"Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.\n\n",4:"The `StyleSheetManager` expects a valid target or sheet prop!\n\n* Does this error occur on the client and is your target falsy?\n* Does this error occur on the server and is the sheet falsy?\n\n",5:"The clone method cannot be used on the client!\n\n* Are you running in a client-like environment on the server?\n* Are you trying to run SSR on the client?\n\n",6:"Trying to insert a new style tag, but the given Node is unmounted!\n\n* Are you using a custom target that isn't mounted?\n* Does your document not have a valid head element?\n* Have you accidentally removed a style tag manually?\n\n",7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:'ThemeProvider: Please make your "theme" prop an object.\n\n',9:"Missing document `<head>`\n\n",10:"Cannot find sheet for given tag\n\n",11:"A plain React class (%s) has been interpolated into styles, probably as a component selector (https://www.styled-components.com/docs/advanced#referring-to-other-components). Only styled-component classes can be targeted in this fashion."}:{};function format(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],o=[],s=void 0;for(s=1;s<t.length;s+=1)o.push(t[s]);return o.forEach(function(e){n=n.replace(/%[a-z]/,e)}),n}var StyledComponentsError=function(e){function t(r){classCallCheck(this,t);for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];if("production"===process.env.NODE_ENV)var i=possibleConstructorReturn(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/src/utils/errors.md#"+r+" for more information. "+(o?"Additional arguments: "+o.join(", "):"")));else i=possibleConstructorReturn(this,e.call(this,format.apply(void 0,[ERRORS[r]].concat(o))));return possibleConstructorReturn(i)}return inherits(t,e),t}(Error),objToCss=function e(t,r){var n=Object.keys(t).filter(function(e){var r=t[e];return null!=r&&!1!==r&&""!==r}).map(function(r){return isPlainObject(t[r])?e(t[r],r):hyphenate(r)+": "+t[r]+";"}).join(" ");return r?r+" {\n  "+n+"\n}":n},flatten=function e(t,r){return t.reduce(function(t,n){if(null==n||!1===n||""===n)return t;if(Array.isArray(n))return t.push.apply(t,e(n,r)),t;if(n.hasOwnProperty("styledComponentId"))return t.push("."+n.styledComponentId),t;if("function"==typeof n){if(r){var o=n(r);if(React.isValidElement(o)){var s=n.displayName||n.name;throw new StyledComponentsError(11,s)}t.push.apply(t,e([o],r))}else t.push(n);return t}return t.push(isPlainObject(n)?objToCss(n):n.toString()),t},[])},printed={};function warnOnce(e){printed[e]||(printed[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))}var SINGLE_QUOTE="'".charCodeAt(0),DOUBLE_QUOTE='"'.charCodeAt(0),BACKSLASH="\\".charCodeAt(0),SLASH="/".charCodeAt(0),NEWLINE="\n".charCodeAt(0),SPACE=" ".charCodeAt(0),FEED="\f".charCodeAt(0),TAB="\t".charCodeAt(0),CR="\r".charCodeAt(0),OPEN_SQUARE="[".charCodeAt(0),CLOSE_SQUARE="]".charCodeAt(0),OPEN_PARENTHESES="(".charCodeAt(0),CLOSE_PARENTHESES=")".charCodeAt(0),OPEN_CURLY="{".charCodeAt(0),CLOSE_CURLY="}".charCodeAt(0),SEMICOLON=";".charCodeAt(0),ASTERISK="*".charCodeAt(0),COLON=":".charCodeAt(0),AT="@".charCodeAt(0),RE_AT_END=/[ \n\t\r\f\{\(\)'"\\;/\[\]#]/g,RE_WORD_END=/[ \n\t\r\f\(\)\{\}:;@!'"\\\]\[#]|\/(?=\*)/g,RE_BAD_BRACKET=/.[\\\/\("'\n]/;function tokenize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=e.css.valueOf(),o=t.ignoreErrors,s=void 0,i=void 0,a=void 0,c=void 0,u=void 0,p=void 0,h=void 0,l=void 0,f=void 0,d=void 0,m=void 0,y=void 0,v=void 0,w=n.length,g=-1,C=1,b=0;function E(t){throw e.error("Unclosed "+t,C,b-g)}for(;b<w;){switch(((s=n.charCodeAt(b))===NEWLINE||s===FEED||s===CR&&n.charCodeAt(b+1)!==NEWLINE)&&(g=b,C+=1),s){case NEWLINE:case SPACE:case TAB:case CR:case FEED:i=b;do{i+=1,(s=n.charCodeAt(i))===NEWLINE&&(g=i,C+=1)}while(s===SPACE||s===NEWLINE||s===TAB||s===CR||s===FEED);r.push(["space",n.slice(b,i)]),b=i-1;break;case OPEN_SQUARE:r.push(["[","[",C,b-g]);break;case CLOSE_SQUARE:r.push(["]","]",C,b-g]);break;case OPEN_CURLY:r.push(["{","{",C,b-g]);break;case CLOSE_CURLY:r.push(["}","}",C,b-g]);break;case COLON:r.push([":",":",C,b-g]);break;case SEMICOLON:r.push([";",";",C,b-g]);break;case OPEN_PARENTHESES:if(y=r.length?r[r.length-1][1]:"",v=n.charCodeAt(b+1),"url"===y&&v!==SINGLE_QUOTE&&v!==DOUBLE_QUOTE&&v!==SPACE&&v!==NEWLINE&&v!==TAB&&v!==FEED&&v!==CR){i=b;do{if(d=!1,-1===(i=n.indexOf(")",i+1))){if(o){i=b;break}E("bracket")}for(m=i;n.charCodeAt(m-1)===BACKSLASH;)m-=1,d=!d}while(d);r.push(["brackets",n.slice(b,i+1),C,b-g,C,i-g]),b=i}else i=n.indexOf(")",b+1),p=n.slice(b,i+1),-1===i||RE_BAD_BRACKET.test(p)?r.push(["(","(",C,b-g]):(r.push(["brackets",p,C,b-g,C,i-g]),b=i);break;case CLOSE_PARENTHESES:r.push([")",")",C,b-g]);break;case SINGLE_QUOTE:case DOUBLE_QUOTE:a=s===SINGLE_QUOTE?"'":'"',i=b;do{if(d=!1,-1===(i=n.indexOf(a,i+1))){if(o){i=b+1;break}E("quote")}for(m=i;n.charCodeAt(m-1)===BACKSLASH;)m-=1,d=!d}while(d);(u=(c=(p=n.slice(b,i+1)).split("\n")).length-1)>0?(l=C+u,f=i-c[u].length):(l=C,f=g),r.push(["string",n.slice(b,i+1),C,b-g,l,i-f]),g=f,C=l,b=i;break;case AT:RE_AT_END.lastIndex=b+1,RE_AT_END.test(n),i=0===RE_AT_END.lastIndex?n.length-1:RE_AT_END.lastIndex-2,r.push(["at-word",n.slice(b,i+1),C,b-g,C,i-g]),b=i;break;case BACKSLASH:for(i=b,h=!0;n.charCodeAt(i+1)===BACKSLASH;)i+=1,h=!h;s=n.charCodeAt(i+1),h&&s!==SLASH&&s!==SPACE&&s!==NEWLINE&&s!==TAB&&s!==CR&&s!==FEED&&(i+=1),r.push(["word",n.slice(b,i+1),C,b-g,C,i-g]),b=i;break;default:s===SLASH&&n.charCodeAt(b+1)===ASTERISK?(0===(i=n.indexOf("*/",b+2)+1)&&(o?i=n.length:E("comment")),(u=(c=(p=n.slice(b,i+1)).split("\n")).length-1)>0?(l=C+u,f=i-c[u].length):(l=C,f=g),r.push(["comment",p,C,b-g,l,i-f]),g=f,C=l,b=i):(RE_WORD_END.lastIndex=b+1,RE_WORD_END.test(n),i=0===RE_WORD_END.lastIndex?n.length-1:RE_WORD_END.lastIndex-2,r.push(["word",n.slice(b,i+1),C,b-g,C,i-g]),b=i)}b++}return r}var HIGHLIGHT_THEME={brackets:[36,39],string:[31,39],"at-word":[31,39],comment:[90,39],"{":[32,39],"}":[32,39],":":[1,22],";":[1,22],"(":[1,22],")":[1,22]};function code(e){return"["+e+"m"}function terminalHighlight(e){var t=tokenize(new Input(e),{ignoreErrors:!0}),r=[];return t.forEach(function(e){var t=HIGHLIGHT_THEME[e[0]];t?r.push(e[1].split(/\r?\n/).map(function(e){return code(t[0])+e+code(t[1])}).join("\n")):r.push(e[1])}),r.join("")}var CssSyntaxError=function(){function e(t,r,n,o,s,i){classCallCheck(this,e),this.name="CssSyntaxError",this.reason=t,s&&(this.file=s),o&&(this.source=o),i&&(this.plugin=i),void 0!==r&&void 0!==n&&(this.line=r,this.column=n),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},e.prototype.showSourceCode=function(e){var t=this;if(!this.source)return"";var r=this.source;void 0===e&&(e=supportsColor),e&&(r=terminalHighlight(r));var n=r.split(/\r?\n/),o=Math.max(this.line-3,0),s=Math.min(this.line+2,n.length),i=String(s).length;return n.slice(o,s).map(function(e,r){var n=o+1+r,s=" "+(" "+n).slice(-i)+" | ";return n===t.line?">"+s+e+"\n "+(s.replace(/\d/g," ")+e.slice(0,t.column-1).replace(/[^\t]/g," "))+"^":" "+s+e}).join("\n")},e.prototype.toString=function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e},createClass(e,[{key:"generated",get:function(){return warnOnce("CssSyntaxError#generated is depreacted. Use input instead."),this.input}}]),e}(),defaultRaw={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" "};function capitalize(e){return e[0].toUpperCase()+e.slice(1)}var Stringifier=function(){function e(t){classCallCheck(this,e),this.builder=t}return e.prototype.stringify=function(e,t){this[e.type](e,t)},e.prototype.root=function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)},e.prototype.comment=function(e){var t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)},e.prototype.decl=function(e,t){var r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)},e.prototype.rule=function(e){this.block(e,this.rawValue(e,"selector"))},e.prototype.atrule=function(e,t){var r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{var o=(e.raws.between||"")+(t?";":"");this.builder(r+n+o,e)}},e.prototype.body=function(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var r=this.raw(e,"semicolon"),n=0;n<e.nodes.length;n++){var o=e.nodes[n],s=this.raw(o,"before");s&&this.builder(s),this.stringify(o,t!==n||r)}},e.prototype.block=function(e,t){var r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");var n=void 0;e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")},e.prototype.raw=function(e,t,r){var n=void 0;if(r||(r=t),t&&void 0!==(n=e.raws[t]))return n;var o=e.parent;if("before"===r&&(!o||"root"===o.type&&o.first===e))return"";if(!o)return defaultRaw[r];var s=e.root();if(s.rawCache||(s.rawCache={}),void 0!==s.rawCache[r])return s.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);var i="raw"+capitalize(r);return this[i]?n=this[i](s,e):s.walk(function(e){if(void 0!==(n=e.raws[t]))return!1}),void 0===n&&(n=defaultRaw[r]),s.rawCache[r]=n,n},e.prototype.rawSemicolon=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t},e.prototype.rawEmptyBody=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t},e.prototype.rawIndent=function(e){if(e.raws.indent)return e.raws.indent;var t=void 0;return e.walk(function(r){var n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){var o=r.raws.before.split("\n");return t=(t=o[o.length-1]).replace(/[^\s]/g,""),!1}}),t},e.prototype.rawBeforeComment=function(e,t){var r=void 0;return e.walkComments(function(e){if(void 0!==e.raws.before)return-1!==(r=e.raws.before).indexOf("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),void 0===r&&(r=this.raw(t,null,"beforeDecl")),r},e.prototype.rawBeforeDecl=function(e,t){var r=void 0;return e.walkDecls(function(e){if(void 0!==e.raws.before)return-1!==(r=e.raws.before).indexOf("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),void 0===r&&(r=this.raw(t,null,"beforeRule")),r},e.prototype.rawBeforeRule=function(e){var t=void 0;return e.walk(function(r){if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return-1!==(t=r.raws.before).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t},e.prototype.rawBeforeClose=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return-1!==(t=e.raws.after).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t},e.prototype.rawBeforeOpen=function(e){var t=void 0;return e.walk(function(e){if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t},e.prototype.rawColon=function(e){var t=void 0;return e.walkDecls(function(e){if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t},e.prototype.beforeAfter=function(e,t){var r=void 0;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var n=e.parent,o=0;n&&"root"!==n.type;)o+=1,n=n.parent;if(-1!==r.indexOf("\n")){var s=this.raw(e,null,"indent");if(s.length)for(var i=0;i<o;i++)r+=s}return r},e.prototype.rawValue=function(e,t){var r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r},e}();function stringify(e,t){new Stringifier(t).stringify(e)}var cloneNode=function e(t,r){var n=new t.constructor;for(var o in t)if(t.hasOwnProperty(o)){var s=t[o],i=void 0===s?"undefined":_typeof(s);"parent"===o&&"object"===i?r&&(n[o]=r):"source"===o?n[o]=s:s instanceof Array?n[o]=s.map(function(t){return e(t,n)}):"before"!==o&&"after"!==o&&"between"!==o&&"semicolon"!==o&&("object"===i&&null!==s&&(s=e(s)),n[o]=s)}return n},Node=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var r in classCallCheck(this,e),this.raws={},t)this[r]=t[r]}return e.prototype.error=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var r=this.positionBy(t);return this.source.input.error(e,r.line,r.column,t)}return new CssSyntaxError(e)},e.prototype.warn=function(e,t,r){var n={node:this};for(var o in r)n[o]=r[o];return e.warn(t,n)},e.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},e.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:stringify;e.stringify&&(e=e.stringify);var t="";return e(this,function(e){t+=e}),t},e.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=cloneNode(this);for(var r in e)t[r]=e[r];return t},e.prototype.cloneBefore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t},e.prototype.cloneAfter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t},e.prototype.replaceWith=function(){var e=this;if(this.parent){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(function(t){e.parent.insertBefore(e,t)}),this.remove()}return this},e.prototype.moveTo=function(e){return this.cleanRaws(this.root()===e.root()),this.remove(),e.append(this),this},e.prototype.moveBefore=function(e){return this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertBefore(e,this),this},e.prototype.moveAfter=function(e){return this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertAfter(e,this),this},e.prototype.next=function(){var e=this.parent.index(this);return this.parent.nodes[e+1]},e.prototype.prev=function(){var e=this.parent.index(this);return this.parent.nodes[e-1]},e.prototype.toJSON=function(){var e={};for(var t in this)if(this.hasOwnProperty(t)&&"parent"!==t){var r=this[t];r instanceof Array?e[t]=r.map(function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&e.toJSON?e.toJSON():e}):"object"===(void 0===r?"undefined":_typeof(r))&&r.toJSON?e[t]=r.toJSON():e[t]=r}return e},e.prototype.raw=function(e,t){return(new Stringifier).raw(this,e,t)},e.prototype.root=function(){for(var e=this;e.parent;)e=e.parent;return e},e.prototype.cleanRaws=function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between},e.prototype.positionInside=function(e){for(var t=this.toString(),r=this.source.start.column,n=this.source.start.line,o=0;o<e;o++)"\n"===t[o]?(r=1,n+=1):r+=1;return{line:n,column:r}},e.prototype.positionBy=function(e){var t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){var r=this.toString().indexOf(e.word);-1!==r&&(t=this.positionInside(r))}return t},e.prototype.removeSelf=function(){return warnOnce("Node#removeSelf is deprecated. Use Node#remove."),this.remove()},e.prototype.replace=function(e){return warnOnce("Node#replace is deprecated. Use Node#replaceWith"),this.replaceWith(e)},e.prototype.style=function(e,t){return warnOnce("Node#style() is deprecated. Use Node#raw()"),this.raw(e,t)},e.prototype.cleanStyles=function(e){return warnOnce("Node#cleanStyles() is deprecated. Use Node#cleanRaws()"),this.cleanRaws(e)},createClass(e,[{key:"before",get:function(){return warnOnce("Node#before is deprecated. Use Node#raws.before"),this.raws.before},set:function(e){warnOnce("Node#before is deprecated. Use Node#raws.before"),this.raws.before=e}},{key:"between",get:function(){return warnOnce("Node#between is deprecated. Use Node#raws.between"),this.raws.between},set:function(e){warnOnce("Node#between is deprecated. Use Node#raws.between"),this.raws.between=e}}]),e}(),Declaration=function(e){function t(r){classCallCheck(this,t);var n=possibleConstructorReturn(this,e.call(this,r));return n.type="decl",n}return inherits(t,e),createClass(t,[{key:"_value",get:function(){return warnOnce("Node#_value was deprecated. Use Node#raws.value"),this.raws.value},set:function(e){warnOnce("Node#_value was deprecated. Use Node#raws.value"),this.raws.value=e}},{key:"_important",get:function(){return warnOnce("Node#_important was deprecated. Use Node#raws.important"),this.raws.important},set:function(e){warnOnce("Node#_important was deprecated. Use Node#raws.important"),this.raws.important=e}}]),t}(Node),Comment=function(e){function t(r){classCallCheck(this,t);var n=possibleConstructorReturn(this,e.call(this,r));return n.type="comment",n}return inherits(t,e),createClass(t,[{key:"left",get:function(){return warnOnce("Comment#left was deprecated. Use Comment#raws.left"),this.raws.left},set:function(e){warnOnce("Comment#left was deprecated. Use Comment#raws.left"),this.raws.left=e}},{key:"right",get:function(){return warnOnce("Comment#right was deprecated. Use Comment#raws.right"),this.raws.right},set:function(e){warnOnce("Comment#right was deprecated. Use Comment#raws.right"),this.raws.right=e}}]),t}(Node),Parser=function(){function e(t){classCallCheck(this,e),this.input=t,this.pos=0,this.root=new Root,this.current=this.root,this.spaces="",this.semicolon=!1,this.root.source={input:t,start:{line:1,column:1}}}return e.prototype.tokenize=function(){this.tokens=tokenize(this.input)},e.prototype.loop=function(){for(var e=void 0;this.pos<this.tokens.length;){switch((e=this.tokens[this.pos])[0]){case"space":case";":this.spaces+=e[1];break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other()}this.pos+=1}this.endFile()},e.prototype.comment=function(e){var t=new Comment;this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{var n=r.match(/^(\s*)([^]*[^\s])(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}},e.prototype.emptyRule=function(e){var t=new Rule;this.init(t,e[2],e[3]),t.selector="",t.raws.between="",this.current=t},e.prototype.other=function(){for(var e=void 0,t=!1,r=null,n=!1,o=null,s=[],i=this.pos;this.pos<this.tokens.length;){if("("===(r=(e=this.tokens[this.pos])[0])||"["===r)o||(o=e),s.push("("===r?")":"]");else if(0===s.length){if(";"===r){if(n)return void this.decl(this.tokens.slice(i,this.pos+1));break}if("{"===r)return void this.rule(this.tokens.slice(i,this.pos+1));if("}"===r){this.pos-=1,t=!0;break}":"===r&&(n=!0)}else r===s[s.length-1]&&(s.pop(),0===s.length&&(o=null));this.pos+=1}if(this.pos===this.tokens.length&&(this.pos-=1,t=!0),s.length>0&&this.unclosedBracket(o),t&&n){for(;this.pos>i&&("space"===(e=this.tokens[this.pos][0])||"comment"===e);)this.pos-=1;this.decl(this.tokens.slice(i,this.pos+1))}else this.unknownWord(i)},e.prototype.rule=function(e){e.pop();var t=new Rule;this.init(t,e[0][2],e[0][3]),t.raws.between=this.spacesFromEnd(e),this.raw(t,"selector",e),this.current=t},e.prototype.decl=function(e){var t=new Declaration;this.init(t);var r=e[e.length-1];for(";"===r[0]&&(this.semicolon=!0,e.pop()),r[4]?t.source.end={line:r[4],column:r[5]}:t.source.end={line:r[2],column:r[3]};"word"!==e[0][0];)t.raws.before+=e.shift()[1];for(t.source.start={line:e[0][2],column:e[0][3]},t.prop="";e.length;){var n=e[0][0];if(":"===n||"space"===n||"comment"===n)break;t.prop+=e.shift()[1]}t.raws.between="";for(var o=void 0;e.length;){if(":"===(o=e.shift())[0]){t.raws.between+=o[1];break}t.raws.between+=o[1]}"_"!==t.prop[0]&&"*"!==t.prop[0]||(t.raws.before+=t.prop[0],t.prop=t.prop.slice(1)),t.raws.between+=this.spacesFromStart(e),this.precheckMissedSemicolon(e);for(var s=e.length-1;s>0;s--){if("!important"===(o=e[s])[1]){t.important=!0;var i=this.stringFrom(e,s);" !important"!==(i=this.spacesFromEnd(e)+i)&&(t.raws.important=i);break}if("important"===o[1]){for(var a=e.slice(0),c="",u=s;u>0;u--){var p=a[u][0];if(0===c.trim().indexOf("!")&&"space"!==p)break;c=a.pop()[1]+c}0===c.trim().indexOf("!")&&(t.important=!0,t.raws.important=c,e=a)}if("space"!==o[0]&&"comment"!==o[0])break}this.raw(t,"value",e),-1!==t.value.indexOf(":")&&this.checkMissedSemicolon(e)},e.prototype.atrule=function(e){var t=new AtRule;t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2],e[3]);var r=!1,n=!1,o=[];for(this.pos+=1;this.pos<this.tokens.length;){if(";"===(e=this.tokens[this.pos])[0]){t.source.end={line:e[2],column:e[3]},this.semicolon=!0;break}if("{"===e[0]){n=!0;break}if("}"===e[0]){this.end(e);break}o.push(e),this.pos+=1}this.pos===this.tokens.length&&(r=!0),t.raws.between=this.spacesFromEnd(o),o.length?(t.raws.afterName=this.spacesFromStart(o),this.raw(t,"params",o),r&&(e=o[o.length-1],t.source.end={line:e[4],column:e[5]},this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),n&&(t.nodes=[],this.current=t)},e.prototype.end=function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end={line:e[2],column:e[3]},this.current=this.current.parent):this.unexpectedClose(e)},e.prototype.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces},e.prototype.init=function(e,t,r){this.current.push(e),e.source={start:{line:t,column:r},input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)},e.prototype.raw=function(e,t,r){for(var n=void 0,o=void 0,s=r.length,i="",a=!0,c=0;c<s;c+=1)"comment"===(o=(n=r[c])[0])||"space"===o&&c===s-1?a=!1:i+=n[1];if(!a){var u=r.reduce(function(e,t){return e+t[1]},"");e.raws[t]={value:i,raw:u}}e[t]=i},e.prototype.spacesFromEnd=function(e){for(var t=void 0,r="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r},e.prototype.spacesFromStart=function(e){for(var t=void 0,r="";e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r},e.prototype.stringFrom=function(e,t){for(var r="",n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r},e.prototype.colon=function(e){for(var t=0,r=void 0,n=void 0,o=void 0,s=0;s<e.length;s++){if("("===(n=(r=e[s])[0]))t+=1;else if(")"===n)t-=1;else if(0===t&&":"===n){if(o){if("word"===o[0]&&"progid"===o[1])continue;return s}this.doubleColon(r)}o=r}return!1},e.prototype.unclosedBracket=function(e){throw this.input.error("Unclosed bracket",e[2],e[3])},e.prototype.unknownWord=function(e){var t=this.tokens[e];throw this.input.error("Unknown word",t[2],t[3])},e.prototype.unexpectedClose=function(e){throw this.input.error("Unexpected }",e[2],e[3])},e.prototype.unclosedBlock=function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)},e.prototype.doubleColon=function(e){throw this.input.error("Double colon",e[2],e[3])},e.prototype.unnamedAtrule=function(e,t){throw this.input.error("At-rule without name",t[2],t[3])},e.prototype.precheckMissedSemicolon=function(e){},e.prototype.checkMissedSemicolon=function(e){var t=this.colon(e);if(!1!==t){for(var r=0,n=void 0,o=t-1;o>=0&&("space"===(n=e[o])[0]||2!==(r+=1));o--);throw this.input.error("Missed semicolon",n[2],n[3])}},e}();function parse(e,t){if(t&&t.safe)throw new Error('Option safe was removed. Use parser: require("postcss-safe-parser")');var r=new Input(e,t),n=new Parser(r);try{n.tokenize(),n.loop()}catch(e){throw"CssSyntaxError"===e.name&&t&&t.from&&(/\.scss$/i.test(t.from)?e.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.less$/i.test(t.from)&&(e.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),e}return n.root}function cleanSource(e){return e.map(function(e){return e.nodes&&(e.nodes=cleanSource(e.nodes)),delete e.source,e})}var Container=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,e.apply(this,arguments))}return inherits(t,e),t.prototype.push=function(e){return e.parent=this,this.nodes.push(e),this},t.prototype.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var t=this.lastEach;if(this.indexes[t]=0,this.nodes){for(var r=void 0,n=void 0;this.indexes[t]<this.nodes.length&&(r=this.indexes[t],!1!==(n=e(this.nodes[r],r)));)this.indexes[t]+=1;return delete this.indexes[t],n}},t.prototype.walk=function(e){return this.each(function(t,r){var n=e(t,r);return!1!==n&&t.walk&&(n=t.walk(e)),n})},t.prototype.walkDecls=function(e,t){return t?e instanceof RegExp?this.walk(function(r,n){if("decl"===r.type&&e.test(r.prop))return t(r,n)}):this.walk(function(r,n){if("decl"===r.type&&r.prop===e)return t(r,n)}):(t=e,this.walk(function(e,r){if("decl"===e.type)return t(e,r)}))},t.prototype.walkRules=function(e,t){return t?e instanceof RegExp?this.walk(function(r,n){if("rule"===r.type&&e.test(r.selector))return t(r,n)}):this.walk(function(r,n){if("rule"===r.type&&r.selector===e)return t(r,n)}):(t=e,this.walk(function(e,r){if("rule"===e.type)return t(e,r)}))},t.prototype.walkAtRules=function(e,t){return t?e instanceof RegExp?this.walk(function(r,n){if("atrule"===r.type&&e.test(r.name))return t(r,n)}):this.walk(function(r,n){if("atrule"===r.type&&r.name===e)return t(r,n)}):(t=e,this.walk(function(e,r){if("atrule"===e.type)return t(e,r)}))},t.prototype.walkComments=function(e){return this.walk(function(t,r){if("comment"===t.type)return e(t,r)})},t.prototype.append=function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){e.normalize(t,e.last).forEach(function(t){return e.nodes.push(t)})}),this},t.prototype.prepend=function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return(r=r.reverse()).forEach(function(t){var r=e.normalize(t,e.first,"prepend").reverse();for(var n in r.forEach(function(t){return e.nodes.unshift(t)}),e.indexes)e.indexes[n]=e.indexes[n]+r.length}),this},t.prototype.cleanRaws=function(t){e.prototype.cleanRaws.call(this,t),this.nodes&&this.nodes.forEach(function(e){return e.cleanRaws(t)})},t.prototype.insertBefore=function(e,t){var r=this,n=0===(e=this.index(e))&&"prepend",o=this.normalize(t,this.nodes[e],n).reverse();o.forEach(function(t){return r.nodes.splice(e,0,t)});var s=void 0;for(var i in this.indexes)s=this.indexes[i],e<=s&&(this.indexes[i]=s+o.length);return this},t.prototype.insertAfter=function(e,t){var r=this;e=this.index(e);var n=this.normalize(t,this.nodes[e]).reverse();n.forEach(function(t){return r.nodes.splice(e+1,0,t)});var o=void 0;for(var s in this.indexes)o=this.indexes[s],e<o&&(this.indexes[s]=o+n.length);return this},t.prototype.remove=function(t){return void 0!==t?(warnOnce("Container#remove is deprecated. Use Container#removeChild"),this.removeChild(t)):e.prototype.remove.call(this),this},t.prototype.removeChild=function(e){e=this.index(e),this.nodes[e].parent=void 0,this.nodes.splice(e,1);var t=void 0;for(var r in this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this},t.prototype.removeAll=function(){return this.nodes.forEach(function(e){return e.parent=void 0}),this.nodes=[],this},t.prototype.replaceValues=function(e,t,r){return r||(r=t,t={}),this.walkDecls(function(n){t.props&&-1===t.props.indexOf(n.prop)||t.fast&&-1===n.value.indexOf(t.fast)||(n.value=n.value.replace(e,r))}),this},t.prototype.every=function(e){return this.nodes.every(e)},t.prototype.some=function(e){return this.nodes.some(e)},t.prototype.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},t.prototype.normalize=function(e,t){var r=this;if("string"==typeof e)e=cleanSource(parse(e).nodes);else if(!Array.isArray(e))if("root"===e.type)e=e.nodes;else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new Declaration(e)]}else if(e.selector)e=[new Rule(e)];else if(e.name)e=[new AtRule(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new Comment(e)]}return e.map(function(e){return void 0===e.raws&&(e=r.rebuild(e)),e.parent&&(e=e.clone()),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/[^\s]/g,"")),e.parent=r,e})},t.prototype.rebuild=function(e,t){var r=this,n=void 0;for(var o in"root"===e.type?n=new Root:"atrule"===e.type?n=new AtRule:"rule"===e.type?n=new Rule:"decl"===e.type?n=new Declaration:"comment"===e.type&&(n=new Comment),e)"nodes"===o?n.nodes=e.nodes.map(function(e){return r.rebuild(e,n)}):"parent"===o&&t?n.parent=t:e.hasOwnProperty(o)&&(n[o]=e[o]);return n},t.prototype.eachInside=function(e){return warnOnce("Container#eachInside is deprecated. Use Container#walk instead."),this.walk(e)},t.prototype.eachDecl=function(e,t){return warnOnce("Container#eachDecl is deprecated. Use Container#walkDecls instead."),this.walkDecls(e,t)},t.prototype.eachRule=function(e,t){return warnOnce("Container#eachRule is deprecated. Use Container#walkRules instead."),this.walkRules(e,t)},t.prototype.eachAtRule=function(e,t){return warnOnce("Container#eachAtRule is deprecated. Use Container#walkAtRules instead."),this.walkAtRules(e,t)},t.prototype.eachComment=function(e){return warnOnce("Container#eachComment is deprecated. Use Container#walkComments instead."),this.walkComments(e)},createClass(t,[{key:"first",get:function(){if(this.nodes)return this.nodes[0]}},{key:"last",get:function(){if(this.nodes)return this.nodes[this.nodes.length-1]}},{key:"semicolon",get:function(){return warnOnce("Node#semicolon is deprecated. Use Node#raws.semicolon"),this.raws.semicolon},set:function(e){warnOnce("Node#semicolon is deprecated. Use Node#raws.semicolon"),this.raws.semicolon=e}},{key:"after",get:function(){return warnOnce("Node#after is deprecated. Use Node#raws.after"),this.raws.after},set:function(e){warnOnce("Node#after is deprecated. Use Node#raws.after"),this.raws.after=e}}]),t}(Node),AtRule=function(e){function t(r){classCallCheck(this,t);var n=possibleConstructorReturn(this,e.call(this,r));return n.type="atrule",n}return inherits(t,e),t.prototype.append=function(){var t;this.nodes||(this.nodes=[]);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.prototype.append).call.apply(t,[this].concat(n))},t.prototype.prepend=function(){var t;this.nodes||(this.nodes=[]);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.prototype.prepend).call.apply(t,[this].concat(n))},createClass(t,[{key:"afterName",get:function(){return warnOnce("AtRule#afterName was deprecated. Use AtRule#raws.afterName"),this.raws.afterName},set:function(e){warnOnce("AtRule#afterName was deprecated. Use AtRule#raws.afterName"),this.raws.afterName=e}},{key:"_params",get:function(){return warnOnce("AtRule#_params was deprecated. Use AtRule#raws.params"),this.raws.params},set:function(e){warnOnce("AtRule#_params was deprecated. Use AtRule#raws.params"),this.raws.params=e}}]),t}(Container),list={split:function(e,t,r){for(var n=[],o="",s=!1,i=0,a=!1,c=!1,u=0;u<e.length;u++){var p=e[u];a?c?c=!1:"\\"===p?c=!0:p===a&&(a=!1):'"'===p||"'"===p?a=p:"("===p?i+=1:")"===p?i>0&&(i-=1):0===i&&-1!==t.indexOf(p)&&(s=!0),s?(""!==o&&n.push(o.trim()),o="",s=!1):o+=p}return(r||""!==o)&&n.push(o.trim()),n},space:function(e){return list.split(e,[" ","\n","\t"])},comma:function(e){return list.split(e,[","],!0)}},Rule=function(e){function t(r){classCallCheck(this,t);var n=possibleConstructorReturn(this,e.call(this,r));return n.type="rule",n.nodes||(n.nodes=[]),n}return inherits(t,e),createClass(t,[{key:"selectors",get:function(){return list.comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}},{key:"_selector",get:function(){return warnOnce("Rule#_selector is deprecated. Use Rule#raws.selector"),this.raws.selector},set:function(e){warnOnce("Rule#_selector is deprecated. Use Rule#raws.selector"),this.raws.selector=e}}]),t}(Container),Warning=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(classCallCheck(this,e),this.type="warning",this.text=t,r.node&&r.node.source){var n=r.node.positionBy(r);this.line=n.line,this.column=n.column}for(var o in r)this[o]=r[o]}return e.prototype.toString=function(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e}(),Result=function(){function e(t,r,n){classCallCheck(this,e),this.processor=t,this.messages=[],this.root=r,this.opts=n,this.css=void 0,this.map=void 0}return e.prototype.toString=function(){return this.css},e.prototype.warn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var r=new Warning(e,t);return this.messages.push(r),r},e.prototype.warnings=function(){return this.messages.filter(function(e){return"warning"===e.type})},createClass(e,[{key:"content",get:function(){return this.css}}]),e}();function isPromise(e){return"object"===(void 0===e?"undefined":_typeof(e))&&"function"==typeof e.then}var LazyResult=function(){function e(t,r,n){classCallCheck(this,e),this.stringified=!1,this.processed=!1;var o=void 0;if("object"===(void 0===r?"undefined":_typeof(r))&&"root"===r.type)o=r;else if(r instanceof e||r instanceof Result)o=r.root,r.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{var s=parse;n.syntax&&(s=n.syntax.parse),n.parser&&(s=n.parser),s.parse&&(s=s.parse);try{o=s(r,n)}catch(e){this.error=e}}this.result=new Result(t,o,n)}return e.prototype.warnings=function(){return this.sync().warnings()},e.prototype.toString=function(){return this.css},e.prototype.then=function(e,t){return this.async().then(e,t)},e.prototype.catch=function(e){return this.async().catch(e)},e.prototype.handleError=function(e,t){try{if(this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(t.postcssVersion){var r=t.postcssPlugin,n=t.postcssVersion,o=this.result.processor.version,s=n.split("."),i=o.split(".");(s[0]!==i[0]||parseInt(s[1])>parseInt(i[1]))&&warnOnce("Your current PostCSS version is "+o+", but "+r+" uses "+n+". Perhaps this is the source of the error below.")}}else e.plugin=t.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}},e.prototype.asyncTick=function(e,t){var r=this;if(this.plugin>=this.processor.plugins.length)return this.processed=!0,e();try{var n=this.processor.plugins[this.plugin],o=this.run(n);this.plugin+=1,isPromise(o)?o.then(function(){r.asyncTick(e,t)}).catch(function(e){r.handleError(e,n),r.processed=!0,t(e)}):this.asyncTick(e,t)}catch(e){this.processed=!0,t(e)}},e.prototype.async=function(){var e=this;return this.processed?new Promise(function(t,r){e.error?r(e.error):t(e.stringify())}):this.processing?this.processing:(this.processing=new Promise(function(t,r){if(e.error)return r(e.error);e.plugin=0,e.asyncTick(t,r)}).then(function(){return e.processed=!0,e.stringify()}),this.processing)},e.prototype.sync=function(){var e=this;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw new Error("Use process(css).then(cb) to work with async plugins");if(this.error)throw this.error;return this.result.processor.plugins.forEach(function(t){if(isPromise(e.run(t)))throw new Error("Use process(css).then(cb) to work with async plugins")}),this.result},e.prototype.run=function(e){this.result.lastPlugin=e;try{return e(this.result.root,this.result)}catch(t){throw this.handleError(t,e),t}},e.prototype.stringify=function(){if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=stringify;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var r="";return t(this.root,function(e){r+=e}),this.result.css=r,this.result},createClass(e,[{key:"processor",get:function(){return this.result.processor}},{key:"opts",get:function(){return this.result.opts}},{key:"css",get:function(){return this.stringify().css}},{key:"content",get:function(){return this.stringify().content}},{key:"map",get:function(){return this.stringify().map}},{key:"root",get:function(){return this.sync().root}},{key:"messages",get:function(){return this.sync().messages}}]),e}(),Processor=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];classCallCheck(this,e),this.version="5.2.0",this.plugins=this.normalize(t)}return e.prototype.use=function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this},e.prototype.process=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new LazyResult(this,e,t)},e.prototype.normalize=function(e){var t=[];return e.forEach(function(e){if(e.postcss&&(e=e.postcss),"object"===(void 0===e?"undefined":_typeof(e))&&Array.isArray(e.plugins))t=t.concat(e.plugins);else{if("function"!=typeof e)throw new Error(e+" is not a PostCSS plugin");t.push(e)}}),t},e}(),Root=function(e){function t(r){classCallCheck(this,t);var n=possibleConstructorReturn(this,e.call(this,r));return n.type="root",n.nodes||(n.nodes=[]),n}return inherits(t,e),t.prototype.removeChild=function(t){return 0===(t=this.index(t))&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[t].raws.before),e.prototype.removeChild.call(this,t)},t.prototype.normalize=function(t,r,n){var o=e.prototype.normalize.call(this,t);return r&&("prepend"===n?this.nodes.length>1?r.raws.before=this.nodes[1].raws.before:delete r.raws.before:this.first!==r&&o.forEach(function(e){e.raws.before=r.raws.before})),o},t.prototype.toResult=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new LazyResult(new Processor,this,e).stringify()},t.prototype.remove=function(e){warnOnce("Root#remove is deprecated. Use Root#removeChild"),this.removeChild(e)},t.prototype.prevMap=function(){return warnOnce("Root#prevMap is deprecated. Use Root#source.input.map"),this.source.input.map},t}(Container),sequence=0,Input=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};classCallCheck(this,e),this.css=t.toString(),"\ufeff"!==this.css[0]&&"ï¿¾"!==this.css[0]||(this.css=this.css.slice(1)),r.from&&(/^\w+:\/\//.test(r.from)?this.file=r.from:this.file=path.resolve(r.from)),this.file||(sequence+=1,this.id="<input css "+sequence+">"),this.map&&(this.map.file=this.from)}return e.prototype.error=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0,s=this.origin(t,r);return(o=s?new CssSyntaxError(e,s.line,s.column,s.source,s.file,n.plugin):new CssSyntaxError(e,t,r,this.css,this.file,n.plugin)).input={line:t,column:r,source:this.css},this.file&&(o.input.file=this.file),o},e.prototype.origin=function(e,t){if(!this.map)return!1;var r=this.map.consumer(),n=r.originalPositionFor({line:e,column:t});if(!n.source)return!1;var o={file:this.mapResolve(n.source),line:n.line,column:n.column},s=r.sourceContentFor(n.source);return s&&(o.source=s),o},e.prototype.mapResolve=function(e){return/^\w+:\/\//.test(e)?e:path.resolve(this.map.consumer().sourceRoot||".",e)},createClass(e,[{key:"from",get:function(){return this.file||this.id}}]),e}(),SafeParser=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,e.apply(this,arguments))}return inherits(t,e),t.prototype.tokenize=function(){this.tokens=tokenize(this.input,{ignoreErrors:!0})},t.prototype.comment=function(e){var t=new Comment;this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var r=e[1].slice(2);if("*/"===r.slice(-2)&&(r=r.slice(0,-2)),/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{var n=r.match(/^(\s*)([^]*[^\s])(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}},t.prototype.unclosedBracket=function(){},t.prototype.unknownWord=function(e){var t=this.tokens.slice(e,this.pos+1);this.spaces+=t.map(function(e){return e[1]}).join("")},t.prototype.unexpectedClose=function(){this.current.raws.after+="}"},t.prototype.doubleColon=function(){},t.prototype.unnamedAtrule=function(e){e.name=""},t.prototype.precheckMissedSemicolon=function(e){var t=this.colon(e);if(!1!==t){var r=void 0;for(r=t-1;r>=0&&"word"!==e[r][0];r--);for(r-=1;r>=0;r--)if("space"!==e[r][0]){r+=1;break}var n=e.splice(r,e.length-r);this.decl(n)}},t.prototype.checkMissedSemicolon=function(){},t.prototype.endFile=function(){for(this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.current.parent;)this.current=this.current.parent,this.current.raws.after=""},t}(Parser);function safeParse(e,t){var r=new Input(e,t),n=new SafeParser(r);return n.tokenize(),n.loop(),n.root}var generated={},_InlineStyle=function(e){return function(){function t(e){classCallCheck(this,t),this.rules=e}return t.prototype.generateStyleObject=function(t){var r=flatten(this.rules,t).join(""),n=murmurhash(r);if(!generated[n]){var o=safeParse(r),s=[];o.each(function(e){"decl"===e.type?s.push([e.prop,e.value]):"comment"!==e.type&&"production"!==process.env.NODE_ENV&&console.warn("Node of type "+e.type+" not supported as an inline style")});var i=transformDeclPairs(s,["borderRadius","borderWidth","borderColor","borderStyle"]),a=e.create({generated:i});generated[n]=a.generated}return generated[n]},t}()},determineTheme=function(e,t,r){var n=r&&e.theme===r.theme;return e.theme&&!n?e.theme:t},EMPTY_ARRAY=Object.freeze([]),EMPTY_OBJECT=Object.freeze({});function getComponentName(e){return e.displayName||e.name||"Component"}function isTag(e){return"string"==typeof e}function generateDisplayName(e){return isTag(e)?"styled."+e:"Styled("+getComponentName(e)+")"}function isStyledComponent(e){return"function"==typeof e&&"string"==typeof e.styledComponentId}function hasInInheritanceChain(e,t){for(var r=e;r;)if((r=Object.getPrototypeOf(r))&&r===t)return!0;return!1}var _contextShape,_ThemeProvider$contex,once=function(e){var t=!1;return function(){t||(t=!0,e())}},createBroadcast=function(e){var t={},r=0,n=e;return{publish:function(e){for(var r in n=e,t){var o=t[r];void 0!==o&&o(n)}},subscribe:function(e){var o=r;return t[o]=e,r+=1,e(n),o},unsubscribe:function(e){t[e]=void 0}}},CHANNEL="__styled-components__",CHANNEL_NEXT=CHANNEL+"next__",CONTEXT_CHANNEL_SHAPE=PropTypes.shape({getTheme:PropTypes.func,subscribe:PropTypes.func,unsubscribe:PropTypes.func}),contextShape=((_contextShape={})[CHANNEL]=PropTypes.func,_contextShape[CHANNEL_NEXT]=CONTEXT_CHANNEL_SHAPE,_contextShape),warnChannelDeprecated=void 0;"production"!==process.env.NODE_ENV&&(warnChannelDeprecated=once(function(){console.error("Warning: Usage of `context."+CHANNEL+"` as a function is deprecated. It will be replaced with the object on `.context."+CHANNEL_NEXT+"` in a future version.")}));var isFunction=function(e){return"function"==typeof e},ThemeProvider=function(e){function t(){classCallCheck(this,t);var r=possibleConstructorReturn(this,e.call(this));return r.unsubscribeToOuterId=-1,r.getTheme=r.getTheme.bind(r),r}return inherits(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.context[CHANNEL_NEXT];void 0!==t&&(this.unsubscribeToOuterId=t.subscribe(function(t){e.outerTheme=t,void 0!==e.broadcast&&e.publish(e.props.theme)})),this.broadcast=createBroadcast(this.getTheme())},t.prototype.getChildContext=function(){var e,t=this;return _extends({},this.context,((e={})[CHANNEL_NEXT]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},e[CHANNEL]=function(e){"production"!==process.env.NODE_ENV&&warnChannelDeprecated();var r=t.broadcast.subscribe(e);return function(){return t.broadcast.unsubscribe(r)}},e))},t.prototype.componentWillReceiveProps=function(e){this.props.theme!==e.theme&&this.publish(e.theme)},t.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[CHANNEL_NEXT].unsubscribe(this.unsubscribeToOuterId)},t.prototype.getTheme=function(e){var t=e||this.props.theme;if(isFunction(t)){var r=t(this.outerTheme);if("production"!==process.env.NODE_ENV&&(null===r||Array.isArray(r)||"object"!==(void 0===r?"undefined":_typeof(r))))throw new StyledComponentsError(7);return r}if(null===t||Array.isArray(t)||"object"!==(void 0===t?"undefined":_typeof(t)))throw new StyledComponentsError(8);return _extends({},this.outerTheme,t)},t.prototype.publish=function(e){this.broadcast.publish(this.getTheme(e))},t.prototype.render=function(){return this.props.children?React.Children.only(this.props.children):null},t}(Component);ThemeProvider.childContextTypes=contextShape,ThemeProvider.contextTypes=((_ThemeProvider$contex={})[CHANNEL_NEXT]=CONTEXT_CHANNEL_SHAPE,_ThemeProvider$contex);var warnExtendDeprecated=function(){};"production"!==process.env.NODE_ENV&&(warnExtendDeprecated=once(function(){console.error('Warning: The "extend" API will be removed in the upcoming v4.0 release. Use styled(StyledComponent) instead. You can find more information here: https://github.com/styled-components/styled-components/issues/1546')}));var BaseStyledNativeComponent=function(e){function t(){var r,n;classCallCheck(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return r=n=possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),n.attrs={},n.state={theme:null,generatedStyles:void 0},n.unsubscribeId=-1,n.onRef=function(e){var t=n.props.innerRef;n.root=e,"function"==typeof t?t(e):"object"===(void 0===t?"undefined":_typeof(t))&&t&&t.hasOwnProperty("current")&&(t.current=e)},possibleConstructorReturn(n,r)}return inherits(t,e),t.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[CHANNEL_NEXT].unsubscribe(this.unsubscribeId)},t.prototype.buildExecutionContext=function(e,t){var r=this.constructor.attrs,n=_extends({},t,{theme:e});return void 0===r?n:(this.attrs=Object.keys(r).reduce(function(e,t){var o=r[t];return e[t]="function"!=typeof o||hasInInheritanceChain(o,Component)?o:o(n),e},{}),_extends({},n,this.attrs))},t.prototype.generateAndInjectStyles=function(e,t){var r=this.constructor.inlineStyle,n=this.buildExecutionContext(e,t);return r.generateStyleObject(n)},t.prototype.componentWillMount=function(){var e=this,t=this.context[CHANNEL_NEXT];if(void 0!==t){var r=t.subscribe;this.unsubscribeId=r(function(t){var r=determineTheme(e.props,t,e.constructor.defaultProps),n=e.generateAndInjectStyles(r,e.props);e.setState({theme:r,generatedStyles:n})})}else{var n=this.props.theme||EMPTY_OBJECT,o=this.generateAndInjectStyles(n,this.props);this.setState({theme:n,generatedStyles:o})}},t.prototype.componentWillReceiveProps=function(e){var t=this;this.setState(function(r){var n=determineTheme(e,r.theme,t.constructor.defaultProps);return{theme:n,generatedStyles:t.generateAndInjectStyles(n,e)}})},t.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},t.prototype.setNativeProps=function(e){if(void 0!==this.root)this.root.setNativeProps(e);else if("production"!==process.env.NODE_ENV){var t=this.constructor.displayName;console.warn("setNativeProps was called on a Styled Component wrapping a stateless functional component. In this case no ref will be stored, and instead an innerRef prop will be passed on.\nCheck whether the stateless functional component is passing on innerRef as a ref in "+(t||"UnknownStyledNativeComponent")+".")}},t.prototype.render=function(){var e=this.props,t=e.children,r=e.style,n=this.state.generatedStyles,o=this.constructor.target,s=_extends({},this.attrs,this.props,{style:[n,r]});return!isStyledComponent(o)&&("function"!=typeof o||o.prototype&&"isReactComponent"in o.prototype)?(s.ref=this.onRef,delete s.innerRef):s.innerRef=this.onRef,createElement(o,s,t)},t}(Component),_StyledNativeComponent=function(e,t){return function r(n,o,s){var i=o.isClass,a=void 0===i?!isTag(n):i,c=o.displayName,u=void 0===c?generateDisplayName(n):c,p=o.ParentComponent,h=void 0===p?BaseStyledNativeComponent:p,l=o.rules,f=o.attrs,d=new t(void 0===l?s:l.concat(s)),m=function(t){function i(){return classCallCheck(this,i),possibleConstructorReturn(this,t.apply(this,arguments))}return inherits(i,t),i.withComponent=function(e){o.displayName,o.componentId;var t=objectWithoutProperties(o,["displayName","componentId"]),n=_extends({},t,{ParentComponent:i});return r(e,n,s)},createClass(i,null,[{key:"extend",get:function(){o.displayName,o.componentId;var t=o.rules,a=objectWithoutProperties(o,["displayName","componentId","rules"]),c=void 0===t?s:t.concat(s),u=_extends({},a,{rules:c,ParentComponent:i});return warnExtendDeprecated(),e(r,n,u)}}]),i}(h);return m.attrs=f,m.contextTypes=contextShape,m.displayName=u,m.inlineStyle=d,m.styledComponentId="StyledNativeComponent",m.target=n,a&&hoist(m,n,{attrs:!0,displayName:!0,extend:!0,inlineStyle:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}},_constructWithOptions=function(e){return function t(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:EMPTY_OBJECT;if(!isValidElementType(n))throw new StyledComponentsError(1,String(n));var s=function(){return r(n,o,e.apply(void 0,arguments))};return s.withConfig=function(e){return t(r,n,_extends({},o,e))},s.attrs=function(e){return t(r,n,_extends({},o,{attrs:_extends({},o.attrs||EMPTY_OBJECT,e)}))},s}},interleave=function(e,t){for(var r=[e[0]],n=0,o=t.length;n<o;n+=1)r.push(t[n],e[n+1]);return r},css=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"function"==typeof e||isPlainObject(e)?flatten(interleave(EMPTY_ARRAY,[e].concat(r))):flatten(interleave(e,r))},withTheme=function(e){var t="function"==typeof e&&!(e.prototype&&"isReactComponent"in e.prototype),r=isStyledComponent(e)||t,n=function(t){function n(){var e,r;classCallCheck(this,n);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return e=r=possibleConstructorReturn(this,t.call.apply(t,[this].concat(s))),r.state=EMPTY_OBJECT,r.unsubscribeId=-1,possibleConstructorReturn(r,e)}return inherits(n,t),n.prototype.componentWillMount=function(){var e=this,t=this.constructor.defaultProps,r=this.context[CHANNEL_NEXT],n=determineTheme(this.props,void 0,t);if(void 0===r&&void 0===n&&"production"!==process.env.NODE_ENV)console.warn("[withTheme] You are not using a ThemeProvider nor passing a theme prop or a theme in defaultProps");else if(void 0===r&&void 0!==n)this.setState({theme:n});else{var o=r.subscribe;this.unsubscribeId=o(function(r){var n=determineTheme(e.props,r,t);e.setState({theme:n})})}},n.prototype.componentWillReceiveProps=function(e){var t=this.constructor.defaultProps;this.setState(function(r){return{theme:determineTheme(e,r.theme,t)}})},n.prototype.componentWillUnmount=function(){-1!==this.unsubscribeId&&this.context[CHANNEL_NEXT].unsubscribe(this.unsubscribeId)},n.prototype.render=function(){var t=_extends({theme:this.state.theme},this.props);return r||(t.ref=t.innerRef,delete t.innerRef),React.createElement(e,t)},n}(React.Component);return n.contextTypes=contextShape,n.displayName="WithTheme("+getComponentName(e)+")",n.styledComponentId="withTheme",hoist(n,e)},constructWithOptions=_constructWithOptions(css),InlineStyle=_InlineStyle(reactPrimitives.StyleSheet),StyledNativeComponent=_StyledNativeComponent(constructWithOptions,InlineStyle),styled=function(e){return constructWithOptions(StyledNativeComponent,e)},aliases="Image Text Touchable View ";aliases.split(/\s+/m).forEach(function(e){return Object.defineProperty(styled,e,{enumerable:!0,configurable:!1,get:function(){return styled(reactPrimitives[e])}})});export default styled;export{css,isStyledComponent,ThemeProvider,withTheme};