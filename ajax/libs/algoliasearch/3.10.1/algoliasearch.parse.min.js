module.exports=function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){function o(e,t,r){var i=n(55);return r=i(r||{}),r.protocol===undefined&&(r.protocol="https:"),r.timeout===undefined&&(r.timeout=7500),r._setTimeout=a,r._ua=r._ua||o.ua,r._useCache=!1,new u(e,t,r)}function u(){s.apply(this,arguments)}function a(e,t){function r(){if(Date.now()<n+t){process.nextTick(r);return}e()}var n=Date.now();process.nextTick(r)}e.exports=o,process.env={},global={};var r=n(1)("algoliasearch:parse"),i=n(4),s=n(5);r("loaded the Parse client"),o.version=n(56),o.ua="Algolia for Parse "+o.version,i(u,s),u.prototype._request=function(e,t){function u(n){r("error: %j  - %s %j",n,e,t),s.resolve({statusCode:n.status,body:n.data,headers:n.headers})}function a(n){r("success: %j  - %s %j",n,e,t),s.resolve({statusCode:n.status,body:n.data,headers:n.headers})}var i=n(34),s=new Parse.Promise;r("url: %s, opts: %j",e,t);var o={url:e,headers:i(t.headers),method:t.method,success:a,error:u};return t.body&&(o.headers["content-type"]="application/json;charset=utf-8",o.body=t.body),Parse.Cloud.httpRequest(o),s},u.prototype._promise={reject:function(e){return Parse.Promise.error(e)},resolve:function(e){return Parse.Promise.as(e)},delay:function(e){var t=new Parse.Promise;return a(t.resolve.bind(t),e),t}}},function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,n=this.useColors;e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff);if(!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){if("%%"===e)return;i++,"%c"===e&&(s=i)}),e.splice(s,0,r),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function u(){var e;try{e=t.storage.debug}catch(n){}return e}function a(){try{return window.localStorage}catch(e){}}t=e.exports=n(2),t.log=s,t.formatArgs=i,t.save=o,t.load=u,t.useColors=r,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:a(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(u())},function(e,t,n){function s(){return t.colors[r++%t.colors.length]}function o(e){function n(){}function r(){var e=r,n=+(new Date),o=n-(i||n);e.diff=o,e.prev=i,e.curr=n,i=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=s());var u=Array.prototype.slice.call(arguments);u[0]=t.coerce(u[0]),"string"!=typeof u[0]&&(u=["%o"].concat(u));var a=0;u[0]=u[0].replace(/%([a-z%])/g,function(n,r){if(n==="%%")return n;a++;var i=t.formatters[r];if("function"==typeof i){var s=u[a];n=i.call(e,s),u.splice(a,1),a--}return n}),"function"==typeof t.formatArgs&&(u=t.formatArgs.apply(e,u));var f=r.log||t.log||console.log.bind(console);f.apply(e,u)}n.enabled=!1,r.enabled=!0;var o=t.enabled(e)?r:n;return o.namespace=e,o}function u(e){t.save(e);var n=(e||"").split(/[\s,]+/),r=n.length;for(var i=0;i<r;i++){if(!n[i])continue;e=n[i].replace(/\*/g,".*?"),e[0]==="-"?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$"))}}function a(){t.enable("")}function f(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o,t.coerce=l,t.disable=a,t.enable=u,t.enabled=f,t.humanize=n(3),t.names=[],t.skips=[],t.formatters={};var r=0,i},function(e,t){function u(e){e=""+e;if(e.length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]),a=(t[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return u*o;case"days":case"day":case"d":return u*s;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u}}function a(e){return e>=s?Math.round(e/s)+"d":e>=i?Math.round(e/i)+"h":e>=r?Math.round(e/r)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}function f(e){return l(e,s,"day")||l(e,i,"hour")||l(e,r,"minute")||l(e,n,"second")||e+" ms"}function l(e,t,n){if(e<t)return;return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var n=1e3,r=n*60,i=r*60,s=i*24,o=s*365.25;e.exports=function(e,t){return t=t||{},"string"==typeof e?u(e):t.long?f(e):a(e)}},function(e,t){typeof Object.create=="function"?e.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},function(e,t,n){function s(e,t,n){n.protocol===undefined&&(n.protocol="https:"),i.apply(this,arguments)}e.exports=s;var r=n(4),i=n(6);r(s,i),s.prototype.enableRateLimitForward=function(e,t,n){this._forward={adminAPIKey:e,endUserIP:t,rateLimitAPIKey:n}},s.prototype.disableRateLimitForward=function(){this._forward=null},s.prototype.useSecuredAPIKey=function(e,t,n){this._secure={apiKey:e,securityTags:t,userToken:n}},s.prototype.disableSecuredAPIKey=function(){this._secure=null},s.prototype._computeRequestHeaders=function(){var e=s.super_.prototype._computeRequestHeaders.call(this);return this._forward&&(e["x-algolia-api-key"]=this._forward.adminAPIKey,e["x-forwarded-for"]=this._forward.endUserIP,e["x-forwarded-api-key"]=this._forward.rateLimitAPIKey),this._secure&&(e["x-algolia-api-key"]=this._secure.apiKey,e["x-algolia-tagfilters"]=this._secure.securityTags,e["x-algolia-usertoken"]=this._secure.userToken),e}},function(e,t,n){function i(e,t,i){var u=n(1)("algoliasearch"),a=n(34),f=n(27),l="Usage: algoliasearch(applicationID, apiKey, opts)";if(!e)throw new r.AlgoliaSearchError("Please provide an application ID. "+l);if(!t)throw new r.AlgoliaSearchError("Please provide an API key. "+l);this.applicationID=e,this.apiKey=t;var c=[this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"];this.hosts={read:[],write:[]},this.hostIndex={read:0,write:0},i=i||{};var h=i.protocol||"https:",p=i.timeout===undefined?2e3:i.timeout;/:$/.test(h)||(h+=":");if(i.protocol!=="http:"&&i.protocol!=="https:")throw new r.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+i.protocol+"`)");i.hosts?f(i.hosts)?(this.hosts.read=a(i.hosts),this.hosts.write=a(i.hosts)):(this.hosts.read=a(i.hosts.read),this.hosts.write=a(i.hosts.write)):(this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(c),this.hosts.write=[this.applicationID+".algolia.net"].concat(c)),this.hosts.read=s(this.hosts.read,o(h)),this.hosts.write=s(this.hosts.write,o(h)),this.requestTimeout=p,this.extraHeaders=[],this.cache={},this._ua=i._ua,this._useCache=i._useCache===undefined?!0:i._useCache,this._setTimeout=i._setTimeout,u("init done, %j",this)}function s(e,t){var n=[];for(var r=0;r<e.length;++r)n.push(t(e[r],r));return n}function o(e){return function(n){return e+"//"+n.toLowerCase()}}function u(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new r.AlgoliaSearchError(e)}function a(e,t){var n=e.toLowerCase().replace(".","").replace("()","");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+n}function f(e,t){t(e,0)}function l(e,t){function r(){return n||(console.log(t),n=!0),e.apply(this,arguments)}var n=!1;return r}function c(e){if(Array.prototype.toJSON===undefined)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n}function h(e){return function(n,i,s){if(typeof n=="function"&&typeof i=="object"||typeof s=="object")throw new r.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");if(arguments.length===0||typeof n=="function")s=n,n="";else if(arguments.length===1||typeof i=="function")s=i,i=undefined;if(typeof n=="object"&&n!==null)i=n,n=undefined;else if(n===undefined||n===null)n="";var o="";return n!==undefined&&(o+=e+"="+encodeURIComponent(n)),i!==undefined&&(o=this.as._getSearchParams(i,o)),this._search(o,s)}}e.exports=i;var r=n(7);i.prototype={deleteIndex:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},moveIndex:function(e,t,n){var r={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},copyIndex:function(e,t,n){var r={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},getLogs:function(e,t,n){if(arguments.length===0||typeof e=="function")n=e,e=0,t=10;else if(arguments.length===1||typeof t=="function")n=t,t=10;return this._jsonRequest({method:"GET",url:"/1/logs?offset="+e+"&length="+t,hostType:"read",callback:n})},listIndexes:function(e,t){var n="";return e===undefined||typeof e=="function"?t=e:n="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+n,hostType:"read",callback:t})},initIndex:function(e){return new this.Index(this,e)},listUserKeys:function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},addUserKey:function(e,t,r){var i=n(27),s="Usage: client.addUserKey(arrayOfAcls[, params, callback])";if(!i(e))throw new Error(s);if(arguments.length===1||typeof t=="function")r=t,t=null;var o={acl:e};return t&&(o.validity=t.validity,o.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour,o.maxHitsPerQuery=t.maxHitsPerQuery,o.indexes=t.indexes,o.description=t.description,t.queryParameters&&(o.queryParameters=this._getSearchParams(t.queryParameters,"")),o.referers=t.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:o,hostType:"write",callback:r})},addUserKeyWithValidity:l(function(e,t,n){return this.addUserKey(e,t,n)},a("client.addUserKeyWithValidity()","client.addUserKey()")),updateUserKey:function(e,t,r,i){var s=n(27),o="Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])";if(!s(t))throw new Error(o);if(arguments.length===2||typeof r=="function")i=r,r=null;var u={acl:t};return r&&(u.validity=r.validity,u.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,u.maxHitsPerQuery=r.maxHitsPerQuery,u.indexes=r.indexes,u.description=r.description,r.queryParameters&&(u.queryParameters=this._getSearchParams(r.queryParameters,"")),u.referers=r.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+e,body:u,hostType:"write",callback:i})},setSecurityTags:function(e){if(Object.prototype.toString.call(e)==="[object Array]"){var t=[];for(var n=0;n<e.length;++n)if(Object.prototype.toString.call(e[n])==="[object Array]"){var r=[];for(var i=0;i<e[n].length;++i)r.push(e[n][i]);t.push("("+r.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.securityTags=e},setUserToken:function(e){this.userToken=e},startQueriesBatch:l(function(){this._batch=[]},a("client.startQueriesBatch()","client.search()")),addQueryInBatch:l(function(t,n,r){this._batch.push({indexName:t,query:n,params:r})},a("client.addQueryInBatch()","client.search()")),clearCache:function(){this.cache={}},sendQueriesBatch:l(function(t){return this.search(this._batch,t)},a("client.sendQueriesBatch()","client.search()")),setRequestTimeout:function(e){e&&(this.requestTimeout=parseInt(e,10))},search:function(e,t){var r=n(27),i="Usage: client.search(arrayOfQueries[, callback])";if(!r(e))throw new Error(i);var o=this,u={requests:s(e,function(t){var n="";return t.query!==undefined&&(n+="query="+encodeURIComponent(t.query)),{indexName:t.indexName,params:o._getSearchParams(t.params,n)}})};return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:u,hostType:"read",callback:t})},batch:function(e,t){var r=n(27),i="Usage: client.batch(operations[, callback])";if(!r(e))throw new Error(i);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:e},hostType:"write",callback:t})},destroy:u,enableRateLimitForward:u,disableRateLimitForward:u,useSecuredAPIKey:u,disableSecuredAPIKey:u,generateSecuredApiKey:u,Index:function(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}},setExtraHeader:function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},addAlgoliaAgent:function(e){this._ua+=";"+e},_sendQueriesBatch:function(e,t){function n(){var t="";for(var n=0;n<e.requests.length;++n){var r="/1/indexes/"+encodeURIComponent(e.requests[n].indexName)+"?"+e.requests[n].params;t+=n+"="+encodeURIComponent(r)+"&"}return t}return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:e,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:n()}},callback:t})},_jsonRequest:function(e){function l(n,f){function v(e){var n=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;t("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,n,e.headers);var i=n===200||n===201,a=!i&&Math.floor(n/100)!==4&&Math.floor(n/100)!==1;o._useCache&&i&&s&&(s[h]=e.responseText);if(i)return e.body;if(a)return u+=1,g();var f=new r.AlgoliaSearchError(e.body&&e.body.message);return o._promise.reject(f)}function m(i){return t("error: %s, stack: %s",i.message,i.stack),i instanceof r.AlgoliaSearchError||(i=new r.Unknown(i&&i.message,i)),u+=1,i instanceof r.Unknown||i instanceof r.UnparsableJSON||u>=o.hosts[e.hostType].length&&(a||!e.fallback||!o._request.fallback)?o._promise.reject(i):(o.hostIndex[e.hostType]=++o.hostIndex[e.hostType]%o.hosts[e.hostType].length,i instanceof r.RequestTimeout?g():(o._request.fallback&&!o.useFallback&&(o.useFallback=!0),l(n,f)))}function g(){return o.hostIndex[e.hostType]=++o.hostIndex[e.hostType]%o.hosts[e.hostType].length,f.timeout=o.requestTimeout*(u+1),l(n,f)}var h;o._useCache&&(h=e.url),o._useCache&&i&&(h+="_body_"+f.body);if(o._useCache&&s&&s[h]!==undefined)return t("serving response from cache"),o._promise.resolve(JSON.parse(s[h]));if(u>=o.hosts[e.hostType].length||o.useFallback&&!a)return!e.fallback||!o._request.fallback||a?(t("could not get any response"),o._promise.reject(new r.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+o.applicationID))):(t("switching to fallback"),u=0,f.method=e.fallback.method,f.url=e.fallback.url,f.jsonBody=e.fallback.body,f.jsonBody&&(f.body=c(f.jsonBody)),f.timeout=o.requestTimeout*(u+1),o.hostIndex[e.hostType]=0,a=!0,l(o._request.fallback,f));var p=o.hosts[e.hostType][o.hostIndex[e.hostType]]+f.url,d={body:i,jsonBody:e.body,method:f.method,headers:o._computeRequestHeaders(),timeout:f.timeout,debug:t};return t("method: %s, url: %s, headers: %j, timeout: %d",d.method,p,d.headers,d.timeout),n===o._request.fallback&&t("using fallback"),n.call(o,p,d).then(v,m)}var t=n(1)("algoliasearch:"+e.url),i,s=e.cache,o=this,u=0,a=!1;e.body!==undefined&&(i=c(e.body)),t("request start");var h=o.useFallback&&e.fallback,p=h?e.fallback:e,d=l(h?o._request.fallback:o._request,{url:p.url,method:p.method,body:i,jsonBody:e.body,timeout:o.requestTimeout*(u+1)});if(!e.callback)return d;d.then(function(n){f(function(){e.callback(null,n)},o._setTimeout||setTimeout)},function(n){f(function(){e.callback(n)},o._setTimeout||setTimeout)})},_getSearchParams:function(e,t){if(this._isUndefined(e)||e===null)return t;for(var n in e)n!==null&&e[n]!==undefined&&e.hasOwnProperty(n)&&(t+=t===""?"":"&",t+=n+"="+encodeURIComponent(Object.prototype.toString.call(e[n])==="[object Array]"?c(e[n]):e[n]));return t},_isUndefined:function(e){return e===void 0},_computeRequestHeaders:function(){var e=n(8),t={"x-algolia-api-key":this.apiKey,"x-algolia-application-id":this.applicationID,"x-algolia-agent":this._ua};return this.userToken&&(t["x-algolia-usertoken"]=this.userToken),this.securityTags&&(t["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&e(this.extraHeaders,function(n){t[n.name]=n.value}),t}},i.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(e,t,n){var r=this;if(arguments.length===1||typeof t=="function")n=t,t=undefined;return this.as._jsonRequest({method:t!==undefined?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+(t!==undefined?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:n})},addObjects:function(e,t){var r=n(27),i="Usage: index.addObjects(arrayOfObjects[, callback])";if(!r(e))throw new Error(i);var s=this,o={requests:[]};for(var u=0;u<e.length;++u){var a={action:"addObject",body:e[u]};o.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/batch",body:o,hostType:"write",callback:t})},getObject:function(e,t,n){var r=this;if(arguments.length===1||typeof t=="function")n=t,t=undefined;var i="";if(t!==undefined){i="?attributes=";for(var s=0;s<t.length;++s)s!==0&&(i+=","),i+=t[s]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e)+i,hostType:"read",callback:n})},getObjects:function(e,t,r){var i=n(27),o="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!i(e))throw new Error(o);var u=this;if(arguments.length===1||typeof t=="function")r=t,t=undefined;var a={requests:s(e,function(n){var r={indexName:u.indexName,objectID:n};return t&&(r.attributesToRetrieve=t.join(",")),r})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:a,callback:r})},partialUpdateObject:function(e,t){var n=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial",body:e,hostType:"write",callback:t})},partialUpdateObjects:function(e,t){var r=n(27),i="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!r(e))throw new Error(i);var s=this,o={requests:[]};for(var u=0;u<e.length;++u){var a={action:"partialUpdateObject",objectID:e[u].objectID,body:e[u]};o.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/batch",body:o,hostType:"write",callback:t})},saveObject:function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},saveObjects:function(e,t){var r=n(27),i="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!r(e))throw new Error(i);var s=this,o={requests:[]};for(var u=0;u<e.length;++u){var a={action:"updateObject",objectID:e[u].objectID,body:e[u]};o.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/batch",body:o,hostType:"write",callback:t})},deleteObject:function(e,t){if(typeof e=="function"||typeof e!="string"&&typeof e!="number"){var n=new r.AlgoliaSearchError("Cannot delete an object without an objectID");return t=e,typeof t=="function"?t(n):this.as._promise.reject(n)}var i=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},deleteObjects:function(e,t){var r=n(27),i="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!r(e))throw new Error(i);var o=this,u={requests:s(e,function(t){return{action:"deleteObject",objectID:t,body:{objectID:t}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:u,hostType:"write",callback:t})},deleteByQuery:function(e,t,r){function l(e){if(e.nbHits===0)return e;var t=s(e.hits,function(t){return t.objectID});return o.deleteObjects(t).then(c).then(h)}function c(e){return o.waitTask(e.taskID)}function h(){return o.deleteByQuery(e,t)}function p(){f(function(){r(null)},u._setTimeout||setTimeout)}function d(e){f(function(){r(e)},u._setTimeout||setTimeout)}var i=n(34),o=this,u=o.as;arguments.length===1||typeof t=="function"?(r=t,t={}):t=i(t),t.attributesToRetrieve="objectID",t.hitsPerPage=1e3,t.distinct=!1,this.clearCache();var a=this.search(e,t).then(l);if(!r)return a;a.then(p,d)},search:h("query"),similarSearch:h("similarQuery"),browse:function(e,t,r){var i=n(44),s=this,o,u;arguments.length===0||arguments.length===1&&typeof arguments[0]=="function"?(o=0,r=arguments[0],e=undefined):typeof arguments[0]=="number"?(o=arguments[0],typeof arguments[1]=="number"?u=arguments[1]:typeof arguments[1]=="function"&&(r=arguments[1],u=undefined),e=undefined,t=undefined):typeof arguments[0]=="object"?(typeof arguments[1]=="function"&&(r=arguments[1]),t=arguments[0],e=undefined):typeof arguments[0]=="string"&&typeof arguments[1]=="function"&&(r=arguments[1],t=undefined),t=i({},t||{},{page:o,hitsPerPage:u,query:e});var a=this.as._getSearchParams(t,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse?"+a,hostType:"read",callback:r})},browseFrom:function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},browseAll:function(e,t){function f(e){if(s._stopped)return;var t;e!==undefined?t="cursor="+encodeURIComponent(e):t=a,o._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/browse?"+t,hostType:"read",callback:l})}function l(e,t){if(s._stopped)return;if(e){s._error(e);return}s._result(t);if(t.cursor===undefined){s._end();return}f(t.cursor)}typeof e=="object"&&(t=e,e=undefined);var r=n(44),i=n(53),s=new i,o=this.as,u=this,a=o._getSearchParams(r({},t||{},{query:e}),"");return f(),s},ttAdapter:function(e){var t=this;return function(r,i,s){var o;typeof s=="function"?o=s:o=i,t.search(r,e,function(t,n){if(t){o(t);return}o(n.hits)})}},waitTask:function(e,t){function a(){return o._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/task/"+e}).then(function(t){i++;var s=n*i*i;return s>r&&(s=r),t.status!=="published"?o._promise.delay(s).then(a):t})}function l(e){f(function(){t(null,e)},o._setTimeout||setTimeout)}function c(e){f(function(){t(e)},o._setTimeout||setTimeout)}var n=100,r=5e3,i=0,s=this,o=s.as,u=a();if(!t)return u;u.then(l,c)},clearIndex:function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},getSettings:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings",hostType:"read",callback:e})},setSettings:function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/settings",hostType:"write",body:e,callback:t})},listUserKeys:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){var n=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"write",callback:t})},addUserKey:function(e,t,r){var i=n(27),s="Usage: index.addUserKey(arrayOfAcls[, params, callback])";if(!i(e))throw new Error(s);if(arguments.length===1||typeof t=="function")r=t,t=null;var o={acl:e};return t&&(o.validity=t.validity,o.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour,o.maxHitsPerQuery=t.maxHitsPerQuery,o.description=t.description,t.queryParameters&&(o.queryParameters=this.as._getSearchParams(t.queryParameters,"")),o.referers=t.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:o,hostType:"write",callback:r})},addUserKeyWithValidity:l(function(t,n,r){return this.addUserKey(t,n,r)},a("index.addUserKeyWithValidity()","index.addUserKey()")),updateUserKey:function(e,t,r,i){var s=n(27),o="Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])";if(!s(t))throw new Error(o);if(arguments.length===2||typeof r=="function")i=r,r=null;var u={acl:t};return r&&(u.validity=r.validity,u.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,u.maxHitsPerQuery=r.maxHitsPerQuery,u.description=r.description,r.queryParameters&&(u.queryParameters=this.as._getSearchParams(r.queryParameters,"")),u.referers=r.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+e,body:u,hostType:"write",callback:i})},_search:function(e,t){return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:t})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null}},function(e,t,n){function i(e,t){var r=n(8),i=this;typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):i.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name=this.constructor.name,this.message=e||"Unknown error",t&&r(t,function(t,n){i[n]=t})}function s(e,t){function n(){var n=Array.prototype.slice.call(arguments,0);typeof n[0]!="string"&&n.unshift(t),i.apply(this,n),this.name="AlgoliaSearch"+e+"Error"}return r(n,i),n}var r=n(4);r(i,Error),e.exports={AlgoliaSearchError:i,UnparsableJSON:s("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:s("RequestTimeout","Request timedout before getting a response"),Network:s("Network","Network issue, see err.more for details"),JSONPScriptFail:s("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:s("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:s("Unknown","Unknown error occured")}},function(e,t,n){var r=n(9),i=n(10),s=n(31),o=s(r,i);e.exports=o},function(e,t){function n(e,t){var n=-1,r=e.length;while(++n<r)if(t(e[n],n,e)===!1)break;return e}e.exports=n},function(e,t,n){var r=n(11),i=n(30),s=i(r);e.exports=s},function(e,t,n){function s(e,t){return r(e,t,i)}var r=n(12),i=n(16);e.exports=s},function(e,t,n){var r=n(13),i=r();e.exports=i},function(e,t,n){function i(e){return function(t,n,i){var s=r(t),o=i(t),u=o.length,a=e?u:-1;while(e?a--:++a<u){var f=o[a];if(n(s[f],f,s)===!1)break}return t}}var r=n(14);e.exports=i},function(e,t,n){function i(e){return r(e)?e:Object(e)}var r=n(15);e.exports=i},function(e,t){function n(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}e.exports=n},function(e,t,n){var r=n(17),i=n(21),s=n(15),o=n(25),u=r(Object,"keys"),a=u?function(e){var t=e==null?undefined:e.constructor;return typeof t=="function"&&t.prototype===e||typeof e!="function"&&i(e)?o(e):s(e)?u(e):[]}:o;e.exports=a},function(e,t,n){function i(e,t){var n=e==null?undefined:e[t];return r(n)?n:undefined}var r=n(18);e.exports=i},function(e,t,n){function l(e){return e==null?!1:r(e)?f.test(u.call(e)):i(e)&&s.test(e)}var r=n(19),i=n(20),s=/^\[object .+?Constructor\]$/,o=Object.prototype,u=Function.prototype.toString,a=o.hasOwnProperty,f=RegExp("^"+u.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=l},function(e,t,n){function u(e){return r(e)&&o.call(e)==i}var r=n(15),i="[object Function]",s=Object.prototype,o=s.toString;e.exports=u},function(e,t){function n(e){return!!e&&typeof e=="object"}e.exports=n},function(e,t,n){function s(e){return e!=null&&i(r(e))}var r=n(22),i=n(24);e.exports=s},function(e,t,n){var r=n(23),i=r("length");e.exports=i},function(e,t){function n(e){return function(t){return t==null?undefined:t[e]}}e.exports=n},function(e,t){function r(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=r},function(e,t,n){function l(e){var t=u(e),n=t.length,a=n&&e.length,l=!!a&&o(a)&&(i(e)||r(e)),c=-1,h=[];while(++c<n){var p=t[c];(l&&s(p,a)||f.call(e,p))&&h.push(p)}return h}var r=n(26),i=n(27),s=n(28),o=n(24),u=n(29),a=Object.prototype,f=a.hasOwnProperty;e.exports=l},function(e,t,n){function a(e){return i(e)&&r(e)&&o.call(e,"callee")&&!u.call(e,"callee")}var r=n(21),i=n(20),s=Object.prototype,o=s.hasOwnProperty,u=s.propertyIsEnumerable;e.exports=a},function(e,t,n){var r=n(17),i=n(24),s=n(20),o="[object Array]",u=Object.prototype,a=u.toString,f=r(Array,"isArray"),l=f||function(e){return s(e)&&i(e.length)&&a.call(e)==o};e.exports=l},function(e,t){function i(e,t){return e=typeof e=="number"||n.test(e)?+e:-1,t=t==null?r:t,e>-1&&e%1==0&&e<t}var n=/^\d+$/,r=9007199254740991;e.exports=i},function(e,t,n){function l(e){if(e==null)return[];u(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(i(e)||r(e))&&t||0;var n=e.constructor,a=-1,l=typeof n=="function"&&n.prototype===e,c=Array(t),h=t>0;while(++a<t)c[a]=a+"";for(var p in e)(!h||!s(p,t))&&(p!="constructor"||!l&&!!f.call(e,p))&&c.push(p);return c}var r=n(26),i=n(27),s=n(28),o=n(24),u=n(15),a=Object.prototype,f=a.hasOwnProperty;e.exports=l},function(e,t,n){function o(e,t){return function(n,o){var u=n?r(n):0;if(!i(u))return e(n,o);var a=t?u:-1,f=s(n);while(t?a--:++a<u)if(o(f[a],a,f)===!1)break;return n}}var r=n(22),i=n(24),s=n(14);e.exports=o},function(e,t,n){function s(e,t){return function(n,s,o){return typeof s=="function"&&o===undefined&&i(n)?e(n,s):t(n,r(s,o,3))}}var r=n(32),i=n(27);e.exports=s},function(e,t,n){function i(e,t,n){if(typeof e!="function")return r;if(t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)};case 5:return function(n,r,i,s,o){return e.call(t,n,r,i,s,o)}}return function(){return e.apply(t,arguments)}}var r=n(33);e.exports=i},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function o(e,t,n,o){return t&&typeof t!="boolean"&&s(e,t,n)?t=!1:typeof t=="function"&&(o=n,n=t,t=!1),typeof n=="function"?r(e,t,i(n,o,3)):r(e,t)}var r=n(35),i=n(32),s=n(43);e.exports=o},function(e,t,n){function F(e,t,n,p,d,v,m){var y;n&&(y=d?n(e,p,d):n(e));if(y!==undefined)return y;if(!c(e))return e;var b=l(e);if(b){y=u(e);if(!t)return r(e,y)}else{var E=j.call(e),S=E==g;if(!(E==w||E==h||S&&!d))return H[E]?a(e,E,t):d?e:{};y=f(S?{}:e);if(!t)return s(y,e)}v||(v=[]),m||(m=[]);var x=v.length;while(x--)if(v[x]==e)return m[x];return v.push(e),m.push(y),(b?i:o)(e,function(r,i){y[i]=F(r,t,n,i,e,v,m)}),y}var r=n(36),i=n(9),s=n(37),o=n(11),u=n(39),a=n(40),f=n(42),l=n(27),c=n(15),h="[object Arguments]",p="[object Array]",d="[object Boolean]",v="[object Date]",m="[object Error]",g="[object Function]",y="[object Map]",b="[object Number]",w="[object Object]",E="[object RegExp]",S="[object Set]",x="[object String]",T="[object WeakMap]",N="[object ArrayBuffer]",C="[object Float32Array]",k="[object Float64Array]",L="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",M="[object Uint8Array]",_="[object Uint8ClampedArray]",D="[object Uint16Array]",P="[object Uint32Array]",H={};H[h]=H[p]=H[N]=H[d]=H[v]=H[C]=H[k]=H[L]=H[A]=H[O]=H[b]=H[w]=H[E]=H[x]=H[M]=H[_]=H[D]=H[P]=!0,H[m]=H[g]=H[y]=H[S]=H[T]=!1;var B=Object.prototype,j=B.toString;e.exports=F},function(e,t){function n(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}e.exports=n},function(e,t,n){function s(e,t){return t==null?e:r(t,i(t),e)}var r=n(38),i=n(16);e.exports=s},function(e,t){function n(e,t,n){n||(n={});var r=-1,i=t.length;while(++r<i){var s=t[r];n[s]=e[s]}return n}e.exports=n},function(e,t){function i(e){var t=
e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var n=Object.prototype,r=n.hasOwnProperty;e.exports=i},function(e,t,n){function w(e,t,n){var w=e.constructor;switch(t){case f:return r(e);case i:case s:return new w(+e);case l:case c:case h:case p:case d:case v:case m:case g:case y:var E=e.buffer;return new w(n?r(E):E,e.byteOffset,e.length);case o:case a:return new w(e);case u:var S=new w(e.source,b.exec(e));S.lastIndex=e.lastIndex}return S}var r=n(41),i="[object Boolean]",s="[object Date]",o="[object Number]",u="[object RegExp]",a="[object String]",f="[object ArrayBuffer]",l="[object Float32Array]",c="[object Float64Array]",h="[object Int8Array]",p="[object Int16Array]",d="[object Int32Array]",v="[object Uint8Array]",m="[object Uint8ClampedArray]",g="[object Uint16Array]",y="[object Uint32Array]",b=/\w*$/;e.exports=w},function(e,t){function i(e){var t=new n(e.byteLength),i=new r(t);return i.set(new r(e)),t}var n=global.ArrayBuffer,r=global.Uint8Array;e.exports=i},function(e,t){function n(e){var t=e.constructor;return typeof t=="function"&&t instanceof t||(t=Object),new t}e.exports=n},function(e,t,n){function o(e,t,n){if(!s(n))return!1;var o=typeof t;if(o=="number"?r(n)&&i(t,n.length):o=="string"&&t in n){var u=n[t];return e===e?e===u:u!==u}return!1}var r=n(21),i=n(28),s=n(15);e.exports=o},function(e,t,n){var r=n(45),i=n(51),s=i(r);e.exports=s},function(e,t,n){function c(e,t,n,h,p){if(!u(e))return e;var d=o(t)&&(s(t)||f(t)),v=d?undefined:l(t);return r(v||t,function(r,s){v&&(s=r,r=t[s]);if(a(r))h||(h=[]),p||(p=[]),i(e,t,s,c,n,h,p);else{var o=e[s],u=n?n(o,r,s,e,t):undefined,f=u===undefined;f&&(u=r),(u!==undefined||d&&!(s in e))&&(f||(u===u?u!==o:o===o))&&(e[s]=u)}}),e}var r=n(9),i=n(46),s=n(27),o=n(21),u=n(15),a=n(20),f=n(49),l=n(16);e.exports=c},function(e,t,n){function l(e,t,n,l,c,h,p){var d=h.length,v=t[n];while(d--)if(h[d]==v){e[n]=p[d];return}var m=e[n],g=c?c(m,v,n,e,t):undefined,y=g===undefined;y&&(g=v,o(v)&&(s(v)||a(v))?g=s(m)?m:o(m)?r(m):[]:u(v)||i(v)?g=i(m)?f(m):u(m)?m:{}:y=!1),h.push(v),p.push(g);if(y)e[n]=l(g,v,c,h,p);else if(g===g?g!==m:m===m)e[n]=g}var r=n(36),i=n(26),s=n(27),o=n(21),u=n(47),a=n(49),f=n(50);e.exports=l},function(e,t,n){function l(e){var t;if(!s(e)||f.call(e)!=o||!!i(e)||!a.call(e,"constructor")&&(t=e.constructor,typeof t=="function"&&!(t instanceof t)))return!1;var n;return r(e,function(e,t){n=t}),n===undefined||a.call(e,n)}var r=n(48),i=n(26),s=n(20),o="[object Object]",u=Object.prototype,a=u.hasOwnProperty,f=u.toString;e.exports=l},function(e,t,n){function s(e,t){return r(e,t,i)}var r=n(12),i=n(29);e.exports=s},function(e,t,n){function M(e){return i(e)&&r(e.length)&&!!L[O.call(e)]}var r=n(24),i=n(20),s="[object Arguments]",o="[object Array]",u="[object Boolean]",a="[object Date]",f="[object Error]",l="[object Function]",c="[object Map]",h="[object Number]",p="[object Object]",d="[object RegExp]",v="[object Set]",m="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",w="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",x="[object Int32Array]",T="[object Uint8Array]",N="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]",L={};L[b]=L[w]=L[E]=L[S]=L[x]=L[T]=L[N]=L[C]=L[k]=!0,L[s]=L[o]=L[y]=L[u]=L[a]=L[f]=L[l]=L[c]=L[h]=L[p]=L[d]=L[v]=L[m]=L[g]=!1;var A=Object.prototype,O=A.toString;e.exports=M},function(e,t,n){function s(e){return r(e,i(e))}var r=n(38),i=n(29);e.exports=s},function(e,t,n){function o(e){return s(function(t,n){var s=-1,o=t==null?0:n.length,u=o>2?n[o-2]:undefined,a=o>2?n[2]:undefined,f=o>1?n[o-1]:undefined;typeof u=="function"?(u=r(u,f,5),o-=2):(u=typeof f=="function"?f:undefined,o-=u?1:0),a&&i(n[0],n[1],a)&&(u=o<3?undefined:u,o=1);while(++s<o){var l=n[s];l&&e(t,l,u)}return t})}var r=n(32),i=n(43),s=n(52);e.exports=o},function(e,t){function i(e,t){if(typeof e!="function")throw new TypeError(n);return t=r(t===undefined?e.length-1:+t||0,0),function(){var n=arguments,i=-1,s=r(n.length-t,0),o=Array(s);while(++i<s)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var u=Array(t+1);i=-1;while(++i<t)u[i]=n[i];return u[t]=o,e.apply(this,u)}}var n="Expected a function",r=Math.max;e.exports=i},function(e,t,n){function s(){}e.exports=s;var r=n(4),i=n(54).EventEmitter;r(s,i),s.prototype.stop=function(){this._stopped=!0,this._clean()},s.prototype._end=function(){this.emit("end"),this._clean()},s.prototype._error=function(e){this.emit("error",e),this._clean()},s.prototype._result=function(e){this.emit("result",e)},s.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},function(e,t){e.exports=require("events")},function(e,t,n){function s(e,t,n){return typeof t=="function"?r(e,!0,i(t,n,3)):r(e,!0)}var r=n(35),i=n(32);e.exports=s},function(e,t){e.exports="3.10.1"}]);