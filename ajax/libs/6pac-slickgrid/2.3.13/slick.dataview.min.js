!function(t){t.extend(!0,window,{Slick:{Data:{DataView:function(e){var n,r,i,o,a,l=this,s="id",u=[],g=[],c={},f=null,p=null,h=null,d=!1,m=!0,v={},_={},w=[],$=[],y={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},C=[],I=[],R=[],x=":|:",S=0,b=0,M=0,F=new Slick.Event,A=new Slick.Event,N=new Slick.Event;function E(t){for(var e,n=t=t||0,r=u.length;n<r;n++){if(void 0===(e=u[n][s]))throw new Error("Each data element must implement a unique 'id' property");c[e]=n}}function T(){var t=S?Math.max(1,Math.ceil(M/S)):1;return{pageSize:S,pageNum:b,totalRows:M,totalPages:t,dataView:l}}function G(t,e){m=e,r=t,n=null,!1===e&&u.reverse(),u.sort(t),!1===e&&u.reverse(),c={},E(),Y()}function k(t,e){m=e,n=t,r=null;var i=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},!1===e&&u.reverse(),u.sort(),Object.prototype.toString=i,!1===e&&u.reverse(),c={},E(),Y()}function j(n){e.groupItemMetadataProvider||(e.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),I=[],R=[],C=(n=n||[])instanceof Array?n:[n];for(var r=0;r<C.length;r++){var i=C[r]=t.extend(!0,{},y,C[r]);i.getterIsAFn="function"==typeof i.getter,i.compiledAccumulators=[];for(var o=i.aggregators.length;o--;)i.compiledAccumulators[o]=Q(i.aggregators[o]);R[r]={}}Y()}function D(){if(!f){f={};for(var t=0,e=g.length;t<e;t++)f[g[t][s]]=t}}function P(t){return u[c[t]]}function z(t,e){if(void 0===c[t]||t!==e[s])throw new Error("Invalid or non-matching id");u[c[t]]=e,h||(h={}),h[t]=!0,Y()}function B(t,e){u.splice(t,0,e),E(t),Y()}function V(t){if(!r)throw new Error("sortedAddItem() requires a sort comparer, use sort()");B(function(t){var e=0,n=u.length;for(;e<n;){var i=e+n>>>1;-1===r(u[i],t)?e=i+1:n=i}return e}(t),t)}function O(t){var e=c[t];if(void 0===e)throw new Error("Invalid id");delete c[t],u.splice(e,1),E(e),Y()}function q(t,e){if(null==t)for(var n=0;n<C.length;n++)R[n]={},C[n].collapsed=e;else R[t]={},C[t].collapsed=e;Y()}function K(t,e,n){R[t][e]=C[t].collapsed^n,Y()}function U(t){var e,n=t.group,r=C[n.level],i=n.level==C.length,o=r.aggregators.length;if(!i&&r.aggregateChildGroups)for(var a=n.groups.length;a--;)n.groups[a].totals.initialized||U(n.groups[a].totals);for(;o--;)(e=r.aggregators[o]).init(),!i&&r.aggregateChildGroups?r.compiledAccumulators[o].call(e,n.groups):r.compiledAccumulators[o].call(e,n.rows),e.storeResult(t);t.initialized=!0}function L(t){var e=C[t.level],n=new Slick.GroupTotals;n.group=t,t.totals=n,e.lazyTotalsCalculation||U(n)}function H(t){var e=t.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);return{params:e[1].split(","),body:e[2]}}function Q(t){var e=H(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}function W(t,e){for(var n=[],r=0,i=0,o=t.length;i<o;i++)p(t[i],e)&&(n[r++]=t[i]);return n}function J(t,e,n){for(var r,i=[],o=0,a=0,l=t.length;a<l;a++)r=t[a],n[a]?i[o++]=r:p(r,e)&&(i[o++]=r,n[a]=!0);return i}function X(t){f=null,v.isFilterNarrowing==_.isFilterNarrowing&&v.isFilterExpanding==_.isFilterExpanding||($=[]);var n=function(t){if(p){var n=e.inlineFilters?o:W,r=e.inlineFilters?a:J;v.isFilterNarrowing?w=n(w,i):v.isFilterExpanding?w=r(t,i,$):v.isFilterUnchanged||(w=n(t,i))}else w=S?t:t.concat();var l;S?(w.length<=b*S&&(b=0===w.length?0:Math.floor((w.length-1)/S)),l=w.slice(S*b,S*b+S)):l=w;return{totalRows:w.length,rows:l}}(t);M=n.totalRows;var r=n.rows;I=[],C.length&&(I=function t(e,n){var r;var i;var o=[];var a={};var l;var s=n?n.level+1:0;var u=C[s];for(var g=0,c=u.predefinedValues.length;g<c;g++)i=u.predefinedValues[g],(r=a[i])||((r=new Slick.Group).value=i,r.level=s,r.groupingKey=(n?n.groupingKey+x:"")+i,o[o.length]=r,a[i]=r);for(var g=0,c=e.length;g<c;g++)l=e[g],i=u.getterIsAFn?u.getter(l):l[u.getter],(r=a[i])||((r=new Slick.Group).value=i,r.level=s,r.groupingKey=(n?n.groupingKey+x:"")+i,o[o.length]=r,a[i]=r),r.rows[r.count++]=l;if(s<C.length-1)for(var g=0;g<o.length;g++)(r=o[g]).groups=t(r.rows,r);o.sort(C[s].comparer);return o}(r)).length&&(!function t(e,n){n=n||0;var r=C[n];var i=r.collapsed;var o=R[n];var a,l=e.length;for(;l--;)(a=e[l]).collapsed&&!r.aggregateCollapsed||(a.groups&&t(a.groups,n+1),r.aggregators.length&&(r.aggregateEmpty||a.rows.length||a.groups&&a.groups.length)&&L(a),a.collapsed=i^o[a.groupingKey],a.title=r.formatter?r.formatter(a):a.value)}(I),r=function t(e,n){n=n||0;var r=C[n];var i,o,a=[],l=0;for(var s=0,u=e.length;s<u;s++){if(o=e[s],a[l++]=o,!o.collapsed){i=o.groups?t(o.groups,n+1):o.rows;for(var g=0,c=i.length;g<c;g++)a[l++]=i[g]}o.totals&&r.displayTotalsRow&&(!o.collapsed||r.aggregateCollapsed)&&(a[l++]=o.totals)}return a}(I));var l=function(t,e){var n,r,i,o=[],a=0,l=e.length;v&&v.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,v.ignoreDiffsBefore)));v&&v.ignoreDiffsAfter&&(l=Math.min(e.length,Math.max(0,v.ignoreDiffsAfter)));for(var u=a,g=t.length;u<l;u++)u>=g?o[o.length]=u:(n=e[u],r=t[u],(C.length&&(i=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||i&&(n.__groupTotals||r.__groupTotals)||n[s]!=r[s]||h&&h[n[s]])&&(o[o.length]=u));return o}(g,r);return g=r,l}function Y(){if(!d){var t=g.length,e=M,n=X(u);S&&M<b*S&&(b=Math.max(0,Math.ceil(M/S)-1),n=X(u)),h=null,_=v,v={},e!==M&&N.notify(T(),null,l),t!==g.length&&F.notify({previous:t,current:g.length,dataView:l},null,l),n.length>0&&A.notify({rows:n,dataView:l},null,l)}}e=t.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},e),t.extend(this,{beginUpdate:function(){d=!0},endUpdate:function(){d=!1,Y()},setPagingOptions:function(t){null!=t.pageSize&&(S=t.pageSize,b=S?Math.min(b,Math.max(0,Math.ceil(M/S)-1)):0);null!=t.pageNum&&(b=Math.min(t.pageNum,Math.max(0,Math.ceil(M/S)-1)));N.notify(T(),null,l),Y()},getPagingInfo:T,getItems:function(){return u},setItems:function(t,e){void 0!==e&&(s=e);u=w=t,c={},E(),function(){for(var t,e=0,n=u.length;e<n;e++)if(void 0===(t=u[e][s])||c[t]!==e)throw new Error("Each data element must implement a unique 'id' property")}(),Y()},setFilter:function(t){p=t,e.inlineFilters&&(o=function(){var t=H(p),e="{ continue _coreloop; }$1",n="{ _retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args",i);return o.displayName=o.name="compiledFilter",o}(),a=function(){var t=H(p),e="{ continue _coreloop; }$1",n="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args,_cache",i);return o.displayName=o.name="compiledFilterWithCaching",o}());Y()},getFilter:function(){return p},getFilteredItems:function(){return w},sort:G,fastSort:k,reSort:function(){r?G(r,m):n&&k(n,m)},setGrouping:j,getGrouping:function(){return C},groupBy:function(t,e,n){if(null==t)return void j([]);j({getter:t,formatter:e,comparer:n})},setAggregators:function(t,e){if(!C.length)throw new Error("At least one grouping must be specified before calling setAggregators().");C[0].aggregators=t,C[0].aggregateCollapsed=e,j(C)},collapseAllGroups:function(t){q(t,!0)},expandAllGroups:function(t){q(t,!1)},collapseGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(x)?K(n.split(x).length-1,n,!0):K(e.length-1,e.join(x),!0)},expandGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(x)?K(n.split(x).length-1,n,!1):K(e.length-1,e.join(x),!1)},getGroups:function(){return I},getIdxById:function(t){return c[t]},getRowByItem:function(t){return D(),f[t[s]]},getRowById:function(t){return D(),f[t]},getItemById:P,getItemByIdx:function(t){return u[t]},mapItemsToRows:function(t){var e=[];D();for(var n=0,r=t.length;n<r;n++){var i=f[t[n][s]];null!=i&&(e[e.length]=i)}return e},mapRowsToIds:function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]<g.length&&(e[e.length]=g[t[n]][s]);return e},mapIdsToRows:function(t){var e=[];D();for(var n=0,r=t.length;n<r;n++){var i=f[t[n]];null!=i&&(e[e.length]=i)}return e},setRefreshHints:function(t){v=t},setFilterArgs:function(t){i=t},refresh:Y,updateItem:z,insertItem:B,addItem:function(t){u.push(t),E(u.length-1),Y()},sortedAddItem:V,sortedUpdateItem:function(t){if(!r)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var e=P(t.id);0!==r(e,t)?(O(t.id),V(t)):z(t.id,t)},deleteItem:O,syncGridSelection:function(e,n,r){var i,o=this,a=o.mapRowsToIds(e.getSelectedRows()),l=new Slick.Event;function s(t){a.join(",")!=t.join(",")&&(a=t,l.notify({grid:e,ids:a,dataView:o},new Slick.EventData,o))}function u(){if(a.length>0){i=!0;var t=o.mapIdsToRows(a);n||s(o.mapRowsToIds(t)),e.setSelectedRows(t),i=!1}}return e.onSelectedRowsChanged.subscribe(function(n,l){if(!i){var u=o.mapRowsToIds(e.getSelectedRows());r&&e.getOptions().multiSelect?s(t.grep(a,function(t){return void 0===o.getRowById(t)}).concat(u)):s(u)}}),this.onRowsChanged.subscribe(u),this.onRowCountChanged.subscribe(u),l},syncGridCellCssStyles:function(t,e){var n,r;function i(t){for(var e in n={},t){var r=g[e][s];n[r]=t[e]}}function o(){if(n){r=!0,D();var i={};for(var o in n){var a=f[o];null!=a&&(i[a]=n[o])}t.setCellCssStyles(e,i),r=!1}}i(t.getCellCssStyles(e)),t.onCellCssStylesChanged.subscribe(function(n,a){r||e==a.key&&(a.hash?i(a.hash):(t.onCellCssStylesChanged.unsubscribe(styleChanged),l.onRowsChanged.unsubscribe(o),l.onRowCountChanged.unsubscribe(o)))}),this.onRowsChanged.subscribe(o),this.onRowCountChanged.subscribe(o)},getLength:function(){return g.length},getItem:function(t){var e=g[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=C[e.level];n.displayTotalsRow||(U(e.totals),e.title=n.formatter?n.formatter(e):e.value)}else e&&e.__groupTotals&&!e.initialized&&U(e);return e},getItemMetadata:function(t){var n=g[t];if(void 0===n)return null;if(n.__group)return e.groupItemMetadataProvider.getGroupRowMetadata(n);if(n.__groupTotals)return e.groupItemMetadataProvider.getTotalsRowMetadata(n);return null},onRowCountChanged:F,onRowsChanged:A,onPagingInfoChanged:N})},Aggregators:{Avg:function(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!=this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}},Max:function(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}},Sum:function(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}}}}}})}(jQuery);