angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",["uiCodemirrorConfig",function(r){"use strict";return{restrict:"EA",require:"?ngModel",compile:function(e,o,i){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror need CodeMirror to work... (o rly?)");var n=e.text(),t=new CodeMirror(function(r){angular.forEach(e.prop("attributes"),function(e){"ui-codemirror"===e.name?r.setAttribute("ui-codemirror-opts",e.textContent):r.setAttribute(e.name,e.textContent)}),e.parent().length<=0&&e.wrap("<div>"),e.replaceWith(r)},{value:n});return function(e,o,i,n){function a(r){for(var e in r)r.hasOwnProperty(e)&&t.setOption(e,r[e])}var u,d;u=r.codemirror||{},d=angular.extend({},u,e.$eval(i.uiCodemirror),e.$eval(i.uiCodemirrorOpts)),a(d),angular.isDefined(e[i.uiCodemirror])&&e.$watch(i.uiCodemirror,a,!0),t.on("change",function(r,o){var i=r.getValue();n&&i!==n.$viewValue&&n.$setViewValue(i),e.$$phase||e.$apply()}),n&&(n.$formatters.push(function(r){if(angular.isUndefined(r)||null===r)return"";if(angular.isObject(r)||angular.isArray(r))throw new Error("ui-codemirror cannot use an object or an array as a model");return r}),n.$render=function(){var r=n.$viewValue||"";t.setValue(r)}),i.uiRefresh&&e.$watch(i.uiRefresh,function(r,e){r!==e&&t.refresh()}),angular.isFunction(d.onLoad)&&d.onLoad(t)}}}}]);
//# sourceMappingURL=ui-codemirror.min.js.map