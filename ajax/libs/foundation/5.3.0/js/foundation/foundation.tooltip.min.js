(function(c,b,a,d){Foundation.libs.tooltip={name:"tooltip",version:"5.3.0",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:false,hover_delay:200,show_on:"all",tip_template:function(e,f){return'<span data-selector="'+e+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+f+'<span class="nub"></span></span>'}},cache:{},init:function(f,g,e){Foundation.inherit(this,"random_str");this.bindings(g,e)},should_show:function(g,f){var e=c.extend({},this.settings,this.data_options(g));if(e.show_on==="all"){return true}else{if(this.small()&&e.show_on==="small"){return true}else{if(this.medium()&&e.show_on==="medium"){return true}else{if(this.large()&&e.show_on==="large"){return true}}}}return false},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(e){var f=this,g=f.S;f.create(this.S(e));c(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(k){var j=g(this),i=c.extend({},f.settings,f.data_options(j)),h=false;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)&&g(k.target).is("a")){return false}if(/mouse/i.test(k.type)&&f.ie_touch(k)){return false}if(j.hasClass("open")){if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)){k.preventDefault()}f.hide(j)}else{if(i.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)){return}else{if(!i.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(k.type)){k.preventDefault();g(i.tooltip_class+".open").hide();h=true}}if(/enter|over/i.test(k.type)){this.timer=setTimeout(function(){var l=f.showTip(j)}.bind(this),f.settings.hover_delay)}else{if(k.type==="mouseout"||k.type==="mouseleave"){clearTimeout(this.timer);f.hide(j)}else{f.showTip(j)}}}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(h){if(/mouse/i.test(h.type)&&f.ie_touch(h)){return false}if(c(this).data("tooltip-open-event-type")=="touch"&&h.type=="mouseleave"){return}else{if(c(this).data("tooltip-open-event-type")=="mouse"&&/MSPointerDown|touchstart/i.test(h.type)){f.convert_to_touch(c(this))}else{f.hide(c(this))}}}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(h){f.hide(g(this))})},ie_touch:function(f){return false},showTip:function(e){var f=this.getTip(e);if(this.should_show(e,f)){return this.show(e)}return},getTip:function(f){var e=this.selector(f),g=c.extend({},this.settings,this.data_options(f)),h=null;if(e){h=this.S('span[data-selector="'+e+'"]'+g.tooltip_class)}return(typeof h==="object")?h:false},selector:function(e){var g=e.attr("id"),f=e.attr(this.attr_name())||e.attr("data-selector");if((g&&g.length<1||!g)&&typeof f!="string"){f=this.random_str(6);e.attr("data-selector",f)}return(g&&g.length>0)?g:f},create:function(e){var g=this,i=c.extend({},this.settings,this.data_options(e)),f=this.settings.tip_template;if(typeof i.tip_template==="string"&&b.hasOwnProperty(i.tip_template)){f=b[i.tip_template]}var j=c(f(this.selector(e),c("<div></div>").html(e.attr("title")).html())),h=this.inheritable_classes(e);j.addClass(h).appendTo(i.append_to);if(Modernizr.touch){j.append('<span class="tap-to-close">'+i.touch_close_text+"</span>");j.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(k){g.hide(e)})}e.removeAttr("title").attr("title","")},reposition:function(j,m,h){var e,n,l,i,g,k;m.css("visibility","hidden").show();e=j.data("width");n=m.children(".nub");l=n.outerHeight();i=n.outerHeight();if(this.small()){m.css({width:"100%"})}else{m.css({width:(e)?e:"auto"})}k=function(t,s,p,o,r,q){return t.css({top:(s)?s:"auto",bottom:(o)?o:"auto",left:(r)?r:"auto",right:(p)?p:"auto"}).end()};k(m,(j.offset().top+j.outerHeight()+10),"auto","auto",j.offset().left);if(this.small()){k(m,(j.offset().top+j.outerHeight()+10),"auto","auto",12.5,c(this.scope).width());m.addClass("tip-override");k(n,-l,"auto","auto",j.offset().left)}else{var f=j.offset().left;if(Foundation.rtl){n.addClass("rtl");f=j.offset().left+j.outerWidth()-m.outerWidth()}k(m,(j.offset().top+j.outerHeight()+10),"auto","auto",f);m.removeClass("tip-override");if(h&&h.indexOf("tip-top")>-1){if(Foundation.rtl){n.addClass("rtl")}k(m,(j.offset().top-m.outerHeight()),"auto","auto",f).removeClass("tip-override")}else{if(h&&h.indexOf("tip-left")>-1){k(m,(j.offset().top+(j.outerHeight()/2)-(m.outerHeight()/2)),"auto","auto",(j.offset().left-m.outerWidth()-l)).removeClass("tip-override");n.removeClass("rtl")}else{if(h&&h.indexOf("tip-right")>-1){k(m,(j.offset().top+(j.outerHeight()/2)-(m.outerHeight()/2)),"auto","auto",(j.offset().left+j.outerWidth()+l)).removeClass("tip-override");n.removeClass("rtl")}}}}m.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(e){var h=c.extend({},this.settings,this.data_options(e)),i=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(h.additional_inheritable_classes),g=e.attr("class"),f=g?c.map(g.split(" "),function(k,j){if(c.inArray(k,i)!==-1){return k}}).join(" "):"";return c.trim(f)},convert_to_touch:function(e){var f=this,h=f.getTip(e),g=c.extend({},f.settings,f.data_options(e));if(h.find(".tap-to-close").length===0){h.append('<span class="tap-to-close">'+g.touch_close_text+"</span>");h.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(i){f.hide(e)})}e.data("tooltip-open-event-type","touch")},show:function(e){var f=this.getTip(e);if(e.data("tooltip-open-event-type")=="touch"){this.convert_to_touch(e)}this.reposition(e,f,e.attr("class"));e.addClass("open");f.fadeIn(150)},hide:function(e){var f=this.getTip(e);f.fadeOut(150,function(){f.find(".tap-to-close").remove();f.off("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose");e.removeClass("open")})},off:function(){var e=this;this.S(this.scope).off(".fndtn.tooltip");this.S(this.settings.tooltip_class).each(function(f){c("["+e.attr_name()+"]").eq(f).attr("title",c(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document));