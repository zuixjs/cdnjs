(function(b){var a={first:function(c){return c},next:function(c){return c+1},format:function(){return},label:function(c){return Math.round(c)},stop:function(){return false}};b.widget("ui.ruler",{options:{min:0,max:100,scales:[]},_create:function(){this.element.addClass("ui-ruler");this._createScales()},destroy:function(){this.element.removeClass("ui-ruler");this.element.empty()},_regenerate:function(){this.element.empty();this._createScales()},_setOption:function(c,d){if(c==="min"||c==="max"&&d!==this.options[c]){this.options[c]=d;this._regenerate();return}if(c==="scales"&&d instanceof Array){this.options.scales=d;this._regenerate();return}},_createScales:function(){if(this.options.max===this.options.min){return}for(var c=0;c<this.options.scales.length;c++){this._createScale(this.options.scales[c],c)}},_createScale:function(f,e){var d=b.extend({},a,f),c=b("<div class='ui-ruler-scale' />").appendTo(this.element);c.addClass("ui-ruler-scale"+e);this._createTicks(c,d)},_createTicks:function(e,d){var j,c=d.first(this.options.min,this.options.max),i=this.options.max-this.options.min,h=true,g,f;do{j=c;c=d.next(j);g=(Math.min(c,this.options.max)-Math.max(j,this.options.min))/i;f=this._createTick(j,c,d);e.append(f);f.css("width",100*g+"%");if(h&&j>this.options.min){f.css("margin-left",100*(j-this.options.min)/i+"%")}h=false}while(!this._stop(d,c))},_stop:function(c,d){return c.stop(d)||d>=this.options.max},_createTick:function(h,e,d){var c=b("<div class='ui-ruler-tick' style='display:inline-block' />"),f=b("<div class='ui-ruler-tick-inner' />").appendTo(c),g=b("<span class='ui-ruler-tick-label' />").appendTo(f);g.text(d.label(h,e));d.format(c,h,e);return c}})}(jQuery));